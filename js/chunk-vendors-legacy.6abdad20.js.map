{"version":3,"sources":["webpack:///../node_modules/@sentry/utils/esm/promisebuffer.js","webpack:///../node_modules/@sentry/utils/esm/ratelimit.js","webpack:///../node_modules/@sentry/core/esm/transports/base.js","webpack:///../node_modules/@apollo/client/errors/index.js","webpack:///../node_modules/core-js/internals/to-string.js","webpack:///../node_modules/graphql/version.mjs","webpack:///../node_modules/graphql/jsutils/isPromise.mjs","webpack:///../node_modules/graphql/jsutils/didYouMean.mjs","webpack:///../node_modules/graphql/jsutils/identityFunc.mjs","webpack:///../node_modules/graphql/jsutils/keyMap.mjs","webpack:///../node_modules/graphql/jsutils/keyValMap.mjs","webpack:///../node_modules/graphql/jsutils/mapValue.mjs","webpack:///../node_modules/graphql/jsutils/naturalCompare.mjs","webpack:///../node_modules/graphql/jsutils/suggestionList.mjs","webpack:///../node_modules/graphql/jsutils/toObjMap.mjs","webpack:///../node_modules/graphql/utilities/valueFromASTUntyped.mjs","webpack:///../node_modules/graphql/type/assertName.mjs","webpack:///../node_modules/graphql/type/definition.mjs","webpack:///../node_modules/graphql/utilities/typeComparators.mjs","webpack:///../node_modules/graphql/type/scalars.mjs","webpack:///../node_modules/graphql/type/directives.mjs","webpack:///../node_modules/graphql/jsutils/isIterableObject.mjs","webpack:///../node_modules/graphql/utilities/astFromValue.mjs","webpack:///../node_modules/graphql/type/introspection.mjs","webpack:///../node_modules/graphql/type/schema.mjs","webpack:///../node_modules/graphql/type/validate.mjs","webpack:///../node_modules/graphql/utilities/typeFromAST.mjs","webpack:///../node_modules/graphql/utilities/TypeInfo.mjs","webpack:///../node_modules/graphql/language/predicates.mjs","webpack:///../node_modules/graphql/validation/rules/ExecutableDefinitionsRule.mjs","webpack:///../node_modules/graphql/validation/rules/FieldsOnCorrectTypeRule.mjs","webpack:///../node_modules/graphql/validation/rules/FragmentsOnCompositeTypesRule.mjs","webpack:///../node_modules/graphql/validation/rules/KnownArgumentNamesRule.mjs","webpack:///../node_modules/graphql/validation/rules/KnownDirectivesRule.mjs","webpack:///../node_modules/graphql/validation/rules/KnownFragmentNamesRule.mjs","webpack:///../node_modules/graphql/validation/rules/KnownTypeNamesRule.mjs","webpack:///../node_modules/graphql/validation/rules/LoneAnonymousOperationRule.mjs","webpack:///../node_modules/graphql/validation/rules/LoneSchemaDefinitionRule.mjs","webpack:///../node_modules/graphql/validation/rules/NoFragmentCyclesRule.mjs","webpack:///../node_modules/graphql/validation/rules/NoUndefinedVariablesRule.mjs","webpack:///../node_modules/graphql/validation/rules/NoUnusedFragmentsRule.mjs","webpack:///../node_modules/graphql/validation/rules/NoUnusedVariablesRule.mjs","webpack:///../node_modules/graphql/utilities/sortValueNode.mjs","webpack:///../node_modules/graphql/validation/rules/OverlappingFieldsCanBeMergedRule.mjs","webpack:///../node_modules/graphql/validation/rules/PossibleFragmentSpreadsRule.mjs","webpack:///../node_modules/graphql/validation/rules/PossibleTypeExtensionsRule.mjs","webpack:///../node_modules/graphql/validation/rules/ProvidedRequiredArgumentsRule.mjs","webpack:///../node_modules/graphql/validation/rules/ScalarLeafsRule.mjs","webpack:///../node_modules/graphql/jsutils/printPathArray.mjs","webpack:///../node_modules/graphql/jsutils/Path.mjs","webpack:///../node_modules/graphql/utilities/coerceInputValue.mjs","webpack:///../node_modules/graphql/utilities/valueFromAST.mjs","webpack:///../node_modules/graphql/execution/values.mjs","webpack:///../node_modules/graphql/execution/collectFields.mjs","webpack:///../node_modules/graphql/validation/rules/SingleFieldSubscriptionsRule.mjs","webpack:///../node_modules/graphql/jsutils/groupBy.mjs","webpack:///../node_modules/graphql/validation/rules/UniqueArgumentDefinitionNamesRule.mjs","webpack:///../node_modules/graphql/validation/rules/UniqueArgumentNamesRule.mjs","webpack:///../node_modules/graphql/validation/rules/UniqueDirectiveNamesRule.mjs","webpack:///../node_modules/graphql/validation/rules/UniqueDirectivesPerLocationRule.mjs","webpack:///../node_modules/graphql/validation/rules/UniqueEnumValueNamesRule.mjs","webpack:///../node_modules/graphql/validation/rules/UniqueFieldDefinitionNamesRule.mjs","webpack:///../node_modules/graphql/validation/rules/UniqueFragmentNamesRule.mjs","webpack:///../node_modules/graphql/validation/rules/UniqueInputFieldNamesRule.mjs","webpack:///../node_modules/graphql/validation/rules/UniqueOperationNamesRule.mjs","webpack:///../node_modules/graphql/validation/rules/UniqueOperationTypesRule.mjs","webpack:///../node_modules/graphql/validation/rules/UniqueTypeNamesRule.mjs","webpack:///../node_modules/graphql/validation/rules/UniqueVariableNamesRule.mjs","webpack:///../node_modules/graphql/validation/rules/ValuesOfCorrectTypeRule.mjs","webpack:///../node_modules/graphql/validation/rules/VariablesAreInputTypesRule.mjs","webpack:///../node_modules/graphql/validation/rules/VariablesInAllowedPositionRule.mjs","webpack:///../node_modules/graphql/validation/specifiedRules.mjs","webpack:///../node_modules/graphql/validation/ValidationContext.mjs","webpack:///../node_modules/graphql/validation/validate.mjs","webpack:///../node_modules/graphql/jsutils/memoize3.mjs","webpack:///../node_modules/graphql/jsutils/promiseForObject.mjs","webpack:///../node_modules/graphql/jsutils/promiseReduce.mjs","webpack:///../node_modules/graphql/jsutils/toError.mjs","webpack:///../node_modules/graphql/error/locatedError.mjs","webpack:///../node_modules/graphql/execution/execute.mjs","webpack:///../node_modules/graphql/graphql.mjs","webpack:///../node_modules/graphql/jsutils/isAsyncIterable.mjs","webpack:///../node_modules/graphql/execution/mapAsyncIterator.mjs","webpack:///../node_modules/graphql/execution/subscribe.mjs","webpack:///../node_modules/graphql/validation/rules/custom/NoDeprecatedCustomRule.mjs","webpack:///../node_modules/graphql/validation/rules/custom/NoSchemaIntrospectionCustomRule.mjs","webpack:///../node_modules/graphql/utilities/getIntrospectionQuery.mjs","webpack:///../node_modules/graphql/utilities/getOperationAST.mjs","webpack:///../node_modules/graphql/utilities/getOperationRootType.mjs","webpack:///../node_modules/graphql/utilities/introspectionFromSchema.mjs","webpack:///../node_modules/graphql/utilities/buildClientSchema.mjs","webpack:///../node_modules/graphql/utilities/extendSchema.mjs","webpack:///../node_modules/graphql/utilities/buildASTSchema.mjs","webpack:///../node_modules/graphql/utilities/lexicographicSortSchema.mjs","webpack:///../node_modules/graphql/utilities/printSchema.mjs","webpack:///../node_modules/graphql/utilities/concatAST.mjs","webpack:///../node_modules/graphql/utilities/separateOperations.mjs","webpack:///../node_modules/graphql/utilities/stripIgnoredCharacters.mjs","webpack:///../node_modules/graphql/utilities/assertValidName.mjs","webpack:///../node_modules/graphql/utilities/findBreakingChanges.mjs","webpack:///../node_modules/react/cjs/react.production.min.js","webpack:///../node_modules/@apollo/client/link/http/createSignalIfSupported.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/lang/objectAssign.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/logger/constants.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/services/splitHttpClient.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/constants/index.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/services/splitApi.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/sync/syncTask.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/sync/submitters/submitter.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/sync/submitters/eventsSubmitter.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/lang/index.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/sync/submitters/impressionsSubmitter.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/sync/submitters/impressionCountsSubmitter.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/readiness/constants.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/settingsValidation/mode.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/inputValidation/split.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/inputValidation/splits.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/settingsValidation/splitFilters.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/settingsValidation/impressionsMode.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/inputValidation/key.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/inputValidation/trafficType.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/settingsValidation/index.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/inputValidation/apiKey.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/sync/submitters/telemetrySubmitter.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/timeTracker/timer.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/sync/submitters/submitterManager.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/sync/streaming/constants.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/consent/index.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/sync/syncManagerOnline.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/Backoff.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/sync/streaming/SSEHandler/NotificationParser.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/sync/streaming/SSEHandler/NotificationKeeper.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/sync/streaming/SSEHandler/index.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/sync/streaming/UpdateWorkers/MySegmentsUpdateWorker.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/sync/streaming/UpdateWorkers/constants.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/sync/streaming/UpdateWorkers/SegmentsUpdateWorker.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/sync/streaming/UpdateWorkers/SplitsUpdateWorker.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/base64/index.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/jwt/index.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/murmur3/utfx.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/murmur3/common.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/murmur3/murmur3.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/sync/streaming/AuthClient/index.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/sync/streaming/SSEClient/index.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/sync/streaming/SSEHandler/types.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/key/index.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/decompress/index.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/sync/streaming/mySegmentsV2utils.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/lang/sets.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/murmur3/murmur3_128.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/murmur3/murmur3_64.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/sync/streaming/pushManager.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/sync/polling/fetchers/mySegmentsFetcher.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/promise/timeout.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/sync/polling/updaters/mySegmentsUpdater.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/sync/polling/syncTasks/mySegmentsSyncTask.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/sync/polling/fetchers/splitChangesFetcher.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/sync/polling/updaters/splitChangesUpdater.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/sync/polling/syncTasks/splitsSyncTask.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/sync/polling/pollingManagerCS.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/storages/inMemory/ImpressionsCacheInMemory.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/time/index.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/storages/inMemory/ImpressionCountsCacheInMemory.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/storages/inMemory/EventsCacheInMemory.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/storages/KeyBuilder.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/storages/KeyBuilderCS.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/env/isLocalStorageAvailable.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/storages/AbstractSplitsCacheSync.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/storages/inLocalStorage/constants.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/storages/inLocalStorage/SplitsCacheInLocal.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/storages/AbstractSegmentsCacheSync.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/storages/inLocalStorage/MySegmentsCacheInLocal.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/storages/inMemory/MySegmentsCacheInMemory.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/storages/inMemory/SplitsCacheInMemory.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/constants/browser.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/storages/findLatencyIndex.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/storages/inMemory/TelemetryCacheInMemory.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/storages/inMemory/InMemoryStorageCS.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/storages/inLocalStorage/index.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/promise/thenable.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/inputValidation/isOperational.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/labels/index.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/inputValidation/splitExistance.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/sdkManager/index.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/storages/inMemory/AttributesCacheInMemory.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/inputValidation/attribute.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/inputValidation/attributes.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/sdkClient/clientAttributesDecoration.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/sdkClient/clientCS.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/evaluator/matchers/matcherTypes.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/evaluator/matchersTransform/segment.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/evaluator/matchersTransform/whitelist.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/evaluator/matchersTransform/set.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/evaluator/matchersTransform/unaryNumeric.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/evaluator/convertions/index.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/evaluator/matchersTransform/index.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/evaluator/treatments/index.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/evaluator/matchers/all.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/evaluator/matchers/segment.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/evaluator/matchers/whitelist.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/evaluator/matchers/eq.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/evaluator/matchers/gte.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/evaluator/matchers/lte.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/evaluator/matchers/between.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/evaluator/matchers/eq_set.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/evaluator/matchers/cont_any.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/evaluator/matchers/cont_all.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/evaluator/matchers/part_of.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/evaluator/matchers/ew.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/evaluator/matchers/sw.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/evaluator/matchers/cont_str.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/evaluator/matchers/dependency.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/evaluator/matchers/boolean.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/evaluator/matchers/string.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/evaluator/matchers/index.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/evaluator/value/sanitize.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/evaluator/value/index.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/evaluator/condition/engineUtils.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/evaluator/condition/index.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/evaluator/combiners/ifelseif.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/evaluator/combiners/and.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/evaluator/parser/index.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/evaluator/Engine.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/evaluator/index.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/inputValidation/trafficTypeExistance.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/sdkClient/client.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/inputValidation/event.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/inputValidation/eventValue.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/inputValidation/eventProperties.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/trackers/impressionObserver/utils.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/sdkClient/clientInputValidation.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/sdkClient/sdkClient.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/sdkClient/sdkClientMethodCSWithTT.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/lang/maps.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/LRUCache/LinkedList.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/LRUCache/index.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/trackers/impressionObserver/ImpressionObserver.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/trackers/impressionObserver/buildKey.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/trackers/impressionObserver/impressionObserverCS.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/integrations/pluggable.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/integrations/ga/GaToSplit.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/integrations/ga/GoogleAnalyticsToSplit.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/integrations/ga/SplitToGa.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/integrations/ga/SplitToGoogleAnalytics.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/integrations/browser.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/settingsValidation/storage/storageCS.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/promise/wrapper.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/readiness/readinessManager.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/readiness/sdkReadinessManager.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/trackers/impressionsTracker.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/trackers/eventTracker.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/trackers/telemetryTracker.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/logger/index.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/logger/sdkLogger.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/storages/metadataBuilder.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/sdkFactory/index.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/consent/sdkUserConsent.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/settingsValidation/runtime.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/logger/messages/error.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/logger/messages/warn.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/logger/messages/info.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/logger/messages/debug.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/settingsValidation/logger/commons.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/settingsValidation/logger/builtinLogger.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/sync/offline/splitsParser/parseCondition.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/sync/offline/splitsParser/splitsParserFromSettings.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/sync/offline/syncTasks/fromObjectSyncTask.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/sync/offline/syncManagerOffline.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/sync/offline/LocalhostFromObject.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/settingsValidation/consent.js","webpack:///../node_modules/@splitsoftware/splitio/es/settings/defaults/version.js","webpack:///../node_modules/@splitsoftware/splitio/es/settings/defaults/browser.js","webpack:///../node_modules/@splitsoftware/splitio/es/settings/storage/browser.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/settingsValidation/integrations/common.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/settingsValidation/integrations/configurable.js","webpack:///../node_modules/@splitsoftware/splitio/es/settings/integrations/browser.js","webpack:///../node_modules/@splitsoftware/splitio/es/settings/browser.js","webpack:///../node_modules/@splitsoftware/splitio/es/platform/EventEmitter.js","webpack:///../node_modules/unfetch/dist/unfetch.module.js","webpack:///../node_modules/@splitsoftware/splitio/es/platform/getFetch/browser.js","webpack:///../node_modules/@splitsoftware/splitio/es/platform/getEventSource/browser.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/listeners/browser.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/timeTracker/now/browser.js","webpack:///../node_modules/@splitsoftware/splitio/es/platform/browser.js","webpack:///../node_modules/@splitsoftware/splitio/es/factory/browser.js","webpack:///../node_modules/core-js/internals/use-symbol-as-uid.js","webpack:///../node_modules/core-js/internals/ordinary-to-primitive.js","webpack:///../node_modules/@apollo/client/core/ObservableQuery.js","webpack:///../node_modules/@vue/devtools-api/lib/esm/const.js","webpack:///../node_modules/@vue/devtools-api/lib/esm/proxy.js","webpack:///../node_modules/@vue/devtools-api/lib/esm/index.js","webpack:///../node_modules/graphql/jsutils/inspect.mjs","webpack:///../node_modules/core-js/internals/define-built-in.js","webpack:///../node_modules/apollo-link-sentry/lib/index.js","webpack:///../node_modules/core-js/internals/indexed-object.js","webpack:///../node_modules/graphql/jsutils/devAssert.mjs","webpack:///../node_modules/optimism/lib/bundle.esm.js","webpack:///../node_modules/@apollo/client/cache/core/cache.js","webpack:///../node_modules/@sentry/utils/esm/clientreport.js","webpack:///../node_modules/@sentry/browser/esm/client.js","webpack:///../node_modules/core-js/internals/define-global-property.js","webpack:///../node_modules/@sentry/utils/esm/is.js","webpack:///../node_modules/@sentry/core/esm/session.js","webpack:///../node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack:///../node_modules/register-service-worker/index.js","webpack:///../node_modules/@apollo/client/cache/core/types/Cache.js","webpack:///../node_modules/@apollo/client/link/utils/toPromise.js","webpack:///../node_modules/graphql-tag/lib/index.js","webpack:///../node_modules/@apollo/client/core/index.js","webpack:///../node_modules/core-js/internals/well-known-symbol.js","webpack:///../node_modules/@apollo/client/cache/inmemory/entityStore.js","webpack:///../node_modules/@apollo/client/cache/inmemory/readFromStore.js","webpack:///../node_modules/@apollo/client/utilities/common/stringifyForDisplay.js","webpack:///../node_modules/@apollo/client/cache/inmemory/key-extractor.js","webpack:///../node_modules/@apollo/client/cache/inmemory/policies.js","webpack:///../node_modules/@apollo/client/cache/inmemory/writeToStore.js","webpack:///../node_modules/@apollo/client/cache/inmemory/inMemoryCache.js","webpack:///../node_modules/apollo-link-sentry/lib/utils.js","webpack:///../node_modules/core-js/internals/engine-v8-version.js","webpack:///../node_modules/core-js/internals/v8-prototype-define-bug.js","webpack:///../node_modules/core-js/internals/document-create-element.js","webpack:///../node_modules/password-validator/src/lib.js","webpack:///../node_modules/@apollo/client/link/http/index.js","webpack:///../node_modules/@apollo/client/link/utils/fromPromise.js","webpack:///../node_modules/@sentry/utils/esm/logger.js","webpack:///../node_modules/graphql/language/blockString.mjs","webpack:///../node_modules/core-js/internals/descriptors.js","webpack:///../node_modules/object-assign/index.js","webpack:///../node_modules/@apollo/client/utilities/globals/maybe.js","webpack:///../node_modules/@sentry/utils/esm/severity.js","webpack:///../node_modules/@sentry/utils/esm/url.js","webpack:///../node_modules/@sentry/browser/esm/integrations/breadcrumbs.js","webpack:///../node_modules/core-js/modules/es.array.includes.js","webpack:///../node_modules/phone/dist/lib/utility.js","webpack:///../node_modules/zen-observable/index.js","webpack:///../node_modules/@apollo/client/utilities/common/filterInPlace.js","webpack:///../node_modules/@apollo/client/utilities/graphql/transform.js","webpack:///../node_modules/core-js/internals/export.js","webpack:///../node_modules/@apollo/client/cache/core/types/common.js","webpack:///../node_modules/@vuelidate/core/dist/index.esm.js","webpack:///../node_modules/core-js/internals/get-method.js","webpack:///../node_modules/password-validator/src/validationMessages.js","webpack:///../node_modules/core-js/internals/own-keys.js","webpack:///../node_modules/core-js/internals/shared-store.js","webpack:///../node_modules/@sentry/utils/esm/supports.js","webpack:///../node_modules/@sentry/browser/esm/integrations/httpcontext.js","webpack:///../node_modules/core-js/internals/to-indexed-object.js","webpack:///../node_modules/@sentry/core/esm/envelope.js","webpack:///../node_modules/@sentry/core/esm/baseclient.js","webpack:///../node_modules/vue-router/dist/vue-router.esm-bundler.js","webpack:///../node_modules/core-js/internals/wrap-error-constructor-with-cause.js","webpack:///../node_modules/apollo-link-sentry/lib/breadcrumb.js","webpack:///../node_modules/@vue/apollo-option/dist/vue-apollo-option.esm.js","webpack:///../node_modules/password-validator/src/index.js","webpack:///../node_modules/core-js/internals/object-get-own-property-names.js","webpack:///../node_modules/core-js/modules/es.error.cause.js","webpack:///../node_modules/graphql/language/printString.mjs","webpack:///../node_modules/graphql/language/printer.mjs","webpack:///../node_modules/webpack/buildin/harmony-module.js","webpack:///../node_modules/core-js/internals/function-call.js","webpack:///../node_modules/@apollo/client/version.js","webpack:///../node_modules/@apollo/client/utilities/observables/asyncMap.js","webpack:///../node_modules/@apollo/client/utilities/common/errorHandling.js","webpack:///../node_modules/@apollo/client/utilities/observables/Concast.js","webpack:///../node_modules/@apollo/client/core/LocalState.js","webpack:///../node_modules/@apollo/client/core/QueryInfo.js","webpack:///../node_modules/@apollo/client/core/QueryManager.js","webpack:///../node_modules/@apollo/client/core/ApolloClient.js","webpack:///../node_modules/core-js/internals/is-pure.js","webpack:///../node_modules/core-js/internals/is-callable.js","webpack:///../node_modules/@apollo/client/utilities/common/maybeDeepFreeze.js","webpack:///../node_modules/core-js/internals/native-weak-map.js","webpack:///../node_modules/@apollo/client/utilities/graphql/getFromAST.js","webpack:///../node_modules/core-js/internals/require-object-coercible.js","webpack:///../node_modules/vue-loader-v16/dist/exportHelper.js","webpack:///../node_modules/core-js/internals/normalize-string-argument.js","webpack:///../node_modules/@apollo/client/utilities/common/objects.js","webpack:///../node_modules/graphql/error/GraphQLError.mjs","webpack:///../node_modules/@sentry/browser/esm/sdk.js","webpack:///../node_modules/core-js/internals/html.js","webpack:///../node_modules/path-browserify/index.js","webpack:///../node_modules/core-js/internals/function-apply.js","webpack:///../node_modules/apollo-link-sentry/node_modules/dot-prop/index.js","webpack:///../node_modules/@apollo/client/utilities/globals/DEV.js","webpack:///../node_modules/@apollo/client/utilities/globals/fix-graphql.js","webpack:///../node_modules/@apollo/client/utilities/globals/index.js","webpack:///../node_modules/core-js/internals/internal-state.js","webpack:///../node_modules/core-js/internals/array-reduce.js","webpack:///../node_modules/graphql/jsutils/isObjectLike.mjs","webpack:///../node_modules/@sentry/core/esm/version.js","webpack:///../node_modules/@sentry/browser/esm/eventbuilder.js","webpack:///../node_modules/@apollo/client/link/http/selectURI.js","webpack:///../node_modules/@sentry/browser/esm/stack-parsers.js","webpack:///../node_modules/@sentry/utils/esm/envelope.js","webpack:///../node_modules/core-js/internals/make-built-in.js","webpack:///../node_modules/core-js/internals/get-built-in.js","webpack:///../node_modules/@apollo/client/utilities/observables/subclassing.js","webpack:///../node_modules/@apollo/client/react/context/ApolloContext.js","webpack:///../node_modules/@apollo/client/react/context/ApolloProvider.js","webpack:///../node_modules/@apollo/client/react/context/ApolloConsumer.js","webpack:///../node_modules/@apollo/client/react/hooks/useApolloClient.js","webpack:///../node_modules/@apollo/client/react/hooks/useSyncExternalStore.js","webpack:///../node_modules/@apollo/client/react/parser/index.js","webpack:///../node_modules/@apollo/client/react/hooks/useQuery.js","webpack:///../node_modules/@apollo/client/react/hooks/useLazyQuery.js","webpack:///../node_modules/@apollo/client/react/hooks/useMutation.js","webpack:///../node_modules/@apollo/client/react/hooks/useSubscription.js","webpack:///../node_modules/@apollo/client/react/hooks/useReactiveVar.js","webpack:///../node_modules/@sentry/utils/esm/browser.js","webpack:///../node_modules/core-js/internals/create-property-descriptor.js","webpack:///../node_modules/core-js/internals/function-uncurry-this.js","webpack:///../node_modules/deepmerge/dist/cjs.js","webpack:///../node_modules/phone/dist/index.js","webpack:///../node_modules/@sentry/utils/esm/stacktrace.js","webpack:///../node_modules/@sentry/browser/esm/integrations/linkederrors.js","webpack:///../node_modules/core-js/internals/to-primitive.js","webpack:///../node_modules/@wry/equality/lib/equality.esm.js","webpack:///../node_modules/core-js/internals/try-to-string.js","webpack:///../node_modules/@sentry/browser/esm/integrations/index.js","webpack:///../node_modules/core-js/internals/engine-is-node.js","webpack:///../node_modules/core-js/internals/to-integer-or-infinity.js","webpack:///../node_modules/@apollo/client/link/http/checkFetcher.js","webpack:///../node_modules/@apollo/client/link/core/execute.js","webpack:///../node_modules/graphql/jsutils/invariant.mjs","webpack:///../node_modules/@apollo/client/utilities/common/mergeOptions.js","webpack:///../node_modules/tslib/tslib.es6.js","webpack:///../node_modules/core-js/internals/to-property-key.js","webpack:///../node_modules/node-libs-browser/mock/process.js","webpack:///../node_modules/graphql/language/lexer.mjs","webpack:///../node_modules/@sentry/utils/esm/time.js","webpack:///../node_modules/@sentry/core/esm/integration.js","webpack:///../node_modules/core-js/internals/native-symbol.js","webpack:///../node_modules/@apollo/client/link/core/from.js","webpack:///../node_modules/@sentry/utils/esm/string.js","webpack:///../node_modules/@apollo/client/link/core/empty.js","webpack:///../node_modules/@apollo/client/link/core/split.js","webpack:///../node_modules/@apollo/client/link/core/concat.js","webpack:///../node_modules/@wry/trie/lib/trie.esm.js","webpack:///../node_modules/core-js/internals/add-to-unscopables.js","webpack:///../node_modules/@apollo/client/utilities/common/arrays.js","webpack:///../node_modules/@vue/reactivity/dist/reactivity.esm-bundler.js","webpack:///../node_modules/@vue/runtime-core/dist/runtime-core.esm-bundler.js","webpack:///../node_modules/@vue/runtime-dom/dist/runtime-dom.esm-bundler.js","webpack:///../node_modules/core-js/internals/enum-bug-keys.js","webpack:///../node_modules/core-js/internals/array-method-is-strict.js","webpack:///../node_modules/@sentry/core/esm/sdk.js","webpack:///../node_modules/core-js/internals/classof-raw.js","webpack:///../node_modules/@sentry/utils/esm/node.js","webpack:///../node_modules/core-js/internals/is-object.js","webpack:///../node_modules/@vue/shared/dist/shared.esm-bundler.js","webpack:///../node_modules/core-js/internals/length-of-array-like.js","webpack:///../node_modules/core-js/internals/classof.js","webpack:///../node_modules/core-js/internals/an-object.js","webpack:///../node_modules/core-js/internals/shared.js","webpack:///../node_modules/@apollo/client/link/http/parseAndCheckHttpResponse.js","webpack:///../node_modules/zen-observable/lib/Observable.js","webpack:///../node_modules/core-js/internals/to-absolute-index.js","webpack:///../node_modules/@apollo/client/utilities/common/canUse.js","webpack:///../node_modules/graphql/language/tokenKind.mjs","webpack:///../node_modules/core-js/internals/object-set-prototype-of.js","webpack:///../node_modules/@sentry/vue/esm/constants.js","webpack:///../node_modules/@sentry/vue/esm/components.js","webpack:///../node_modules/@sentry/vue/esm/errorhandler.js","webpack:///../node_modules/@sentry/vue/esm/tracing.js","webpack:///../node_modules/@sentry/vue/esm/sdk.js","webpack:///../node_modules/core-js/internals/an-instance.js","webpack:///../node_modules/@apollo/client/utilities/globals/global.js","webpack:///../node_modules/graphql/jsutils/instanceOf.mjs","webpack:///../node_modules/@apollo/client/utilities/common/compact.js","webpack:///../node_modules/core-js/internals/has-own-property.js","webpack:///../node_modules/@apollo/client/utilities/graphql/directives.js","webpack:///../node_modules/@sentry/browser/esm/integrations/trycatch.js","webpack:///../node_modules/apollo-link-sentry/lib/sentry.js","webpack:///../node_modules/mitt/dist/mitt.mjs","webpack:///../node_modules/core-js/internals/array-includes.js","webpack:///../node_modules/core-js/internals/to-string-tag-support.js","webpack:///../node_modules/password-validator/src/constants.js","webpack:///../node_modules/@apollo/client/link/utils/fromError.js","webpack:///../node_modules/@sentry/utils/esm/env.js","webpack:///../node_modules/@vuelidate/validators/dist/index.esm.js","webpack:///../node_modules/react/index.js","webpack:///../node_modules/@wry/context/lib/context.esm.js","webpack:///../node_modules/core-js/internals/global.js","webpack:///../node_modules/core-js/internals/create-non-enumerable-property.js","webpack:///../node_modules/@vue/devtools-api/lib/esm/time.js","webpack:///../node_modules/@apollo/client/utilities/observables/iteration.js","webpack:///../node_modules/@apollo/client/cache/inmemory/reactiveVars.js","webpack:///../node_modules/core-js/internals/object-define-property.js","webpack:///../node_modules/core-js/internals/uid.js","webpack:///../node_modules/@sentry/utils/esm/syncpromise.js","webpack:///../node_modules/vue-class-component/dist/vue-class-component.esm-bundler.js","webpack:///../node_modules/core-js/internals/clear-error-stack.js","webpack:///../node_modules/@apollo/client/link/error/index.js","webpack:///../node_modules/webpack/buildin/global.js","webpack:///../node_modules/core-js/internals/proxy-accessor.js","webpack:///../node_modules/@apollo/client/cache/inmemory/helpers.js","webpack:///../node_modules/@sentry/core/esm/scope.js","webpack:///../node_modules/apollo-link-sentry/lib/excludeGraphQLFetch.js","webpack:///../node_modules/@sentry/browser/esm/helpers.js","webpack:///../node_modules/graphql/language/kinds.mjs","webpack:///../node_modules/core-js/internals/object-get-own-property-symbols.js","webpack:///../node_modules/@apollo/client/utilities/graphql/storeUtils.js","webpack:///../node_modules/core-js/internals/engine-user-agent.js","webpack:///../node_modules/@apollo/client/utilities/graphql/fragments.js","webpack:///../node_modules/vuex/dist/vuex.esm-browser.js","webpack:///../node_modules/core-js/internals/a-callable.js","webpack:///../node_modules/@apollo/client/core/networkStatus.js","webpack:///../node_modules/@sentry/browser/esm/transports/utils.js","webpack:///../node_modules/@sentry/browser/esm/transports/fetch.js","webpack:///../node_modules/core-js/internals/hidden-keys.js","webpack:///../node_modules/apollo-link-debounce/build/dist/index.js","webpack:///../node_modules/@sentry/utils/esm/object.js","webpack:///../node_modules/@apollo/client/link/http/serializeFetchParameter.js","webpack:///../node_modules/core-js/internals/function-bind-native.js","webpack:///../node_modules/apollo-link-sentry/lib/SentryLink.js","webpack:///../node_modules/graphql/language/visitor.mjs","webpack:///../node_modules/@apollo/client/link/http/rewriteURIForGET.js","webpack:///../node_modules/core-js/internals/object-keys.js","webpack:///../node_modules/@sentry/utils/esm/buildPolyfills/_optionalChain.js","webpack:///../node_modules/@sentry/utils/esm/worldwide.js","webpack:///../node_modules/core-js/internals/is-symbol.js","webpack:///../node_modules/@splitsoftware/splitio-commons/esm/utils/env/isNode.js","webpack:///../node_modules/zen-observable-ts/module.js","webpack:///../node_modules/@apollo/client/link/http/createHttpLink.js","webpack:///../node_modules/graphql/language/location.mjs","webpack:///../node_modules/core-js/internals/copy-constructor-properties.js","webpack:///../node_modules/ts-invariant/lib/invariant.js","webpack:///../node_modules/ts-invariant/process/index.js","webpack:///../node_modules/core-js/internals/function-name.js","webpack:///../node_modules/graphql/language/directiveLocation.mjs","webpack:///../node_modules/@apollo/client/link/utils/createOperation.js","webpack:///../node_modules/@apollo/client/link/utils/transformOperation.js","webpack:///../node_modules/@apollo/client/link/utils/validateOperation.js","webpack:///../node_modules/@apollo/client/link/core/ApolloLink.js","webpack:///../node_modules/@sentry/core/esm/hub.js","webpack:///../node_modules/core-js/internals/object-create.js","webpack:///../node_modules/@sentry/core/esm/integrations/inboundfilters.js","webpack:///../node_modules/core-js/modules/web.dom-exception.stack.js","webpack:///../node_modules/graphql/error/syntaxError.mjs","webpack:///../node_modules/core-js/internals/ie8-dom-define.js","webpack:///../node_modules/core-js/modules/es.array.reduce.js","webpack:///../node_modules/apollo-link-sentry/lib/options.js","webpack:///../node_modules/graphql/language/source.mjs","webpack:///../node_modules/core-js/internals/to-length.js","webpack:///../node_modules/@apollo/client/cache/inmemory/object-canon.js","webpack:///../node_modules/@sentry/core/esm/exports.js","webpack:///../node_modules/@sentry/browser/esm/index.js","webpack:///../node_modules/@sentry/utils/esm/error.js","webpack:///../node_modules/@sentry/browser/esm/integrations/globalhandlers.js","webpack:///../node_modules/@sentry/utils/esm/dsn.js","webpack:///../node_modules/apollo-link-debounce/build/dist/DebounceLink.js","webpack:///../node_modules/vue-demi/lib/index.mjs","webpack:///../node_modules/core-js/internals/object-define-properties.js","webpack:///../node_modules/is-obj/index.js","webpack:///../node_modules/graphql/language/parser.mjs","webpack:///../node_modules/@sentry/utils/esm/misc.js","webpack:///../node_modules/core-js/internals/shared-key.js","webpack:///../node_modules/graphql/language/ast.mjs","webpack:///../node_modules/core-js/internals/object-property-is-enumerable.js","webpack:///../node_modules/@apollo/client/link/utils/throwServerError.js","webpack:///../node_modules/@sentry/utils/esm/normalize.js","webpack:///../node_modules/core-js/internals/inherit-if-required.js","webpack:///../node_modules/@sentry/core/esm/api.js","webpack:///../node_modules/@apollo/client/utilities/common/makeUniqueId.js","webpack:///../node_modules/core-js/internals/error-stack-installable.js","webpack:///../node_modules/@apollo/client/link/http/selectHttpOptionsAndBody.js","webpack:///../node_modules/@apollo/client/link/http/HttpLink.js","webpack:///../node_modules/core-js/internals/a-possible-prototype.js","webpack:///../node_modules/@sentry/utils/esm/memo.js","webpack:///../node_modules/core-js/internals/dom-exception-constants.js","webpack:///../node_modules/@vue/devtools-api/lib/esm/env.js","webpack:///../node_modules/graphql/language/printLocation.mjs","webpack:///../node_modules/@apollo/client/utilities/common/mergeDeep.js","webpack:///../node_modules/graphql/language/characterClasses.mjs","webpack:///../node_modules/core-js/internals/object-keys-internal.js","webpack:///../node_modules/@apollo/client/utilities/common/cloneDeep.js","webpack:///../node_modules/core-js/internals/install-error-cause.js","webpack:///../node_modules/@sentry/browser/esm/transports/xhr.js","webpack:///../node_modules/@sentry/utils/esm/instrument.js","webpack:///../node_modules/phone/dist/data/country_phone_data.js","webpack:///../node_modules/@sentry/browser/esm/integrations/dedupe.js","webpack:///../node_modules/@sentry/core/esm/integrations/functiontostring.js","webpack:///../node_modules/core-js/internals/is-forced.js","webpack:///../node_modules/core-js/internals/to-object.js","webpack:///../node_modules/core-js/internals/math-trunc.js","webpack:///../node_modules/flatted/esm/index.js","webpack:///../node_modules/core-js/internals/fails.js","webpack:///../node_modules/core-js/internals/object-is-prototype-of.js","webpack:///../../src/MockStorage.ts","webpack:///../../src/SimplePromiseQueue.ts","webpack:///../../src/utils.ts","webpack:///../../src/index.ts","webpack:///../node_modules/core-js/internals/inspect-source.js","webpack:///../node_modules/apollo-link-sentry/lib/operation.js"],"names":["makePromiseBuffer","limit","buffer","isReady","undefined","length","remove","task","splice","indexOf","add","taskProducer","push","then","drain","timeout","resolve","reject","counter","capturedSetTimeout","setTimeout","forEach","item","clearTimeout","$","DEFAULT_RETRY_AFTER","parseRetryAfterHeader","header","now","Date","headerDelay","parseInt","isNaN","headerDate","parse","disabledUntil","limits","category","all","isRateLimited","updateRateLimits","statusCode","headers","updatedRateLimits","rateLimitHeader","retryAfterHeader","trim","split","retryAfter","categories","delay","DEFAULT_TRANSPORT_BUFFER_SIZE","createTransport","options","makeRequest","bufferSize","rateLimits","flush","send","envelope","filteredEnvelopeItems","type","envelopeItemDataCategory","event","getEventForEnvelopeItem","recordDroppedEvent","filteredEnvelope","recordEnvelopeLoss","reason","requestTask","body","textEncoder","response","__SENTRY_DEBUG__","logger","warn","error","result","Array","isArray","isApolloError","err","hasOwnProperty","generateErrorMessage","message","graphQLErrors","clientErrors","errors","concat","errorMessage","networkError","replace","ApolloError","_super","_a","extraInfo","_this","call","this","__proto__","prototype","Error","classof","$String","String","module","exports","argument","TypeError","version","versionInfo","Object","freeze","major","minor","patch","preReleaseTag","isPromise","value","MAX_SUGGESTIONS","didYouMean","firstArg","secondArg","subMessage","suggestionsArg","suggestions","map","x","selected","slice","lastItem","pop","join","identityFunc","keyMap","list","keyFn","create","keyValMap","valFn","mapValue","fn","key","keys","naturalCompare","aStr","bStr","aIndex","bIndex","aChar","charCodeAt","bChar","isDigit","aNum","DIGIT_0","bNum","DIGIT_9","code","suggestionList","input","optionsByDistance","lexicalDistance","LexicalDistance","threshold","Math","floor","option","distance","measure","sort","a","b","distanceDiff","_input","_inputLowerCase","toLowerCase","_inputArray","stringToArray","_rows","fill","optionLowerCase","tmp","aLength","bLength","rows","j","i","upRow","currentRow","smallestCell","cost","currentCell","min","doubleDiagonalCell","str","strLength","array","toObjMap","obj","getPrototypeOf","entries","valueFromASTUntyped","valueNode","variables","kind","NULL","INT","FLOAT","parseFloat","STRING","ENUM","BOOLEAN","LIST","values","node","OBJECT","fields","field","name","VARIABLE","assertName","devAssert","GraphQLError","assertEnumValueName","isType","isScalarType","isObjectType","isInterfaceType","isUnionType","isEnumType","isInputObjectType","isListType","isNonNullType","assertType","inspect","instanceOf","assertScalarType","assertObjectType","assertInterfaceType","assertUnionType","assertEnumType","assertInputObjectType","assertListType","assertNonNullType","isInputType","isWrappingType","ofType","assertInputType","isOutputType","assertOutputType","isLeafType","assertLeafType","isCompositeType","assertCompositeType","isAbstractType","assertAbstractType","get","Symbol","toStringTag","toString","isNullableType","assertWrappingType","assertNullableType","getNullableType","isNamedType","assertNamedType","unwrappedType","resolveReadonlyArrayThunk","thunk","resolveObjMapThunk","config","_config$parseValue","_config$serialize","_config$parseLiteral","_config$extensionASTN","parseValue","description","specifiedByURL","serialize","parseLiteral","extensions","astNode","extensionASTNodes","_config$extensionASTN2","isTypeOf","_fields","defineFieldMap","_interfaces","defineInterfaces","interfaces","getInterfaces","fieldsToFieldsConfig","getFields","_config$interfaces","fieldMap","isPlainObj","fieldConfig","fieldName","_fieldConfig$args","argsConfig","args","defineArguments","subscribe","deprecationReason","argName","argConfig","defaultValue","isObjectLike","argsToArgsConfig","arg","isRequiredArgument","_config$extensionASTN3","resolveType","bind","_config$extensionASTN4","_types","defineTypes","types","getTypes","_config$extensionASTN5","_values","defineEnumValues","_valueLookup","Map","enumValue","_nameLookup","outputValue","inputValue","valueStr","didYouMeanEnumValue","getValue","_variables","nodes","getValues","enumType","unknownValueStr","allNames","suggestedValues","typeName","valueMap","valueName","valueConfig","_config$extensionASTN6","defineInputFieldMap","isRequiredInputField","isEqualType","typeA","typeB","isTypeSubTypeOf","schema","maybeSubType","superType","isSubType","doTypesOverlap","getPossibleTypes","some","GRAPHQL_MAX_INT","GRAPHQL_MIN_INT","GraphQLInt","coercedValue","serializeObject","num","Number","isInteger","GraphQLFloat","isFinite","GraphQLString","GraphQLBoolean","GraphQLID","specifiedScalarTypes","isSpecifiedScalarType","valueOf","valueOfResult","toJSON","isDirective","directive","assertDirective","_config$isRepeatable","_config$args","locations","isRepeatable","GraphQLIncludeDirective","FIELD","FRAGMENT_SPREAD","INLINE_FRAGMENT","if","GraphQLSkipDirective","DEFAULT_DEPRECATION_REASON","GraphQLDeprecatedDirective","FIELD_DEFINITION","ARGUMENT_DEFINITION","INPUT_FIELD_DEFINITION","ENUM_VALUE","GraphQLSpecifiedByDirective","SCALAR","url","specifiedDirectives","isSpecifiedDirective","isIterableObject","maybeIterable","iterator","astFromValue","astValue","itemType","valuesNodes","itemNode","fieldNodes","fieldValue","OBJECT_FIELD","NAME","serialized","stringNum","integerStringRegExp","test","invariant","__Schema","__Type","getTypeMap","queryType","getQueryType","mutationType","getMutationType","subscriptionType","getSubscriptionType","directives","__Directive","getDirectives","__DirectiveLocation","__InputValue","includeDeprecated","filter","QUERY","MUTATION","SUBSCRIPTION","FRAGMENT_DEFINITION","VARIABLE_DEFINITION","SCHEMA","INTERFACE","UNION","INPUT_OBJECT","__TypeKind","TypeKind","NON_NULL","__Field","possibleTypes","_args","_context","enumValues","__EnumValue","inputFields","isDeprecated","valueAST","SchemaMetaFieldDef","_source","TypeMetaFieldDef","getType","TypeNameMetaFieldDef","parentType","introspectionTypes","isIntrospectionType","isSchema","assertSchema","_config$directives","__validationErrors","assumeValid","_queryType","query","_mutationType","mutation","_subscriptionType","subscription","_directives","allReferencedTypes","Set","delete","collectReferencedTypes","_typeMap","_subTypeMap","_implementationsMap","namedType","iface","implementations","objects","operation","abstractType","getImplementations","interfaceType","find","typeSet","has","memberType","validateSchema","context","validateRootTypes","validateDirectives","validateTypes","getErrors","assertValidSchema","_errors","_nodes","Boolean","_getOperationTypeNode","reportError","getOperationTypeNode","_getOperationTypeNode2","_getOperationTypeNode3","_flatMap$find","flatMap","schemaNode","_schemaNode$operation","operationTypes","operationNode","validateName","_arg$astNode","getDeprecatedDirectiveNode","startsWith","validateInputObjectCircularRefs","createInputObjectCircularRefsValidator","typeMap","validateFields","validateInterfaces","validateUnionMembers","validateEnumValues","validateInputFields","_field$astNode","_arg$astNode2","_arg$astNode3","ifaceTypeNames","getAllImplementsInterfaceNodes","validateTypeImplementsAncestors","validateTypeImplementsInterface","typeFieldMap","ifaceField","typeField","_ifaceField$astNode","_typeField$astNode","ifaceArg","typeArg","_ifaceArg$astNode","_typeArg$astNode","ifaceInterfaces","transitive","includes","union","memberTypes","includedTypeNames","getUnionMemberTypeNodes","inputObj","_field$astNode2","_field$astNode3","visitedTypes","fieldPath","fieldPathIndexByTypeName","detectCycleRecursive","fieldType","cycleIndex","cyclePath","pathStr","fieldObj","typeNode","_typeNode$interfaces","ifaceNode","unionNode","_unionNode$types","definitionNode","_definitionNode$direc","typeFromAST","LIST_TYPE","innerType","NON_NULL_TYPE","NAMED_TYPE","initialType","getFieldDefFn","_schema","_typeStack","_parentTypeStack","_inputTypeStack","_fieldDefStack","_defaultValueStack","_directive","_argument","_enumValue","_getFieldDef","getFieldDef","SELECTION_SET","getParentType","fieldDef","DIRECTIVE","getDirective","OPERATION_DEFINITION","rootType","getRootType","typeConditionAST","typeCondition","outputType","inputType","ARGUMENT","_this$getDirective","argDef","argType","fieldOrDirective","listType","getInputType","objectType","inputFieldType","inputField","fieldNode","visitWithTypeInfo","typeInfo","visitor","enter","apply","leave","isDefinitionNode","isExecutableDefinitionNode","isTypeSystemDefinitionNode","isTypeSystemExtensionNode","isSelectionNode","isValueNode","isConstValueNode","isTypeNode","SCHEMA_DEFINITION","isTypeDefinitionNode","DIRECTIVE_DEFINITION","SCALAR_TYPE_DEFINITION","OBJECT_TYPE_DEFINITION","INTERFACE_TYPE_DEFINITION","UNION_TYPE_DEFINITION","ENUM_TYPE_DEFINITION","INPUT_OBJECT_TYPE_DEFINITION","SCHEMA_EXTENSION","isTypeExtensionNode","SCALAR_TYPE_EXTENSION","OBJECT_TYPE_EXTENSION","INTERFACE_TYPE_EXTENSION","UNION_TYPE_EXTENSION","ENUM_TYPE_EXTENSION","INPUT_OBJECT_TYPE_EXTENSION","ExecutableDefinitionsRule","definition","definitions","defName","FieldsOnCorrectTypeRule","getSchema","suggestion","getSuggestedTypeNames","getSuggestedFieldNames","suggestedTypes","usageCount","possibleType","possibleInterface","_usageCount$possibleI","usageCountDiff","possibleFieldNames","FragmentsOnCompositeTypesRule","typeStr","KnownArgumentNamesRule","KnownArgumentNamesOnDirectivesRule","argNode","getArgument","knownArgsNames","directiveArgs","definedDirectives","astDefinitions","getDocument","def","_def$arguments","argsNodes","arguments","directiveNode","directiveName","knownArgs","KnownDirectivesRule","locationsMap","_key","_parent","_path","ancestors","candidateLocation","getDirectiveLocationForASTPath","appliedTo","getDirectiveLocationForOperation","ENUM_VALUE_DEFINITION","INPUT_VALUE_DEFINITION","parentNode","KnownFragmentNamesRule","fragmentName","fragment","getFragment","KnownTypeNamesRule","existingTypesMap","definedTypes","typeNames","_1","parent","_2","_ancestors$","isSDL","isSDLNode","standardTypeNames","LoneAnonymousOperationRule","operationCount","LoneSchemaDefinitionRule","_ref","_ref2","_oldSchema$astNode","oldSchema","alreadyDefined","schemaDefinitionsCount","NoFragmentCyclesRule","visitedFrags","spreadPath","spreadPathIndexByName","OperationDefinition","spreadNodes","getFragmentSpreads","selectionSet","spreadNode","spreadName","spreadFragment","viaPath","s","NoUndefinedVariablesRule","variableNameDefined","usages","getRecursiveVariableUsages","varName","variable","NoUnusedFragmentsRule","operationDefs","fragmentDefs","Document","fragmentNameUsed","getRecursivelyReferencedFragments","fragmentDef","fragName","NoUnusedVariablesRule","variableDefs","variableNameUsed","variableDef","variableName","sortValueNode","fieldA","fieldB","reasonMessage","responseName","subReason","OverlappingFieldsCanBeMergedRule","comparedFragmentPairs","PairSet","cachedFieldsAndFragmentNames","conflicts","findConflictsWithinSelectionSet","fields1","fields2","reasonMsg","fragmentNames","getFieldsAndFragmentNames","collectConflictsWithin","collectConflictsBetweenFieldsAndFragment","collectConflictsBetweenFragments","areMutuallyExclusive","fieldMap2","referencedFragmentNames","getReferencedFieldsAndFragmentNames","collectConflictsBetween","referencedFragmentName","fragmentName1","fragmentName2","fragment1","fragment2","fieldMap1","referencedFragmentNames1","referencedFragmentNames2","referencedFragmentName2","referencedFragmentName1","findConflictsBetweenSubSelectionSets","parentType1","selectionSet1","parentType2","selectionSet2","fragmentNames1","fragmentNames2","conflict","findConflict","parentFieldsAreMutuallyExclusive","field1","field2","node1","def1","node2","def2","name1","name2","stringifyArguments","type1","type2","doTypesConflict","subfieldConflicts","_fieldNode$arguments","inputObjectWithArgs","cached","nodeAndDefs","_collectFieldsAndFragmentNames","set","fragmentType","selection","selections","alias","inlineFragmentType","flat","_data","_this$_data$get","key1","key2","PossibleFragmentSpreadsRule","fragType","parentTypeStr","fragTypeStr","getFragmentType","frag","PossibleTypeExtensionsRule","ScalarTypeExtension","checkExtension","ObjectTypeExtension","InterfaceTypeExtension","UnionTypeExtension","EnumTypeExtension","InputObjectTypeExtension","defNode","existingType","expectedKind","defKindToExtKind","typeToExtKind","kindStr","extensionKindToTypeName","allTypeNames","ProvidedRequiredArgumentsRule","ProvidedRequiredArgumentsOnDirectivesRule","Field","providedArgs","argTypeStr","_schema$getDirectives","requiredArgsMap","argNodes","isRequiredArgumentNode","Directive","requiredArgs","_directiveNode$argume","argNodeMap","ScalarLeafsRule","printPathArray","path","addPath","prev","typename","pathToArray","flattened","curr","reverse","coerceInputValue","onError","defaultOnError","coerceInputValueImpl","invalidValue","errorPrefix","from","itemValue","index","itemPath","fieldDefs","parseResult","originalError","valueFromAST","variableValue","coercedValues","isMissingVariable","coercedObj","_error","getVariableValues","varDefNodes","inputs","maxErrors","coerced","coerceVariableValues","varDefNode","varType","varTypeStr","prefix","getArgumentValues","variableValues","_node$arguments","argumentNodes","argumentNode","isNull","getDirectiveValues","directiveDef","_node$directives","prop","collectFields","fragments","runtimeType","collectFieldsImpl","collectSubfields","returnType","subFieldNodes","visitedFragmentNames","shouldIncludeNode","getFieldEntryKey","fieldList","doesFragmentConditionMatch","skip","include","typeConditionNode","conditionalType","SingleFieldSubscriptionsRule","operationName","document","size","fieldSelectionLists","extraFieldSelectionLists","extraFieldSelections","groupBy","group","UniqueArgumentDefinitionNamesRule","checkArgUniqueness","InterfaceTypeDefinition","checkArgUniquenessPerField","ObjectTypeDefinition","_typeNode$fields","_fieldDef$arguments","parentName","seenArgs","UniqueArgumentNamesRule","_parentNode$arguments","UniqueDirectiveNamesRule","knownDirectiveNames","UniqueDirectivesPerLocationRule","uniqueDirectiveMap","repeatable","schemaDirectives","typeDirectivesMap","seenDirectives","UniqueEnumValueNamesRule","existingTypeMap","knownValueNames","EnumTypeDefinition","checkValueUniqueness","_node$values","valueNodes","valueNames","valueDef","UniqueFieldDefinitionNamesRule","knownFieldNames","InputObjectTypeDefinition","checkFieldUniqueness","_node$fields","fieldNames","hasField","UniqueFragmentNamesRule","knownFragmentNames","UniqueInputFieldNamesRule","knownNameStack","knownNames","ObjectValue","prevKnownNames","UniqueOperationNamesRule","knownOperationNames","FragmentDefinition","UniqueOperationTypesRule","definedOperationTypes","existingOperationTypes","SchemaDefinition","checkOperationTypes","SchemaExtension","_node$operationTypes","operationTypesNodes","operationType","alreadyDefinedOperationType","UniqueTypeNamesRule","knownTypeNames","ScalarTypeDefinition","checkTypeName","UnionTypeDefinition","UniqueVariableNamesRule","_operationNode$variab","variableDefinitions","seenVariableDefinitions","variableNodes","ValuesOfCorrectTypeRule","getParentInputType","isValidValueNode","fieldNodeMap","EnumValue","IntValue","FloatValue","StringValue","BooleanValue","locationType","VariablesAreInputTypesRule","VariablesInAllowedPositionRule","varDefMap","varDef","allowedVariableUsage","varDefaultValue","locationDefaultValue","hasNonNullVariableDefaultValue","hasLocationDefaultValue","nullableLocationType","specifiedRules","specifiedSDLRules","ast","_ast","_fragments","_fragmentSpreads","_recursivelyReferencedFragments","_onError","spreads","setsToVisit","collectedNames","nodesToVisit","spread","SDLValidationContext","super","_typeInfo","_variableUsages","_recursiveVariableUsages","newUsages","VariableDefinition","getDefaultValue","getVariableUsages","getEnumValue","validate","documentAST","rules","_options$maxErrors","abortObj","rule","e","validateSDL","schemaToExtend","visitors","assertValidSDL","assertValidSDLExtension","memoize3","cache0","a1","a2","a3","WeakMap","cache1","cache2","fnResult","promiseForObject","object","Promise","resolvedValues","resolvedObject","promiseReduce","callbackFn","initialValue","accumulator","resolved","toError","thrownValue","locatedError","rawOriginalError","isLocatedGraphQLError","source","positions","exeContext","execute","rootValue","assertValidExecutionArguments","buildExecutionContext","executeOperation","data","buildResponse","executeSync","rawVariableValues","_definition$name","_operation$variableDe","contextValue","fieldResolver","typeResolver","subscribeFieldResolver","coercedVariableValues","defaultFieldResolver","defaultTypeResolver","rootFields","executeFields","executeFieldsSerially","sourceValue","results","executeField","resolvedResult","containsPromise","_fieldDef$resolve","resolveFn","info","buildResolveInfo","completed","completeValue","rawError","handleFieldError","completeListValue","completeLeafValue","completeAbstractValue","completeObjectValue","completedResults","completedItem","serializedResult","_returnType$resolveTy","resolveTypeFn","resolvedRuntimeType","ensureValidRuntimeType","runtimeTypeName","resolvedIsTypeOf","invalidReturnTypeError","__typename","promisedIsTypeOfResults","isTypeOfResult","isTypeOfResults","property","graphql","graphqlImpl","graphqlSync","schemaValidationErrors","syntaxError","validationErrors","isAsyncIterable","maybeAsyncIterable","asyncIterator","mapAsyncIterator","iterable","callback","async","mapResult","done","return","_e","next","throw","resultOrStream","createSourceEventStream","mapSourceToResponse","payload","eventStream","executeSubscription","_fieldDef$subscribe","NoDeprecatedCustomRule","inputObjectDef","inputFieldDef","enumValueDef","enumTypeDef","NoSchemaIntrospectionCustomRule","getIntrospectionQuery","optionsWithDefault","descriptions","specifiedByUrl","directiveIsRepeatable","schemaDescription","inputValueDeprecation","inputDeprecation","getOperationAST","getOperationRootType","introspectionFromSchema","optionsWithDefaults","buildClientSchema","introspection","__schema","schemaIntrospection","typeIntrospection","buildType","stdType","getObjectType","buildDirective","typeRef","itemRef","nullableRef","nullableType","getNamedType","getInterfaceType","buildScalarDef","buildObjectDef","buildInterfaceDef","buildUnionDef","buildEnumDef","buildInputObjectDef","scalarIntrospection","buildImplementationsList","implementingIntrospection","implementingIntrospectionStr","objectIntrospection","buildFieldDefMap","interfaceIntrospection","unionIntrospection","unionIntrospectionStr","enumIntrospection","enumIntrospectionStr","valueIntrospection","inputObjectIntrospection","inputObjectIntrospectionStr","buildInputValueDefMap","fieldIntrospection","buildField","fieldIntrospectionStr","inputValueIntrospections","buildInputValue","inputValueIntrospection","directiveIntrospection","directiveIntrospectionStr","extendSchema","DOCUMENT","assumeValidSDL","schemaConfig","toConfig","extendedConfig","extendSchemaImpl","_schemaDef","_schemaDef$descriptio","_schemaDef2","_options$assumeValid","typeDefs","typeExtensionsMap","directiveDefs","schemaDef","schemaExtensions","extendedTypeName","existingTypeExtensions","extendNamedType","_stdTypeMap$name","stdTypeMap","replaceNamedType","getOperationTypes","replaceDirective","replaceType","extendArg","extendScalarType","extendObjectType","extendInterfaceType","extendUnionType","extendEnumType","extendInputObjectType","_typeExtensionsMap$co","buildInputFieldMap","_typeExtensionsMap$ty","buildEnumValueMap","_typeExtensionsMap$co2","extensionNode","_getSpecifiedByURL","getSpecifiedByURL","_typeExtensionsMap$co3","buildInterfaces","extendField","buildFieldMap","_typeExtensionsMap$co4","_typeExtensionsMap$co5","buildUnionTypes","opTypes","_stdTypeMap$name2","getWrappedType","_node$description","buildArgumentMap","fieldConfigMap","nodeFields","_field$description","getDeprecationReason","argConfigMap","_arg$description","inputFieldMap","_node$fields2","fieldsNodes","_field$description2","enumValueMap","_value$description","_node$interfaces$map","_node$interfaces","_node$types$map","_node$types","_typeExtensionsMap$na","_astNode$description","allNodes","_astNode$description2","_astNode$description3","_astNode$description4","_astNode$description5","_astNode$description6","deprecated","specifiedBy","buildASTSchema","emptySchemaConfig","stdDirective","every","buildSchema","noLocation","allowLegacyFragmentVariables","lexicographicSortSchema","sortByName","sortNamedType","sortDirective","replaceMaybeType","maybeType","sortBy","sortArgs","sortObjMap","sortFields","fieldsMap","sortInputFields","sortTypes","sortValueFn","sortedMap","mapToKey","obj1","obj2","printSchema","printFilteredSchema","n","isDefinedType","printIntrospectionSchema","directiveFilter","typeFilter","printSchemaDefinition","printDirective","printType","isSchemaOfCommonNames","printDescription","printScalar","printObject","printInterface","printUnion","printEnum","printInputObject","printSpecifiedByURL","printImplementedInterfaces","printFields","printDeprecated","printBlock","f","printInputValue","printArgs","items","indentation","defaultAST","argDecl","scalar","firstInBlock","blockString","block","concatAST","documents","doc","separateOperations","operations","depGraph","collectDependencies","separatedDocumentASTs","dependencies","collectTransitiveDependencies","collected","fromName","immediateDeps","toName","stripIgnoredCharacters","sourceObj","lexer","strippedBody","wasLastAddedTokenNonPunctuator","advance","EOF","currentToken","token","tokenKind","isNonPunctuator","SPREAD","tokenBody","start","end","BLOCK_STRING","minimize","assertValidName","isValidNameError","BreakingChangeType","DangerousChangeType","findBreakingChanges","newSchema","findSchemaChanges","change","findDangerousChanges","findTypeChanges","findDirectiveChanges","schemaChanges","directivesDiff","diff","oldDirective","removed","DIRECTIVE_REMOVED","newDirective","persisted","argsDiff","newArg","added","REQUIRED_DIRECTIVE_ARG_ADDED","oldArg","DIRECTIVE_ARG_REMOVED","DIRECTIVE_REPEATABLE_REMOVED","location","DIRECTIVE_LOCATION_REMOVED","typesDiff","oldType","TYPE_REMOVED","newType","findEnumTypeChanges","findUnionTypeChanges","findInputObjectTypeChanges","findFieldChanges","findImplementedInterfacesChanges","constructor","TYPE_CHANGED_KIND","typeKindName","fieldsDiff","newField","REQUIRED_INPUT_FIELD_ADDED","OPTIONAL_INPUT_FIELD_ADDED","oldField","FIELD_REMOVED","isSafe","isChangeSafeForInputObjectFieldOrFieldArg","FIELD_CHANGED_KIND","possibleTypesDiff","newPossibleType","TYPE_ADDED_TO_UNION","oldPossibleType","TYPE_REMOVED_FROM_UNION","valuesDiff","newValue","VALUE_ADDED_TO_ENUM","oldValue","VALUE_REMOVED_FROM_ENUM","interfacesDiff","newInterface","IMPLEMENTED_INTERFACE_ADDED","oldInterface","IMPLEMENTED_INTERFACE_REMOVED","findArgChanges","isChangeSafeForObjectOrInterfaceField","ARG_REMOVED","ARG_DEFAULT_VALUE_CHANGE","oldValueStr","stringifyValue","newValueStr","ARG_CHANGED_KIND","REQUIRED_ARG_ADDED","OPTIONAL_ARG_ADDED","oldArray","newArray","oldMap","newMap","oldItem","newItem","l","p","Fragment","StrictMode","Profiler","q","r","t","Suspense","u","v","for","w","y","z","c","encodeURIComponent","A","isMounted","enqueueForceUpdate","enqueueReplaceState","enqueueSetState","B","C","props","refs","updater","D","E","isReactComponent","setState","forceUpdate","F","isPureReactComponent","G","current","H","I","ref","__self","__source","J","d","k","h","g","children","m","defaultProps","$$typeof","_owner","K","L","escape","M","N","O","P","Q","_status","_result","default","R","S","T","ReactCurrentDispatcher","ReactCurrentBatchConfig","transition","ReactCurrentOwner","IsSomeRendererActing","assign","Children","count","toArray","only","Component","PureComponent","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","cloneElement","createContext","_calculateChangedBits","_currentValue","_currentValue2","_threadCount","Provider","Consumer","createElement","createFactory","createRef","forwardRef","render","isValidElement","lazy","_payload","_init","memo","compare","useCallback","useContext","useDebugValue","useEffect","useImperativeHandle","useLayoutEffect","useMemo","useReducer","useRef","useState","createSignalIfSupported","AbortController","controller","signal","getOwnPropertySymbols","propIsEnumerable","propertyIsEnumerable","toObject","val","shouldUseNative","test1","getOwnPropertyNames","test2","fromCharCode","order2","test3","letter","objectAssign","target","symbols","to","ENGINE_COMBINER_AND","ENGINE_COMBINER_IFELSEIF","ENGINE_COMBINER_IFELSEIF_NO_TREATMENT","ENGINE_BUCKET","ENGINE_MATCHER_ALL","ENGINE_MATCHER_BETWEEN","ENGINE_MATCHER_BOOLEAN","ENGINE_MATCHER_CONTAINS_ALL","ENGINE_MATCHER_CONTAINS_ANY","ENGINE_MATCHER_CONTAINS_STRING","ENGINE_MATCHER_DEPENDENCY","ENGINE_MATCHER_DEPENDENCY_PRE","ENGINE_MATCHER_EQUAL","ENGINE_MATCHER_EQUAL_TO_SET","ENGINE_MATCHER_ENDS_WITH","ENGINE_MATCHER_GREATER","ENGINE_MATCHER_LESS","ENGINE_MATCHER_PART_OF","ENGINE_MATCHER_SEGMENT","ENGINE_MATCHER_STRING","ENGINE_MATCHER_STRING_INVALID","ENGINE_MATCHER_STARTS_WITH","ENGINE_MATCHER_WHITELIST","ENGINE_VALUE","ENGINE_SANITIZE","CLEANUP_REGISTERING","CLEANUP_DEREGISTERING","RETRIEVE_CLIENT_DEFAULT","RETRIEVE_CLIENT_EXISTING","RETRIEVE_MANAGER","SYNC_OFFLINE_DATA","SYNC_SPLITS_FETCH","SYNC_SPLITS_NEW","SYNC_SPLITS_REMOVED","SYNC_SPLITS_SEGMENTS","STREAMING_NEW_MESSAGE","SYNC_TASK_START","SYNC_TASK_EXECUTE","SYNC_TASK_STOP","SETTINGS_SPLITS_FILTER","CLIENT_READY_FROM_CACHE","CLIENT_READY","IMPRESSION","IMPRESSION_QUEUEING","NEW_SHARED_CLIENT","NEW_FACTORY","POLLING_SMART_PAUSING","POLLING_START","POLLING_STOP","SYNC_SPLITS_FETCH_RETRY","STREAMING_REFRESH_TOKEN","STREAMING_RECONNECT","STREAMING_CONNECTING","STREAMING_DISABLED","STREAMING_DISCONNECTING","SUBMITTERS_PUSH_FULL_QUEUE","SUBMITTERS_PUSH","SYNC_START_POLLING","SYNC_CONTINUE_POLLING","SYNC_STOP_POLLING","EVENTS_TRACKER_SUCCESS","IMPRESSIONS_TRACKER_SUCCESS","USER_CONSENT_UPDATED","USER_CONSENT_NOT_UPDATED","USER_CONSENT_INITIAL","ENGINE_VALUE_INVALID","ENGINE_VALUE_NO_ATTRIBUTES","CLIENT_NO_LISTENER","CLIENT_NOT_READY","SYNC_MYSEGMENTS_FETCH_RETRY","SYNC_SPLITS_FETCH_FAILS","STREAMING_PARSING_ERROR_FAILS","STREAMING_PARSING_MESSAGE_FAILS","STREAMING_FALLBACK","SUBMITTERS_PUSH_FAILS","SUBMITTERS_PUSH_RETRY","WARN_SETTING_NULL","WARN_TRIMMING_PROPERTIES","WARN_CONVERTING","WARN_TRIMMING","WARN_NOT_EXISTENT_SPLIT","WARN_LOWERCASE_TRAFFIC_TYPE","WARN_NOT_EXISTENT_TT","WARN_INTEGRATION_INVALID","WARN_SPLITS_FILTER_IGNORED","WARN_SPLITS_FILTER_INVALID","WARN_SPLITS_FILTER_EMPTY","WARN_API_KEY","STREAMING_PARSING_MY_SEGMENTS_UPDATE_V2","ERROR_ENGINE_COMBINER_IFELSEIF","ERROR_LOGLEVEL_INVALID","ERROR_CLIENT_LISTENER","ERROR_CLIENT_CANNOT_GET_READY","ERROR_SYNC_OFFLINE_LOADING","ERROR_STREAMING_SSE","ERROR_STREAMING_AUTH","ERROR_IMPRESSIONS_TRACKER","ERROR_IMPRESSIONS_LISTENER","ERROR_EVENTS_TRACKER","ERROR_EVENT_TYPE_FORMAT","ERROR_NOT_PLAIN_OBJECT","ERROR_SIZE_EXCEEDED","ERROR_NOT_FINITE","ERROR_CLIENT_DESTROYED","ERROR_NULL","ERROR_TOO_LONG","ERROR_INVALID_KEY_OBJECT","ERROR_INVALID","ERROR_EMPTY","ERROR_EMPTY_ARRAY","ERROR_INVALID_CONFIG_PARAM","ERROR_HTTP","ERROR_LOCALHOST_MODULE_REQUIRED","ERROR_STORAGE_INVALID","ERROR_NOT_BOOLEAN","ERROR_MIN_CONFIG_PARAM","LOG_PREFIX_SETTINGS","LOG_PREFIX_INSTANTIATION","LOG_PREFIX_ENGINE","LOG_PREFIX_ENGINE_COMBINER","LOG_PREFIX_ENGINE_MATCHER","LOG_PREFIX_ENGINE_VALUE","LOG_PREFIX_SYNC","LOG_PREFIX_SYNC_MANAGER","LOG_PREFIX_SYNC_OFFLINE","LOG_PREFIX_SYNC_STREAMING","LOG_PREFIX_SYNC_SPLITS","LOG_PREFIX_SYNC_MYSEGMENTS","LOG_PREFIX_SYNC_POLLING","LOG_PREFIX_SYNC_SUBMITTERS","LOG_PREFIX_IMPRESSIONS_TRACKER","LOG_PREFIX_EVENTS_TRACKER","LOG_PREFIX_CLEANUP","messageNoFetch","splitHttpClientFactory","settings","getFetch","getOptions","log","authorizationKey","core","runtime","ip","hostname","fetch","reqOpts","latencyTracker","logErrorsAsInfo","request","method","ok","text","catch","resp","msg","status","CONTROL","CONTROL_WITH_CONFIG","treatment","UNKNOWN","SPLIT_IMPRESSION","SPLIT_EVENT","DEBUG","OPTIMIZED","LOCALHOST_MODE","STANDALONE_MODE","PRODUCER_MODE","CONSUMER_MODE","CONSUMER_PARTIAL_MODE","STORAGE_MEMORY","STORAGE_LOCALSTORAGE","CONSENT_GRANTED","CONSENT_DECLINED","CONSENT_UNKNOWN","QUEUED","DROPPED","DEDUPED","STANDALONE_ENUM","CONSUMER_ENUM","CONSUMER_PARTIAL_ENUM","OPTIMIZED_ENUM","DEBUG_ENUM","SPLITS","IMPRESSIONS","IMPRESSIONS_COUNT","EVENTS","TELEMETRY","TOKEN","SEGMENT","MY_SEGMENT","TREATMENT","TREATMENTS","TREATMENT_WITH_CONFIG","TREATMENTS_WITH_CONFIG","TRACK","CONNECTION_ESTABLISHED","OCCUPANCY_PRI","OCCUPANCY_SEC","STREAMING_STATUS","SSE_CONNECTION_ERROR","TOKEN_REFRESH","ABLY_ERROR","SYNC_MODE_UPDATE","AUTH_REJECTION","STREAMING","POLLING","NON_REQUESTED","DISABLED","ENABLED","PAUSED","noCacheHeaderOptions","userKeyToQueryParam","userKey","platform","telemetryTracker","urls","filterQueryString","sync","__splitFiltersValidation","queryString","SplitSDKImpressionsMode","impressionsMode","splitHttpClient","getSdkAPIHealthCheck","sdk","getEventsAPIHealthCheck","events","fetchAuth","userMatchingKeys","auth","queryParams","trackHttp","fetchSplitChanges","since","noCache","till","fetchSegmentChanges","segmentName","fetchMySegments","userMatchingKey","postEventsBulk","postTestImpressionsBulk","postTestImpressionsCount","postMetricsConfig","telemetry","postMetricsUsage","syncTaskFactory","period","taskName","promiseChain","runningArgs","timeoutID","executing","running","runningId","_i","debug","periodicExecute","currentRunningId","isExecuting","stop","isRunning","submitterFactory","postClient","sourceCache","postRate","dataName","fromCacheToPayload","maxRetries","debugLogs","retries","postData","isEmpty","dataCountMessage","jsonPayload","JSON","stringify","firstPushWindowDecorator","submitter","firstPushWindow","stopEventPublisherTimeout","originalStart","originalStop","DATA_NAME","eventsSubmitterFactory","params","eventsPushRate","scheduler","eventsFirstPushWindow","startup","splitApi","storage","setOnFullQueueCb","endsWith","sub","caseInsensitive","isString","iteratee","res","isObject","iterateeResult","findIndex","forOwn","pathPieces","partial_1","pathPiece","isBoolean","isFiniteNumber","isNaNNumber","stringToUpperCase","toUpperCase","merge","rest","nextSource","toNumber","valOf","NEGATIVE_INFINITY","uniq","arr","seen","uniqAsStrings","itemString","fromImpressionsCollector","sendLabels","groupedByFeature","dto","entry","keyImpression","keyName","time","changeNumber","label","bucketingKey","pt","impressionsSubmitterFactory","impressionsRefreshRate","labelsEnabled","impressions","syncTask","fromImpressionCountsCollector","impressionsCount","pf","splitted","featureName","timeFrame","impressionsInTimeframe","rc","IMPRESSIONS_COUNT_RATE","impressionCountsSubmitterFactory","impressionCounts","SDK_SPLITS_ARRIVED","SDK_SPLITS_CACHE_LOADED","SDK_SEGMENTS_ARRIVED","SDK_READY_TIMED_OUT","SDK_READY","SDK_READY_FROM_CACHE","SDK_UPDATE","mode","TRIMMABLE_SPACES_REGEX","validateSplit","maybeSplit","validateSplits","maybeSplits","listName","validatedArray_1","splitName","FILTERS_METADATA","maxLength","queryParam","validateFilterType","maybeFilterType","filterMetadata","validateSplitFilter","queryStringBuilder","groupedFilters","validateSplitFilters","maybeSplitFilters","validFilters","byName","byPrefix","validImpressionsMode","KEY_MAX_LENGTH","validateKeyValue","maybeKey","validateKey","matchingKey","CAPITAL_LETTERS_REGEX","validateTrafficType","maybeTT","base","trafficType","IPAddressesEnabled","featuresRefreshRate","segmentsRefreshRate","telemetryRefreshRate","offlineRefreshRate","eventsQueueSize","impressionsQueueSize","pushRetryBackoffBase","streaming","impressionListener","integrations","streamingEnabled","splitFilters","localhostMode","enabled","fromSecondsToMillis","round","settingsValidation","validationParams","defaults","localhost","consent","withDefaults","validateMinValue","paramName","actualValue","minValue","metricsRefreshRate","requestTimeoutBeforeReady","readyTimeout","acceptKey","acceptTT","splitFiltersValidation","userConsent","validateApiKey","maybeApiKey","apiKey","usedKeysMap","validateAndTrackApiKey","releaseApiKey","timer","st","telemetryCacheStatsAdapter","splits","segments","clear","lS","getLastSynchronization","mL","popLatencies","mE","popExceptions","hE","popHttpErrors","hL","popHttpLatencies","tR","popTokenRefreshes","aR","popAuthRejections","iQ","getImpressionStats","iDe","iDr","spC","getSplitNames","seC","getRegisteredSegments","skC","getKeysCount","sL","getSessionLength","eQ","getEventStats","eD","sE","popStreamingEvents","popTags","OPERATION_MODE_MAP","IMPRESSIONS_MODE_MAP","USER_CONSENT_MAP","getActiveFactories","getRedundantActiveFactories","reduce","acum","getTelemetryConfigStats","storageType","oM","aF","rF","telemetryCacheConfigAdapter","isClientSide","rR","sp","se","ms","im","ev","te","uO","iM","iL","hP","getTimeUntilReady","tC","getTimeUntilReadyFromCache","nR","getNonReadyUsage","int","uC","telemetrySubmitterFactory","_b","readiness","sdkReadinessManager","startTime","gate","once","recordTimeUntilReadyFromCache","incInternalReadyCbCount","recordTimeUntilReady","postMetricsConfigTask","submitterManagerFactory","submitters","impressionCountsSubmitter","telemetrySubmitter","onlyTelemetry","allExceptTelemetry","promises","ControlType","SECONDS_BEFORE_EXPIRATION","PUSH_NONRETRYABLE_ERROR","PUSH_RETRYABLE_ERROR","PUSH_SUBSYSTEM_UP","PUSH_SUBSYSTEM_DOWN","MY_SEGMENTS_UPDATE","MY_SEGMENTS_UPDATE_V2","SEGMENT_UPDATE","SPLIT_KILL","SPLIT_UPDATE","OCCUPANCY","isConsentGranted","syncManagerOnlineFactory","pollingManagerFactory","pushManagerFactory","syncEnabled","pollingManager","pushManager","submitterManager","startPolling","streamingEvent","stopPollingAndSyncAll","syncAll","on","startFirstTime","shared","readinessManager","mySegmentsSyncTask","usesSegments","Backoff","cb","baseMillis","maxMillis","__TEST__BASE_MILLIS","DEFAULT_BASE_MILLIS","__TEST__MAX_MILLIS","DEFAULT_MAX_MILLIS","attempts","scheduleCall","delayInMillis","pow","reset","errorParser","parsedData","messageParser","messageData","CONTROL_CHANNEL_REGEXS","STREAMING_EVENT_TYPES","notificationKeeperFactory","pushEmitter","channels","regex","hasPublishers","oTime","cTime","hasResumed","getHasPublishers","handleOpen","emit","isStreamingUp","handleOccupancyEvent","publishers","channel","timestamp","hasPublishersNow","handleControlEvent","controlType","STREAMING_RESET","STREAMING_PAUSED","STREAMING_RESUMED","SSEHandlerFactory","notificationKeeper","isRetryableError","handleError","errorWithParsedData","handleMessage","messageWithParsedData","metrics","MySegmentsUpdateWorker","isHandlingEvent","_segmentsData","maxChangeNumber","currentChangeNumber","handleNewEvent","backoff","__handleMySegmentsUpdateCall","currentMaxChangeNumber_1","max","put","segmentsData","FETCH_BACKOFF_BASE","FETCH_BACKOFF_MAX_WAIT","FETCH_BACKOFF_MAX_RETRIES","SegmentsUpdateWorker","segmentsSyncTask","segmentsCache","SegmentUpdateWorker","segment","cdnBypass","__handleSegmentUpdateCall","getChangeNumber","SplitsUpdateWorker","splitsCache","splitsSyncTask","splitsEventEmitter","__handleSplitUpdateCall","killSplit","defaultTreatment","killLocally","chars","decodeFromBase64","output","bc","bs","idx","charAt","encodeToBase64","charCode","decodeJWTtoken","base64Url","base64","decodeURIComponent","encodeUTF8","src","dst","cp","UTF16toUTF8","c1","c2","encodeUTF16toUTF8","stringFromCharCode","stringSource","stringDestination","cs","ps","UTF16ToUTF8","sd","x86Multiply","x86Rotl","x86Fmix","hash32","seed","remainder","bytes","h1","k1","bucket","abs","authenticateFactory","userKeys","json","decodedToken","iat","exp","hashUserKey","VERSION","CONTROL_CHANNEL_REGEX","buildSSEHeaders","SplitSDKClientKey","SplitSDKVersion","Compression","UpdateStrategy","SSEClient","useHeaders","getEventSource","eventSource","streamingUrl","setEventHandler","handler","open","authToken","close","channelsQueryParam","connection","addEventListener","getMatching","getBucketing","keyParser","algorithms","Uint8Array","Uint16Array","Uint32Array","u8","u16","u32","fleb","fdeb","clim","freb","eb","fl","revfl","fd","rev","hMap","cd","mb","co","le","rvb","sv","r_1","flt","fdt","flrm","fdrm","bits","o","bits16","shft","slc","subarray","ec","ind","nt","captureStackTrace","inflt","dat","buf","sl","noBuf","noSt","cbuf","bl","nbuf","final","pos","bt","lm","dm","lbt","dbt","tbts","hLit","hcLen","tl","ldt","clt","clb","clbmsk","clm","lt","dt","lms","dms","lpos","sym","dsym","gzs","flg","zs","gzl","zlv","gunzipSync","out","unzlibSync","GZIP","ZLIB","Uint8ArrayToString","myUint8Arr","StringToUint8Array","myString","charCodes","decompress","compression","compressData","binData","parseKeyList","binKeyList","strKeyList","parseBitmap","isInBitmap","bitmap","hash64hex","internal","offset","SetPoly","__setData__","callbackfn","thisArg","defineProperty","enumerable","configurable","setToArray","__getSetConstructor","_Set","_x64Add","_x64Multiply","_x64Rotl","_x64LeftShift","_x64Xor","_x64Fmix","hash128x64","h2","k2","hash128","hex2dec","carry","digits","unshift","hex","dec","sseClient","authenticate","EventEmitter","sseHandler","disconnected","disabled","timeoutIdTokenRefresh","timeoutIdSseOpen","segmentsUpdateWorker","splitsUpdateWorker","userKeyHashes","clients","connectForNewClient","connectPushRetryBackoff","connectPush","scheduleTokenRefreshAndSse","authData","refreshTokenDelay","connDelay","pushEnabled","disconnectPush","stopWorkers","worker","userKeyHash","includesPayload","segmentList","BoundedFetchRequest","bitmap_1","hash64","KeyList","added_1","removed_1","keyList","SegmentRemoval","hash","mySegmentsFetcherFactory","decorator","mySegmentsPromise","mySegments","promise","tid","mySegmentsUpdaterFactory","mySegmentsFetcher","mySegmentsCache","segmentsEventEmitter","retriesOnFailureBeforeReady","readyOnAlreadyExistentState","startingUp","_promiseDecorator","updateSegments","shouldNotifyUpdate","resetSegments","name_1","isInSegment","addToSegment","removeFromSegment","_mySegmentsUpdater","retry","updaterPromise","mySegmentsSyncTaskFactory","splitChangesFetcherFactory","splitsPromise","checkAllSegmentsExist","registeredSegments","segmentNames","changeNumbers","parseSegments","conditions","matchers","matcherGroup","matcher","matcherType","userDefinedSegmentMatcherData","computeSplitsMutation","computed","accum","splitChangesUpdaterFactory","splitChangesFetcher","_splitChangesUpdater","fetcherPromise","splitChanges","setChangeNumber","addSplits","removeSplits","registerSegments","splitsArrived","emitSplitsArrivedEvent","checkCache","isCacheReady","sincePromise","splitsSyncTaskFactory","pollingManagerCSFactory","mySegmentsSyncTasks","startMySegmentsSyncTasks","stopMySegmentsSyncTasks","smartReady","splitsHaveSegments","ImpressionsCacheInMemory","maxQueue","queue","onFullQueue","track","toMerge","DEDUP_WINDOW_SIZE_MS","truncateTimeFrame","timestampInMs","ImpressionCountsCacheInMemory","cache","_makeKey","amount","currentAmount","MAX_QUEUE_BYTE_SIZE","EventsCacheInMemory","queueByteSize","_checkForFlush","everythingAtTheEnd","DEFAULT_PREFIX","validatePrefix","KeyBuilder","buildTrafficTypeKey","buildSplitKey","buildSplitsTillKey","isSplitKey","buildSplitKeyPrefix","buildSplitsWithSegmentCountKey","buildSegmentNameKey","buildSegmentTillKey","extractKey","builtKey","match","KeyBuilderCS","regexSplitsCacheKey","RegExp","extractSegmentName","builtSegmentKeyName","substr","buildOldSegmentNameKey","extractOldSegmentKey","buildLastUpdatedKey","isSplitsCacheKey","buildSplitsFilterQueryKey","isLocalStorageAvailable","mod","localStorage","setItem","removeItem","AbstractSplitsCacheSync","keyValuePair","addSplit","names","removeSplit","getSplits","getSplit","getAll","parsedSplit","killed","newSplit","LOG_PREFIX","DEFINED","SplitsCacheInLocal","expirationTimestamp","cacheReadyButNeedsToFlush","_checkExpiration","_checkFilterQuery","_decrementCount","getItem","_decrementCounts","trafficTypeName","ttKey","segmentsCountKey","_incrementCounts","len","cur","hasSync","splitKey","splitFromLocalStorage","previousSplit","updateNewFilter","queryKey","trafficTypeExists","ttCount","storedCount","splitsWithSegmentsCount","currentQueryString","AbstractSegmentsCacheSync","MySegmentsCacheInLocal","segmentKey","isDiff","storedSegmentNames","newSegmentKey","MySegmentsCacheInMemory","segmentCache","storedSegmentKeys","SplitsCacheInMemory","ttCache","splitFromMemory","previousTtName","ttName","GOOGLE_ANALYTICS_TO_SPLIT","SPLIT_TO_GOOGLE_ANALYTICS","DEFAULT_CACHE_EXPIRATION_IN_MILLIS","MIN","MAX","BASE","findLatencyIndex","latencyInMs","ceil","MAX_STREAMING_EVENTS","MAX_TAGS","newBuckets","ACCEPTANCE_RANGE","shouldRecordTelemetry","random","TelemetryCacheInMemory","notReadyUsage","impressionStats","eventStats","lastSync","httpErrors","httpLatencies","authRejections","tokenRefreshes","streamingEvents","tags","exceptions","latencies","timeUntilReady","timeUntilReadyFromCache","recordNonReadyUsage","recordImpressionStats","recordEventStats","recordSuccessfulSync","resource","timeMs","recordHttpError","recordHttpLatency","latencyMs","recordAuthRejections","recordTokenRefreshes","recordStreamingEvents","addTag","tag","sessionLength","recordSessionLength","recordException","recordLatency","InMemoryStorageCSFactory","optimize","destroy","InLocalStorage","InLocalStorageCSFactory","childKeysBuilder","thenable","validateIfNotDestroyed","isDestroyed","validateIfOperational","isReadyFromCache","SPLIT_KILLED","NO_CONDITION_MATCH","SPLIT_NOT_FOUND","SDK_NOT_READY","EXCEPTION","SPLIT_ARCHIVED","NOT_IN_SPLIT","validateSplitExistance","labelOrSplitObj","collectTreatments","splitObject","allTreatmentsCondition","cond","conditionType","partitions","objectToView","treatments","configs","configurations","objectsToViews","jsons","views","view","sdkStatus","SPLIT_FN_LABEL","maybeSplitName","currentSplits","splitNames","AttributesCacheInMemory","attributesCache","setAttribute","attributeName","attributeValue","getAttribute","setAttributes","attributes","removeAttribute","validateAttribute","attributeKey","isStringVal","isFiniteVal","isBoolVal","isArrayVal","validateAttributes","maybeAttrs","validateAttributesDeep","maybeAttributes","clientAttributesDecoration","client","attributeStorage","clientGetTreatment","getTreatment","clientGetTreatmentWithConfig","getTreatmentWithConfig","clientGetTreatments","getTreatments","clientGetTreatmentsWithConfig","getTreatmentsWithConfig","clientTrack","combineAttributes","maybeEvent","maybeEventValue","maybeProperties","storedAttributes","attribute","getAttributes","clearAttributes","clientCSDecorator","clientCS","matcherTypes","UNDEFINED","ALL_KEYS","IN_SEGMENT","WHITELIST","EQUAL_TO","GREATER_THAN_OR_EQUAL_TO","LESS_THAN_OR_EQUAL_TO","BETWEEN","EQUAL_TO_SET","CONTAINS_ANY_OF_SET","CONTAINS_ALL_OF_SET","PART_OF_SET","ENDS_WITH","STARTS_WITH","CONTAINS_STRING","IN_SPLIT_TREATMENT","EQUAL_TO_BOOLEAN","MATCHES_STRING","matcherDataTypes","NUMBER","SET","DATETIME","NOT_SPECIFIED","matcherTypesMapper","segmentTransform","whitelistTransform","whitelistObject","whitelist","setTransform","numericTransform","unaryNumericObject","zeroSinceHH","millisSinceEpoch","setUTCHours","zeroSinceSS","setUTCSeconds","matchersTransform","parsedMatchers","negate","keySelector","segmentObject","whitelistMatcherData","unaryNumericMatcherData","betweenObject","betweenMatcherData","dependencyObject","dependencyMatcherData","booleanMatcherData","stringMatcherData","dataType","Treatments","ranges","RangeError","_ranges","_treatments","inc","getTreatmentFor","range","allMatcherContext","runtimeAttr","segmentMatcherContext","whitelistMatcherContext","ruleAttr","isInWhitelist","equalToMatcherContext","isEqual","greaterThanEqualMatcherContext","isGreaterEqualThan","lessThanEqualMatcherContext","isLessEqualThan","betweenMatcherContext","ruleVO","isBetween","equalToSetMatcherContext","_loop_1","containsAnySetMatcherContext","containsAny","containsAllSetMatcherContext","containsAll","partOfSetMatcherContext","isPartOf","endsWithMatcherContext","strEndsWith","startsWithMatcherContext","matches","containsStringMatcherContext","contains","dependencyMatcherContext","checkTreatment","evaluation","acceptableTreatments","splitEvaluator","booleanMatcherContext","booleanMatches","stringMatcherContext","re","regexMatches","matcherFactory","matcherDto","matcherFn","sanitizeNumber","sanitizeString","valueToSanitize","sanitizeArray","sanitizeBoolean","lowerCaseValue","toLocaleLowerCase","dependencyProcessor","sanitizedValue","getProcessingFunction","matcherTypeID","sanitize","processor","sanitizeValue","valueToMatch","_bucket","shouldApplyRollout","trafficAllocation","trafficAllocationSeed","matchingResult","conditionContext","matcherEvaluator","ifElseIfCombinerContext","predicates","unexpectedInputHandler","computeTreatment","predicateResults","ifElseIfCombiner","evaluator","andCombinerContext","andResults","hasMatchedAll","matcherResults","parser","expressions","evaluationResult","Engine","baseInfo","splitFlatStructure","getKey","parsedKey","isGarbage","treatmentException","treatmentsException","evaluations","evaluateFeature","stringifiedSplit","getEvaluation","evaluateFeatures","stringifiedSplits","getEvaluations","splitJSON_1","split_1","thenables","logTTExistanceWarning","validateTrafficTypeExistance","isValid","clientFactory","impressionsTracker","eventTracker","withConfig","stopTelemetryTracker","trackEval","wrapUp","processEvaluation","evaluationResults","invokingMethodName","isSdkReady","feature","eventTypeId","properties","eventData","EVENT_TYPE_REGEX","validateEvent","validateEventValue","maybeValue","ECMA_SIZES","MAX_PROPERTIES_AMOUNT","MAX_EVENT_SIZE","BASE_EVENT_SIZE","validateEventProperties","clone","isNullVal","shouldAddPt","shouldBeOptimized","isStorageSync","clientInputValidationDecorator","isSync","validateEvaluationParams","maybeSplitOrSplits","methodName","multi","splitOrSplits","isOperational","valid","wrapResult","res_1","res_2","tt","eventValue","sdkClientFactory","isSharedClient","syncManager","signalListener","buildInstanceId","sdkClientMethodCSFactory","mainClientInstance","parsedDefaultKey","defaultInstanceId","clientInstances","validTrafficType","validKey","instanceId","sharedSdkReadiness_1","sharedStorage","sharedSyncManager","MapPoly","__mapKeysData__","__mapValuesData__","__getMapConstructor","_Map","Node","LinkedList","tail","head","removeNode","unshiftNode","LRUCache","maxSize","maxLen","lru","last","ImpressionObserver","hasher","testAndSet","impression","previous","buildKey","hashImpression32","LAST_SEEN_CACHE_SIZE","impressionObserverCSFactory","pluggableIntegrationsManagerFactory","listeners","integrationFactory","integration","handleImpression","impressionData","listener","handleEvent","logPrefix","logNameMapper","providePlugin","window","pluginName","pluginConstructor","autoRequire","gaAlias","GoogleAnalyticsObject","defaultMapping","social","timing","eventProperties","pageview","screenview","exception","mapperBuilder","mapping","model","hitType","defaultMapper","defaultPrefix","validateIdentities","identities","uniqueIdentities","identity","validateEventData","INVALID_PREFIX_REGEX","INVALID_SUBSTRING_REGEX","fixEventTypeId","fixed","truncated","GaToSplit","sdkOptions","coreSettings","defaultOptions","SplitTracker","tracker","pluginOptions","opts","validIdentities","invalids","originalSendHitTask","hits","mapper","GoogleAnalyticsToSplit","GoogleAnalyticsToSplitFactory","noGaWarning","noHit","SplitToGa","trackerNames","defaultTrackerNames","getGa","eventCategory","eventAction","eventLabel","nonInteraction","validateFieldsObject","fieldsObject","ga","fieldsObject_1","trackerName","sendCommand","splitHit","SplitToGoogleAnalytics","SplitToGoogleAnalyticsFactory","integrationFactories","integrationOptions","__InLocalStorageMockFactory","promiseWrapper","customPromise","defaultOnRejected","hasOnFulfilled","hasOnRejected","chain","newPromise","rej","originalThen","onfulfilled","onrejected","splitsEventEmitterFactory","splitsCacheLoaded","isSplitKill","segmentsEventEmitterFactory","segmentsArrived","readinessManagerFactory","checkIsReadyFromCache","readyTimeoutId","hasTimedout","checkIsReadyOrUpdate","refCount","removeAllListeners","NEW_LISTENER_EVENT","REMOVE_LISTENER_EVENT","sdkReadinessManagerFactory","internalReadyCbCount","readyCbCount","readyPromise","generateReadyPromise","Event","ready","__getStatus","impressionsTrackerFactory","impressionsCache","integrationsManager","observer","countsCache","telemetryCache","impressionsToStore","sdkLanguageVersion","logImpression","eventTrackerFactory","eventsCache","queueEventsCallback","tracked","eventDataCopy","telemetryTrackerFactory","startTime_1","evalTime","httpTime","noopTrack","LogLevels","INFO","WARN","ERROR","NONE","LogLevelIndexes","isLogLevelString","lvl","_sprintf","format","logLevel","showLevel","Logger","codes","setLogLevel","_shouldLog","_log","level","formattedText","_generateLogMessage","console","textPre","createLoggerAPI","enable","disable","LogLevel","metadataBuilder","sdkFactory","storageFactory","splitApiFactory","extraProps","syncManagerFactory","SignalListener","impressionsObserverFactory","integrationsManagerFactory","sdkManagerFactory","sdkClientMethodFactory","storageFactoryParams","onReadyCb","metadata","ctx","clientMethod","managerInstance","manager","ConsentStatus","GRANTED","DECLINED","createUserConsentAPI","setStatus","newConsentStatus","getStatus","Status","validateRuntime","codesError","codesWarn","READY_MSG","codesInfo","codesDebug","getLogLevel","debugValue","allCodes","LS_KEY","ENV_VAR_KEY","initialState","isNode","initialLogLevel","validateLogger","parseCondition","combiner","hasTreatmentChanged","splitsParserFromSettingsFactory","previousMock","mockUpdated","currentData","newTreatment","changed","features","splitObjects","fromObjectUpdaterFactory","splitsParser","loadError","splitsMock","cacheReady","fromObjectSyncTaskFactory","syncManagerOfflineFactory","splitsParserFactory","localhostFromObject","LocalhostFromObject","userConsentValues","validateConsent","packageVersion","validateStorage","__originalType","_c","fallbackToMemory","validateIntegrations","integrationValidator","extraWarning","validIntegrations","validateConfigurableIntegrations","validIntegrationTypes","settingsFactory","ReflectOwnKeys","Reflect","ReflectApply","receiver","Function","ProcessEmitWarning","warning","ownKeys","NumberIsNaN","init","_events","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","_getMaxListeners","that","_addListener","prepend","existing","newListener","warned","emitter","onceWrapper","fired","removeListener","wrapFn","_onceWrap","state","wrapped","_listeners","unwrap","evlistener","unwrapListeners","arrayClone","listenerCount","copy","spliceOne","ret","setMaxListeners","getMaxListeners","doError","er","addListener","prependListener","prependOnceListener","position","originalListener","shift","off","rawListeners","eventNames","XMLHttpRequest","statusText","responseURL","responseText","blob","Blob","onload","getAllResponseHeaders","onerror","withCredentials","credentials","setRequestHeader","EventSource","VISIBILITYCHANGE_EVENT","PAGEHIDE_EVENT","UNLOAD_EVENT","EVENT_NAME","BrowserSignalListener","serviceApi","flushData","flushDataIfHidden","stopSync","removeEventListener","eventsUrl","extraMetadata","sim","_flushData","telemetryUrl","telemetryCacheAdapter","visibilityState","postService","dataPayload","_sendBeacon","navigator","sendBeacon","nowFactory","performance","syncManagerOnlineCSFactory","getStorage","getModules","modules","UserConsent","SplitFactory","__updateModules","NATIVE_SYMBOL","sham","isCallable","$TypeError","pref","ObservableQuery","queryManager","queryInfo","subObserver","_subscription","_observer","defaultSubscriptionObserverErrorCallback","first","observers","reobserve","tearDownQuery","subscriptions","isTornDown","watchQuery","_d","fetchPolicy","defaultFetchPolicy","_f","initialFetchPolicy","queryId","generateQueryId","opDef","queryName","transform","removeQuery","unsubscribe","getCurrentResult","saveAsLastResult","lastResult","getLastResult","networkStatus","loading","hasForcedResolvers","getDiff","complete","returnPartialData","partial","__DEV__","partialRefetch","logMissingFieldErrors","missing","updateLastResult","isDifferentFromLastResult","newResult","getLast","variablesMustMatch","getLastError","resetLastResults","resetQueryStoreErrors","resetErrors","refetch","reobserveOptions","pollInterval","queryDef","vars","resetLastWrite","fetchMore","fetchMoreOptions","combinedOptions","qid","originalNetworkStatus","notifyOnNetworkStatusChange","observe","updatedQuerySet","fetchQuery","fetchMoreResult","batch","update","updateQuery","optimistic","writeQuery","onWatchUpdated","watch","finally","reobserveCacheFirst","subscribeToMore","startGraphQLSubscription","subscriptionData","setOptions","newOptions","setVariables","mapFn","broadcastQueries","updatePolling","stopPolling","applyNextFetchPolicy","nextFetchPolicy","observable","newNetworkStatus","setObservableQuery","fetchQueryObservable","ssrMode","pollingInfo","interval","maybeFetch","poll","assumeImmutableResults","useDisposableConcast","oldVariables","oldFetchPolicy","mergedOptions","concast","reportResult","removeObserver","addObserver","lastError","errorResult","hasObservers","stopQuery","obsQuery","stack","HOOK_SETUP","HOOK_PLUGIN_SETTINGS_SET","plugin","hook","targetQueue","onQueue","defaultSettings","id","localSettingsSaveId","currentSettings","raw","fallbacks","pluginId","setSettings","proxiedOn","Proxy","_target","proxiedTarget","setupDevtoolsPlugin","pluginDescriptor","setupFn","descriptor","enableProxy","enableEarlyProxy","__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__","proxy","__VUE_DEVTOOLS_PLUGINS__","MAX_ARRAY_LENGTH","MAX_RECURSIVE_DEPTH","formatValue","seenValues","formatObjectValue","previouslySeenValues","isJSONable","jsonValue","formatArray","formatObject","getObjectTag","remaining","definePropertyModule","makeBuiltIn","defineGlobalProperty","simple","global","unsafe","nonConfigurable","writable","nonWritable","withoutGraphQLFetch","excludeGraphQLFetch","SentryLink","SentryLink_1","excludeGraphQLFetch_1","uncurryThis","fails","$Object","it","condition","booleanCondition","defaultDispose","Cache","dispose","Infinity","newest","oldest","getNode","older","newer","clean","parentEntrySlot","collection","maybeUnsubscribe","entryOrDep","emptySetPool","POOL_TARGET_SIZE","assert","optionalMessage","valueIs","valueGet","valueCopy","Entry","parents","childValues","dirtyChildren","dirty","recomputing","deps","peek","mightBeDirty","rememberParent","recompute","reallyRecompute","setDirty","reportDirty","forgetChildren","eachParent","child","forgetChild","forget","dependOn","dep","forgetDeps","reportDirtyChild","reportCleanChild","withValue","recomputeNewValue","maybeSubscribe","setClean","reportClean","parentCount","parentWasClean","childValue","removeDirtyChild","dc","_value","EntryMethods","depsByKey","depend","dep_1","entryMethodName","m_1","makeDefaultMakeCacheKeyFunction","keyTrie","lookupArray","caches","wrap","originalFunction","keyArgs","makeCacheKey","hasValue","dirtyKey","peekKey","forgetKey","ApolloCache","getFragmentDoc","updateResult","optimisticId","performTransaction","recordOptimisticTransaction","transaction","transformDocument","identify","gc","modify","transformForLink","readQuery","read","rootId","readFragment","write","dataId","writeFragment","updateFragment","createClientReportEnvelope","discarded_events","dsn","clientReportItem","_metadata","packages","sendClientReports","_flushOutcomes","hint","_options","stackParser","attachStacktrace","breadcrumbIntegration","getIntegrationById","sentry","addBreadcrumb","event_id","sendEvent","scope","_prepareEvent","outcomes","_clearOutcomes","_dsn","tunnel","isRealNavigator","hasSendBeacon","transportOptions","_sendEnvelope","objectToString","isError","wat","isInstanceOf","isBuiltin","className","isErrorEvent","isDOMError","isDOMException","isPrimitive","isPlainObject","isEvent","isElement","Element","isRegExp","isThenable","isSyntheticEvent","makeSession","startingTime","session","sid","started","duration","ignoreDuration","sessionToJSON","updateSession","user","ipAddress","ip_address","did","email","username","release","environment","userAgent","closeSession","toISOString","attrs","user_agent","DESCRIPTORS","propertyIsEnumerableModule","createPropertyDescriptor","toIndexedObject","toPropertyKey","hasOwn","IE8_DOM_DEFINE","$getOwnPropertyDescriptor","getOwnPropertyDescriptor","waitWindowLoad","isLocalhost","register","swUrl","hooks","registrationOptions","checkValidServiceWorker","serviceWorker","registration","registerValidSW","onLine","waiting","onupdatefound","installingWorker","installing","onstatechange","unregister","toPromise","docCache","fragmentSourceMap","printFragmentWarnings","experimentalFragmentVariables","normalize","string","cacheKeyFromLoc","loc","substring","processFragments","seenKeys","fragmentDefinition","sourceKey","sourceKeySet","stripLoc","workSet","startToken","endToken","parseDocument","cacheKey","parsed","gql","literals","resetCaches","disableFragmentWarnings","enableExperimentalFragmentVariables","disableExperimentalFragmentVariables","extras","gql_1","uid","USE_SYMBOL_AS_UID","WellKnownSymbolsStore","symbolFor","createWellKnownSymbol","withoutSetter","DELETE","delModifier","INVALIDATE","EntityStore","policies","rootIds","getFieldValue","objectOrReference","storeFieldName","maybeDeepFreeze","__ref","canRead","objOrRef","toReference","objOrIdOrRef","mergeIntoStore","lookup","storeObject","rootTypenamesById","dependOnExistence","incoming","merged","storeObjectReconciler","caching","fieldsToDirty_1","__exists","hasKeyArgs","changedFields_1","needToMerge_1","allDeleted_1","sharedDetails_1","isReference","readField","fieldNameOrOptions","store","getStoreFieldName","evict","evicted","extract","extraRootIds","getRootIdSet","__META","newData","rest_1","retain","ids","snapshot","findChildRefIds","idsToRemove","root_1","found_1","root","workSet_1","keyMaker","CacheGroup","resetCaching","canUse","makeDepKey","maybeDependOnExistenceOfEntity","entityId","supportsResultCaching","Root","resultCaching","stump","storageTrie","addLayer","layerId","replay","removeLayer","Layer","ownStoreObject","parentStoreObject","fromParent","Stump","existingObject","incomingObject","existingValue","incomingValue","execSelectionSetKeyArgs","canonizeResults","StoreReader","knownResults","compact","addTypename","canon","executeSelectionSet","peekArgs","other","admit","enclosingRef","execSelectionSetImpl","resultCacheMaxSize","varString","executeSubSelectedArray","execSubSelectedArrayImpl","resetCanon","diffQueryAgainstStore","rootRef","execResult","fragmentMap","firstMissing","isFresh","latest","isKnown","empty","objectsToMerge","missingMerger","handleMissing","resultName","rootIdsByTypename","pass","fragmentMatches","mergeDeep","finalResult","frozen","childResult","assertSelectionSetForIdValue","tree","_","stringifyForDisplay","undefId","makeUniqueId","specifierInfoCache","lookupSpecifierInfo","spec","keyFieldsFnFromSpecifier","specifier","keyFieldsFn","keyObject","collectSpecifierPaths","schemaKeyPath","extracted","extractKeyPath","keyArgsFnFromSpecifier","keyArgsFn","keyPath","firstKey","firstChar","varKeyPath","directiveName_1","suffix","extractor","merger","getSpecifierPaths","paths","paths_1","currentPath_1","reducer","argsFromFieldSpecifier","setStringify","nullKeyFieldsFn","simpleKeyArgsFn","mergeTrueFn","mergeObjects","mergeFalseFn","Policies","typePolicies","toBeAdded","supertypeMap","fuzzySubtypes","usingPossibleTypes","dataIdFromObject","setRootTypename","addPossibleTypes","addTypePolicies","partialContext","ROOT_QUERY","normalizeReadFieldOptions","policy","getTypePolicy","specifierOrId","updateTypePolicy","keyFields","setMerge","getFieldPolicy","which","old","supertype","getSupertypeSet","subtype","policy_1","supertypes","inbox","createIfMissing","fieldPolicies","supertypeSet","typenameSupertypeSet","workQueue_1","maybeEnqueue_1","needToCheckFuzzySubtypes","checkingFuzzySubtypes","regExp","fuzzyString","fieldSpec","specifierOrString","nameOrField","readOptions","makeFieldFunctionOptions","getReadFunction","getMergeFunction","parentTypename","childTypename","runMergeFunction","makeMergeObjectsFunction","overwrite","readFieldArgs","argc","eType","iType","typesDiffer","getContextFlavor","clientOnly","deferred","flavored","flavors","StoreWriter","reader","writeToStore","operationDefinition","written","incomingById","processSelectionSet","mergeTree","fieldNodeSet","entityRef","applied","applyMerges","fieldsWithSelectionSets_1","hasSelectionSet_1","hasMergeFunction_1","childTree","warnAboutDataLoss","result_1","flattenFields","resultFieldKey","getChildMergeTree","processFieldValue","maybeRecycleChildMergeTree","dataRef","sets","previous_1","mergeMergeTrees","mergeTreeIsEmpty","cloneDeep","limitingTrie","flatten","inheritedContext","visitedNode","visited","dir","getStorageArgs","e_1","i_1","getValue_1","eVal","iVal","aVal","emptyMergeTreePool","left","right","needToMergeMaps","remainingRightKeys_1","leftTree","warnings","existingRef","incomingObj","getChild","typeDotName","childTypenames","InMemoryCache","watches","typenameDocumentCache","makeVar","txCount","rootStore","optimisticData","resetResultCache","resetResultIdentities","previousReader","storeReader","storeWriter","maybeBroadcastWatch","broadcastWatch","restore","broadcast","broadcastWatches","immediate","discardWatches","removeOptimistic","idToRemove","newOptimisticData","perform","layer","alreadyDirty","lastDiff","fromOptimisticTransaction","stringifyObjectKeys","stringified","process","Deno","versions","v8","EXISTS","_process","regexp","repeat","parsedRepeat","password","positive","not","symbol","is","letters","uppercase","characterIndex","upperCaseLetters","currentLetter","lowercase","lowerCaseLetters","spaces","oneOf","fromPromise","PREFIX","CONSOLE_LEVELS","consoleSandbox","originalConsole","wrappedLevels","originalWrappedFunc","__sentry_original__","makeLogger","dedentBlockStringLines","lines","_firstNonEmptyLine2","commonIndent","MAX_SAFE_INTEGER","firstNonEmptyLine","lastNonEmptyLine","_firstNonEmptyLine","line","indent","leadingWhitespace","isPrintableAsBlockString","isEmptyLine","hasIndent","hasCommonIndent","seenNonEmptyLine","codePointAt","printBlockString","escapedValue","isSingleLine","forceLeadingNewLine","hasTrailingTripleQuotes","hasTrailingQuote","hasTrailingSlash","forceTrailingNewline","printAsMultipleLines","skipLeadingNewLine","maybe","validSeverityLevels","severityLevelFromString","parseUrl","host","protocol","relative","BREADCRUMB_INTEGRATION_ID","__init","dom","history","xhr","_consoleBreadcrumb","_domBreadcrumb","_xhrBreadcrumb","_fetchBreadcrumb","_historyBreadcrumb","_innerDomBreadcrumb","handlerData","keyAttrs","serializeAttribute","breadcrumb","endTimestamp","__sentry_own_request__","status_code","__sentry_xhr__","fetchData","parsedLoc","href","parsedFrom","parsedTo","__initStatic","$includes","addToUnscopables","BROKEN_ON_SPARSE","proto","forced","el","__importDefault","__esModule","validatePhoneISO3166","findCountryPhoneDataByPhoneNumber","findPossibleCountryPhoneData","findExactCountryPhoneData","findCountryPhoneDataByCountry","country_phone_data_1","country","countryPhoneDatum","alpha2","alpha3","country_name","phoneNumber","validateMobilePrefix","phoneNumberLengthMatched","phone_number_lengths","country_code","mobile_begin_with","beginWith","exactCountryPhoneData","possibleCountryPhoneData","phone","plusSign","phoneWithoutCountry","isLengthValid","isBeginWithValid","Observable","filterInPlace","elem","TYPENAME_FIELD","op","nullIfDocIsEmpty","getDirectiveMatcher","removeDirectivesFromDocument","variablesInUse","variablesToRemove","fragmentSpreadsInUse","fragmentSpreadsToRemove","modifiedDoc","Variable","shouldRemoveField","getAllFragmentSpreadsFromSelectionSet","FragmentSpread","removeArgumentsFromDocument","fs","removeFragmentSpreadFromDocument","addTypenameToDocument","SelectionSet","lastIndexOf","connectionRemoveConfig","willRemove","removeConnectionDirectiveFromDocument","getArgumentMatcher","aConfig","argMatcher","argMatchCount_1","Argument","allFragments","buildQueryFromSelectionSet","definitionOperation","removeClientSetsFromDocument","isTypenameOnly","createNonEnumerableProperty","defineBuiltIn","copyConstructorProperties","isForced","FORCED","targetProperty","sourceProperty","TARGET","GLOBAL","STATIC","stat","dontCallGetSet","MissingFieldError","unwrapObj","ignoreKeys","isFunction","isProxy","callRule","siblingState","instance","normalizeValidatorResponse","$valid","createAsyncResult","$pending","$dirty","$response","$lazy","$rewardEarly","watchTargets","$lastInvalidState","$lastCommittedOn","$invalid","$pendingCounter","$unwatch","ruleResult","deep","createSyncResult","returnValue","createValidatorResult","validatorName","propertyKey","propertyPath","$params","$async","$validator","$watchTargets","$message","$model","$propertyPath","$property","sortValidations","validationsRaw","validations","validationKeys","nestedValidators","_empty","ROOT_PATH","_call","direct","_callIgnored","_invoke","_async","createValidationResults","resultsCache","externalResults","ruleKeys","cachedResult","$partial","$path","$touch","$reset","$commit","ruleKey","$externalResults","stringError","$uid","$error","$silentErrors","$errors","collectNestedValidationResults","nestedState","nestedExternalResults","nestedValidationKeys","nestedKey","setValidations","parentKey","globalConfig","createMetaFields","nestedResults","childResults","allResults","allRes","modelErrors","nestedErrors","$anyDirty","nr","$validate","mergedConfig","unwatch","cachedExternalResults","external","$getResultsForChild","$clearExternalResults","$autoDirty","ResultsStorage","storedRules","storedRulesKeys","newRulesKeys","hasAllValidators","paramKey","storedRuleResultPair","isValidCache","checkRulesValidity","CollectFlag","COLLECT_ALL","COLLECT_NONE","VuelidateInjectChildResults","VuelidateRemoveChildResults","nestedValidations","$scope","childResultsRaw","childResultsKeys","injectChildResultsIntoParent","$registerAs","childScope","$stopPropagation","removeChildResultsFromParent","childKey","__vuelidateInjectInstances","__vuelidateRemoveInstances","sendValidationResultsToParent","removeValidationResultsFromParent","ComputedProxyFactory","useVuelidate","currentVueInstance","componentOptions","$options","_uid","validationResults","vuelidateExternalResults","validationsConfig","validationsWatchTarget","newValidationRules","aCallable","V","func","inverted","msgList","negativeMessages","positiveMessages","pluralify","pattern","getBuiltIn","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","anObject","SHARED","WINDOW","supportsFetch","Headers","Request","Response","isNativeFetch","supportsNativeFetch","sandbox","hidden","appendChild","contentWindow","removeChild","supportsHistory","chrome","isChromePackagedApp","app","hasHistoryApi","pushState","replaceState","HttpContext","getIntegration","referrer","Referer","IndexedObject","requireObjectCoercible","getSdkMetadataForEnvelopeHeader","enhanceEventWithSdkInfo","sdkInfo","createSessionEnvelope","envelopeHeaders","sent_at","envelopeItem","createEventEnvelope","eventType","createEventEnvelopeHeaders","sdkProcessingMetadata","eventItem","dynamicSamplingContext","trace","ALREADY_SEEN_ERROR","_integrations","_integrationsInitialized","_numProcessing","_outcomes","__init2","__init3","__init4","_transport","transport","eventId","eventFromException","_captureEvent","promisedEvent","eventFromMessage","originalException","_isEnabled","sendSession","_isClientDoneProcessing","clientFinished","transportFlushed","integrationId","_oO","env","attachment","attachments","_event","crashed","errored","ex","mechanism","handled","sessionNonTerminal","shouldUpdateAndSend","captureSession","ticked","tick","setInterval","clearInterval","normalizeDepth","normalizeMaxBreadth","prepared","_applyClientOptions","_applyIntegrationsMetadata","finalScope","captureContext","getAttachments","applyToEvent","evt","_normalizeEvent","depth","maxBreadth","normalized","breadcrumbs","contexts","extra","spans","span","dist","maxValueLength","integrationsArray","_processEvent","finalEvent","sentryError","sampleRate","isTransaction","beforeSendProcessorName","beforeSendProcessor","isInternalException","__sentry__","beforeSendResult","_validateBeforeSendResult","processedEvent","getSession","_updateSessionFromEvent","transactionInfo","transaction_info","changes","propagations","captureException","quantity","invalidValueError","hasSymbol","PolySymbol","matchedRouteKey","viewDepthKey","routerKey","routeLocationKey","routerViewLocationKey","isBrowser","isESModule","applyToParams","newParams","noop","TRAILING_SLASH_RE","removeTrailingSlash","parseURL","parseQuery","currentLocation","searchString","searchPos","hashPos","resolveRelativePath","fullPath","stringifyURL","stringifyQuery","stripBase","pathname","isSameRouteLocation","aLastIndex","matched","bLastIndex","isSameRouteRecord","isSameRouteLocationParams","aliasOf","isSameRouteLocationParamsValue","isEquivalentArray","fromSegments","toSegments","toPosition","NavigationType","NavigationDirection","normalizeBase","baseEl","querySelector","BEFORE_HASH_RE","createHref","getElementPosition","docRect","documentElement","getBoundingClientRect","elRect","behavior","top","computeScrollPosition","pageXOffset","pageYOffset","scrollToPosition","scrollToOptions","positionEl","isIdSelector","getElementById","style","scrollTo","getScrollKey","delta","scrollPositions","saveScrollPosition","scrollPosition","getSavedScrollPosition","scroll","createBaseLocation","createCurrentLocation","search","slicePos","pathFromHash","useHistoryListeners","historyState","teardowns","pauseState","popStateHandler","fromState","direction","forward","back","unknown","pauseListeners","listen","teardown","beforeUnloadListener","buildState","replaced","computeScroll","useHistoryStateNavigation","changeLocation","hashIndex","currentState","createWebHistory","historyNavigation","historyListeners","go","triggerListeners","routerHistory","isRouteLocation","route","isRouteName","START_LOCATION_NORMALIZED","meta","redirectedFrom","NavigationFailureSymbol","NavigationFailureType","createRouterError","isNavigationFailure","BASE_PARAM_PATTERN","BASE_PATH_PARSER_OPTIONS","sensitive","strict","REGEX_CHARS_RE","tokensToParser","extraOptions","score","segmentScores","tokenIndex","subSegmentScore","optional","subPattern","avoidDuplicatedSlash","param","compareScoreArray","comparePathParserScore","aScore","bScore","comp","ROOT_TOKEN","VALID_PARAM_RE","tokenizePath","crash","previousState","tokens","finalizeSegment","char","customRe","consumeBuffer","addCharToBuffer","createRouteRecordMatcher","record","createRouterMatcher","routes","globalOptions","matcherMap","getRecordMatcher","addRoute","originalRecord","isRootAdd","mainNormalizedRecord","normalizeRouteRecord","mergeOptions","normalizedRecords","aliases","components","originalMatcher","normalizedRecord","parentPath","connectingSlash","isAliasRecord","removeRoute","insertMatcher","matcherRef","getRoutes","isRecordChildOf","paramsFromLocation","parentMatcher","mergeMetaFields","redirect","beforeEnter","normalizeRecordProps","instances","leaveGuards","updateGuards","enterCallbacks","component","propsObject","partialOptions","HASH_RE","AMPERSAND_RE","SLASH_RE","EQUAL_RE","IM_RE","PLUS_RE","ENC_BRACKET_OPEN_RE","ENC_BRACKET_CLOSE_RE","ENC_CARET_RE","ENC_BACKTICK_RE","ENC_CURLY_OPEN_RE","ENC_PIPE_RE","ENC_CURLY_CLOSE_RE","ENC_SPACE_RE","commonEncode","encodeURI","encodeHash","encodeQueryValue","encodeQueryKey","encodePath","encodeParam","decode","hasLeadingIM","searchParams","searchParam","eqPos","currentValue","normalizeQuery","normalizedQuery","useCallbacks","handlers","guardToPromiseFn","guard","enterCallbackArray","guardReturn","guardCall","extractComponentsGuards","guardType","guards","rawComponent","isRouteComponent","__vccOpts","componentPromise","resolvedComponent","useLink","router","currentRoute","activeRecordIndex","routeMatched","currentMatched","parentRecordPath","getOriginalPath","isActive","includesParams","isExactActive","navigate","guardEvent","RouterLinkImpl","required","activeClass","exactActiveClass","custom","ariaCurrentValue","slots","link","elClass","getLinkClass","linkActiveClass","linkExactActiveClass","onClick","class","RouterLink","metaKey","altKey","ctrlKey","shiftKey","defaultPrevented","button","currentTarget","preventDefault","outer","inner","innerValue","outerValue","propClass","globalClass","defaultClass","RouterViewImpl","inheritAttrs","injectedRoute","routeToDisplay","matchedRouteRef","viewRef","oldInstance","oldName","matchedRoute","ViewComponent","currentName","normalizeSlot","routePropsOption","routeProps","onVnodeUnmounted","vnode","isUnmounted","slot","slotContent","RouterView","createRouter","parseQuery$1","stringifyQuery$1","beforeGuards","beforeResolveGuards","afterGuards","pendingLocation","scrollBehavior","scrollRestoration","normalizeParams","paramValue","encodeParams","decodeParams","parentOrRoute","recordMatcher","routeMatcher","hasRoute","rawLocation","locationNormalized","matcherLocation","targetParams","locationAsObject","checkCanceledNavigation","pushWithRedirect","handleRedirectRecord","lastMatched","newTargetLocation","targetLocation","force","shouldRedirect","toLocation","failure","handleScroll","markAsReady","triggerError","finalizeNavigation","triggerAfterEach","checkCanceledNavigationAndReject","leavingRecords","updatingRecords","enteringRecords","extractChangingRecords","canceledNavigationCheck","runGuardQueue","isPush","isFirstNavigation","removeHistoryListener","setupListeners","_from","readyHandlers","errorHandlers","installedApps","beforeEach","beforeResolve","afterEach","globalProperties","$router","reactiveRoute","provide","unmountApp","unmount","recordFrom","recordTo","isPrototypeOf","setPrototypeOf","proxyAccessor","inheritIfRequired","normalizeStringArgument","installErrorCause","clearErrorStack","ERROR_STACK_INSTALLABLE","IS_PURE","FULL_NAME","wrapper","IS_AGGREGATE_ERROR","STACK_TRACE_LIMIT","OPTIONS_POSITION","ERROR_NAME","OriginalError","OriginalErrorPrototype","cause","BaseError","WrappedError","makeBreadcrumb","tslib_1","dot_prop_1","graphql_1","operation_1","_g","attachBreadcrumbs","extractDefinition","uri","includeQuery","print","includeVariables","includeCache","getContext","contextKeys","includeContext","extractKeys","enumerableOnly","_objectSpread2","_defineProperty","getOwnPropertyDescriptors","defineProperties","_typeof","_classCallCheck","Constructor","_defineProperties","_createClass","protoProps","staticProps","_inherits","subClass","superClass","_setPrototypeOf","_getPrototypeOf","_isNativeReflectConstruct","construct","_assertThisInitialized","self","ReferenceError","_possibleConstructorReturn","_createSuper","Derived","hasNativeReflectConstruct","Super","NewTarget","_superPropBase","_get","desc","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","_arrayLikeToArray","iter","_s","_arr","_n","minLen","arr2","throttle","noTrailing","debounceMode","cancelled","lastExec","clearExistingTimeout","cancel","_len","arguments_","elapsed","exec","debounce","atBegin","esm","factory","action","throttle$1","debounce$1","reapply","omit","_ref3","_ref4","addGqlError","gqlError","isServer","skippAllKeys","SmartApollo","vm","initialOptions","_skip","_pollInterval","_watchers","_destroyed","lastApolloOptions","_skipWatcher","$watch","skipChanged","allSkip","_pollWatcher","pollIntervalChanged","$apollo","_this2","starting","_loop","_i2","queryCb","refresh","executeApollo","_i4","_this$_watchers2","apolloOptions","vueApolloSpecialKeys","catched","_i6","_len2","_key2","callHandlers","provider","errorHandler","_i8","_error$graphQLErrors2","_console","VUE_APOLLO_QUERY_KEYWORDS","SmartQuery","_SmartApollo","autostart","$data","$apolloData","queries","firstRun","_firstRunResolve","_firstRunReject","manual","hasDataField","getClient","_loading","loadingDone","$isServer","variablesJson","previousVariablesJson","_this$_linkedSubscrip2","_linkedSubscriptions","generateApolloOptions","startQuerySubscription","currentResult","retrieveCurrentResult","nextResult","_this$_linkedSubscrip4","_sub","closed","catchError","applyLoadingModifier","anyErrors","firstRunReject","errorPolicy","hasResultCallback","setData","resubscribeToQuery","loadingKey","watchLoading","firstRunResolve","_this$observer","_this$observer2","_this3","tryFetch","_this$observer3","_this$observer4","SmartSubscription","linkedQuery","rcb","ucb","DollarApollo","_apolloSubscriptions","_client","defaultClient","_subscribe","mutate","finalOptions","$query","apollo","smart","prefetch","subs","addSmartSubscription","_this4","_skipAllQueries","_skipAllSubscriptions","skipAllQueries","skipAllSubscriptions","hasProperty","holder","proxyData","$_apolloInitData","methods","launch","apolloProvider","$apolloProvider","_apolloLaunched","$_apolloPromises","$init","defineReactiveSetter","$skipAll","$deep","$skipAllQueries","$skipAllSubscriptions","$client","$loadingKey","$watchLoading","addSmartQuery","$prefetch","$subscribe","installMixin","mixin","beforeCreate","serverPrefetch","created","unmounted","keywords","ApolloProvider","optionMergeStrategies","toVal","fromVal","toData","fromData","mergeObjectOptions","createApolloProvider","lib","getValidationMessage","_validateLength","_isPasswordValidFor","_register","PasswordValidator","pwd","details","errorList","detail","validation","validationMessage","internalObjectKeys","enumBugKeys","hiddenKeys","wrapErrorConstructorWithCause","WEB_ASSEMBLY","WebAssembly","exportGlobalErrorCauseWrapper","arity","exportWebAssemblyErrorCauseWrapper","printString","escapedRegExp","escapedReplacer","escapeSequences","printDocASTReducer","MAX_LINE_LENGTH","Name","varDefs","argsLine","InlineFragment","isBlockString","NullValue","ListValue","ObjectField","NamedType","ListType","NonNullType","OperationTypeDefinition","FieldDefinition","hasMultilineItems","InputValueDefinition","EnumValueDefinition","DirectiveDefinition","maybeArray","separator","_maybeArray$filter$jo","maybeString","_maybeArray$some","originalModule","webpackPolyfill","NATIVE_BIND","asyncMap","catchFn","activeCallbackCount","promiseQueue","makeCallback","examiner","delegate","both","caught","graphQLResultHasError","isPromiseLike","Concast","sources","addCount","obs","deliverLastMessage","nextOrError","quietly","cleanup","called","LocalState","resolvers","fragmentMatcher","addResolvers","setFragmentMatcher","resolverGroup","setResolvers","getResolvers","runResolvers","remoteResult","onlyRunForcedResolvers","resolveDocument","localResult","getFragmentMatcher","clientQuery","serverQuery","prepareContext","getCacheKey","addExportedVariables","buildRootValueFromCache","exportedVariables","shouldForceResolvers","forceResolvers","mainDefinition","defaultOperationType","execContext","resolveSelectionSet","resultsToMerge","resolveField","fieldResult","fragmentResult","aliasedFieldName","aliasUsed","defaultResult","resultPromise","resolverType","resolverMap","resolveSubSelectedArray","destructiveMethodCounts","wrapDestructiveCacheMethod","original","cancelNotifyTimeout","QueryInfo","lastRequestId","stopped","observableQuery","getDiffOptions","updateWatch","oq","updateLastDiff","setDiff","oldDiff","notifyTimeout","notify","oqListener","shouldNotify","watchOptions","watcher","lastWatch","lastWrite","shouldWrite","dmCount","markResult","cacheWriteBehavior","shouldWriteResult","diffOptions","markReady","markError","ignoreErrors","writeWithErrors","QueryManager","queryDeduplication","onBroadcast","clientAwareness","localState","fetchCancelFns","transformCache","queryIdCounter","requestIdCounter","mutationIdCounter","inFlightLinkObservables","mutationStore","_info","stopQueryNoBroadcast","cancelPendingFetches","optimisticResponse","updateQueries","refetchQueries","awaitRefetchQueries","updateWithProxyFn","onQueryUpdated","keepRootFields","mutationId","mutationStoreValue","_h","generateMutationId","getVariables","hasClientExports","sent","markMutationOptimistic","getObservableFromLink","storeResult","markMutationResult","cacheWrites","skipCache","updateQueries_1","currentQueryResult","nextQueryResult","mutationResult","queryVariables","results_1","updateCache","asQuery","getQueryStore","transformed","forLink","cacheEntry_1","defaultVars","generateRequestId","stopQueryInStore","stopQueryInStoreNoBroadcast","clearStore","getObservableQueries","queryNamesAndDocs","legacyQueryOptions","getQuery","included","nameOrDoc","reFetchObservableQueries","includeStandby","observableQueryPromises","makeObservable","observablePromise_1","getLocalState","deduplication","inFlightLinkObservables_1","forceFetch","byVariables_1","varJson_1","of","getResultsFromLink","requestId","hasErrors","aqr","fromVariables","fetchQueryByPolicy","includedQueriesById","refetchWritePolicy","oldNetworkStatus","readCache","resultsFromCache","resultsFromLink","newContext","hasSuggestedDevtools","ApolloClient","resetStoreCallbacks","clearStoreCallbacks","ssrForceFetchDelay","connectToDevTools","__APOLLO_CLIENT__","clientAwarenessName","clientAwarenessVersion","HttpLink","ApolloLink","disableNetworkFetches","resetStore","__APOLLO_DEVTOOLS_GLOBAL_HOOK__","nav","ua","devToolsHookCb","mutations","dataWithOptimisticResults","__actionHookForDevTools","__requestRaw","onResetStore","onClearStore","serializedState","setLocalStateFragmentMatcher","setLink","newLink","deepFreeze","shallowFreeze","isFrozen","inspectSource","checkDocument","getOperationDefinition","getOperationName","getFragmentDefinitions","getQueryDefinition","getFragmentDefinition","getMainDefinition","queryDoc","getDefaultValues","defaultValues","defs","sfc","$default","isNonNullObject","toNormalizedOptions","rawArgs","_this$nodes","_nodeLocations$","undefinedIfEmpty","nodeLocations","originalExtensions","formattedError","printError","formatError","defaultIntegrations","InboundFilters","FunctionToString","SENTRY_RELEASE","autoSessionTracking","clientOptions","startSessionTracking","showReportDialog","hub","getStackTop","getDsn","getUser","lastEventId","script","onLoad","injectionPoint","forceLoad","startSessionOnHub","startSession","normalizeArray","parts","allowAboveRoot","up","basename","matchedSlash","xs","resolvedPath","resolvedAbsolute","cwd","isAbsolute","trailingSlash","fromParts","toParts","samePartsLength","outputParts","sep","delimiter","dirname","hasRoot","ext","extname","startDot","startPart","preDotState","FunctionPrototype","isObj","disallowedKeys","isValidPath","pathSegments","getPathSegments","pathArray","__","GLOBAL_KEY","getDEV","removeTemporaryGlobals","checkDEV","DEV","NATIVE_WEAK_MAP","sharedKey","OBJECT_ALREADY_INITIALIZED","enforce","getterFor","TYPE","wmget","wmhas","wmset","facade","STATE","lengthOfArrayLike","createMethod","IS_RIGHT","argumentsLength","SDK_VERSION","exceptionFromError","frames","parseStackFrames","extractMessage","stacktrace","eventFromPlainObject","syntheticException","isUnhandledRejection","__serialized__","eventFromError","popSize","getPopSize","reactMinifiedRegexp","framesToPop","eventFromUnknownInput","eventFromString","errorEvent","domException","objectException","synthetic","selectURI","fallbackURI","contextURI","UNKNOWN_FUNCTION","OPERA10_PRIORITY","OPERA11_PRIORITY","CHROME_PRIORITY","WINJS_PRIORITY","GECKO_PRIORITY","createFrame","filename","lineno","colno","frame","function","in_app","chromeRegex","chromeEvalRegex","isEval","subMatch","extractSafariExtensionDetails","chromeStackLineParser","geckoREgex","geckoEvalRegex","gecko","geckoStackLineParser","winjsRegex","winjs","winjsStackLineParser","opera10Regex","opera10","opera10StackLineParser","opera11Regex","opera11","opera11StackLineParser","defaultStackLineParsers","defaultStackParser","isSafariExtension","isSafariWebExtension","createEnvelope","addItemToEnvelope","forEachEnvelopeItem","envelopeItems","envelopeItemType","utf8","TextEncoder","encode","serializeEnvelope","envHeaders","append","itemHeaders","stringifiedPayload","concatBuffers","buffers","totalLength","acc","createAttachmentEnvelopeItem","content_type","contentType","attachment_type","attachmentType","ITEM_TYPE_TO_DATA_CATEGORY_MAP","sessions","client_report","user_report","envelopeItemTypeToDataCategory","CONFIGURABLE_FUNCTION_NAME","CONFIGURABLE","InternalStateModule","enforceInternalState","getInternalState","CONFIGURABLE_LENGTH","TEMPLATE","getter","setter","aFunction","namespace","fixObservableSubclass","subclass","species","contextKey","getApolloContext","displayName","ApolloContext","ApolloConsumer","useApolloClient","override","didWarnUncachedGetSnapshot","uSESKey","realHook","useSyncExternalStore","getSnapshot","getServerSnapshot","inst","checkIfSnapshotChanged","DocumentType","Query","Mutation","Subscription","verifyDocumentType","requiredOperationName","usedOperationName","useQuery","useInternalState","stateRef","setTick","InternalState","asyncResolveFns","optionsToIgnoreOnce","WeakSet","ssrDisabledResult","skipStandbyResult","toQueryResultCache","previousResult","previousData","asyncUpdate","watchQueryOptions","renderPromises","useOptions","useObservableQuery","onNext","setResult","unsafeHandlePartialRefetch","queryResult","toQueryResult","createWatchQueryOptions","queryHookOptions","currentWatchQueryOptions","getObsQueryOptions","onCompleted","ssr","globalDefaults","otherOptions","getDefaultFetchPolicy","getSSRObservable","obsQueryFields","ssrAllowed","registerSSRObservable","addObservableQueryPromise","handleErrorOrCompleted","resultWithoutPartial","EAGER_METHODS","useLazyQuery","internalState","execOptionsRef","useQueryResult","eagerMethods","EAGER_METHODS_1","executeOptions","useMutation","baseOptions","ignoreResults","result_2","useSubscription","setObservable","canResetObservableRef","shouldResubscribe","fetchResult","onSubscriptionData","onSubscriptionComplete","useReactiveVar","rv","setValue","probablySameValue","onNextChange","htmlTreeAsString","currentElem","MAX_TRAVERSE_HEIGHT","MAX_OUTPUT_LEN","height","sepLength","nextStr","_htmlElementAsString","classes","attr","tagName","keyAttrPairs","keyAttr","keyAttrPair","allowedAttrs","getLocationHref","oO","isMergeableObject","isSpecial","stringValue","isReactElement","canUseSymbol","REACT_ELEMENT_TYPE","emptyTarget","cloneUnlessOtherwiseSpecified","deepmerge","defaultArrayMerge","element","customMerge","getEnumerableOwnPropertySymbols","getKeys","propertyIsOnObject","propertyIsUnsafe","mergeObject","destination","arrayMerge","sourceIsArray","targetIsArray","sourceAndTargetTypesMatch","deepmerge_1","countryPhoneData","utility_1","strictDetection","invalidResult","countryIso2","countryIso3","countryCode","processedPhoneNumber","processedCountry","hasPlusSign","foundCountryPhoneData","defaultCountry","validateResult","STACKTRACE_LIMIT","createStackParser","parsers","sortedParsers","skipFirst","cleanedLine","stripSentryFramesAndReverse","stackParserFromStackParserOptions","localStack","firstFrameFunction","lastFrameFunction","defaultFunctionName","getFunctionName","DEFAULT_KEY","DEFAULT_LIMIT","LinkedErrors","_limit","_handler","linkedErrors","_walkErrorTree","isSymbol","getMethod","ordinaryToPrimitive","wellKnownSymbol","TO_PRIMITIVE","exoticToPrim","fnToStr","previousComparisons","equal","check","aTag","bTag","previouslyCompared","aKeys","definedKeys","bKeys","keyCount","aIterator","isMap","aKey","aValue","byteLength","aCode","nativeCodeSuffix","isDefinedKey","full","fromIndex","bSet","trunc","number","checkFetcher","fetcher","extendStatics","__extends","__assign","__rest","__decorate","decorators","decorate","__param","paramIndex","__metadata","metadataKey","metadataValue","__awaiter","_arguments","generator","adopt","fulfilled","step","rejected","__generator","trys","ops","verb","__createBinding","__exportStar","__values","__read","ar","__spread","__spreadArrays","il","jl","__spreadArray","pack","__await","__asyncGenerator","resume","settle","fulfill","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","__setModuleDefault","__importStar","__classPrivateFieldGet","__classPrivateFieldSet","__classPrivateFieldIn","toPrimitive","nextTick","arch","execPath","title","pid","browser","argv","binding","chdir","exit","kill","umask","dlopen","uptime","memoryUsage","uvCounters","Lexer","startOfFileToken","SOF","lastToken","lineStart","lookahead","nextToken","readNextToken","COMMENT","isPunctuatorTokenKind","BANG","DOLLAR","AMP","PAREN_L","PAREN_R","COLON","EQUALS","AT","BRACKET_L","BRACKET_R","BRACE_L","PIPE","BRACE_R","isUnicodeScalarValue","isSupplementaryCodePoint","isLeadingSurrogate","isTrailingSurrogate","printCodePointAt","fromCodePoint","padStart","createToken","col","bodyLength","readComment","readBlockString","readString","readNumber","readName","firstCode","isFloat","readDigits","chunkStart","readEscapedUnicodeVariableWidth","readEscapedUnicodeFixedWidth","readEscapedCharacter","point","readHexDigit","read16BitHexCode","trailingCode","currentLine","blockLines","dateTimestampSource","nowSeconds","getBrowserPerformance","timeOrigin","getNodePerformance","perfHooks","platformPerformance","timestampSource","dateTimestampInSeconds","timestampInSeconds","_browserPerformanceTimeOriginMode","performanceNow","dateNow","timeOriginDelta","timeOriginIsReliable","navigationStart","hasNavigationStart","navigationStartDelta","navigationStartIsReliable","installedIntegrations","filterDuplicates","integrationsByName","currentInstance","existingInstance","isDefaultInstance","getIntegrationsToSetup","userIntegrations","finalIntegrations","debugIndex","debugInstance","setupIntegrations","integrationIndex","setupOnce","V8_VERSION","truncate","snipLine","newLine","lineLength","safeJoin","isMatchingPattern","requireExactStringMatch","stringMatchesSomePattern","testString","patterns","defaultMakeData","Trie","weakness","makeData","getChildTrie","isObjRef","weak","strong","UNSCOPABLES","ArrayPrototype","isNonEmptyArray","activeEffectScope","effectScopeStack","EffectScope","detached","active","effects","cleanups","scopes","recordEffectScope","effect","createDep","wasTracked","trackOpBit","newTracked","initDepMarkers","finalizeDepMarkers","ptr","targetMap","effectTrackDepth","maxMarkerBits","effectStack","activeEffect","ITERATE_KEY","MAP_KEY_ITERATE_KEY","ReactiveEffect","enableTracking","cleanupEffect","resetTracking","onStop","shouldTrack","trackStack","pauseTracking","isTracking","depsMap","eventInfo","trackEffects","debuggerEventExtraInfo","trigger","oldTarget","triggerEffects","allowRecurse","run","isNonTrackableKeys","builtInSymbols","createGetter","shallowGet","readonlyGet","arrayInstrumentations","createArrayInstrumentations","instrumentations","toRaw","isReadonly","shallow","shallowReadonlyMap","readonlyMap","shallowReactiveMap","reactiveMap","isRef","shouldUnwrap","readonly","reactive","createSetter","shallowSet","hadKey","deleteProperty","mutableHandlers","readonlyHandlers","shallowReactiveHandlers","toShallow","getProto","get$1","isShallow","rawTarget","rawKey","toReadonly","toReactive","has$1","set$1","deleteEntry","hadItems","createForEach","observed","createIterableMethod","targetIsMap","isPair","isKeyOnly","innerIterator","createReadonlyMethod","createInstrumentations","mutableInstrumentations","shallowInstrumentations","readonlyInstrumentations","shallowReadonlyInstrumentations","iteratorMethods","createInstrumentationGetter","mutableCollectionHandlers","shallowCollectionHandlers","readonlyCollectionHandlers","targetTypeMap","rawType","getTargetType","isExtensible","createReactiveObject","shallowReactive","baseHandlers","collectionHandlers","proxyMap","existingProxy","targetType","isReactive","markRaw","trackRefValue","triggerRefValue","newVal","__v_isRef","shallowRef","rawValue","_shallow","_rawValue","unref","shallowUnwrapHandlers","proxyRefs","objectWithRefs","toRefs","toRef","ObjectRefImpl","_object","_defaultValue","ComputedRefImpl","_setter","isSSR","_dirty","getterOrOptions","debugOptions","onlyGetter","cRef","callWithErrorHandling","callWithAsyncErrorHandling","throwInDev","contextVNode","exposedInstance","errorInfo","errorCapturedHooks","appErrorHandler","appContext","logError","isFlushing","isFlushPending","flushIndex","pendingPreFlushCbs","activePreFlushCbs","preFlushIndex","pendingPostFlushCbs","activePostFlushCbs","postFlushIndex","resolvedPromise","currentFlushPromise","currentPreFlushParentJob","findInsertionIndex","middle","middleJobId","getId","queueJob","job","queueFlush","flushJobs","invalidateJob","queueCb","activeQueue","pendingQueue","queuePreFlushCb","queuePostFlushCb","flushPreFlushCbs","parentJob","flushPostFlushCbs","deduped","emit$1","isModelListener","modelArg","modifiersKey","handlerName","onceHandler","emitted","normalizeEmitsOptions","asMixin","emitsCache","emits","hasExtends","extendEmits","normalizedFromExtend","mixins","extends","isEmitListener","currentRenderingInstance","currentScopeId","setCurrentRenderingInstance","__scopeId","pushScopeId","popScopeId","withCtx","isNonScopedSlot","renderFnWithContext","setBlockTracking","prevInstance","renderComponentRoot","withProxy","propsOptions","renderCache","setupState","fallthroughAttrs","shapeFlag","proxyToUse","normalizeVNode","getFunctionalFallthrough","blockStack","createVNode","Comment","filterModelListeners","cloneVNode","dirs","shouldUpdateComponent","prevVNode","nextVNode","optimized","prevProps","prevChildren","nextProps","nextChildren","patchFlag","emitsOptions","$stable","hasPropsChanged","dynamicProps","nextKeys","updateHOCHostEl","subTree","isSuspense","__isSuspense","queueEffectWithSuspense","suspense","pendingBranch","provides","parentProvides","inject","treatDefaultAsFactory","INITIAL_WATCHER_VALUE","doWatch","onTrack","onTrigger","forceTrigger","isMultiSource","traverse","onCleanup","baseGetter","isInSSRComponentSetup","queuePostRenderEffect","instanceWatch","publicThis","createPathGetter","setCurrentInstance","unsetCurrentInstance","useTransitionState","isLeaving","isUnmounting","leavingVNodes","onMounted","onBeforeUnmount","TransitionHookValidator","BaseTransitionImpl","appear","onBeforeEnter","onEnter","onAfterEnter","onEnterCancelled","onBeforeLeave","onLeave","onAfterLeave","onLeaveCancelled","onBeforeAppear","onAppear","onAfterAppear","onAppearCancelled","getCurrentInstance","prevTransitionKey","getTransitionRawChildren","rawProps","emptyPlaceholder","innerChild","getKeepAliveChild","enterHooks","resolveTransitionHooks","setTransitionHooks","oldChild","oldInnerChild","transitionKeyChanged","getTransitionKey","isSameVNodeType","leavingHooks","afterLeave","delayLeave","earlyRemove","delayedLeave","leavingVNodesCache","getLeavingNodesForType","_leaveCb","BaseTransition","callHook","leavingVNode","afterHook","cancelHook","_enterCb","isKeepAlive","ssContent","ssFallback","keepComment","keyedFragmentCount","defineComponent","setup","isAsyncWrapper","__asyncLoader","defineAsyncComponent","loader","loadingComponent","errorComponent","suspensible","userOnError","resolvedComp","pendingRequest","load","thisRequest","userRetry","userFail","createInnerComp","loaded","delayed","__isKeepAlive","onActivated","registerKeepAliveHook","onDeactivated","wrappedHook","__wdc","isDeactivated","injectHook","injectToKeepAliveRoot","keepAliveRoot","injected","onUnmounted","resetShapeFlag","getInnerChild","__weh","createHook","lifecycle","onBeforeMount","onBeforeUpdate","onUpdated","onServerPrefetch","onRenderTriggered","onRenderTracked","onErrorCaptured","shouldCacheAccess","applyOptions","resolveMergedOptions","dataOptions","computedOptions","provideOptions","injectOptions","beforeMount","mounted","beforeUpdate","updated","activated","deactivated","beforeDestroy","beforeUnmount","destroyed","renderTracked","renderTriggered","errorCaptured","expose","filters","checkDuplicateProperties","resolveInjections","unwrapInjectedRef","methodHandler","opt","createWatcher","registerLifecycleHook","_hook","exposed","unwrapRef","normalizeInject","extendsOptions","globalMixins","optionsCache","strats","strat","internalOptionMergeStrats","mergeDataFn","mergeAsArray","mergeWatchOptions","mergeInject","initProps","isStateful","InternalObjectKey","propsDefaults","setFullProps","updateProps","rawPrevProps","rawCurrentProps","hasAttrsChanged","kebabKey","resolvePropValue","propsToUpdate","camelizedKey","needCastKeys","rawCastValues","camelKey","castValues","isAbsent","hasDefault","normalizePropsOptions","propsCache","extendProps","normalizedKey","validatePropName","booleanIndex","getTypeIndex","stringIndex","ctor","isSameType","expectedTypes","isInternalKey","normalizeSlotValue","rawSlot","normalizeObjectSlots","rawSlots","_ctx","normalizeVNodeSlots","initSlots","updateSlots","needDeletionCheck","deletionComparisonTarget","withDirectives","internalInstance","bindings","modifiers","invokeDirectiveHook","oldBindings","createAppContext","isNativeTag","warnHandler","compilerOptions","createAppAPI","hydrate","rootComponent","rootProps","installedPlugins","_component","_props","_container","_instance","install","rootContainer","isHydrate","isSVG","__vue_app__","getExposeProxy","setRef","rawRef","oldRawRef","parentSuspense","isUnmount","refValue","owner","oldRef","_isString","_isRef","doSet","initFeatureFlags","createRenderer","baseCreateRenderer","createHydrationFns","__VUE__","insert","hostInsert","hostRemove","patchProp","hostPatchProp","hostCreateElement","createText","hostCreateText","createComment","hostCreateComment","setText","hostSetText","setElementText","hostSetElementText","hostParentNode","nextSibling","hostNextSibling","setScopeId","hostSetScopeId","cloneNode","hostCloneNode","insertStaticContent","hostInsertStaticContent","n1","n2","container","anchor","parentComponent","slotScopeIds","dynamicChildren","getNextHostNode","Text","processText","processCommentNode","Static","mountStaticNode","processFragment","processElement","processComponent","internals","moveStaticNode","removeStaticNode","mountElement","patchElement","vnodeHook","mountChildren","unmountChildren","onVnodeBeforeMount","invokeVNodeHook","scopeId","needCallTransitionHooks","onVnodeMounted","parentVNode","cloneIfMounted","oldProps","newProps","toggleRecurse","onVnodeBeforeUpdate","areChildrenSVG","patchBlockChildren","patchChildren","patchProps","onVnodeUpdated","oldChildren","newChildren","fallbackContainer","oldVNode","newVNode","fragmentStartAnchor","fragmentEndAnchor","fragmentSlotScopeIds","traverseStaticChildren","activate","mountComponent","updateComponent","initialVNode","createComponentInstance","renderer","setupComponent","asyncDep","registerDep","setupRenderEffect","placeholder","asyncResolved","updateComponentPreRender","componentUpdateFn","bu","originNext","nextTree","prevTree","bm","isAsyncWrapperVNode","hydrateNode","hydrateSubTree","scopedInitialVNode","prevShapeFlag","patchKeyedChildren","patchUnkeyedChildren","oldLength","newLength","commonLength","nextChild","parentAnchor","l2","e1","e2","nextPos","s1","s2","keyToNewIndexMap","patched","toBePatched","moved","maxNewIndexSoFar","newIndexToOldIndexMap","prevChild","newIndex","increasingNewIndexSequence","getSequence","nextIndex","move","moveType","needTransition","performLeave","doRemove","deactivate","shouldInvokeDirs","shouldInvokeVnodeHook","onVnodeBeforeUnmount","unmountComponent","removeFragment","performRemove","bum","um","suspenseId","pendingId","_vnode","mt","mc","pc","pbc","createApp","allowed","ch1","ch2","arrI","isTeleport","__isTeleport","isTeleportDisabled","isTargetSVG","SVGElement","resolveTarget","select","targetSelector","TeleportImpl","mainAnchor","targetAnchor","mount","wasDisabled","currentContainer","currentAnchor","moveTeleport","nextTarget","hydrateTeleport","isReorder","hydrateChildren","targetNode","_lpa","firstChild","Teleport","COMPONENTS","DIRECTIVES","resolveComponent","maybeSelfReference","resolveAsset","NULL_DYNAMIC_COMPONENT","resolveDynamicComponent","resolveDirective","warnMissing","selfName","getComponentName","registry","currentBlock","openBlock","disableTracking","closeBlock","isBlockTreeEnabled","setupBlock","createElementBlock","createBaseVNode","createBlock","isVNode","__v_isVNode","normalizeKey","normalizeRef","ref_key","ref_for","isBlockNode","needFullChildrenNormalization","__v_skip","staticCount","normalizeChildren","_createVNode","cloned","isClassComponent","guardReactiveProps","klass","mergeRef","mergedProps","mergeProps","createTextVNode","flag","createStaticVNode","content","numberOfNodes","createCommentVNode","asBlock","slotFlag","renderList","renderItem","createSlots","dynamicSlots","renderSlot","fallback","noSlotted","isCE","validSlotContent","ensureValidVNode","rendered","vnodes","getPublicInstance","isStatefulComponent","publicPropertiesMap","$el","$props","$attrs","$slots","$refs","$parent","$root","$emit","$forceUpdate","$nextTick","PublicInstanceProxyHandlers","accessCache","normalizedProps","publicGetter","cssModule","__cssModules","emptyAppContext","uid$1","exposeProxy","setupContext","da","rtg","rtc","ce","compile","installWithProxy","setupResult","setupStatefulComponent","createSetupContext","handleSetupResult","finishComponentSetup","__ssrInlineRender","ssrRender","skipOptions","template","isCustomElement","delimiters","componentCompilerOptions","finalCompilerOptions","createAttrsProxy","propsOrChildren","svgNS","templateContainer","nodeOps","insertBefore","createElementNS","multiple","createTextNode","nodeValue","textContent","selector","before","previousSibling","lastChild","innerHTML","patchClass","transitionClasses","_vtc","patchStyle","isCssString","setStyle","currentDisplay","display","cssText","importantRE","setProperty","prefixed","autoPrefix","prefixes","prefixCache","rawName","xlinkNS","patchAttr","removeAttributeNS","setAttributeNS","patchDOMProp","_getNow","skipTimestampCheck","createEvent","timeStamp","ffMatch","cachedNow","getNow","patchEvent","prevValue","nextValue","invokers","_vei","existingInvoker","parseName","invoker","createInvoker","optionsModifierRE","attached","patchStopImmediatePropagation","stopImmediatePropagation","_stopped","nativeOnRE","shouldSetAsProp","_trueValue","_falseValue","HTMLElement","TRANSITION","ANIMATION","Transition","resolveTransitionProps","DOMTransitionPropsValidators","css","enterFromClass","enterActiveClass","enterToClass","appearFromClass","appearActiveClass","appearToClass","leaveFromClass","leaveActiveClass","leaveToClass","hasExplicitCallback","baseProps","durations","normalizeDuration","enterDuration","leaveDuration","finishEnter","isAppear","removeTransitionClass","finishLeave","makeEnterHook","nextFrame","addTransitionClass","whenTransitionEnds","forceReflow","NumberOf","cls","classList","requestAnimationFrame","endId","expectedType","explicitTimeout","_endId","resolveIfNotStale","propCount","getTransitionInfo","endEvent","ended","onEnd","styles","getComputedStyle","getStyleProperties","transitionDelays","transitionDurations","transitionTimeout","getTimeout","animationDelays","animationDurations","animationTimeout","hasTransform","delays","toMs","offsetHeight","systemModifiers","modifierGuards","stopPropagation","prevent","ctrl","alt","exact","withModifiers","vShow","_vod","setDisplay","rendererOptions","ensureRenderer","containerOrSelector","normalizeContainer","METHOD_NAME","initAndBind","clientClass","getScope","initialScope","bindClient","stringSlice","isNodeEnv","dynamicRequire","require","makeMap","expectsLowerCase","GLOBALS_WHITE_LISTED","isGloballyWhitelisted","specialBooleanAttrs","isSpecialBooleanAttr","includeBooleanAttr","normalizeStyle","parseStringStyle","listDelimiterRE","propertyDelimiterRE","normalizeClass","normalizeProps","HTML_TAGS","SVG_TAGS","isHTMLTag","isSVGTag","looseCompareArrays","looseEqual","aValidType","isDate","bValidType","getTime","aKeysCount","bKeysCount","aHasKey","bHasKey","looseIndexOf","toDisplayString","replacer","isSet","EMPTY_OBJ","EMPTY_ARR","NOOP","NO","onRE","isOn","extend","toTypeString","toRawType","isIntegerKey","isReservedProp","cacheStringFunction","hit","camelizeRE","camelize","hyphenateRE","hyphenate","capitalize","toHandlerKey","hasChanged","invokeArrayFns","fns","_globalThis","getGlobalThis","globalThis","toLength","TO_STRING_TAG_SUPPORT","classofRaw","TO_STRING_TAG","CORRECT_ARGUMENTS","tryGet","callee","copyright","license","parseAndCheckHttpResponse","bodyText","parseError","hasSymbols","getSymbol","SymbolIterator","SymbolObservable","SymbolSpecies","getSpecies","isObservable","hostReportError","enqueue","cleanupSubscription","_cleanup","closeSubscription","_queue","_state","flushSubscription","notifySubscription","onNotify","subscriber","subscriptionObserver","SubscriptionObserver","_subscriber","hasSeed","_this5","startNext","_this6","completeIfDone","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","_item","toIntegerOrInfinity","integer","canUseWeakMap","product","canUseWeakSet","canUseDOM","usingJSDOM","canUseLayoutEffect","TokenKind","aPossiblePrototype","CORRECT_SETTER","DEFAULT_HOOKS","classifyRE","classify","ROOT_COMPONENT_NAME","ANONYMOUS_COMPONENT_NAME","formatComponentName","includeFile","_componentTag","file","__file","generateComponentTrace","_optionalChain","_isVue","__isVue","_3","currentRecursiveSequence","formattedTree","attachErrorHandler","silent","lifecycleHook","componentName","attachProps","propsData","withScope","setContext","logErrors","hasConsole","VUE_OP","HOOKS","getActiveTransaction","_4","getTransaction","_5","finishRootSpan","$_sentryRootSpanTimer","_6","_7","$_sentryRootSpan","finish","createTracingMixins","internalHooks","internalHook","isRoot","activeTransaction","startChild","trackComponents","$_sentrySpans","_8","_9","oldSpan","globalWithVue","DEFAULT_CONFIG","Vue","apps","vueInit","appWithInstance","tracingOptions","Prototype","shouldInclude","getInclusionDirectives","ifArgument","evaledValue","getDirectiveNames","hasDirectives","isInclusionDirective","directiveArguments","ifValue","DEFAULT_EVENT_TARGET","TryCatch","eventTarget","_wrapTimeFunction","_wrapRAF","_wrapXHR","eventTargetOption","_wrapEventTarget","originalCallback","originalSend","xmlHttpRequestProps","wrapOptions","globalObject","eventName","originalRemoveEventListener","wrappedEventHandler","originalEventHandler","__sentry_wrapped__","attachBreadcrumbToSentry","setFingerprint","DEFAULT_FINGERPRINT","setTransaction","browser_1","utils_1","configureScope","setTransactionName","toAbsoluteIndex","IS_INCLUDES","$this","fromError","errorValue","isBrowserBundle","__SENTRY_BROWSER_BUNDLE__","normalizeValidatorObject","validator","unwrapValidatorResponse","unwrapNormalizedValidator","withParams","validatorObj","withMessage","withAsync","validators","others","collectionItem","collectionEntryResult","innerValidators","propertyResult","currentValidator","validatorFunction","req","expr","reg","common","emailRegex","email$1","required$1","urlRegex","currentContext","MISSING_VALUE","idCounter","makeSlotClass","Slot","context_1","saved","noContext","globalKey","supported","perf","isPerformanceSupported","perf_hooks","iterateObserversSafely","observersWithMethod","cacheSlot","cacheInfoMap","getCacheInfo","forgetCache","recallCache","attachCache","oldListeners","attach","V8_PROTOTYPE_DEFINE_BUG","$defineProperty","ENUMERABLE","WRITABLE","Attributes","postfix","States","resolvedSyncPromise","SyncPromise","rejectedSyncPromise","PENDING","RESOLVED","REJECTED","_handlers","executor","__init5","__init6","_resolve","_reject","_executeHandlers","onfinally","isRejected","_setResult","cachedHandlers","defineGetter","defineProxy","getSuper","Ctor","superProto","getOwn","VueImpl","_this$__h","__h","Props","propsMeta","PropsMixin","__b","__c","_promise","dataKeys","plainData","__s","injections","Options","__o","createDecorator","__d","$Error","TEST","V8_OR_CHAKRA_STACK_ENTRY","IS_V8_OR_CHAKRA_STACK","dropEntries","prepareStackTrace","retriedSub","retriedResult","ErrorLink","Target","Source","defaultDataIdFromObject","_id","defaultConfig","normalizeConfig","shouldCanonizeResults","getTypenameFromStoreObject","TypeOrFieldNameRegExp","fieldNameFromStoreName","selectionSetMatchesResult","storeValueIsStoreObject","makeProcessedFieldsMerger","DEFAULT_MAX_BREADCRUMBS","Scope","_notifyingListeners","_scopeListeners","_eventProcessors","_breadcrumbs","_attachments","_user","_tags","_extra","_contexts","_sdkProcessingMetadata","newScope","_level","_span","_session","_transactionName","_fingerprint","_requestSession","_notifyScopeListeners","requestSession","fingerprint","getSpan","updatedScope","maxBreadcrumbs","maxCrumbs","mergedBreadcrumb","getTraceContext","transactionName","_applyFingerprint","_notifyEventProcessors","getGlobalEventProcessors","processors","addGlobalEventProcessor","beforeBreadcrumb","withoutFetch","ignoreOnError","shouldIgnoreOnError","ignoreNextOnError","sentryWrapped","wrappedArguments","addEventProcessor","Kind","makeReference","isDocumentNode","isStringValue","isBooleanValue","isIntValue","isFloatValue","isVariable","isObjectValue","isListValue","isEnumValue","isNullValue","valueToObjectRepresentation","argObj","nestedArgObj_1","listValue","nestedArgArrayObj","storeKeyNameFromField","directivesObj","getStoreKeyName","KNOWN_DIRECTIVES","filterKeys","filteredArgs_1","completeFieldName","stringifiedArgs","stringifyReplacer","argumentsObjectFromField","argObj_1","resultKeyNameFromField","getTypenameFromResult","isField","isInlineFragment","getFragmentQueryDocument","actualFragmentName","createFragmentMap","symTable","getFragmentFromSelection","storeKey","deepCopy","forEachValue","genericSubscribe","hot","_actions","_mutations","_wrappedGetters","_modulesNamespaceMap","installModule","_modules","resetStoreState","oldState","getters","_makeLocalGettersCache","wrappedGetters","computedObj","enableStrictMode","_withCommit","rootState","getNamespace","namespaced","parentState","getNestedState","moduleName","local","makeLocalContext","forEachMutation","namespacedType","registerMutation","forEachAction","registerAction","forEachGetter","registerGetter","forEachChild","noNamespace","dispatch","_type","unifyObjectStyle","commit","makeLocalGetters","gettersProxy","splitPos","localType","rootGetters","_devtoolHook","rawGetter","_committing","LABEL_VUEX_BINDINGS","MUTATIONS_LAYER_ID","ACTIONS_LAYER_ID","INSPECTOR_ID","actionId","addDevtools","homepage","logo","packageName","componentStateTypes","api","addTimelineLayer","color","COLOR_LIME_500","addInspector","icon","treeFilterPlaceholder","getInspectorTree","inspectorId","flattenStoreForInspectorTree","rootNodes","formatStoreForInspectorTree","getInspectorState","modulePath","nodeId","formatStoreForInspectorState","getStoreModule","editInspectorState","notifyComponentUpdate","sendInspectorTree","sendInspectorState","addTimelineEvent","subscribeAction","_time","groupId","subtitle","after","_custom","tooltip","COLOR_DARK","COLOR_WHITE","TAG_NAMESPACED","textColor","backgroundColor","extractNameFromPath","_children","gettersKeys","storeState","editable","transformPathsToObjectTree","canThrow","leafKey","abstract","moduleMap","Module","rawModule","_rawModule","rawState","prototypeAccessors$1","addChild","hasChild","actions","ModuleCollection","rawRootModule","targetModule","newModule","assertRawModule","this$1$1","rawChildModule","isRegistered","functionAssert","expected","objectAssert","assertTypes","assertOptions","makeAssertionMessage","createStore","Store","plugins","devtools","_actionSubscribers","_subscribers","_devtools","prototypeAccessors","injectKey","$store","useDevtools","registerModule","preserveState","unregisterModule","hasModule","hotUpdate","committing","normalizeNamespace","states","isValidMap","normalizeMap","getModuleByNamespace","vuex","mapGetters","helper","createLogger","collapsed","stateBefore","stateAfter","transformer","mutationTransformer","mut","actionFilter","actionTransformer","act","logMutations","logActions","prevState","nextState","formattedTime","getFormattedTime","formattedMutation","startMessage","endMessage","formattedAction","groupCollapsed","groupEnd","pad","getHours","getMinutes","getSeconds","getMilliseconds","times","tryToString","NetworkStatus","isNetworkRequestInFlight","cachedFetchImpl","getNativeFetchImplementation","fetchImpl","clearCachedFetchImplementation","makeFetchTransport","nativeFetch","requestOptions","referrerPolicy","keepalive","fetchOptions","DebounceLink_1","replacementFactory","markFunctionWrapped","_Oo","addNonEnumerableProperty","getOriginalFunction","urlEncode","convertToPlainObject","getOwnProperties","newObj","serializeEventTarget","CustomEvent","extractedProps","extractExceptionKeysForMessage","includedKeys","dropUndefinedKeys","memoizationMap","_dropUndefinedKeys","memoVal","serializeFetchParameter","core_1","zen_observable_1","breadcrumb_1","options_1","sentry_1","shouldHandleOperation","originalObserver","severityForResult","includeFetchResult","includeError","scrubbedError","isServerError","BREAK","visit","visitorKeys","enterLeaveMap","getEnterLeaveForKind","inArray","edits","isEdited","editOffset","editKey","editValue","arrayKey","_enterLeaveMap$get","_enterLeaveMap$get2","visitFn","_node$kind","visitInParallel","skipping","mergedVisitor","hasVisitor","enterList","leaveList","mergedEnterLeave","_enterList$i","_leaveList$i","kindVisitor","getVisitFn","rewriteURIForGET","chosenURI","addQueryParam","serializedVariables","serializedExtensions","preFragment","fragmentStart","queryParamsPrefix","newURI","lastAccessLHS","isGlobalObj","GLOBAL_OBJ","getGlobalObject","getGlobalSingleton","creator","gbl","__SENTRY__","singleton","$Symbol","_createForOfIteratorHelperLoose","allowArrayLike","_proto","_proto2","_proto3","backupFetch","createHttpLink","linkOptions","preferredFetch","includeExtensions","useGETForQueries","includeUnusedVariables","linkConfig","http","clientAwarenessHeaders","contextHeaders","contextConfig","unusedNames_1","_controller","definitionIsMutation","currentFetch","abort","LineRegExp","getLocation","lastLineStart","matchAll","column","getOwnPropertyDescriptorModule","genericMessage","InvariantError","verbosityLevels","verbosityLevel","wrapConsoleMethod","setVerbosity","safeGlobal","needToRemove","NODE_ENV","getDescriptor","PROPER","DirectiveLocation","createOperation","transformOperation","transformedOperation","validateOperation","OPERATION_FIELDS","passthrough","toLink","isTerminating","LinkError","links","leftLink","rightLink","second","firstLink","nextLink","setOnError","NIL_EVENT_ID","API_VERSION","DEFAULT_BREADCRUMBS","Hub","_stack","_version","getStack","pushScope","popScope","_lastEventId","_withClient","captureMessage","clientId","captureEvent","finalBreadcrumb","setUser","setTags","setExtras","setTag","setExtra","oldHub","makeMain","customSamplingContext","_callExtensionMethod","endSession","_sendSessionUpdate","setSession","currentSession","sendDefaultPii","carrier","getMainCarrier","getHubFromCarrier","setHubOnCarrier","getCurrentHub","hasHubOnCarrier","isOlderThan","getHubFromActiveDomain","activeDomain","domain","registryHubTopStack","activeXDocument","definePropertiesModule","html","documentCreateElement","GT","LT","PROTOTYPE","SCRIPT","IE_PROTO","EmptyConstructor","scriptTag","NullProtoObjectViaActiveX","temp","parentWindow","NullProtoObjectViaIFrame","iframeDocument","iframe","JS","NullProtoObject","ActiveXObject","Properties","DEFAULT_IGNORE_ERRORS","eventProcess","_mergeOptions","_shouldDropEvent","internalOptions","allowUrls","denyUrls","ignoreInternal","_isSentryError","_isIgnoredError","_isDeniedUrl","_getEventFilterUrl","_isAllowedUrl","_getPossibleEventMessages","_getLastValidUrl","anInstance","DOMExceptionConstants","DOM_EXCEPTION","NativeDOMException","$DOMException","DOMExceptionPrototype","ERROR_HAS_STACK","DOM_EXCEPTION_HAS_STACK","FORCED_CONSTRUCTOR","DOMException","PolyfilledDOMException","PolyfilledDOMExceptionPrototype","constant","constantName","$reduce","arrayMethodIsStrict","CHROME_VERSION","IS_NODE","STRICT_METHOD","CHROME_BUG","locationOffset","isSource","shallowCopy","stringifyCanon","stringifyCache","ObjectCanon","known","pool","passes","keysByJSON","proto_1","array_1","sortedKeys","firstValueIndex_1","sorted","obj_1","canonicalStringify","resetCanonicalStringify","canonical","startTransaction","windowIntegrations","Sentry","Integrations","INTEGRATIONS","SentryError","GlobalHandlers","_installFunc","_installGlobalOnErrorHandler","onunhandledrejection","_installGlobalOnUnhandledRejectionHandler","stackTraceLimit","installFunc","globalHandlerLog","getHubAndOptions","_eventFromIncompleteOnError","_enhanceEventWithInitialFrame","addMechanismAndCapture","_eventFromRejectionWithPrimitive","ERROR_TYPES_RE","groups","ev0","ev0s","ev0sf","DSN_REGEX","isValidProtocol","dsnToString","withPassword","port","projectId","publicKey","dsnFromString","lastPath","projectMatch","dsnFromComponents","validateDsn","requiredComponents","makeDsn","client_1","DebounceLink","defaultDelay","debounceInfo","debounceKey","dbi","runningSubscriptions","currentGroupId","noRunningSubscriptions","noQueuedObservers","queuedObservers","debounceGroupId","isNotObserver","observerGroup","debounceTimeout","enqueueRequest","setupDebounceInfo","lastRequest","currentObservers","isVue3","objectKeys","Parser","expectToken","parseValueLiteral","parseConstValue","parseConstValueLiteral","parseType","parseTypeReference","_lexer","many","parseDefinition","parseOperationDefinition","hasDescription","peekDescription","keywordToken","parseSchemaDefinition","parseScalarTypeDefinition","parseObjectTypeDefinition","parseInterfaceTypeDefinition","parseUnionTypeDefinition","parseEnumTypeDefinition","parseInputObjectTypeDefinition","parseDirectiveDefinition","parseFragmentDefinition","parseTypeSystemExtension","unexpected","parseSelectionSet","parseOperationType","parseVariableDefinitions","parseDirectives","operationToken","optionalMany","parseVariableDefinition","parseVariable","expectOptionalToken","parseConstDirectives","parseSelection","parseFragment","parseField","nameOrAlias","parseArguments","isConst","parseConstArgument","parseArgument","hasTypeCondition","expectOptionalKeyword","parseFragmentName","parseNamedType","_this$_options","expectKeyword","parseList","parseObject","parseStringLiteral","any","parseObjectField","parseDirective","parseDescription","parseOperationTypeDefinition","OPERATION_TYPE_DEFINITION","parseImplementsInterfaces","parseFieldsDefinition","delimitedMany","parseFieldDefinition","parseArgumentDefs","parseInputValueDef","parseUnionMemberTypes","parseEnumValuesDefinition","parseEnumValueDefinition","parseEnumValueName","getTokenDesc","parseInputFieldsDefinition","parseSchemaExtension","parseScalarTypeExtension","parseObjectTypeExtension","parseInterfaceTypeExtension","parseUnionTypeExtension","parseEnumTypeExtension","parseInputObjectTypeExtension","parseDirectiveLocations","parseDirectiveLocation","_this$_options2","getTokenKindDesc","atToken","openKind","parseFn","closeKind","delimiterKind","uuid4","crypto","msCrypto","randomUUID","getRandomByte","getRandomValues","getFirstException","getEventDescription","firstException","addExceptionTypeValue","addExceptionMechanism","newMechanism","defaultMechanism","currentMechanism","mergedData","checkOrSetAlreadyCaught","__sentry_captured__","arrayify","Location","Token","QueryDocumentKeys","kindValues","maybeNode","maybeKind","OperationTypeNode","$propertyIsEnumerable","NASHORN_BUG","1","throwServerError","maxProperties","normalizeToSize","jsonSize","memoize","unmemoize","valueWithToJSON","numAdded","visitable","visitKey","visitValue","utf8Length","dummy","Wrapper","NewTargetPrototype","SENTRY_API_VERSION","getBaseApiEndpoint","_getIngestEndpoint","_encodedAuth","sentry_key","sentry_version","sentry_client","getEnvelopeEndpointWithUrlEncodedAuth","tunnelOrOptions","getReportDialogEndpoint","dsnLike","dialogOptions","endpoint","encodedOptions","prefixCounts","defaultHttpOptions","defaultHeaders","accept","fallbackHttpConfig","defaultPrinter","printer","selectHttpOptionsAndBody","fallbackConfig","selectHttpOptionsAndBodyInternal","headersToLowerCase","normalized_1","memoBuilder","hasWeakSet","IndexSizeError","DOMStringSizeError","HierarchyRequestError","WrongDocumentError","InvalidCharacterError","NoDataAllowedError","NoModificationAllowedError","NotFoundError","NotSupportedError","InUseAttributeError","InvalidStateError","SyntaxError","InvalidModificationError","NamespaceError","InvalidAccessError","ValidationError","TypeMismatchError","SecurityError","NetworkError","AbortError","URLMismatchError","QuotaExceededError","TimeoutError","InvalidNodeTypeError","DataCloneError","getDevtoolsGlobalHook","getTarget","__VUE_DEVTOOLS_GLOBAL_HOOK__","isProxyAvailable","printLocation","printSourceLocation","sourceLocation","firstLineColumnOffset","lineIndex","lineOffset","lineNum","columnOffset","columnNum","locationStr","locationLine","subLineIndex","subLineColumnNum","subLines","printPrefixedLines","subLine","existingLines","padLen","mergeDeepArray","DeepMerger","defaultReconciler","reconciler","pastCopies","targetValue","shallowCopyForMerge","isWhiteSpace","isLetter","isNameStart","isNameContinue","cloneDeepHelper","copy_1","copy_2","XHR_READYSTATE_DONE","makeXHRTransport","onreadystatechange","readyState","getResponseHeader","instrumented","instrument","instrumentConsole","instrumentDOM","instrumentXHR","instrumentFetch","instrumentHistory","instrumentError","instrumentUnhandledRejection","addInstrumentationHandler","triggerHandlers","originalConsoleMethod","originalFetch","getFetchMethod","getFetchUrl","startTimestamp","fetchArgs","xhrproto","originalOpen","xhrInfo","onreadystatechangeHandler","readyStateArgs","lastHref","oldOnPopState","onpopstate","historyReplacementFunction","originalHistoryFunction","debounceDuration","debounceTimerID","lastCapturedEvent","shouldShortcircuitPreviousDebounce","shouldSkipDOMEvent","isContentEditable","makeDOMEventHandler","globalListener","triggerDOMHandler","globalDOMEventHandler","originalAddEventListener","__sentry_instrumentation_handlers__","handlerForType","_oldOnErrorHandler","_oldOnUnhandledRejectionHandler","Dedupe","eventProcessor","currentEvent","_previousEvent","previousEvent","_isSameMessageEvent","_isSameExceptionEvent","currentMessage","previousMessage","_isSameFingerprint","_isSameStacktrace","previousException","_getExceptionFromEvent","currentException","currentFrames","_getFramesFromEvent","previousFrames","frameA","frameB","currentFingerprint","previousFingerprint","originalFunctionToString","replacement","detection","POLYFILL","NATIVE","$parse","$stringify","Primitive","primitive","ignore","primitives","Primitives","revive","ke","reviver","space","fromJSON","MockStorage","SimplePromiseQueue","_flushing","flushQueue","nextTask","replaceArrays","destinationArray","sourceArray","concatArrays","into","mergeOption","FlattedJSON","VuexPersistence","_mutex","subscribed","supportCircular","localStorageLitmus","strictMode","RESTORE_MUTATION","savedState","mergedState","propertyName","_vm","$set","asyncStorage","restoreState","saveState","restored","functionToString"],"mappings":"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AO,MAAO,MAClG,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAChH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAClG,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAClG,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACzG,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAClG,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAClG,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACzG,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACzG,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACzG,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACzG,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAClG,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAClG,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAChH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MA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","file":"js/chunk-vendors-legacy.6abdad20.js","sourcesContent":["import { SentryError } from './error.js';\nimport { rejectedSyncPromise, SyncPromise, resolvedSyncPromise } from './syncpromise.js';\n\n/**\n * Creates an new PromiseBuffer object with the specified limit\n * @param limit max number of promises that can be stored in the buffer\n */\nfunction makePromiseBuffer(limit) {\n  const buffer = [];\n\n  function isReady() {\n    return limit === undefined || buffer.length < limit;\n  }\n\n  /**\n   * Remove a promise from the queue.\n   *\n   * @param task Can be any PromiseLike<T>\n   * @returns Removed promise.\n   */\n  function remove(task) {\n    return buffer.splice(buffer.indexOf(task), 1)[0];\n  }\n\n  /**\n   * Add a promise (representing an in-flight action) to the queue, and set it to remove itself on fulfillment.\n   *\n   * @param taskProducer A function producing any PromiseLike<T>; In previous versions this used to be `task:\n   *        PromiseLike<T>`, but under that model, Promises were instantly created on the call-site and their executor\n   *        functions therefore ran immediately. Thus, even if the buffer was full, the action still happened. By\n   *        requiring the promise to be wrapped in a function, we can defer promise creation until after the buffer\n   *        limit check.\n   * @returns The original promise.\n   */\n  function add(taskProducer) {\n    if (!isReady()) {\n      return rejectedSyncPromise(new SentryError('Not adding Promise because buffer limit was reached.'));\n    }\n\n    // start the task and add its promise to the queue\n    const task = taskProducer();\n    if (buffer.indexOf(task) === -1) {\n      buffer.push(task);\n    }\n    void task\n      .then(() => remove(task))\n      // Use `then(null, rejectionHandler)` rather than `catch(rejectionHandler)` so that we can use `PromiseLike`\n      // rather than `Promise`. `PromiseLike` doesn't have a `.catch` method, making its polyfill smaller. (ES5 didn't\n      // have promises, so TS has to polyfill when down-compiling.)\n      .then(null, () =>\n        remove(task).then(null, () => {\n          // We have to add another catch here because `remove()` starts a new promise chain.\n        }),\n      );\n    return task;\n  }\n\n  /**\n   * Wait for all promises in the queue to resolve or for timeout to expire, whichever comes first.\n   *\n   * @param timeout The time, in ms, after which to resolve to `false` if the queue is still non-empty. Passing `0` (or\n   * not passing anything) will make the promise wait as long as it takes for the queue to drain before resolving to\n   * `true`.\n   * @returns A promise which will resolve to `true` if the queue is already empty or drains before the timeout, and\n   * `false` otherwise\n   */\n  function drain(timeout) {\n    return new SyncPromise((resolve, reject) => {\n      let counter = buffer.length;\n\n      if (!counter) {\n        return resolve(true);\n      }\n\n      // wait for `timeout` ms and then resolve to `false` (if not cancelled first)\n      const capturedSetTimeout = setTimeout(() => {\n        if (timeout && timeout > 0) {\n          resolve(false);\n        }\n      }, timeout);\n\n      // if all promises resolve in time, cancel the timer and resolve to `true`\n      buffer.forEach(item => {\n        void resolvedSyncPromise(item).then(() => {\n          // eslint-disable-next-line no-plusplus\n          if (!--counter) {\n            clearTimeout(capturedSetTimeout);\n            resolve(true);\n          }\n        }, reject);\n      });\n    });\n  }\n\n  return {\n    $: buffer,\n    add,\n    drain,\n  };\n}\n\nexport { makePromiseBuffer };\n//# sourceMappingURL=promisebuffer.js.map\n","// Intentionally keeping the key broad, as we don't know for sure what rate limit headers get returned from backend\n\nconst DEFAULT_RETRY_AFTER = 60 * 1000; // 60 seconds\n\n/**\n * Extracts Retry-After value from the request header or returns default value\n * @param header string representation of 'Retry-After' header\n * @param now current unix timestamp\n *\n */\nfunction parseRetryAfterHeader(header, now = Date.now()) {\n  const headerDelay = parseInt(`${header}`, 10);\n  if (!isNaN(headerDelay)) {\n    return headerDelay * 1000;\n  }\n\n  const headerDate = Date.parse(`${header}`);\n  if (!isNaN(headerDate)) {\n    return headerDate - now;\n  }\n\n  return DEFAULT_RETRY_AFTER;\n}\n\n/**\n * Gets the time that given category is disabled until for rate limiting\n */\nfunction disabledUntil(limits, category) {\n  return limits[category] || limits.all || 0;\n}\n\n/**\n * Checks if a category is rate limited\n */\nfunction isRateLimited(limits, category, now = Date.now()) {\n  return disabledUntil(limits, category) > now;\n}\n\n/**\n * Update ratelimits from incoming headers.\n * Returns true if headers contains a non-empty rate limiting header.\n */\nfunction updateRateLimits(\n  limits,\n  { statusCode, headers },\n  now = Date.now(),\n) {\n  const updatedRateLimits = {\n    ...limits,\n  };\n\n  // \"The name is case-insensitive.\"\n  // https://developer.mozilla.org/en-US/docs/Web/API/Headers/get\n  const rateLimitHeader = headers && headers['x-sentry-rate-limits'];\n  const retryAfterHeader = headers && headers['retry-after'];\n\n  if (rateLimitHeader) {\n    /**\n     * rate limit headers are of the form\n     *     <header>,<header>,..\n     * where each <header> is of the form\n     *     <retry_after>: <categories>: <scope>: <reason_code>\n     * where\n     *     <retry_after> is a delay in seconds\n     *     <categories> is the event type(s) (error, transaction, etc) being rate limited and is of the form\n     *         <category>;<category>;...\n     *     <scope> is what's being limited (org, project, or key) - ignored by SDK\n     *     <reason_code> is an arbitrary string like \"org_quota\" - ignored by SDK\n     */\n    for (const limit of rateLimitHeader.trim().split(',')) {\n      const [retryAfter, categories] = limit.split(':', 2);\n      const headerDelay = parseInt(retryAfter, 10);\n      const delay = (!isNaN(headerDelay) ? headerDelay : 60) * 1000; // 60sec default\n      if (!categories) {\n        updatedRateLimits.all = now + delay;\n      } else {\n        for (const category of categories.split(';')) {\n          updatedRateLimits[category] = now + delay;\n        }\n      }\n    }\n  } else if (retryAfterHeader) {\n    updatedRateLimits.all = now + parseRetryAfterHeader(retryAfterHeader, now);\n  } else if (statusCode === 429) {\n    updatedRateLimits.all = now + 60 * 1000;\n  }\n\n  return updatedRateLimits;\n}\n\nexport { DEFAULT_RETRY_AFTER, disabledUntil, isRateLimited, parseRetryAfterHeader, updateRateLimits };\n//# sourceMappingURL=ratelimit.js.map\n","import { forEachEnvelopeItem, envelopeItemTypeToDataCategory, isRateLimited, resolvedSyncPromise, createEnvelope, serializeEnvelope, logger, updateRateLimits, SentryError, makePromiseBuffer } from '@sentry/utils';\n\nconst DEFAULT_TRANSPORT_BUFFER_SIZE = 30;\n\n/**\n * Creates an instance of a Sentry `Transport`\n *\n * @param options\n * @param makeRequest\n */\nfunction createTransport(\n  options,\n  makeRequest,\n  buffer = makePromiseBuffer(options.bufferSize || DEFAULT_TRANSPORT_BUFFER_SIZE),\n) {\n  let rateLimits = {};\n\n  const flush = (timeout) => buffer.drain(timeout);\n\n  function send(envelope) {\n    const filteredEnvelopeItems = [];\n\n    // Drop rate limited items from envelope\n    forEachEnvelopeItem(envelope, (item, type) => {\n      const envelopeItemDataCategory = envelopeItemTypeToDataCategory(type);\n      if (isRateLimited(rateLimits, envelopeItemDataCategory)) {\n        const event = getEventForEnvelopeItem(item, type);\n        options.recordDroppedEvent('ratelimit_backoff', envelopeItemDataCategory, event);\n      } else {\n        filteredEnvelopeItems.push(item);\n      }\n    });\n\n    // Skip sending if envelope is empty after filtering out rate limited events\n    if (filteredEnvelopeItems.length === 0) {\n      return resolvedSyncPromise();\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const filteredEnvelope = createEnvelope(envelope[0], filteredEnvelopeItems );\n\n    // Creates client report for each item in an envelope\n    const recordEnvelopeLoss = (reason) => {\n      forEachEnvelopeItem(filteredEnvelope, (item, type) => {\n        const event = getEventForEnvelopeItem(item, type);\n        options.recordDroppedEvent(reason, envelopeItemTypeToDataCategory(type), event);\n      });\n    };\n\n    const requestTask = () =>\n      makeRequest({ body: serializeEnvelope(filteredEnvelope, options.textEncoder) }).then(\n        response => {\n          // We don't want to throw on NOK responses, but we want to at least log them\n          if (response.statusCode !== undefined && (response.statusCode < 200 || response.statusCode >= 300)) {\n            (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.warn(`Sentry responded with status code ${response.statusCode} to sent event.`);\n          }\n\n          rateLimits = updateRateLimits(rateLimits, response);\n        },\n        error => {\n          (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.error('Failed while sending event:', error);\n          recordEnvelopeLoss('network_error');\n        },\n      );\n\n    return buffer.add(requestTask).then(\n      result => result,\n      error => {\n        if (error instanceof SentryError) {\n          (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.error('Skipped sending event because buffer is full.');\n          recordEnvelopeLoss('queue_overflow');\n          return resolvedSyncPromise();\n        } else {\n          throw error;\n        }\n      },\n    );\n  }\n\n  return {\n    send,\n    flush,\n  };\n}\n\nfunction getEventForEnvelopeItem(item, type) {\n  if (type !== 'event' && type !== 'transaction') {\n    return undefined;\n  }\n\n  return Array.isArray(item) ? (item )[1] : undefined;\n}\n\nexport { DEFAULT_TRANSPORT_BUFFER_SIZE, createTransport };\n//# sourceMappingURL=base.js.map\n","import { __extends } from \"tslib\";\nimport \"../utilities/globals/index.js\";\nimport { isNonEmptyArray } from \"../utilities/index.js\";\nexport function isApolloError(err) {\n    return err.hasOwnProperty('graphQLErrors');\n}\nvar generateErrorMessage = function (err) {\n    var message = '';\n    if (isNonEmptyArray(err.graphQLErrors) || isNonEmptyArray(err.clientErrors)) {\n        var errors = (err.graphQLErrors || [])\n            .concat(err.clientErrors || []);\n        errors.forEach(function (error) {\n            var errorMessage = error\n                ? error.message\n                : 'Error message not found.';\n            message += \"\".concat(errorMessage, \"\\n\");\n        });\n    }\n    if (err.networkError) {\n        message += \"\".concat(err.networkError.message, \"\\n\");\n    }\n    message = message.replace(/\\n$/, '');\n    return message;\n};\nvar ApolloError = (function (_super) {\n    __extends(ApolloError, _super);\n    function ApolloError(_a) {\n        var graphQLErrors = _a.graphQLErrors, clientErrors = _a.clientErrors, networkError = _a.networkError, errorMessage = _a.errorMessage, extraInfo = _a.extraInfo;\n        var _this = _super.call(this, errorMessage) || this;\n        _this.graphQLErrors = graphQLErrors || [];\n        _this.clientErrors = clientErrors || [];\n        _this.networkError = networkError || null;\n        _this.message = errorMessage || generateErrorMessage(_this);\n        _this.extraInfo = extraInfo;\n        _this.__proto__ = ApolloError.prototype;\n        return _this;\n    }\n    return ApolloError;\n}(Error));\nexport { ApolloError };\n//# sourceMappingURL=index.js.map","var classof = require('../internals/classof');\n\nvar $String = String;\n\nmodule.exports = function (argument) {\n  if (classof(argument) === 'Symbol') throw TypeError('Cannot convert a Symbol value to a string');\n  return $String(argument);\n};\n","// Note: This file is autogenerated using \"resources/gen-version.js\" script and\n// automatically updated by \"npm version\" command.\n\n/**\n * A string containing the version of the GraphQL.js library\n */\nexport const version = '16.5.0';\n/**\n * An object containing the components of the GraphQL.js version string\n */\n\nexport const versionInfo = Object.freeze({\n  major: 16,\n  minor: 5,\n  patch: 0,\n  preReleaseTag: null,\n});\n","/**\n * Returns true if the value acts like a Promise, i.e. has a \"then\" function,\n * otherwise returns false.\n */\nexport function isPromise(value) {\n  return (\n    typeof (value === null || value === void 0 ? void 0 : value.then) ===\n    'function'\n  );\n}\n","const MAX_SUGGESTIONS = 5;\n/**\n * Given [ A, B, C ] return ' Did you mean A, B, or C?'.\n */\n\nexport function didYouMean(firstArg, secondArg) {\n  const [subMessage, suggestionsArg] = secondArg\n    ? [firstArg, secondArg]\n    : [undefined, firstArg];\n  let message = ' Did you mean ';\n\n  if (subMessage) {\n    message += subMessage + ' ';\n  }\n\n  const suggestions = suggestionsArg.map((x) => `\"${x}\"`);\n\n  switch (suggestions.length) {\n    case 0:\n      return '';\n\n    case 1:\n      return message + suggestions[0] + '?';\n\n    case 2:\n      return message + suggestions[0] + ' or ' + suggestions[1] + '?';\n  }\n\n  const selected = suggestions.slice(0, MAX_SUGGESTIONS);\n  const lastItem = selected.pop();\n  return message + selected.join(', ') + ', or ' + lastItem + '?';\n}\n","/**\n * Returns the first argument it receives.\n */\nexport function identityFunc(x) {\n  return x;\n}\n","/**\n * Creates a keyed JS object from an array, given a function to produce the keys\n * for each value in the array.\n *\n * This provides a convenient lookup for the array items if the key function\n * produces unique results.\n * ```ts\n * const phoneBook = [\n *   { name: 'Jon', num: '555-1234' },\n *   { name: 'Jenny', num: '867-5309' }\n * ]\n *\n * const entriesByName = keyMap(\n *   phoneBook,\n *   entry => entry.name\n * )\n *\n * // {\n * //   Jon: { name: 'Jon', num: '555-1234' },\n * //   Jenny: { name: 'Jenny', num: '867-5309' }\n * // }\n *\n * const jennyEntry = entriesByName['Jenny']\n *\n * // { name: 'Jenny', num: '857-6309' }\n * ```\n */\nexport function keyMap(list, keyFn) {\n  const result = Object.create(null);\n\n  for (const item of list) {\n    result[keyFn(item)] = item;\n  }\n\n  return result;\n}\n","/**\n * Creates a keyed JS object from an array, given a function to produce the keys\n * and a function to produce the values from each item in the array.\n * ```ts\n * const phoneBook = [\n *   { name: 'Jon', num: '555-1234' },\n *   { name: 'Jenny', num: '867-5309' }\n * ]\n *\n * // { Jon: '555-1234', Jenny: '867-5309' }\n * const phonesByName = keyValMap(\n *   phoneBook,\n *   entry => entry.name,\n *   entry => entry.num\n * )\n * ```\n */\nexport function keyValMap(list, keyFn, valFn) {\n  const result = Object.create(null);\n\n  for (const item of list) {\n    result[keyFn(item)] = valFn(item);\n  }\n\n  return result;\n}\n","/**\n * Creates an object map with the same keys as `map` and values generated by\n * running each value of `map` thru `fn`.\n */\nexport function mapValue(map, fn) {\n  const result = Object.create(null);\n\n  for (const key of Object.keys(map)) {\n    result[key] = fn(map[key], key);\n  }\n\n  return result;\n}\n","/**\n * Returns a number indicating whether a reference string comes before, or after,\n * or is the same as the given string in natural sort order.\n *\n * See: https://en.wikipedia.org/wiki/Natural_sort_order\n *\n */\nexport function naturalCompare(aStr, bStr) {\n  let aIndex = 0;\n  let bIndex = 0;\n\n  while (aIndex < aStr.length && bIndex < bStr.length) {\n    let aChar = aStr.charCodeAt(aIndex);\n    let bChar = bStr.charCodeAt(bIndex);\n\n    if (isDigit(aChar) && isDigit(bChar)) {\n      let aNum = 0;\n\n      do {\n        ++aIndex;\n        aNum = aNum * 10 + aChar - DIGIT_0;\n        aChar = aStr.charCodeAt(aIndex);\n      } while (isDigit(aChar) && aNum > 0);\n\n      let bNum = 0;\n\n      do {\n        ++bIndex;\n        bNum = bNum * 10 + bChar - DIGIT_0;\n        bChar = bStr.charCodeAt(bIndex);\n      } while (isDigit(bChar) && bNum > 0);\n\n      if (aNum < bNum) {\n        return -1;\n      }\n\n      if (aNum > bNum) {\n        return 1;\n      }\n    } else {\n      if (aChar < bChar) {\n        return -1;\n      }\n\n      if (aChar > bChar) {\n        return 1;\n      }\n\n      ++aIndex;\n      ++bIndex;\n    }\n  }\n\n  return aStr.length - bStr.length;\n}\nconst DIGIT_0 = 48;\nconst DIGIT_9 = 57;\n\nfunction isDigit(code) {\n  return !isNaN(code) && DIGIT_0 <= code && code <= DIGIT_9;\n}\n","import { naturalCompare } from './naturalCompare.mjs';\n/**\n * Given an invalid input string and a list of valid options, returns a filtered\n * list of valid options sorted based on their similarity with the input.\n */\n\nexport function suggestionList(input, options) {\n  const optionsByDistance = Object.create(null);\n  const lexicalDistance = new LexicalDistance(input);\n  const threshold = Math.floor(input.length * 0.4) + 1;\n\n  for (const option of options) {\n    const distance = lexicalDistance.measure(option, threshold);\n\n    if (distance !== undefined) {\n      optionsByDistance[option] = distance;\n    }\n  }\n\n  return Object.keys(optionsByDistance).sort((a, b) => {\n    const distanceDiff = optionsByDistance[a] - optionsByDistance[b];\n    return distanceDiff !== 0 ? distanceDiff : naturalCompare(a, b);\n  });\n}\n/**\n * Computes the lexical distance between strings A and B.\n *\n * The \"distance\" between two strings is given by counting the minimum number\n * of edits needed to transform string A into string B. An edit can be an\n * insertion, deletion, or substitution of a single character, or a swap of two\n * adjacent characters.\n *\n * Includes a custom alteration from Damerau-Levenshtein to treat case changes\n * as a single edit which helps identify mis-cased values with an edit distance\n * of 1.\n *\n * This distance can be useful for detecting typos in input or sorting\n */\n\nclass LexicalDistance {\n  constructor(input) {\n    this._input = input;\n    this._inputLowerCase = input.toLowerCase();\n    this._inputArray = stringToArray(this._inputLowerCase);\n    this._rows = [\n      new Array(input.length + 1).fill(0),\n      new Array(input.length + 1).fill(0),\n      new Array(input.length + 1).fill(0),\n    ];\n  }\n\n  measure(option, threshold) {\n    if (this._input === option) {\n      return 0;\n    }\n\n    const optionLowerCase = option.toLowerCase(); // Any case change counts as a single edit\n\n    if (this._inputLowerCase === optionLowerCase) {\n      return 1;\n    }\n\n    let a = stringToArray(optionLowerCase);\n    let b = this._inputArray;\n\n    if (a.length < b.length) {\n      const tmp = a;\n      a = b;\n      b = tmp;\n    }\n\n    const aLength = a.length;\n    const bLength = b.length;\n\n    if (aLength - bLength > threshold) {\n      return undefined;\n    }\n\n    const rows = this._rows;\n\n    for (let j = 0; j <= bLength; j++) {\n      rows[0][j] = j;\n    }\n\n    for (let i = 1; i <= aLength; i++) {\n      const upRow = rows[(i - 1) % 3];\n      const currentRow = rows[i % 3];\n      let smallestCell = (currentRow[0] = i);\n\n      for (let j = 1; j <= bLength; j++) {\n        const cost = a[i - 1] === b[j - 1] ? 0 : 1;\n        let currentCell = Math.min(\n          upRow[j] + 1, // delete\n          currentRow[j - 1] + 1, // insert\n          upRow[j - 1] + cost, // substitute\n        );\n\n        if (i > 1 && j > 1 && a[i - 1] === b[j - 2] && a[i - 2] === b[j - 1]) {\n          // transposition\n          const doubleDiagonalCell = rows[(i - 2) % 3][j - 2];\n          currentCell = Math.min(currentCell, doubleDiagonalCell + 1);\n        }\n\n        if (currentCell < smallestCell) {\n          smallestCell = currentCell;\n        }\n\n        currentRow[j] = currentCell;\n      } // Early exit, since distance can't go smaller than smallest element of the previous row.\n\n      if (smallestCell > threshold) {\n        return undefined;\n      }\n    }\n\n    const distance = rows[aLength % 3][bLength];\n    return distance <= threshold ? distance : undefined;\n  }\n}\n\nfunction stringToArray(str) {\n  const strLength = str.length;\n  const array = new Array(strLength);\n\n  for (let i = 0; i < strLength; ++i) {\n    array[i] = str.charCodeAt(i);\n  }\n\n  return array;\n}\n","export function toObjMap(obj) {\n  if (obj == null) {\n    return Object.create(null);\n  }\n\n  if (Object.getPrototypeOf(obj) === null) {\n    return obj;\n  }\n\n  const map = Object.create(null);\n\n  for (const [key, value] of Object.entries(obj)) {\n    map[key] = value;\n  }\n\n  return map;\n}\n","import { keyValMap } from '../jsutils/keyValMap.mjs';\nimport { Kind } from '../language/kinds.mjs';\n/**\n * Produces a JavaScript value given a GraphQL Value AST.\n *\n * Unlike `valueFromAST()`, no type is provided. The resulting JavaScript value\n * will reflect the provided GraphQL value AST.\n *\n * | GraphQL Value        | JavaScript Value |\n * | -------------------- | ---------------- |\n * | Input Object         | Object           |\n * | List                 | Array            |\n * | Boolean              | Boolean          |\n * | String / Enum        | String           |\n * | Int / Float          | Number           |\n * | Null                 | null             |\n *\n */\n\nexport function valueFromASTUntyped(valueNode, variables) {\n  switch (valueNode.kind) {\n    case Kind.NULL:\n      return null;\n\n    case Kind.INT:\n      return parseInt(valueNode.value, 10);\n\n    case Kind.FLOAT:\n      return parseFloat(valueNode.value);\n\n    case Kind.STRING:\n    case Kind.ENUM:\n    case Kind.BOOLEAN:\n      return valueNode.value;\n\n    case Kind.LIST:\n      return valueNode.values.map((node) =>\n        valueFromASTUntyped(node, variables),\n      );\n\n    case Kind.OBJECT:\n      return keyValMap(\n        valueNode.fields,\n        (field) => field.name.value,\n        (field) => valueFromASTUntyped(field.value, variables),\n      );\n\n    case Kind.VARIABLE:\n      return variables === null || variables === void 0\n        ? void 0\n        : variables[valueNode.name.value];\n  }\n}\n","import { devAssert } from '../jsutils/devAssert.mjs';\nimport { GraphQLError } from '../error/GraphQLError.mjs';\nimport { isNameContinue, isNameStart } from '../language/characterClasses.mjs';\n/**\n * Upholds the spec rules about naming.\n */\n\nexport function assertName(name) {\n  name != null || devAssert(false, 'Must provide name.');\n  typeof name === 'string' || devAssert(false, 'Expected name to be a string.');\n\n  if (name.length === 0) {\n    throw new GraphQLError('Expected name to be a non-empty string.');\n  }\n\n  for (let i = 1; i < name.length; ++i) {\n    if (!isNameContinue(name.charCodeAt(i))) {\n      throw new GraphQLError(\n        `Names must only contain [_a-zA-Z0-9] but \"${name}\" does not.`,\n      );\n    }\n  }\n\n  if (!isNameStart(name.charCodeAt(0))) {\n    throw new GraphQLError(\n      `Names must start with [_a-zA-Z] but \"${name}\" does not.`,\n    );\n  }\n\n  return name;\n}\n/**\n * Upholds the spec rules about naming enum values.\n *\n * @internal\n */\n\nexport function assertEnumValueName(name) {\n  if (name === 'true' || name === 'false' || name === 'null') {\n    throw new GraphQLError(`Enum values cannot be named: ${name}`);\n  }\n\n  return assertName(name);\n}\n","import { devAssert } from '../jsutils/devAssert.mjs';\nimport { didYouMean } from '../jsutils/didYouMean.mjs';\nimport { identityFunc } from '../jsutils/identityFunc.mjs';\nimport { inspect } from '../jsutils/inspect.mjs';\nimport { instanceOf } from '../jsutils/instanceOf.mjs';\nimport { isObjectLike } from '../jsutils/isObjectLike.mjs';\nimport { keyMap } from '../jsutils/keyMap.mjs';\nimport { keyValMap } from '../jsutils/keyValMap.mjs';\nimport { mapValue } from '../jsutils/mapValue.mjs';\nimport { suggestionList } from '../jsutils/suggestionList.mjs';\nimport { toObjMap } from '../jsutils/toObjMap.mjs';\nimport { GraphQLError } from '../error/GraphQLError.mjs';\nimport { Kind } from '../language/kinds.mjs';\nimport { print } from '../language/printer.mjs';\nimport { valueFromASTUntyped } from '../utilities/valueFromASTUntyped.mjs';\nimport { assertEnumValueName, assertName } from './assertName.mjs';\nexport function isType(type) {\n  return (\n    isScalarType(type) ||\n    isObjectType(type) ||\n    isInterfaceType(type) ||\n    isUnionType(type) ||\n    isEnumType(type) ||\n    isInputObjectType(type) ||\n    isListType(type) ||\n    isNonNullType(type)\n  );\n}\nexport function assertType(type) {\n  if (!isType(type)) {\n    throw new Error(`Expected ${inspect(type)} to be a GraphQL type.`);\n  }\n\n  return type;\n}\n/**\n * There are predicates for each kind of GraphQL type.\n */\n\nexport function isScalarType(type) {\n  return instanceOf(type, GraphQLScalarType);\n}\nexport function assertScalarType(type) {\n  if (!isScalarType(type)) {\n    throw new Error(`Expected ${inspect(type)} to be a GraphQL Scalar type.`);\n  }\n\n  return type;\n}\nexport function isObjectType(type) {\n  return instanceOf(type, GraphQLObjectType);\n}\nexport function assertObjectType(type) {\n  if (!isObjectType(type)) {\n    throw new Error(`Expected ${inspect(type)} to be a GraphQL Object type.`);\n  }\n\n  return type;\n}\nexport function isInterfaceType(type) {\n  return instanceOf(type, GraphQLInterfaceType);\n}\nexport function assertInterfaceType(type) {\n  if (!isInterfaceType(type)) {\n    throw new Error(\n      `Expected ${inspect(type)} to be a GraphQL Interface type.`,\n    );\n  }\n\n  return type;\n}\nexport function isUnionType(type) {\n  return instanceOf(type, GraphQLUnionType);\n}\nexport function assertUnionType(type) {\n  if (!isUnionType(type)) {\n    throw new Error(`Expected ${inspect(type)} to be a GraphQL Union type.`);\n  }\n\n  return type;\n}\nexport function isEnumType(type) {\n  return instanceOf(type, GraphQLEnumType);\n}\nexport function assertEnumType(type) {\n  if (!isEnumType(type)) {\n    throw new Error(`Expected ${inspect(type)} to be a GraphQL Enum type.`);\n  }\n\n  return type;\n}\nexport function isInputObjectType(type) {\n  return instanceOf(type, GraphQLInputObjectType);\n}\nexport function assertInputObjectType(type) {\n  if (!isInputObjectType(type)) {\n    throw new Error(\n      `Expected ${inspect(type)} to be a GraphQL Input Object type.`,\n    );\n  }\n\n  return type;\n}\nexport function isListType(type) {\n  return instanceOf(type, GraphQLList);\n}\nexport function assertListType(type) {\n  if (!isListType(type)) {\n    throw new Error(`Expected ${inspect(type)} to be a GraphQL List type.`);\n  }\n\n  return type;\n}\nexport function isNonNullType(type) {\n  return instanceOf(type, GraphQLNonNull);\n}\nexport function assertNonNullType(type) {\n  if (!isNonNullType(type)) {\n    throw new Error(`Expected ${inspect(type)} to be a GraphQL Non-Null type.`);\n  }\n\n  return type;\n}\n/**\n * These types may be used as input types for arguments and directives.\n */\n\nexport function isInputType(type) {\n  return (\n    isScalarType(type) ||\n    isEnumType(type) ||\n    isInputObjectType(type) ||\n    (isWrappingType(type) && isInputType(type.ofType))\n  );\n}\nexport function assertInputType(type) {\n  if (!isInputType(type)) {\n    throw new Error(`Expected ${inspect(type)} to be a GraphQL input type.`);\n  }\n\n  return type;\n}\n/**\n * These types may be used as output types as the result of fields.\n */\n\nexport function isOutputType(type) {\n  return (\n    isScalarType(type) ||\n    isObjectType(type) ||\n    isInterfaceType(type) ||\n    isUnionType(type) ||\n    isEnumType(type) ||\n    (isWrappingType(type) && isOutputType(type.ofType))\n  );\n}\nexport function assertOutputType(type) {\n  if (!isOutputType(type)) {\n    throw new Error(`Expected ${inspect(type)} to be a GraphQL output type.`);\n  }\n\n  return type;\n}\n/**\n * These types may describe types which may be leaf values.\n */\n\nexport function isLeafType(type) {\n  return isScalarType(type) || isEnumType(type);\n}\nexport function assertLeafType(type) {\n  if (!isLeafType(type)) {\n    throw new Error(`Expected ${inspect(type)} to be a GraphQL leaf type.`);\n  }\n\n  return type;\n}\n/**\n * These types may describe the parent context of a selection set.\n */\n\nexport function isCompositeType(type) {\n  return isObjectType(type) || isInterfaceType(type) || isUnionType(type);\n}\nexport function assertCompositeType(type) {\n  if (!isCompositeType(type)) {\n    throw new Error(\n      `Expected ${inspect(type)} to be a GraphQL composite type.`,\n    );\n  }\n\n  return type;\n}\n/**\n * These types may describe the parent context of a selection set.\n */\n\nexport function isAbstractType(type) {\n  return isInterfaceType(type) || isUnionType(type);\n}\nexport function assertAbstractType(type) {\n  if (!isAbstractType(type)) {\n    throw new Error(`Expected ${inspect(type)} to be a GraphQL abstract type.`);\n  }\n\n  return type;\n}\n/**\n * List Type Wrapper\n *\n * A list is a wrapping type which points to another type.\n * Lists are often created within the context of defining the fields of\n * an object type.\n *\n * Example:\n *\n * ```ts\n * const PersonType = new GraphQLObjectType({\n *   name: 'Person',\n *   fields: () => ({\n *     parents: { type: new GraphQLList(PersonType) },\n *     children: { type: new GraphQLList(PersonType) },\n *   })\n * })\n * ```\n */\n\nexport class GraphQLList {\n  constructor(ofType) {\n    isType(ofType) ||\n      devAssert(false, `Expected ${inspect(ofType)} to be a GraphQL type.`);\n    this.ofType = ofType;\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'GraphQLList';\n  }\n\n  toString() {\n    return '[' + String(this.ofType) + ']';\n  }\n\n  toJSON() {\n    return this.toString();\n  }\n}\n/**\n * Non-Null Type Wrapper\n *\n * A non-null is a wrapping type which points to another type.\n * Non-null types enforce that their values are never null and can ensure\n * an error is raised if this ever occurs during a request. It is useful for\n * fields which you can make a strong guarantee on non-nullability, for example\n * usually the id field of a database row will never be null.\n *\n * Example:\n *\n * ```ts\n * const RowType = new GraphQLObjectType({\n *   name: 'Row',\n *   fields: () => ({\n *     id: { type: new GraphQLNonNull(GraphQLString) },\n *   })\n * })\n * ```\n * Note: the enforcement of non-nullability occurs within the executor.\n */\n\nexport class GraphQLNonNull {\n  constructor(ofType) {\n    isNullableType(ofType) ||\n      devAssert(\n        false,\n        `Expected ${inspect(ofType)} to be a GraphQL nullable type.`,\n      );\n    this.ofType = ofType;\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'GraphQLNonNull';\n  }\n\n  toString() {\n    return String(this.ofType) + '!';\n  }\n\n  toJSON() {\n    return this.toString();\n  }\n}\n/**\n * These types wrap and modify other types\n */\n\nexport function isWrappingType(type) {\n  return isListType(type) || isNonNullType(type);\n}\nexport function assertWrappingType(type) {\n  if (!isWrappingType(type)) {\n    throw new Error(`Expected ${inspect(type)} to be a GraphQL wrapping type.`);\n  }\n\n  return type;\n}\n/**\n * These types can all accept null as a value.\n */\n\nexport function isNullableType(type) {\n  return isType(type) && !isNonNullType(type);\n}\nexport function assertNullableType(type) {\n  if (!isNullableType(type)) {\n    throw new Error(`Expected ${inspect(type)} to be a GraphQL nullable type.`);\n  }\n\n  return type;\n}\nexport function getNullableType(type) {\n  if (type) {\n    return isNonNullType(type) ? type.ofType : type;\n  }\n}\n/**\n * These named types do not include modifiers like List or NonNull.\n */\n\nexport function isNamedType(type) {\n  return (\n    isScalarType(type) ||\n    isObjectType(type) ||\n    isInterfaceType(type) ||\n    isUnionType(type) ||\n    isEnumType(type) ||\n    isInputObjectType(type)\n  );\n}\nexport function assertNamedType(type) {\n  if (!isNamedType(type)) {\n    throw new Error(`Expected ${inspect(type)} to be a GraphQL named type.`);\n  }\n\n  return type;\n}\nexport function getNamedType(type) {\n  if (type) {\n    let unwrappedType = type;\n\n    while (isWrappingType(unwrappedType)) {\n      unwrappedType = unwrappedType.ofType;\n    }\n\n    return unwrappedType;\n  }\n}\n/**\n * Used while defining GraphQL types to allow for circular references in\n * otherwise immutable type definitions.\n */\n\nexport function resolveReadonlyArrayThunk(thunk) {\n  return typeof thunk === 'function' ? thunk() : thunk;\n}\nexport function resolveObjMapThunk(thunk) {\n  return typeof thunk === 'function' ? thunk() : thunk;\n}\n/**\n * Custom extensions\n *\n * @remarks\n * Use a unique identifier name for your extension, for example the name of\n * your library or project. Do not use a shortened identifier as this increases\n * the risk of conflicts. We recommend you add at most one extension field,\n * an object which can contain all the values you need.\n */\n\n/**\n * Scalar Type Definition\n *\n * The leaf values of any request and input values to arguments are\n * Scalars (or Enums) and are defined with a name and a series of functions\n * used to parse input from ast or variables and to ensure validity.\n *\n * If a type's serialize function returns `null` or does not return a value\n * (i.e. it returns `undefined`) then an error will be raised and a `null`\n * value will be returned in the response. It is always better to validate\n *\n * Example:\n *\n * ```ts\n * const OddType = new GraphQLScalarType({\n *   name: 'Odd',\n *   serialize(value) {\n *     if (!Number.isFinite(value)) {\n *       throw new Error(\n *         `Scalar \"Odd\" cannot represent \"${value}\" since it is not a finite number.`,\n *       );\n *     }\n *\n *     if (value % 2 === 0) {\n *       throw new Error(`Scalar \"Odd\" cannot represent \"${value}\" since it is even.`);\n *     }\n *     return value;\n *   }\n * });\n * ```\n */\nexport class GraphQLScalarType {\n  constructor(config) {\n    var _config$parseValue,\n      _config$serialize,\n      _config$parseLiteral,\n      _config$extensionASTN;\n\n    const parseValue =\n      (_config$parseValue = config.parseValue) !== null &&\n      _config$parseValue !== void 0\n        ? _config$parseValue\n        : identityFunc;\n    this.name = assertName(config.name);\n    this.description = config.description;\n    this.specifiedByURL = config.specifiedByURL;\n    this.serialize =\n      (_config$serialize = config.serialize) !== null &&\n      _config$serialize !== void 0\n        ? _config$serialize\n        : identityFunc;\n    this.parseValue = parseValue;\n    this.parseLiteral =\n      (_config$parseLiteral = config.parseLiteral) !== null &&\n      _config$parseLiteral !== void 0\n        ? _config$parseLiteral\n        : (node, variables) => parseValue(valueFromASTUntyped(node, variables));\n    this.extensions = toObjMap(config.extensions);\n    this.astNode = config.astNode;\n    this.extensionASTNodes =\n      (_config$extensionASTN = config.extensionASTNodes) !== null &&\n      _config$extensionASTN !== void 0\n        ? _config$extensionASTN\n        : [];\n    config.specifiedByURL == null ||\n      typeof config.specifiedByURL === 'string' ||\n      devAssert(\n        false,\n        `${this.name} must provide \"specifiedByURL\" as a string, ` +\n          `but got: ${inspect(config.specifiedByURL)}.`,\n      );\n    config.serialize == null ||\n      typeof config.serialize === 'function' ||\n      devAssert(\n        false,\n        `${this.name} must provide \"serialize\" function. If this custom Scalar is also used as an input type, ensure \"parseValue\" and \"parseLiteral\" functions are also provided.`,\n      );\n\n    if (config.parseLiteral) {\n      (typeof config.parseValue === 'function' &&\n        typeof config.parseLiteral === 'function') ||\n        devAssert(\n          false,\n          `${this.name} must provide both \"parseValue\" and \"parseLiteral\" functions.`,\n        );\n    }\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'GraphQLScalarType';\n  }\n\n  toConfig() {\n    return {\n      name: this.name,\n      description: this.description,\n      specifiedByURL: this.specifiedByURL,\n      serialize: this.serialize,\n      parseValue: this.parseValue,\n      parseLiteral: this.parseLiteral,\n      extensions: this.extensions,\n      astNode: this.astNode,\n      extensionASTNodes: this.extensionASTNodes,\n    };\n  }\n\n  toString() {\n    return this.name;\n  }\n\n  toJSON() {\n    return this.toString();\n  }\n}\n\n/**\n * Object Type Definition\n *\n * Almost all of the GraphQL types you define will be object types. Object types\n * have a name, but most importantly describe their fields.\n *\n * Example:\n *\n * ```ts\n * const AddressType = new GraphQLObjectType({\n *   name: 'Address',\n *   fields: {\n *     street: { type: GraphQLString },\n *     number: { type: GraphQLInt },\n *     formatted: {\n *       type: GraphQLString,\n *       resolve(obj) {\n *         return obj.number + ' ' + obj.street\n *       }\n *     }\n *   }\n * });\n * ```\n *\n * When two types need to refer to each other, or a type needs to refer to\n * itself in a field, you can use a function expression (aka a closure or a\n * thunk) to supply the fields lazily.\n *\n * Example:\n *\n * ```ts\n * const PersonType = new GraphQLObjectType({\n *   name: 'Person',\n *   fields: () => ({\n *     name: { type: GraphQLString },\n *     bestFriend: { type: PersonType },\n *   })\n * });\n * ```\n */\nexport class GraphQLObjectType {\n  constructor(config) {\n    var _config$extensionASTN2;\n\n    this.name = assertName(config.name);\n    this.description = config.description;\n    this.isTypeOf = config.isTypeOf;\n    this.extensions = toObjMap(config.extensions);\n    this.astNode = config.astNode;\n    this.extensionASTNodes =\n      (_config$extensionASTN2 = config.extensionASTNodes) !== null &&\n      _config$extensionASTN2 !== void 0\n        ? _config$extensionASTN2\n        : [];\n\n    this._fields = () => defineFieldMap(config);\n\n    this._interfaces = () => defineInterfaces(config);\n\n    config.isTypeOf == null ||\n      typeof config.isTypeOf === 'function' ||\n      devAssert(\n        false,\n        `${this.name} must provide \"isTypeOf\" as a function, ` +\n          `but got: ${inspect(config.isTypeOf)}.`,\n      );\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'GraphQLObjectType';\n  }\n\n  getFields() {\n    if (typeof this._fields === 'function') {\n      this._fields = this._fields();\n    }\n\n    return this._fields;\n  }\n\n  getInterfaces() {\n    if (typeof this._interfaces === 'function') {\n      this._interfaces = this._interfaces();\n    }\n\n    return this._interfaces;\n  }\n\n  toConfig() {\n    return {\n      name: this.name,\n      description: this.description,\n      interfaces: this.getInterfaces(),\n      fields: fieldsToFieldsConfig(this.getFields()),\n      isTypeOf: this.isTypeOf,\n      extensions: this.extensions,\n      astNode: this.astNode,\n      extensionASTNodes: this.extensionASTNodes,\n    };\n  }\n\n  toString() {\n    return this.name;\n  }\n\n  toJSON() {\n    return this.toString();\n  }\n}\n\nfunction defineInterfaces(config) {\n  var _config$interfaces;\n\n  const interfaces = resolveReadonlyArrayThunk(\n    (_config$interfaces = config.interfaces) !== null &&\n      _config$interfaces !== void 0\n      ? _config$interfaces\n      : [],\n  );\n  Array.isArray(interfaces) ||\n    devAssert(\n      false,\n      `${config.name} interfaces must be an Array or a function which returns an Array.`,\n    );\n  return interfaces;\n}\n\nfunction defineFieldMap(config) {\n  const fieldMap = resolveObjMapThunk(config.fields);\n  isPlainObj(fieldMap) ||\n    devAssert(\n      false,\n      `${config.name} fields must be an object with field names as keys or a function which returns such an object.`,\n    );\n  return mapValue(fieldMap, (fieldConfig, fieldName) => {\n    var _fieldConfig$args;\n\n    isPlainObj(fieldConfig) ||\n      devAssert(\n        false,\n        `${config.name}.${fieldName} field config must be an object.`,\n      );\n    fieldConfig.resolve == null ||\n      typeof fieldConfig.resolve === 'function' ||\n      devAssert(\n        false,\n        `${config.name}.${fieldName} field resolver must be a function if ` +\n          `provided, but got: ${inspect(fieldConfig.resolve)}.`,\n      );\n    const argsConfig =\n      (_fieldConfig$args = fieldConfig.args) !== null &&\n      _fieldConfig$args !== void 0\n        ? _fieldConfig$args\n        : {};\n    isPlainObj(argsConfig) ||\n      devAssert(\n        false,\n        `${config.name}.${fieldName} args must be an object with argument names as keys.`,\n      );\n    return {\n      name: assertName(fieldName),\n      description: fieldConfig.description,\n      type: fieldConfig.type,\n      args: defineArguments(argsConfig),\n      resolve: fieldConfig.resolve,\n      subscribe: fieldConfig.subscribe,\n      deprecationReason: fieldConfig.deprecationReason,\n      extensions: toObjMap(fieldConfig.extensions),\n      astNode: fieldConfig.astNode,\n    };\n  });\n}\n\nexport function defineArguments(config) {\n  return Object.entries(config).map(([argName, argConfig]) => ({\n    name: assertName(argName),\n    description: argConfig.description,\n    type: argConfig.type,\n    defaultValue: argConfig.defaultValue,\n    deprecationReason: argConfig.deprecationReason,\n    extensions: toObjMap(argConfig.extensions),\n    astNode: argConfig.astNode,\n  }));\n}\n\nfunction isPlainObj(obj) {\n  return isObjectLike(obj) && !Array.isArray(obj);\n}\n\nfunction fieldsToFieldsConfig(fields) {\n  return mapValue(fields, (field) => ({\n    description: field.description,\n    type: field.type,\n    args: argsToArgsConfig(field.args),\n    resolve: field.resolve,\n    subscribe: field.subscribe,\n    deprecationReason: field.deprecationReason,\n    extensions: field.extensions,\n    astNode: field.astNode,\n  }));\n}\n/**\n * @internal\n */\n\nexport function argsToArgsConfig(args) {\n  return keyValMap(\n    args,\n    (arg) => arg.name,\n    (arg) => ({\n      description: arg.description,\n      type: arg.type,\n      defaultValue: arg.defaultValue,\n      deprecationReason: arg.deprecationReason,\n      extensions: arg.extensions,\n      astNode: arg.astNode,\n    }),\n  );\n}\nexport function isRequiredArgument(arg) {\n  return isNonNullType(arg.type) && arg.defaultValue === undefined;\n}\n\n/**\n * Interface Type Definition\n *\n * When a field can return one of a heterogeneous set of types, a Interface type\n * is used to describe what types are possible, what fields are in common across\n * all types, as well as a function to determine which type is actually used\n * when the field is resolved.\n *\n * Example:\n *\n * ```ts\n * const EntityType = new GraphQLInterfaceType({\n *   name: 'Entity',\n *   fields: {\n *     name: { type: GraphQLString }\n *   }\n * });\n * ```\n */\nexport class GraphQLInterfaceType {\n  constructor(config) {\n    var _config$extensionASTN3;\n\n    this.name = assertName(config.name);\n    this.description = config.description;\n    this.resolveType = config.resolveType;\n    this.extensions = toObjMap(config.extensions);\n    this.astNode = config.astNode;\n    this.extensionASTNodes =\n      (_config$extensionASTN3 = config.extensionASTNodes) !== null &&\n      _config$extensionASTN3 !== void 0\n        ? _config$extensionASTN3\n        : [];\n    this._fields = defineFieldMap.bind(undefined, config);\n    this._interfaces = defineInterfaces.bind(undefined, config);\n    config.resolveType == null ||\n      typeof config.resolveType === 'function' ||\n      devAssert(\n        false,\n        `${this.name} must provide \"resolveType\" as a function, ` +\n          `but got: ${inspect(config.resolveType)}.`,\n      );\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'GraphQLInterfaceType';\n  }\n\n  getFields() {\n    if (typeof this._fields === 'function') {\n      this._fields = this._fields();\n    }\n\n    return this._fields;\n  }\n\n  getInterfaces() {\n    if (typeof this._interfaces === 'function') {\n      this._interfaces = this._interfaces();\n    }\n\n    return this._interfaces;\n  }\n\n  toConfig() {\n    return {\n      name: this.name,\n      description: this.description,\n      interfaces: this.getInterfaces(),\n      fields: fieldsToFieldsConfig(this.getFields()),\n      resolveType: this.resolveType,\n      extensions: this.extensions,\n      astNode: this.astNode,\n      extensionASTNodes: this.extensionASTNodes,\n    };\n  }\n\n  toString() {\n    return this.name;\n  }\n\n  toJSON() {\n    return this.toString();\n  }\n}\n\n/**\n * Union Type Definition\n *\n * When a field can return one of a heterogeneous set of types, a Union type\n * is used to describe what types are possible as well as providing a function\n * to determine which type is actually used when the field is resolved.\n *\n * Example:\n *\n * ```ts\n * const PetType = new GraphQLUnionType({\n *   name: 'Pet',\n *   types: [ DogType, CatType ],\n *   resolveType(value) {\n *     if (value instanceof Dog) {\n *       return DogType;\n *     }\n *     if (value instanceof Cat) {\n *       return CatType;\n *     }\n *   }\n * });\n * ```\n */\nexport class GraphQLUnionType {\n  constructor(config) {\n    var _config$extensionASTN4;\n\n    this.name = assertName(config.name);\n    this.description = config.description;\n    this.resolveType = config.resolveType;\n    this.extensions = toObjMap(config.extensions);\n    this.astNode = config.astNode;\n    this.extensionASTNodes =\n      (_config$extensionASTN4 = config.extensionASTNodes) !== null &&\n      _config$extensionASTN4 !== void 0\n        ? _config$extensionASTN4\n        : [];\n    this._types = defineTypes.bind(undefined, config);\n    config.resolveType == null ||\n      typeof config.resolveType === 'function' ||\n      devAssert(\n        false,\n        `${this.name} must provide \"resolveType\" as a function, ` +\n          `but got: ${inspect(config.resolveType)}.`,\n      );\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'GraphQLUnionType';\n  }\n\n  getTypes() {\n    if (typeof this._types === 'function') {\n      this._types = this._types();\n    }\n\n    return this._types;\n  }\n\n  toConfig() {\n    return {\n      name: this.name,\n      description: this.description,\n      types: this.getTypes(),\n      resolveType: this.resolveType,\n      extensions: this.extensions,\n      astNode: this.astNode,\n      extensionASTNodes: this.extensionASTNodes,\n    };\n  }\n\n  toString() {\n    return this.name;\n  }\n\n  toJSON() {\n    return this.toString();\n  }\n}\n\nfunction defineTypes(config) {\n  const types = resolveReadonlyArrayThunk(config.types);\n  Array.isArray(types) ||\n    devAssert(\n      false,\n      `Must provide Array of types or a function which returns such an array for Union ${config.name}.`,\n    );\n  return types;\n}\n\n/**\n * Enum Type Definition\n *\n * Some leaf values of requests and input values are Enums. GraphQL serializes\n * Enum values as strings, however internally Enums can be represented by any\n * kind of type, often integers.\n *\n * Example:\n *\n * ```ts\n * const RGBType = new GraphQLEnumType({\n *   name: 'RGB',\n *   values: {\n *     RED: { value: 0 },\n *     GREEN: { value: 1 },\n *     BLUE: { value: 2 }\n *   }\n * });\n * ```\n *\n * Note: If a value is not provided in a definition, the name of the enum value\n * will be used as its internal value.\n */\nexport class GraphQLEnumType {\n  /* <T> */\n  constructor(config) {\n    var _config$extensionASTN5;\n\n    this.name = assertName(config.name);\n    this.description = config.description;\n    this.extensions = toObjMap(config.extensions);\n    this.astNode = config.astNode;\n    this.extensionASTNodes =\n      (_config$extensionASTN5 = config.extensionASTNodes) !== null &&\n      _config$extensionASTN5 !== void 0\n        ? _config$extensionASTN5\n        : [];\n    this._values = defineEnumValues(this.name, config.values);\n    this._valueLookup = new Map(\n      this._values.map((enumValue) => [enumValue.value, enumValue]),\n    );\n    this._nameLookup = keyMap(this._values, (value) => value.name);\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'GraphQLEnumType';\n  }\n\n  getValues() {\n    return this._values;\n  }\n\n  getValue(name) {\n    return this._nameLookup[name];\n  }\n\n  serialize(outputValue) {\n    const enumValue = this._valueLookup.get(outputValue);\n\n    if (enumValue === undefined) {\n      throw new GraphQLError(\n        `Enum \"${this.name}\" cannot represent value: ${inspect(outputValue)}`,\n      );\n    }\n\n    return enumValue.name;\n  }\n\n  parseValue(inputValue) /* T */\n  {\n    if (typeof inputValue !== 'string') {\n      const valueStr = inspect(inputValue);\n      throw new GraphQLError(\n        `Enum \"${this.name}\" cannot represent non-string value: ${valueStr}.` +\n          didYouMeanEnumValue(this, valueStr),\n      );\n    }\n\n    const enumValue = this.getValue(inputValue);\n\n    if (enumValue == null) {\n      throw new GraphQLError(\n        `Value \"${inputValue}\" does not exist in \"${this.name}\" enum.` +\n          didYouMeanEnumValue(this, inputValue),\n      );\n    }\n\n    return enumValue.value;\n  }\n\n  parseLiteral(valueNode, _variables) /* T */\n  {\n    // Note: variables will be resolved to a value before calling this function.\n    if (valueNode.kind !== Kind.ENUM) {\n      const valueStr = print(valueNode);\n      throw new GraphQLError(\n        `Enum \"${this.name}\" cannot represent non-enum value: ${valueStr}.` +\n          didYouMeanEnumValue(this, valueStr),\n        {\n          nodes: valueNode,\n        },\n      );\n    }\n\n    const enumValue = this.getValue(valueNode.value);\n\n    if (enumValue == null) {\n      const valueStr = print(valueNode);\n      throw new GraphQLError(\n        `Value \"${valueStr}\" does not exist in \"${this.name}\" enum.` +\n          didYouMeanEnumValue(this, valueStr),\n        {\n          nodes: valueNode,\n        },\n      );\n    }\n\n    return enumValue.value;\n  }\n\n  toConfig() {\n    const values = keyValMap(\n      this.getValues(),\n      (value) => value.name,\n      (value) => ({\n        description: value.description,\n        value: value.value,\n        deprecationReason: value.deprecationReason,\n        extensions: value.extensions,\n        astNode: value.astNode,\n      }),\n    );\n    return {\n      name: this.name,\n      description: this.description,\n      values,\n      extensions: this.extensions,\n      astNode: this.astNode,\n      extensionASTNodes: this.extensionASTNodes,\n    };\n  }\n\n  toString() {\n    return this.name;\n  }\n\n  toJSON() {\n    return this.toString();\n  }\n}\n\nfunction didYouMeanEnumValue(enumType, unknownValueStr) {\n  const allNames = enumType.getValues().map((value) => value.name);\n  const suggestedValues = suggestionList(unknownValueStr, allNames);\n  return didYouMean('the enum value', suggestedValues);\n}\n\nfunction defineEnumValues(typeName, valueMap) {\n  isPlainObj(valueMap) ||\n    devAssert(\n      false,\n      `${typeName} values must be an object with value names as keys.`,\n    );\n  return Object.entries(valueMap).map(([valueName, valueConfig]) => {\n    isPlainObj(valueConfig) ||\n      devAssert(\n        false,\n        `${typeName}.${valueName} must refer to an object with a \"value\" key ` +\n          `representing an internal value but got: ${inspect(valueConfig)}.`,\n      );\n    return {\n      name: assertEnumValueName(valueName),\n      description: valueConfig.description,\n      value: valueConfig.value !== undefined ? valueConfig.value : valueName,\n      deprecationReason: valueConfig.deprecationReason,\n      extensions: toObjMap(valueConfig.extensions),\n      astNode: valueConfig.astNode,\n    };\n  });\n}\n\n/**\n * Input Object Type Definition\n *\n * An input object defines a structured collection of fields which may be\n * supplied to a field argument.\n *\n * Using `NonNull` will ensure that a value must be provided by the query\n *\n * Example:\n *\n * ```ts\n * const GeoPoint = new GraphQLInputObjectType({\n *   name: 'GeoPoint',\n *   fields: {\n *     lat: { type: new GraphQLNonNull(GraphQLFloat) },\n *     lon: { type: new GraphQLNonNull(GraphQLFloat) },\n *     alt: { type: GraphQLFloat, defaultValue: 0 },\n *   }\n * });\n * ```\n */\nexport class GraphQLInputObjectType {\n  constructor(config) {\n    var _config$extensionASTN6;\n\n    this.name = assertName(config.name);\n    this.description = config.description;\n    this.extensions = toObjMap(config.extensions);\n    this.astNode = config.astNode;\n    this.extensionASTNodes =\n      (_config$extensionASTN6 = config.extensionASTNodes) !== null &&\n      _config$extensionASTN6 !== void 0\n        ? _config$extensionASTN6\n        : [];\n    this._fields = defineInputFieldMap.bind(undefined, config);\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'GraphQLInputObjectType';\n  }\n\n  getFields() {\n    if (typeof this._fields === 'function') {\n      this._fields = this._fields();\n    }\n\n    return this._fields;\n  }\n\n  toConfig() {\n    const fields = mapValue(this.getFields(), (field) => ({\n      description: field.description,\n      type: field.type,\n      defaultValue: field.defaultValue,\n      deprecationReason: field.deprecationReason,\n      extensions: field.extensions,\n      astNode: field.astNode,\n    }));\n    return {\n      name: this.name,\n      description: this.description,\n      fields,\n      extensions: this.extensions,\n      astNode: this.astNode,\n      extensionASTNodes: this.extensionASTNodes,\n    };\n  }\n\n  toString() {\n    return this.name;\n  }\n\n  toJSON() {\n    return this.toString();\n  }\n}\n\nfunction defineInputFieldMap(config) {\n  const fieldMap = resolveObjMapThunk(config.fields);\n  isPlainObj(fieldMap) ||\n    devAssert(\n      false,\n      `${config.name} fields must be an object with field names as keys or a function which returns such an object.`,\n    );\n  return mapValue(fieldMap, (fieldConfig, fieldName) => {\n    !('resolve' in fieldConfig) ||\n      devAssert(\n        false,\n        `${config.name}.${fieldName} field has a resolve property, but Input Types cannot define resolvers.`,\n      );\n    return {\n      name: assertName(fieldName),\n      description: fieldConfig.description,\n      type: fieldConfig.type,\n      defaultValue: fieldConfig.defaultValue,\n      deprecationReason: fieldConfig.deprecationReason,\n      extensions: toObjMap(fieldConfig.extensions),\n      astNode: fieldConfig.astNode,\n    };\n  });\n}\n\nexport function isRequiredInputField(field) {\n  return isNonNullType(field.type) && field.defaultValue === undefined;\n}\n","import {\n  isAbstractType,\n  isInterfaceType,\n  isListType,\n  isNonNullType,\n  isObjectType,\n} from '../type/definition.mjs';\n\n/**\n * Provided two types, return true if the types are equal (invariant).\n */\nexport function isEqualType(typeA, typeB) {\n  // Equivalent types are equal.\n  if (typeA === typeB) {\n    return true;\n  } // If either type is non-null, the other must also be non-null.\n\n  if (isNonNullType(typeA) && isNonNullType(typeB)) {\n    return isEqualType(typeA.ofType, typeB.ofType);\n  } // If either type is a list, the other must also be a list.\n\n  if (isListType(typeA) && isListType(typeB)) {\n    return isEqualType(typeA.ofType, typeB.ofType);\n  } // Otherwise the types are not equal.\n\n  return false;\n}\n/**\n * Provided a type and a super type, return true if the first type is either\n * equal or a subset of the second super type (covariant).\n */\n\nexport function isTypeSubTypeOf(schema, maybeSubType, superType) {\n  // Equivalent type is a valid subtype\n  if (maybeSubType === superType) {\n    return true;\n  } // If superType is non-null, maybeSubType must also be non-null.\n\n  if (isNonNullType(superType)) {\n    if (isNonNullType(maybeSubType)) {\n      return isTypeSubTypeOf(schema, maybeSubType.ofType, superType.ofType);\n    }\n\n    return false;\n  }\n\n  if (isNonNullType(maybeSubType)) {\n    // If superType is nullable, maybeSubType may be non-null or nullable.\n    return isTypeSubTypeOf(schema, maybeSubType.ofType, superType);\n  } // If superType type is a list, maybeSubType type must also be a list.\n\n  if (isListType(superType)) {\n    if (isListType(maybeSubType)) {\n      return isTypeSubTypeOf(schema, maybeSubType.ofType, superType.ofType);\n    }\n\n    return false;\n  }\n\n  if (isListType(maybeSubType)) {\n    // If superType is not a list, maybeSubType must also be not a list.\n    return false;\n  } // If superType type is an abstract type, check if it is super type of maybeSubType.\n  // Otherwise, the child type is not a valid subtype of the parent type.\n\n  return (\n    isAbstractType(superType) &&\n    (isInterfaceType(maybeSubType) || isObjectType(maybeSubType)) &&\n    schema.isSubType(superType, maybeSubType)\n  );\n}\n/**\n * Provided two composite types, determine if they \"overlap\". Two composite\n * types overlap when the Sets of possible concrete types for each intersect.\n *\n * This is often used to determine if a fragment of a given type could possibly\n * be visited in a context of another type.\n *\n * This function is commutative.\n */\n\nexport function doTypesOverlap(schema, typeA, typeB) {\n  // Equivalent types overlap\n  if (typeA === typeB) {\n    return true;\n  }\n\n  if (isAbstractType(typeA)) {\n    if (isAbstractType(typeB)) {\n      // If both types are abstract, then determine if there is any intersection\n      // between possible concrete types of each.\n      return schema\n        .getPossibleTypes(typeA)\n        .some((type) => schema.isSubType(typeB, type));\n    } // Determine if the latter type is a possible concrete type of the former.\n\n    return schema.isSubType(typeA, typeB);\n  }\n\n  if (isAbstractType(typeB)) {\n    // Determine if the former type is a possible concrete type of the latter.\n    return schema.isSubType(typeB, typeA);\n  } // Otherwise the types do not overlap.\n\n  return false;\n}\n","import { inspect } from '../jsutils/inspect.mjs';\nimport { isObjectLike } from '../jsutils/isObjectLike.mjs';\nimport { GraphQLError } from '../error/GraphQLError.mjs';\nimport { Kind } from '../language/kinds.mjs';\nimport { print } from '../language/printer.mjs';\nimport { GraphQLScalarType } from './definition.mjs';\n/**\n * Maximum possible Int value as per GraphQL Spec (32-bit signed integer).\n * n.b. This differs from JavaScript's numbers that are IEEE 754 doubles safe up-to 2^53 - 1\n * */\n\nexport const GRAPHQL_MAX_INT = 2147483647;\n/**\n * Minimum possible Int value as per GraphQL Spec (32-bit signed integer).\n * n.b. This differs from JavaScript's numbers that are IEEE 754 doubles safe starting at -(2^53 - 1)\n * */\n\nexport const GRAPHQL_MIN_INT = -2147483648;\nexport const GraphQLInt = new GraphQLScalarType({\n  name: 'Int',\n  description:\n    'The `Int` scalar type represents non-fractional signed whole numeric values. Int can represent values between -(2^31) and 2^31 - 1.',\n\n  serialize(outputValue) {\n    const coercedValue = serializeObject(outputValue);\n\n    if (typeof coercedValue === 'boolean') {\n      return coercedValue ? 1 : 0;\n    }\n\n    let num = coercedValue;\n\n    if (typeof coercedValue === 'string' && coercedValue !== '') {\n      num = Number(coercedValue);\n    }\n\n    if (typeof num !== 'number' || !Number.isInteger(num)) {\n      throw new GraphQLError(\n        `Int cannot represent non-integer value: ${inspect(coercedValue)}`,\n      );\n    }\n\n    if (num > GRAPHQL_MAX_INT || num < GRAPHQL_MIN_INT) {\n      throw new GraphQLError(\n        'Int cannot represent non 32-bit signed integer value: ' +\n          inspect(coercedValue),\n      );\n    }\n\n    return num;\n  },\n\n  parseValue(inputValue) {\n    if (typeof inputValue !== 'number' || !Number.isInteger(inputValue)) {\n      throw new GraphQLError(\n        `Int cannot represent non-integer value: ${inspect(inputValue)}`,\n      );\n    }\n\n    if (inputValue > GRAPHQL_MAX_INT || inputValue < GRAPHQL_MIN_INT) {\n      throw new GraphQLError(\n        `Int cannot represent non 32-bit signed integer value: ${inputValue}`,\n      );\n    }\n\n    return inputValue;\n  },\n\n  parseLiteral(valueNode) {\n    if (valueNode.kind !== Kind.INT) {\n      throw new GraphQLError(\n        `Int cannot represent non-integer value: ${print(valueNode)}`,\n        {\n          nodes: valueNode,\n        },\n      );\n    }\n\n    const num = parseInt(valueNode.value, 10);\n\n    if (num > GRAPHQL_MAX_INT || num < GRAPHQL_MIN_INT) {\n      throw new GraphQLError(\n        `Int cannot represent non 32-bit signed integer value: ${valueNode.value}`,\n        {\n          nodes: valueNode,\n        },\n      );\n    }\n\n    return num;\n  },\n});\nexport const GraphQLFloat = new GraphQLScalarType({\n  name: 'Float',\n  description:\n    'The `Float` scalar type represents signed double-precision fractional values as specified by [IEEE 754](https://en.wikipedia.org/wiki/IEEE_floating_point).',\n\n  serialize(outputValue) {\n    const coercedValue = serializeObject(outputValue);\n\n    if (typeof coercedValue === 'boolean') {\n      return coercedValue ? 1 : 0;\n    }\n\n    let num = coercedValue;\n\n    if (typeof coercedValue === 'string' && coercedValue !== '') {\n      num = Number(coercedValue);\n    }\n\n    if (typeof num !== 'number' || !Number.isFinite(num)) {\n      throw new GraphQLError(\n        `Float cannot represent non numeric value: ${inspect(coercedValue)}`,\n      );\n    }\n\n    return num;\n  },\n\n  parseValue(inputValue) {\n    if (typeof inputValue !== 'number' || !Number.isFinite(inputValue)) {\n      throw new GraphQLError(\n        `Float cannot represent non numeric value: ${inspect(inputValue)}`,\n      );\n    }\n\n    return inputValue;\n  },\n\n  parseLiteral(valueNode) {\n    if (valueNode.kind !== Kind.FLOAT && valueNode.kind !== Kind.INT) {\n      throw new GraphQLError(\n        `Float cannot represent non numeric value: ${print(valueNode)}`,\n        valueNode,\n      );\n    }\n\n    return parseFloat(valueNode.value);\n  },\n});\nexport const GraphQLString = new GraphQLScalarType({\n  name: 'String',\n  description:\n    'The `String` scalar type represents textual data, represented as UTF-8 character sequences. The String type is most often used by GraphQL to represent free-form human-readable text.',\n\n  serialize(outputValue) {\n    const coercedValue = serializeObject(outputValue); // Serialize string, boolean and number values to a string, but do not\n    // attempt to coerce object, function, symbol, or other types as strings.\n\n    if (typeof coercedValue === 'string') {\n      return coercedValue;\n    }\n\n    if (typeof coercedValue === 'boolean') {\n      return coercedValue ? 'true' : 'false';\n    }\n\n    if (typeof coercedValue === 'number' && Number.isFinite(coercedValue)) {\n      return coercedValue.toString();\n    }\n\n    throw new GraphQLError(\n      `String cannot represent value: ${inspect(outputValue)}`,\n    );\n  },\n\n  parseValue(inputValue) {\n    if (typeof inputValue !== 'string') {\n      throw new GraphQLError(\n        `String cannot represent a non string value: ${inspect(inputValue)}`,\n      );\n    }\n\n    return inputValue;\n  },\n\n  parseLiteral(valueNode) {\n    if (valueNode.kind !== Kind.STRING) {\n      throw new GraphQLError(\n        `String cannot represent a non string value: ${print(valueNode)}`,\n        {\n          nodes: valueNode,\n        },\n      );\n    }\n\n    return valueNode.value;\n  },\n});\nexport const GraphQLBoolean = new GraphQLScalarType({\n  name: 'Boolean',\n  description: 'The `Boolean` scalar type represents `true` or `false`.',\n\n  serialize(outputValue) {\n    const coercedValue = serializeObject(outputValue);\n\n    if (typeof coercedValue === 'boolean') {\n      return coercedValue;\n    }\n\n    if (Number.isFinite(coercedValue)) {\n      return coercedValue !== 0;\n    }\n\n    throw new GraphQLError(\n      `Boolean cannot represent a non boolean value: ${inspect(coercedValue)}`,\n    );\n  },\n\n  parseValue(inputValue) {\n    if (typeof inputValue !== 'boolean') {\n      throw new GraphQLError(\n        `Boolean cannot represent a non boolean value: ${inspect(inputValue)}`,\n      );\n    }\n\n    return inputValue;\n  },\n\n  parseLiteral(valueNode) {\n    if (valueNode.kind !== Kind.BOOLEAN) {\n      throw new GraphQLError(\n        `Boolean cannot represent a non boolean value: ${print(valueNode)}`,\n        {\n          nodes: valueNode,\n        },\n      );\n    }\n\n    return valueNode.value;\n  },\n});\nexport const GraphQLID = new GraphQLScalarType({\n  name: 'ID',\n  description:\n    'The `ID` scalar type represents a unique identifier, often used to refetch an object or as key for a cache. The ID type appears in a JSON response as a String; however, it is not intended to be human-readable. When expected as an input type, any string (such as `\"4\"`) or integer (such as `4`) input value will be accepted as an ID.',\n\n  serialize(outputValue) {\n    const coercedValue = serializeObject(outputValue);\n\n    if (typeof coercedValue === 'string') {\n      return coercedValue;\n    }\n\n    if (Number.isInteger(coercedValue)) {\n      return String(coercedValue);\n    }\n\n    throw new GraphQLError(\n      `ID cannot represent value: ${inspect(outputValue)}`,\n    );\n  },\n\n  parseValue(inputValue) {\n    if (typeof inputValue === 'string') {\n      return inputValue;\n    }\n\n    if (typeof inputValue === 'number' && Number.isInteger(inputValue)) {\n      return inputValue.toString();\n    }\n\n    throw new GraphQLError(`ID cannot represent value: ${inspect(inputValue)}`);\n  },\n\n  parseLiteral(valueNode) {\n    if (valueNode.kind !== Kind.STRING && valueNode.kind !== Kind.INT) {\n      throw new GraphQLError(\n        'ID cannot represent a non-string and non-integer value: ' +\n          print(valueNode),\n        {\n          nodes: valueNode,\n        },\n      );\n    }\n\n    return valueNode.value;\n  },\n});\nexport const specifiedScalarTypes = Object.freeze([\n  GraphQLString,\n  GraphQLInt,\n  GraphQLFloat,\n  GraphQLBoolean,\n  GraphQLID,\n]);\nexport function isSpecifiedScalarType(type) {\n  return specifiedScalarTypes.some(({ name }) => type.name === name);\n} // Support serializing objects with custom valueOf() or toJSON() functions -\n// a common way to represent a complex value which can be represented as\n// a string (ex: MongoDB id objects).\n\nfunction serializeObject(outputValue) {\n  if (isObjectLike(outputValue)) {\n    if (typeof outputValue.valueOf === 'function') {\n      const valueOfResult = outputValue.valueOf();\n\n      if (!isObjectLike(valueOfResult)) {\n        return valueOfResult;\n      }\n    }\n\n    if (typeof outputValue.toJSON === 'function') {\n      return outputValue.toJSON();\n    }\n  }\n\n  return outputValue;\n}\n","import { devAssert } from '../jsutils/devAssert.mjs';\nimport { inspect } from '../jsutils/inspect.mjs';\nimport { instanceOf } from '../jsutils/instanceOf.mjs';\nimport { isObjectLike } from '../jsutils/isObjectLike.mjs';\nimport { toObjMap } from '../jsutils/toObjMap.mjs';\nimport { DirectiveLocation } from '../language/directiveLocation.mjs';\nimport { assertName } from './assertName.mjs';\nimport {\n  argsToArgsConfig,\n  defineArguments,\n  GraphQLNonNull,\n} from './definition.mjs';\nimport { GraphQLBoolean, GraphQLString } from './scalars.mjs';\n/**\n * Test if the given value is a GraphQL directive.\n */\n\nexport function isDirective(directive) {\n  return instanceOf(directive, GraphQLDirective);\n}\nexport function assertDirective(directive) {\n  if (!isDirective(directive)) {\n    throw new Error(\n      `Expected ${inspect(directive)} to be a GraphQL directive.`,\n    );\n  }\n\n  return directive;\n}\n/**\n * Custom extensions\n *\n * @remarks\n * Use a unique identifier name for your extension, for example the name of\n * your library or project. Do not use a shortened identifier as this increases\n * the risk of conflicts. We recommend you add at most one extension field,\n * an object which can contain all the values you need.\n */\n\n/**\n * Directives are used by the GraphQL runtime as a way of modifying execution\n * behavior. Type system creators will usually not create these directly.\n */\nexport class GraphQLDirective {\n  constructor(config) {\n    var _config$isRepeatable, _config$args;\n\n    this.name = assertName(config.name);\n    this.description = config.description;\n    this.locations = config.locations;\n    this.isRepeatable =\n      (_config$isRepeatable = config.isRepeatable) !== null &&\n      _config$isRepeatable !== void 0\n        ? _config$isRepeatable\n        : false;\n    this.extensions = toObjMap(config.extensions);\n    this.astNode = config.astNode;\n    Array.isArray(config.locations) ||\n      devAssert(false, `@${config.name} locations must be an Array.`);\n    const args =\n      (_config$args = config.args) !== null && _config$args !== void 0\n        ? _config$args\n        : {};\n    (isObjectLike(args) && !Array.isArray(args)) ||\n      devAssert(\n        false,\n        `@${config.name} args must be an object with argument names as keys.`,\n      );\n    this.args = defineArguments(args);\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'GraphQLDirective';\n  }\n\n  toConfig() {\n    return {\n      name: this.name,\n      description: this.description,\n      locations: this.locations,\n      args: argsToArgsConfig(this.args),\n      isRepeatable: this.isRepeatable,\n      extensions: this.extensions,\n      astNode: this.astNode,\n    };\n  }\n\n  toString() {\n    return '@' + this.name;\n  }\n\n  toJSON() {\n    return this.toString();\n  }\n}\n\n/**\n * Used to conditionally include fields or fragments.\n */\nexport const GraphQLIncludeDirective = new GraphQLDirective({\n  name: 'include',\n  description:\n    'Directs the executor to include this field or fragment only when the `if` argument is true.',\n  locations: [\n    DirectiveLocation.FIELD,\n    DirectiveLocation.FRAGMENT_SPREAD,\n    DirectiveLocation.INLINE_FRAGMENT,\n  ],\n  args: {\n    if: {\n      type: new GraphQLNonNull(GraphQLBoolean),\n      description: 'Included when true.',\n    },\n  },\n});\n/**\n * Used to conditionally skip (exclude) fields or fragments.\n */\n\nexport const GraphQLSkipDirective = new GraphQLDirective({\n  name: 'skip',\n  description:\n    'Directs the executor to skip this field or fragment when the `if` argument is true.',\n  locations: [\n    DirectiveLocation.FIELD,\n    DirectiveLocation.FRAGMENT_SPREAD,\n    DirectiveLocation.INLINE_FRAGMENT,\n  ],\n  args: {\n    if: {\n      type: new GraphQLNonNull(GraphQLBoolean),\n      description: 'Skipped when true.',\n    },\n  },\n});\n/**\n * Constant string used for default reason for a deprecation.\n */\n\nexport const DEFAULT_DEPRECATION_REASON = 'No longer supported';\n/**\n * Used to declare element of a GraphQL schema as deprecated.\n */\n\nexport const GraphQLDeprecatedDirective = new GraphQLDirective({\n  name: 'deprecated',\n  description: 'Marks an element of a GraphQL schema as no longer supported.',\n  locations: [\n    DirectiveLocation.FIELD_DEFINITION,\n    DirectiveLocation.ARGUMENT_DEFINITION,\n    DirectiveLocation.INPUT_FIELD_DEFINITION,\n    DirectiveLocation.ENUM_VALUE,\n  ],\n  args: {\n    reason: {\n      type: GraphQLString,\n      description:\n        'Explains why this element was deprecated, usually also including a suggestion for how to access supported similar data. Formatted using the Markdown syntax, as specified by [CommonMark](https://commonmark.org/).',\n      defaultValue: DEFAULT_DEPRECATION_REASON,\n    },\n  },\n});\n/**\n * Used to provide a URL for specifying the behavior of custom scalar definitions.\n */\n\nexport const GraphQLSpecifiedByDirective = new GraphQLDirective({\n  name: 'specifiedBy',\n  description: 'Exposes a URL that specifies the behavior of this scalar.',\n  locations: [DirectiveLocation.SCALAR],\n  args: {\n    url: {\n      type: new GraphQLNonNull(GraphQLString),\n      description: 'The URL that specifies the behavior of this scalar.',\n    },\n  },\n});\n/**\n * The full list of specified directives.\n */\n\nexport const specifiedDirectives = Object.freeze([\n  GraphQLIncludeDirective,\n  GraphQLSkipDirective,\n  GraphQLDeprecatedDirective,\n  GraphQLSpecifiedByDirective,\n]);\nexport function isSpecifiedDirective(directive) {\n  return specifiedDirectives.some(({ name }) => name === directive.name);\n}\n","/**\n * Returns true if the provided object is an Object (i.e. not a string literal)\n * and implements the Iterator protocol.\n *\n * This may be used in place of [Array.isArray()][isArray] to determine if\n * an object should be iterated-over e.g. Array, Map, Set, Int8Array,\n * TypedArray, etc. but excludes string literals.\n *\n * @example\n * ```ts\n * isIterableObject([ 1, 2, 3 ]) // true\n * isIterableObject(new Map()) // true\n * isIterableObject('ABC') // false\n * isIterableObject({ key: 'value' }) // false\n * isIterableObject({ length: 1, 0: 'Alpha' }) // false\n * ```\n */\nexport function isIterableObject(maybeIterable) {\n  return (\n    typeof maybeIterable === 'object' &&\n    typeof (maybeIterable === null || maybeIterable === void 0\n      ? void 0\n      : maybeIterable[Symbol.iterator]) === 'function'\n  );\n}\n","import { inspect } from '../jsutils/inspect.mjs';\nimport { invariant } from '../jsutils/invariant.mjs';\nimport { isIterableObject } from '../jsutils/isIterableObject.mjs';\nimport { isObjectLike } from '../jsutils/isObjectLike.mjs';\nimport { Kind } from '../language/kinds.mjs';\nimport {\n  isEnumType,\n  isInputObjectType,\n  isLeafType,\n  isListType,\n  isNonNullType,\n} from '../type/definition.mjs';\nimport { GraphQLID } from '../type/scalars.mjs';\n/**\n * Produces a GraphQL Value AST given a JavaScript object.\n * Function will match JavaScript/JSON values to GraphQL AST schema format\n * by using suggested GraphQLInputType. For example:\n *\n *     astFromValue(\"value\", GraphQLString)\n *\n * A GraphQL type must be provided, which will be used to interpret different\n * JavaScript values.\n *\n * | JSON Value    | GraphQL Value        |\n * | ------------- | -------------------- |\n * | Object        | Input Object         |\n * | Array         | List                 |\n * | Boolean       | Boolean              |\n * | String        | String / Enum Value  |\n * | Number        | Int / Float          |\n * | Unknown       | Enum Value           |\n * | null          | NullValue            |\n *\n */\n\nexport function astFromValue(value, type) {\n  if (isNonNullType(type)) {\n    const astValue = astFromValue(value, type.ofType);\n\n    if (\n      (astValue === null || astValue === void 0 ? void 0 : astValue.kind) ===\n      Kind.NULL\n    ) {\n      return null;\n    }\n\n    return astValue;\n  } // only explicit null, not undefined, NaN\n\n  if (value === null) {\n    return {\n      kind: Kind.NULL,\n    };\n  } // undefined\n\n  if (value === undefined) {\n    return null;\n  } // Convert JavaScript array to GraphQL list. If the GraphQLType is a list, but\n  // the value is not an array, convert the value using the list's item type.\n\n  if (isListType(type)) {\n    const itemType = type.ofType;\n\n    if (isIterableObject(value)) {\n      const valuesNodes = [];\n\n      for (const item of value) {\n        const itemNode = astFromValue(item, itemType);\n\n        if (itemNode != null) {\n          valuesNodes.push(itemNode);\n        }\n      }\n\n      return {\n        kind: Kind.LIST,\n        values: valuesNodes,\n      };\n    }\n\n    return astFromValue(value, itemType);\n  } // Populate the fields of the input object by creating ASTs from each value\n  // in the JavaScript object according to the fields in the input type.\n\n  if (isInputObjectType(type)) {\n    if (!isObjectLike(value)) {\n      return null;\n    }\n\n    const fieldNodes = [];\n\n    for (const field of Object.values(type.getFields())) {\n      const fieldValue = astFromValue(value[field.name], field.type);\n\n      if (fieldValue) {\n        fieldNodes.push({\n          kind: Kind.OBJECT_FIELD,\n          name: {\n            kind: Kind.NAME,\n            value: field.name,\n          },\n          value: fieldValue,\n        });\n      }\n    }\n\n    return {\n      kind: Kind.OBJECT,\n      fields: fieldNodes,\n    };\n  }\n\n  if (isLeafType(type)) {\n    // Since value is an internally represented value, it must be serialized\n    // to an externally represented value before converting into an AST.\n    const serialized = type.serialize(value);\n\n    if (serialized == null) {\n      return null;\n    } // Others serialize based on their corresponding JavaScript scalar types.\n\n    if (typeof serialized === 'boolean') {\n      return {\n        kind: Kind.BOOLEAN,\n        value: serialized,\n      };\n    } // JavaScript numbers can be Int or Float values.\n\n    if (typeof serialized === 'number' && Number.isFinite(serialized)) {\n      const stringNum = String(serialized);\n      return integerStringRegExp.test(stringNum)\n        ? {\n            kind: Kind.INT,\n            value: stringNum,\n          }\n        : {\n            kind: Kind.FLOAT,\n            value: stringNum,\n          };\n    }\n\n    if (typeof serialized === 'string') {\n      // Enum types use Enum literals.\n      if (isEnumType(type)) {\n        return {\n          kind: Kind.ENUM,\n          value: serialized,\n        };\n      } // ID types can use Int literals.\n\n      if (type === GraphQLID && integerStringRegExp.test(serialized)) {\n        return {\n          kind: Kind.INT,\n          value: serialized,\n        };\n      }\n\n      return {\n        kind: Kind.STRING,\n        value: serialized,\n      };\n    }\n\n    throw new TypeError(`Cannot convert value to AST: ${inspect(serialized)}.`);\n  }\n  /* c8 ignore next 3 */\n  // Not reachable, all possible types have been considered.\n\n  false || invariant(false, 'Unexpected input type: ' + inspect(type));\n}\n/**\n * IntValue:\n *   - NegativeSign? 0\n *   - NegativeSign? NonZeroDigit ( Digit+ )?\n */\n\nconst integerStringRegExp = /^-?(?:0|[1-9][0-9]*)$/;\n","import { inspect } from '../jsutils/inspect.mjs';\nimport { invariant } from '../jsutils/invariant.mjs';\nimport { DirectiveLocation } from '../language/directiveLocation.mjs';\nimport { print } from '../language/printer.mjs';\nimport { astFromValue } from '../utilities/astFromValue.mjs';\nimport {\n  GraphQLEnumType,\n  GraphQLList,\n  GraphQLNonNull,\n  GraphQLObjectType,\n  isAbstractType,\n  isEnumType,\n  isInputObjectType,\n  isInterfaceType,\n  isListType,\n  isNonNullType,\n  isObjectType,\n  isScalarType,\n  isUnionType,\n} from './definition.mjs';\nimport { GraphQLBoolean, GraphQLString } from './scalars.mjs';\nexport const __Schema = new GraphQLObjectType({\n  name: '__Schema',\n  description:\n    'A GraphQL Schema defines the capabilities of a GraphQL server. It exposes all available types and directives on the server, as well as the entry points for query, mutation, and subscription operations.',\n  fields: () => ({\n    description: {\n      type: GraphQLString,\n      resolve: (schema) => schema.description,\n    },\n    types: {\n      description: 'A list of all types supported by this server.',\n      type: new GraphQLNonNull(new GraphQLList(new GraphQLNonNull(__Type))),\n\n      resolve(schema) {\n        return Object.values(schema.getTypeMap());\n      },\n    },\n    queryType: {\n      description: 'The type that query operations will be rooted at.',\n      type: new GraphQLNonNull(__Type),\n      resolve: (schema) => schema.getQueryType(),\n    },\n    mutationType: {\n      description:\n        'If this server supports mutation, the type that mutation operations will be rooted at.',\n      type: __Type,\n      resolve: (schema) => schema.getMutationType(),\n    },\n    subscriptionType: {\n      description:\n        'If this server support subscription, the type that subscription operations will be rooted at.',\n      type: __Type,\n      resolve: (schema) => schema.getSubscriptionType(),\n    },\n    directives: {\n      description: 'A list of all directives supported by this server.',\n      type: new GraphQLNonNull(\n        new GraphQLList(new GraphQLNonNull(__Directive)),\n      ),\n      resolve: (schema) => schema.getDirectives(),\n    },\n  }),\n});\nexport const __Directive = new GraphQLObjectType({\n  name: '__Directive',\n  description:\n    \"A Directive provides a way to describe alternate runtime execution and type validation behavior in a GraphQL document.\\n\\nIn some cases, you need to provide options to alter GraphQL's execution behavior in ways field arguments will not suffice, such as conditionally including or skipping a field. Directives provide this by describing additional information to the executor.\",\n  fields: () => ({\n    name: {\n      type: new GraphQLNonNull(GraphQLString),\n      resolve: (directive) => directive.name,\n    },\n    description: {\n      type: GraphQLString,\n      resolve: (directive) => directive.description,\n    },\n    isRepeatable: {\n      type: new GraphQLNonNull(GraphQLBoolean),\n      resolve: (directive) => directive.isRepeatable,\n    },\n    locations: {\n      type: new GraphQLNonNull(\n        new GraphQLList(new GraphQLNonNull(__DirectiveLocation)),\n      ),\n      resolve: (directive) => directive.locations,\n    },\n    args: {\n      type: new GraphQLNonNull(\n        new GraphQLList(new GraphQLNonNull(__InputValue)),\n      ),\n      args: {\n        includeDeprecated: {\n          type: GraphQLBoolean,\n          defaultValue: false,\n        },\n      },\n\n      resolve(field, { includeDeprecated }) {\n        return includeDeprecated\n          ? field.args\n          : field.args.filter((arg) => arg.deprecationReason == null);\n      },\n    },\n  }),\n});\nexport const __DirectiveLocation = new GraphQLEnumType({\n  name: '__DirectiveLocation',\n  description:\n    'A Directive can be adjacent to many parts of the GraphQL language, a __DirectiveLocation describes one such possible adjacencies.',\n  values: {\n    QUERY: {\n      value: DirectiveLocation.QUERY,\n      description: 'Location adjacent to a query operation.',\n    },\n    MUTATION: {\n      value: DirectiveLocation.MUTATION,\n      description: 'Location adjacent to a mutation operation.',\n    },\n    SUBSCRIPTION: {\n      value: DirectiveLocation.SUBSCRIPTION,\n      description: 'Location adjacent to a subscription operation.',\n    },\n    FIELD: {\n      value: DirectiveLocation.FIELD,\n      description: 'Location adjacent to a field.',\n    },\n    FRAGMENT_DEFINITION: {\n      value: DirectiveLocation.FRAGMENT_DEFINITION,\n      description: 'Location adjacent to a fragment definition.',\n    },\n    FRAGMENT_SPREAD: {\n      value: DirectiveLocation.FRAGMENT_SPREAD,\n      description: 'Location adjacent to a fragment spread.',\n    },\n    INLINE_FRAGMENT: {\n      value: DirectiveLocation.INLINE_FRAGMENT,\n      description: 'Location adjacent to an inline fragment.',\n    },\n    VARIABLE_DEFINITION: {\n      value: DirectiveLocation.VARIABLE_DEFINITION,\n      description: 'Location adjacent to a variable definition.',\n    },\n    SCHEMA: {\n      value: DirectiveLocation.SCHEMA,\n      description: 'Location adjacent to a schema definition.',\n    },\n    SCALAR: {\n      value: DirectiveLocation.SCALAR,\n      description: 'Location adjacent to a scalar definition.',\n    },\n    OBJECT: {\n      value: DirectiveLocation.OBJECT,\n      description: 'Location adjacent to an object type definition.',\n    },\n    FIELD_DEFINITION: {\n      value: DirectiveLocation.FIELD_DEFINITION,\n      description: 'Location adjacent to a field definition.',\n    },\n    ARGUMENT_DEFINITION: {\n      value: DirectiveLocation.ARGUMENT_DEFINITION,\n      description: 'Location adjacent to an argument definition.',\n    },\n    INTERFACE: {\n      value: DirectiveLocation.INTERFACE,\n      description: 'Location adjacent to an interface definition.',\n    },\n    UNION: {\n      value: DirectiveLocation.UNION,\n      description: 'Location adjacent to a union definition.',\n    },\n    ENUM: {\n      value: DirectiveLocation.ENUM,\n      description: 'Location adjacent to an enum definition.',\n    },\n    ENUM_VALUE: {\n      value: DirectiveLocation.ENUM_VALUE,\n      description: 'Location adjacent to an enum value definition.',\n    },\n    INPUT_OBJECT: {\n      value: DirectiveLocation.INPUT_OBJECT,\n      description: 'Location adjacent to an input object type definition.',\n    },\n    INPUT_FIELD_DEFINITION: {\n      value: DirectiveLocation.INPUT_FIELD_DEFINITION,\n      description: 'Location adjacent to an input object field definition.',\n    },\n  },\n});\nexport const __Type = new GraphQLObjectType({\n  name: '__Type',\n  description:\n    'The fundamental unit of any GraphQL Schema is the type. There are many kinds of types in GraphQL as represented by the `__TypeKind` enum.\\n\\nDepending on the kind of a type, certain fields describe information about that type. Scalar types provide no information beyond a name, description and optional `specifiedByURL`, while Enum types provide their values. Object and Interface types provide the fields they describe. Abstract types, Union and Interface, provide the Object types possible at runtime. List and NonNull types compose other types.',\n  fields: () => ({\n    kind: {\n      type: new GraphQLNonNull(__TypeKind),\n\n      resolve(type) {\n        if (isScalarType(type)) {\n          return TypeKind.SCALAR;\n        }\n\n        if (isObjectType(type)) {\n          return TypeKind.OBJECT;\n        }\n\n        if (isInterfaceType(type)) {\n          return TypeKind.INTERFACE;\n        }\n\n        if (isUnionType(type)) {\n          return TypeKind.UNION;\n        }\n\n        if (isEnumType(type)) {\n          return TypeKind.ENUM;\n        }\n\n        if (isInputObjectType(type)) {\n          return TypeKind.INPUT_OBJECT;\n        }\n\n        if (isListType(type)) {\n          return TypeKind.LIST;\n        }\n\n        if (isNonNullType(type)) {\n          return TypeKind.NON_NULL;\n        }\n        /* c8 ignore next 3 */\n        // Not reachable, all possible types have been considered)\n\n        false || invariant(false, `Unexpected type: \"${inspect(type)}\".`);\n      },\n    },\n    name: {\n      type: GraphQLString,\n      resolve: (type) => ('name' in type ? type.name : undefined),\n    },\n    description: {\n      type: GraphQLString,\n      resolve: (\n        type, // FIXME: add test case\n      ) =>\n        /* c8 ignore next */\n        'description' in type ? type.description : undefined,\n    },\n    specifiedByURL: {\n      type: GraphQLString,\n      resolve: (obj) =>\n        'specifiedByURL' in obj ? obj.specifiedByURL : undefined,\n    },\n    fields: {\n      type: new GraphQLList(new GraphQLNonNull(__Field)),\n      args: {\n        includeDeprecated: {\n          type: GraphQLBoolean,\n          defaultValue: false,\n        },\n      },\n\n      resolve(type, { includeDeprecated }) {\n        if (isObjectType(type) || isInterfaceType(type)) {\n          const fields = Object.values(type.getFields());\n          return includeDeprecated\n            ? fields\n            : fields.filter((field) => field.deprecationReason == null);\n        }\n      },\n    },\n    interfaces: {\n      type: new GraphQLList(new GraphQLNonNull(__Type)),\n\n      resolve(type) {\n        if (isObjectType(type) || isInterfaceType(type)) {\n          return type.getInterfaces();\n        }\n      },\n    },\n    possibleTypes: {\n      type: new GraphQLList(new GraphQLNonNull(__Type)),\n\n      resolve(type, _args, _context, { schema }) {\n        if (isAbstractType(type)) {\n          return schema.getPossibleTypes(type);\n        }\n      },\n    },\n    enumValues: {\n      type: new GraphQLList(new GraphQLNonNull(__EnumValue)),\n      args: {\n        includeDeprecated: {\n          type: GraphQLBoolean,\n          defaultValue: false,\n        },\n      },\n\n      resolve(type, { includeDeprecated }) {\n        if (isEnumType(type)) {\n          const values = type.getValues();\n          return includeDeprecated\n            ? values\n            : values.filter((field) => field.deprecationReason == null);\n        }\n      },\n    },\n    inputFields: {\n      type: new GraphQLList(new GraphQLNonNull(__InputValue)),\n      args: {\n        includeDeprecated: {\n          type: GraphQLBoolean,\n          defaultValue: false,\n        },\n      },\n\n      resolve(type, { includeDeprecated }) {\n        if (isInputObjectType(type)) {\n          const values = Object.values(type.getFields());\n          return includeDeprecated\n            ? values\n            : values.filter((field) => field.deprecationReason == null);\n        }\n      },\n    },\n    ofType: {\n      type: __Type,\n      resolve: (type) => ('ofType' in type ? type.ofType : undefined),\n    },\n  }),\n});\nexport const __Field = new GraphQLObjectType({\n  name: '__Field',\n  description:\n    'Object and Interface types are described by a list of Fields, each of which has a name, potentially a list of arguments, and a return type.',\n  fields: () => ({\n    name: {\n      type: new GraphQLNonNull(GraphQLString),\n      resolve: (field) => field.name,\n    },\n    description: {\n      type: GraphQLString,\n      resolve: (field) => field.description,\n    },\n    args: {\n      type: new GraphQLNonNull(\n        new GraphQLList(new GraphQLNonNull(__InputValue)),\n      ),\n      args: {\n        includeDeprecated: {\n          type: GraphQLBoolean,\n          defaultValue: false,\n        },\n      },\n\n      resolve(field, { includeDeprecated }) {\n        return includeDeprecated\n          ? field.args\n          : field.args.filter((arg) => arg.deprecationReason == null);\n      },\n    },\n    type: {\n      type: new GraphQLNonNull(__Type),\n      resolve: (field) => field.type,\n    },\n    isDeprecated: {\n      type: new GraphQLNonNull(GraphQLBoolean),\n      resolve: (field) => field.deprecationReason != null,\n    },\n    deprecationReason: {\n      type: GraphQLString,\n      resolve: (field) => field.deprecationReason,\n    },\n  }),\n});\nexport const __InputValue = new GraphQLObjectType({\n  name: '__InputValue',\n  description:\n    'Arguments provided to Fields or Directives and the input fields of an InputObject are represented as Input Values which describe their type and optionally a default value.',\n  fields: () => ({\n    name: {\n      type: new GraphQLNonNull(GraphQLString),\n      resolve: (inputValue) => inputValue.name,\n    },\n    description: {\n      type: GraphQLString,\n      resolve: (inputValue) => inputValue.description,\n    },\n    type: {\n      type: new GraphQLNonNull(__Type),\n      resolve: (inputValue) => inputValue.type,\n    },\n    defaultValue: {\n      type: GraphQLString,\n      description:\n        'A GraphQL-formatted string representing the default value for this input value.',\n\n      resolve(inputValue) {\n        const { type, defaultValue } = inputValue;\n        const valueAST = astFromValue(defaultValue, type);\n        return valueAST ? print(valueAST) : null;\n      },\n    },\n    isDeprecated: {\n      type: new GraphQLNonNull(GraphQLBoolean),\n      resolve: (field) => field.deprecationReason != null,\n    },\n    deprecationReason: {\n      type: GraphQLString,\n      resolve: (obj) => obj.deprecationReason,\n    },\n  }),\n});\nexport const __EnumValue = new GraphQLObjectType({\n  name: '__EnumValue',\n  description:\n    'One possible value for a given Enum. Enum values are unique values, not a placeholder for a string or numeric value. However an Enum value is returned in a JSON response as a string.',\n  fields: () => ({\n    name: {\n      type: new GraphQLNonNull(GraphQLString),\n      resolve: (enumValue) => enumValue.name,\n    },\n    description: {\n      type: GraphQLString,\n      resolve: (enumValue) => enumValue.description,\n    },\n    isDeprecated: {\n      type: new GraphQLNonNull(GraphQLBoolean),\n      resolve: (enumValue) => enumValue.deprecationReason != null,\n    },\n    deprecationReason: {\n      type: GraphQLString,\n      resolve: (enumValue) => enumValue.deprecationReason,\n    },\n  }),\n});\nexport let TypeKind;\n\n(function (TypeKind) {\n  TypeKind['SCALAR'] = 'SCALAR';\n  TypeKind['OBJECT'] = 'OBJECT';\n  TypeKind['INTERFACE'] = 'INTERFACE';\n  TypeKind['UNION'] = 'UNION';\n  TypeKind['ENUM'] = 'ENUM';\n  TypeKind['INPUT_OBJECT'] = 'INPUT_OBJECT';\n  TypeKind['LIST'] = 'LIST';\n  TypeKind['NON_NULL'] = 'NON_NULL';\n})(TypeKind || (TypeKind = {}));\n\nexport const __TypeKind = new GraphQLEnumType({\n  name: '__TypeKind',\n  description: 'An enum describing what kind of type a given `__Type` is.',\n  values: {\n    SCALAR: {\n      value: TypeKind.SCALAR,\n      description: 'Indicates this type is a scalar.',\n    },\n    OBJECT: {\n      value: TypeKind.OBJECT,\n      description:\n        'Indicates this type is an object. `fields` and `interfaces` are valid fields.',\n    },\n    INTERFACE: {\n      value: TypeKind.INTERFACE,\n      description:\n        'Indicates this type is an interface. `fields`, `interfaces`, and `possibleTypes` are valid fields.',\n    },\n    UNION: {\n      value: TypeKind.UNION,\n      description:\n        'Indicates this type is a union. `possibleTypes` is a valid field.',\n    },\n    ENUM: {\n      value: TypeKind.ENUM,\n      description:\n        'Indicates this type is an enum. `enumValues` is a valid field.',\n    },\n    INPUT_OBJECT: {\n      value: TypeKind.INPUT_OBJECT,\n      description:\n        'Indicates this type is an input object. `inputFields` is a valid field.',\n    },\n    LIST: {\n      value: TypeKind.LIST,\n      description: 'Indicates this type is a list. `ofType` is a valid field.',\n    },\n    NON_NULL: {\n      value: TypeKind.NON_NULL,\n      description:\n        'Indicates this type is a non-null. `ofType` is a valid field.',\n    },\n  },\n});\n/**\n * Note that these are GraphQLField and not GraphQLFieldConfig,\n * so the format for args is different.\n */\n\nexport const SchemaMetaFieldDef = {\n  name: '__schema',\n  type: new GraphQLNonNull(__Schema),\n  description: 'Access the current type schema of this server.',\n  args: [],\n  resolve: (_source, _args, _context, { schema }) => schema,\n  deprecationReason: undefined,\n  extensions: Object.create(null),\n  astNode: undefined,\n};\nexport const TypeMetaFieldDef = {\n  name: '__type',\n  type: __Type,\n  description: 'Request the type information of a single type.',\n  args: [\n    {\n      name: 'name',\n      description: undefined,\n      type: new GraphQLNonNull(GraphQLString),\n      defaultValue: undefined,\n      deprecationReason: undefined,\n      extensions: Object.create(null),\n      astNode: undefined,\n    },\n  ],\n  resolve: (_source, { name }, _context, { schema }) => schema.getType(name),\n  deprecationReason: undefined,\n  extensions: Object.create(null),\n  astNode: undefined,\n};\nexport const TypeNameMetaFieldDef = {\n  name: '__typename',\n  type: new GraphQLNonNull(GraphQLString),\n  description: 'The name of the current Object type at runtime.',\n  args: [],\n  resolve: (_source, _args, _context, { parentType }) => parentType.name,\n  deprecationReason: undefined,\n  extensions: Object.create(null),\n  astNode: undefined,\n};\nexport const introspectionTypes = Object.freeze([\n  __Schema,\n  __Directive,\n  __DirectiveLocation,\n  __Type,\n  __Field,\n  __InputValue,\n  __EnumValue,\n  __TypeKind,\n]);\nexport function isIntrospectionType(type) {\n  return introspectionTypes.some(({ name }) => type.name === name);\n}\n","import { devAssert } from '../jsutils/devAssert.mjs';\nimport { inspect } from '../jsutils/inspect.mjs';\nimport { instanceOf } from '../jsutils/instanceOf.mjs';\nimport { isObjectLike } from '../jsutils/isObjectLike.mjs';\nimport { toObjMap } from '../jsutils/toObjMap.mjs';\nimport { OperationTypeNode } from '../language/ast.mjs';\nimport {\n  getNamedType,\n  isInputObjectType,\n  isInterfaceType,\n  isObjectType,\n  isUnionType,\n} from './definition.mjs';\nimport { isDirective, specifiedDirectives } from './directives.mjs';\nimport { __Schema } from './introspection.mjs';\n/**\n * Test if the given value is a GraphQL schema.\n */\n\nexport function isSchema(schema) {\n  return instanceOf(schema, GraphQLSchema);\n}\nexport function assertSchema(schema) {\n  if (!isSchema(schema)) {\n    throw new Error(`Expected ${inspect(schema)} to be a GraphQL schema.`);\n  }\n\n  return schema;\n}\n/**\n * Custom extensions\n *\n * @remarks\n * Use a unique identifier name for your extension, for example the name of\n * your library or project. Do not use a shortened identifier as this increases\n * the risk of conflicts. We recommend you add at most one extension field,\n * an object which can contain all the values you need.\n */\n\n/**\n * Schema Definition\n *\n * A Schema is created by supplying the root types of each type of operation,\n * query and mutation (optional). A schema definition is then supplied to the\n * validator and executor.\n *\n * Example:\n *\n * ```ts\n * const MyAppSchema = new GraphQLSchema({\n *   query: MyAppQueryRootType,\n *   mutation: MyAppMutationRootType,\n * })\n * ```\n *\n * Note: When the schema is constructed, by default only the types that are\n * reachable by traversing the root types are included, other types must be\n * explicitly referenced.\n *\n * Example:\n *\n * ```ts\n * const characterInterface = new GraphQLInterfaceType({\n *   name: 'Character',\n *   ...\n * });\n *\n * const humanType = new GraphQLObjectType({\n *   name: 'Human',\n *   interfaces: [characterInterface],\n *   ...\n * });\n *\n * const droidType = new GraphQLObjectType({\n *   name: 'Droid',\n *   interfaces: [characterInterface],\n *   ...\n * });\n *\n * const schema = new GraphQLSchema({\n *   query: new GraphQLObjectType({\n *     name: 'Query',\n *     fields: {\n *       hero: { type: characterInterface, ... },\n *     }\n *   }),\n *   ...\n *   // Since this schema references only the `Character` interface it's\n *   // necessary to explicitly list the types that implement it if\n *   // you want them to be included in the final schema.\n *   types: [humanType, droidType],\n * })\n * ```\n *\n * Note: If an array of `directives` are provided to GraphQLSchema, that will be\n * the exact list of directives represented and allowed. If `directives` is not\n * provided then a default set of the specified directives (e.g. `@include` and\n * `@skip`) will be used. If you wish to provide *additional* directives to these\n * specified directives, you must explicitly declare them. Example:\n *\n * ```ts\n * const MyAppSchema = new GraphQLSchema({\n *   ...\n *   directives: specifiedDirectives.concat([ myCustomDirective ]),\n * })\n * ```\n */\nexport class GraphQLSchema {\n  // Used as a cache for validateSchema().\n  constructor(config) {\n    var _config$extensionASTN, _config$directives;\n\n    // If this schema was built from a source known to be valid, then it may be\n    // marked with assumeValid to avoid an additional type system validation.\n    this.__validationErrors = config.assumeValid === true ? [] : undefined; // Check for common mistakes during construction to produce early errors.\n\n    isObjectLike(config) ||\n      devAssert(false, 'Must provide configuration object.');\n    !config.types ||\n      Array.isArray(config.types) ||\n      devAssert(\n        false,\n        `\"types\" must be Array if provided but got: ${inspect(config.types)}.`,\n      );\n    !config.directives ||\n      Array.isArray(config.directives) ||\n      devAssert(\n        false,\n        '\"directives\" must be Array if provided but got: ' +\n          `${inspect(config.directives)}.`,\n      );\n    this.description = config.description;\n    this.extensions = toObjMap(config.extensions);\n    this.astNode = config.astNode;\n    this.extensionASTNodes =\n      (_config$extensionASTN = config.extensionASTNodes) !== null &&\n      _config$extensionASTN !== void 0\n        ? _config$extensionASTN\n        : [];\n    this._queryType = config.query;\n    this._mutationType = config.mutation;\n    this._subscriptionType = config.subscription; // Provide specified directives (e.g. @include and @skip) by default.\n\n    this._directives =\n      (_config$directives = config.directives) !== null &&\n      _config$directives !== void 0\n        ? _config$directives\n        : specifiedDirectives; // To preserve order of user-provided types, we add first to add them to\n    // the set of \"collected\" types, so `collectReferencedTypes` ignore them.\n\n    const allReferencedTypes = new Set(config.types);\n\n    if (config.types != null) {\n      for (const type of config.types) {\n        // When we ready to process this type, we remove it from \"collected\" types\n        // and then add it together with all dependent types in the correct position.\n        allReferencedTypes.delete(type);\n        collectReferencedTypes(type, allReferencedTypes);\n      }\n    }\n\n    if (this._queryType != null) {\n      collectReferencedTypes(this._queryType, allReferencedTypes);\n    }\n\n    if (this._mutationType != null) {\n      collectReferencedTypes(this._mutationType, allReferencedTypes);\n    }\n\n    if (this._subscriptionType != null) {\n      collectReferencedTypes(this._subscriptionType, allReferencedTypes);\n    }\n\n    for (const directive of this._directives) {\n      // Directives are not validated until validateSchema() is called.\n      if (isDirective(directive)) {\n        for (const arg of directive.args) {\n          collectReferencedTypes(arg.type, allReferencedTypes);\n        }\n      }\n    }\n\n    collectReferencedTypes(__Schema, allReferencedTypes); // Storing the resulting map for reference by the schema.\n\n    this._typeMap = Object.create(null);\n    this._subTypeMap = Object.create(null); // Keep track of all implementations by interface name.\n\n    this._implementationsMap = Object.create(null);\n\n    for (const namedType of allReferencedTypes) {\n      if (namedType == null) {\n        continue;\n      }\n\n      const typeName = namedType.name;\n      typeName ||\n        devAssert(\n          false,\n          'One of the provided types for building the Schema is missing a name.',\n        );\n\n      if (this._typeMap[typeName] !== undefined) {\n        throw new Error(\n          `Schema must contain uniquely named types but contains multiple types named \"${typeName}\".`,\n        );\n      }\n\n      this._typeMap[typeName] = namedType;\n\n      if (isInterfaceType(namedType)) {\n        // Store implementations by interface.\n        for (const iface of namedType.getInterfaces()) {\n          if (isInterfaceType(iface)) {\n            let implementations = this._implementationsMap[iface.name];\n\n            if (implementations === undefined) {\n              implementations = this._implementationsMap[iface.name] = {\n                objects: [],\n                interfaces: [],\n              };\n            }\n\n            implementations.interfaces.push(namedType);\n          }\n        }\n      } else if (isObjectType(namedType)) {\n        // Store implementations by objects.\n        for (const iface of namedType.getInterfaces()) {\n          if (isInterfaceType(iface)) {\n            let implementations = this._implementationsMap[iface.name];\n\n            if (implementations === undefined) {\n              implementations = this._implementationsMap[iface.name] = {\n                objects: [],\n                interfaces: [],\n              };\n            }\n\n            implementations.objects.push(namedType);\n          }\n        }\n      }\n    }\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'GraphQLSchema';\n  }\n\n  getQueryType() {\n    return this._queryType;\n  }\n\n  getMutationType() {\n    return this._mutationType;\n  }\n\n  getSubscriptionType() {\n    return this._subscriptionType;\n  }\n\n  getRootType(operation) {\n    switch (operation) {\n      case OperationTypeNode.QUERY:\n        return this.getQueryType();\n\n      case OperationTypeNode.MUTATION:\n        return this.getMutationType();\n\n      case OperationTypeNode.SUBSCRIPTION:\n        return this.getSubscriptionType();\n    }\n  }\n\n  getTypeMap() {\n    return this._typeMap;\n  }\n\n  getType(name) {\n    return this.getTypeMap()[name];\n  }\n\n  getPossibleTypes(abstractType) {\n    return isUnionType(abstractType)\n      ? abstractType.getTypes()\n      : this.getImplementations(abstractType).objects;\n  }\n\n  getImplementations(interfaceType) {\n    const implementations = this._implementationsMap[interfaceType.name];\n    return implementations !== null && implementations !== void 0\n      ? implementations\n      : {\n          objects: [],\n          interfaces: [],\n        };\n  }\n\n  isSubType(abstractType, maybeSubType) {\n    let map = this._subTypeMap[abstractType.name];\n\n    if (map === undefined) {\n      map = Object.create(null);\n\n      if (isUnionType(abstractType)) {\n        for (const type of abstractType.getTypes()) {\n          map[type.name] = true;\n        }\n      } else {\n        const implementations = this.getImplementations(abstractType);\n\n        for (const type of implementations.objects) {\n          map[type.name] = true;\n        }\n\n        for (const type of implementations.interfaces) {\n          map[type.name] = true;\n        }\n      }\n\n      this._subTypeMap[abstractType.name] = map;\n    }\n\n    return map[maybeSubType.name] !== undefined;\n  }\n\n  getDirectives() {\n    return this._directives;\n  }\n\n  getDirective(name) {\n    return this.getDirectives().find((directive) => directive.name === name);\n  }\n\n  toConfig() {\n    return {\n      description: this.description,\n      query: this.getQueryType(),\n      mutation: this.getMutationType(),\n      subscription: this.getSubscriptionType(),\n      types: Object.values(this.getTypeMap()),\n      directives: this.getDirectives(),\n      extensions: this.extensions,\n      astNode: this.astNode,\n      extensionASTNodes: this.extensionASTNodes,\n      assumeValid: this.__validationErrors !== undefined,\n    };\n  }\n}\n\nfunction collectReferencedTypes(type, typeSet) {\n  const namedType = getNamedType(type);\n\n  if (!typeSet.has(namedType)) {\n    typeSet.add(namedType);\n\n    if (isUnionType(namedType)) {\n      for (const memberType of namedType.getTypes()) {\n        collectReferencedTypes(memberType, typeSet);\n      }\n    } else if (isObjectType(namedType) || isInterfaceType(namedType)) {\n      for (const interfaceType of namedType.getInterfaces()) {\n        collectReferencedTypes(interfaceType, typeSet);\n      }\n\n      for (const field of Object.values(namedType.getFields())) {\n        collectReferencedTypes(field.type, typeSet);\n\n        for (const arg of field.args) {\n          collectReferencedTypes(arg.type, typeSet);\n        }\n      }\n    } else if (isInputObjectType(namedType)) {\n      for (const field of Object.values(namedType.getFields())) {\n        collectReferencedTypes(field.type, typeSet);\n      }\n    }\n  }\n\n  return typeSet;\n}\n","import { inspect } from '../jsutils/inspect.mjs';\nimport { GraphQLError } from '../error/GraphQLError.mjs';\nimport { OperationTypeNode } from '../language/ast.mjs';\nimport { isEqualType, isTypeSubTypeOf } from '../utilities/typeComparators.mjs';\nimport {\n  isEnumType,\n  isInputObjectType,\n  isInputType,\n  isInterfaceType,\n  isNamedType,\n  isNonNullType,\n  isObjectType,\n  isOutputType,\n  isRequiredArgument,\n  isRequiredInputField,\n  isUnionType,\n} from './definition.mjs';\nimport { GraphQLDeprecatedDirective, isDirective } from './directives.mjs';\nimport { isIntrospectionType } from './introspection.mjs';\nimport { assertSchema } from './schema.mjs';\n/**\n * Implements the \"Type Validation\" sub-sections of the specification's\n * \"Type System\" section.\n *\n * Validation runs synchronously, returning an array of encountered errors, or\n * an empty array if no errors were encountered and the Schema is valid.\n */\n\nexport function validateSchema(schema) {\n  // First check to ensure the provided value is in fact a GraphQLSchema.\n  assertSchema(schema); // If this Schema has already been validated, return the previous results.\n\n  if (schema.__validationErrors) {\n    return schema.__validationErrors;\n  } // Validate the schema, producing a list of errors.\n\n  const context = new SchemaValidationContext(schema);\n  validateRootTypes(context);\n  validateDirectives(context);\n  validateTypes(context); // Persist the results of validation before returning to ensure validation\n  // does not run multiple times for this schema.\n\n  const errors = context.getErrors();\n  schema.__validationErrors = errors;\n  return errors;\n}\n/**\n * Utility function which asserts a schema is valid by throwing an error if\n * it is invalid.\n */\n\nexport function assertValidSchema(schema) {\n  const errors = validateSchema(schema);\n\n  if (errors.length !== 0) {\n    throw new Error(errors.map((error) => error.message).join('\\n\\n'));\n  }\n}\n\nclass SchemaValidationContext {\n  constructor(schema) {\n    this._errors = [];\n    this.schema = schema;\n  }\n\n  reportError(message, nodes) {\n    const _nodes = Array.isArray(nodes) ? nodes.filter(Boolean) : nodes;\n\n    this._errors.push(\n      new GraphQLError(message, {\n        nodes: _nodes,\n      }),\n    );\n  }\n\n  getErrors() {\n    return this._errors;\n  }\n}\n\nfunction validateRootTypes(context) {\n  const schema = context.schema;\n  const queryType = schema.getQueryType();\n\n  if (!queryType) {\n    context.reportError('Query root type must be provided.', schema.astNode);\n  } else if (!isObjectType(queryType)) {\n    var _getOperationTypeNode;\n\n    context.reportError(\n      `Query root type must be Object type, it cannot be ${inspect(\n        queryType,\n      )}.`,\n      (_getOperationTypeNode = getOperationTypeNode(\n        schema,\n        OperationTypeNode.QUERY,\n      )) !== null && _getOperationTypeNode !== void 0\n        ? _getOperationTypeNode\n        : queryType.astNode,\n    );\n  }\n\n  const mutationType = schema.getMutationType();\n\n  if (mutationType && !isObjectType(mutationType)) {\n    var _getOperationTypeNode2;\n\n    context.reportError(\n      'Mutation root type must be Object type if provided, it cannot be ' +\n        `${inspect(mutationType)}.`,\n      (_getOperationTypeNode2 = getOperationTypeNode(\n        schema,\n        OperationTypeNode.MUTATION,\n      )) !== null && _getOperationTypeNode2 !== void 0\n        ? _getOperationTypeNode2\n        : mutationType.astNode,\n    );\n  }\n\n  const subscriptionType = schema.getSubscriptionType();\n\n  if (subscriptionType && !isObjectType(subscriptionType)) {\n    var _getOperationTypeNode3;\n\n    context.reportError(\n      'Subscription root type must be Object type if provided, it cannot be ' +\n        `${inspect(subscriptionType)}.`,\n      (_getOperationTypeNode3 = getOperationTypeNode(\n        schema,\n        OperationTypeNode.SUBSCRIPTION,\n      )) !== null && _getOperationTypeNode3 !== void 0\n        ? _getOperationTypeNode3\n        : subscriptionType.astNode,\n    );\n  }\n}\n\nfunction getOperationTypeNode(schema, operation) {\n  var _flatMap$find;\n\n  return (_flatMap$find = [schema.astNode, ...schema.extensionASTNodes]\n    .flatMap(\n      // FIXME: https://github.com/graphql/graphql-js/issues/2203\n      (schemaNode) => {\n        var _schemaNode$operation;\n\n        return (\n          /* c8 ignore next */\n          (_schemaNode$operation =\n            schemaNode === null || schemaNode === void 0\n              ? void 0\n              : schemaNode.operationTypes) !== null &&\n            _schemaNode$operation !== void 0\n            ? _schemaNode$operation\n            : []\n        );\n      },\n    )\n    .find((operationNode) => operationNode.operation === operation)) === null ||\n    _flatMap$find === void 0\n    ? void 0\n    : _flatMap$find.type;\n}\n\nfunction validateDirectives(context) {\n  for (const directive of context.schema.getDirectives()) {\n    // Ensure all directives are in fact GraphQL directives.\n    if (!isDirective(directive)) {\n      context.reportError(\n        `Expected directive but got: ${inspect(directive)}.`,\n        directive === null || directive === void 0 ? void 0 : directive.astNode,\n      );\n      continue;\n    } // Ensure they are named correctly.\n\n    validateName(context, directive); // TODO: Ensure proper locations.\n    // Ensure the arguments are valid.\n\n    for (const arg of directive.args) {\n      // Ensure they are named correctly.\n      validateName(context, arg); // Ensure the type is an input type.\n\n      if (!isInputType(arg.type)) {\n        context.reportError(\n          `The type of @${directive.name}(${arg.name}:) must be Input Type ` +\n            `but got: ${inspect(arg.type)}.`,\n          arg.astNode,\n        );\n      }\n\n      if (isRequiredArgument(arg) && arg.deprecationReason != null) {\n        var _arg$astNode;\n\n        context.reportError(\n          `Required argument @${directive.name}(${arg.name}:) cannot be deprecated.`,\n          [\n            getDeprecatedDirectiveNode(arg.astNode),\n            (_arg$astNode = arg.astNode) === null || _arg$astNode === void 0\n              ? void 0\n              : _arg$astNode.type,\n          ],\n        );\n      }\n    }\n  }\n}\n\nfunction validateName(context, node) {\n  // Ensure names are valid, however introspection types opt out.\n  if (node.name.startsWith('__')) {\n    context.reportError(\n      `Name \"${node.name}\" must not begin with \"__\", which is reserved by GraphQL introspection.`,\n      node.astNode,\n    );\n  }\n}\n\nfunction validateTypes(context) {\n  const validateInputObjectCircularRefs =\n    createInputObjectCircularRefsValidator(context);\n  const typeMap = context.schema.getTypeMap();\n\n  for (const type of Object.values(typeMap)) {\n    // Ensure all provided types are in fact GraphQL type.\n    if (!isNamedType(type)) {\n      context.reportError(\n        `Expected GraphQL named type but got: ${inspect(type)}.`,\n        type.astNode,\n      );\n      continue;\n    } // Ensure it is named correctly (excluding introspection types).\n\n    if (!isIntrospectionType(type)) {\n      validateName(context, type);\n    }\n\n    if (isObjectType(type)) {\n      // Ensure fields are valid\n      validateFields(context, type); // Ensure objects implement the interfaces they claim to.\n\n      validateInterfaces(context, type);\n    } else if (isInterfaceType(type)) {\n      // Ensure fields are valid.\n      validateFields(context, type); // Ensure interfaces implement the interfaces they claim to.\n\n      validateInterfaces(context, type);\n    } else if (isUnionType(type)) {\n      // Ensure Unions include valid member types.\n      validateUnionMembers(context, type);\n    } else if (isEnumType(type)) {\n      // Ensure Enums have valid values.\n      validateEnumValues(context, type);\n    } else if (isInputObjectType(type)) {\n      // Ensure Input Object fields are valid.\n      validateInputFields(context, type); // Ensure Input Objects do not contain non-nullable circular references\n\n      validateInputObjectCircularRefs(type);\n    }\n  }\n}\n\nfunction validateFields(context, type) {\n  const fields = Object.values(type.getFields()); // Objects and Interfaces both must define one or more fields.\n\n  if (fields.length === 0) {\n    context.reportError(`Type ${type.name} must define one or more fields.`, [\n      type.astNode,\n      ...type.extensionASTNodes,\n    ]);\n  }\n\n  for (const field of fields) {\n    // Ensure they are named correctly.\n    validateName(context, field); // Ensure the type is an output type\n\n    if (!isOutputType(field.type)) {\n      var _field$astNode;\n\n      context.reportError(\n        `The type of ${type.name}.${field.name} must be Output Type ` +\n          `but got: ${inspect(field.type)}.`,\n        (_field$astNode = field.astNode) === null || _field$astNode === void 0\n          ? void 0\n          : _field$astNode.type,\n      );\n    } // Ensure the arguments are valid\n\n    for (const arg of field.args) {\n      const argName = arg.name; // Ensure they are named correctly.\n\n      validateName(context, arg); // Ensure the type is an input type\n\n      if (!isInputType(arg.type)) {\n        var _arg$astNode2;\n\n        context.reportError(\n          `The type of ${type.name}.${field.name}(${argName}:) must be Input ` +\n            `Type but got: ${inspect(arg.type)}.`,\n          (_arg$astNode2 = arg.astNode) === null || _arg$astNode2 === void 0\n            ? void 0\n            : _arg$astNode2.type,\n        );\n      }\n\n      if (isRequiredArgument(arg) && arg.deprecationReason != null) {\n        var _arg$astNode3;\n\n        context.reportError(\n          `Required argument ${type.name}.${field.name}(${argName}:) cannot be deprecated.`,\n          [\n            getDeprecatedDirectiveNode(arg.astNode),\n            (_arg$astNode3 = arg.astNode) === null || _arg$astNode3 === void 0\n              ? void 0\n              : _arg$astNode3.type,\n          ],\n        );\n      }\n    }\n  }\n}\n\nfunction validateInterfaces(context, type) {\n  const ifaceTypeNames = Object.create(null);\n\n  for (const iface of type.getInterfaces()) {\n    if (!isInterfaceType(iface)) {\n      context.reportError(\n        `Type ${inspect(type)} must only implement Interface types, ` +\n          `it cannot implement ${inspect(iface)}.`,\n        getAllImplementsInterfaceNodes(type, iface),\n      );\n      continue;\n    }\n\n    if (type === iface) {\n      context.reportError(\n        `Type ${type.name} cannot implement itself because it would create a circular reference.`,\n        getAllImplementsInterfaceNodes(type, iface),\n      );\n      continue;\n    }\n\n    if (ifaceTypeNames[iface.name]) {\n      context.reportError(\n        `Type ${type.name} can only implement ${iface.name} once.`,\n        getAllImplementsInterfaceNodes(type, iface),\n      );\n      continue;\n    }\n\n    ifaceTypeNames[iface.name] = true;\n    validateTypeImplementsAncestors(context, type, iface);\n    validateTypeImplementsInterface(context, type, iface);\n  }\n}\n\nfunction validateTypeImplementsInterface(context, type, iface) {\n  const typeFieldMap = type.getFields(); // Assert each interface field is implemented.\n\n  for (const ifaceField of Object.values(iface.getFields())) {\n    const fieldName = ifaceField.name;\n    const typeField = typeFieldMap[fieldName]; // Assert interface field exists on type.\n\n    if (!typeField) {\n      context.reportError(\n        `Interface field ${iface.name}.${fieldName} expected but ${type.name} does not provide it.`,\n        [ifaceField.astNode, type.astNode, ...type.extensionASTNodes],\n      );\n      continue;\n    } // Assert interface field type is satisfied by type field type, by being\n    // a valid subtype. (covariant)\n\n    if (!isTypeSubTypeOf(context.schema, typeField.type, ifaceField.type)) {\n      var _ifaceField$astNode, _typeField$astNode;\n\n      context.reportError(\n        `Interface field ${iface.name}.${fieldName} expects type ` +\n          `${inspect(ifaceField.type)} but ${type.name}.${fieldName} ` +\n          `is type ${inspect(typeField.type)}.`,\n        [\n          (_ifaceField$astNode = ifaceField.astNode) === null ||\n          _ifaceField$astNode === void 0\n            ? void 0\n            : _ifaceField$astNode.type,\n          (_typeField$astNode = typeField.astNode) === null ||\n          _typeField$astNode === void 0\n            ? void 0\n            : _typeField$astNode.type,\n        ],\n      );\n    } // Assert each interface field arg is implemented.\n\n    for (const ifaceArg of ifaceField.args) {\n      const argName = ifaceArg.name;\n      const typeArg = typeField.args.find((arg) => arg.name === argName); // Assert interface field arg exists on object field.\n\n      if (!typeArg) {\n        context.reportError(\n          `Interface field argument ${iface.name}.${fieldName}(${argName}:) expected but ${type.name}.${fieldName} does not provide it.`,\n          [ifaceArg.astNode, typeField.astNode],\n        );\n        continue;\n      } // Assert interface field arg type matches object field arg type.\n      // (invariant)\n      // TODO: change to contravariant?\n\n      if (!isEqualType(ifaceArg.type, typeArg.type)) {\n        var _ifaceArg$astNode, _typeArg$astNode;\n\n        context.reportError(\n          `Interface field argument ${iface.name}.${fieldName}(${argName}:) ` +\n            `expects type ${inspect(ifaceArg.type)} but ` +\n            `${type.name}.${fieldName}(${argName}:) is type ` +\n            `${inspect(typeArg.type)}.`,\n          [\n            (_ifaceArg$astNode = ifaceArg.astNode) === null ||\n            _ifaceArg$astNode === void 0\n              ? void 0\n              : _ifaceArg$astNode.type,\n            (_typeArg$astNode = typeArg.astNode) === null ||\n            _typeArg$astNode === void 0\n              ? void 0\n              : _typeArg$astNode.type,\n          ],\n        );\n      } // TODO: validate default values?\n    } // Assert additional arguments must not be required.\n\n    for (const typeArg of typeField.args) {\n      const argName = typeArg.name;\n      const ifaceArg = ifaceField.args.find((arg) => arg.name === argName);\n\n      if (!ifaceArg && isRequiredArgument(typeArg)) {\n        context.reportError(\n          `Object field ${type.name}.${fieldName} includes required argument ${argName} that is missing from the Interface field ${iface.name}.${fieldName}.`,\n          [typeArg.astNode, ifaceField.astNode],\n        );\n      }\n    }\n  }\n}\n\nfunction validateTypeImplementsAncestors(context, type, iface) {\n  const ifaceInterfaces = type.getInterfaces();\n\n  for (const transitive of iface.getInterfaces()) {\n    if (!ifaceInterfaces.includes(transitive)) {\n      context.reportError(\n        transitive === type\n          ? `Type ${type.name} cannot implement ${iface.name} because it would create a circular reference.`\n          : `Type ${type.name} must implement ${transitive.name} because it is implemented by ${iface.name}.`,\n        [\n          ...getAllImplementsInterfaceNodes(iface, transitive),\n          ...getAllImplementsInterfaceNodes(type, iface),\n        ],\n      );\n    }\n  }\n}\n\nfunction validateUnionMembers(context, union) {\n  const memberTypes = union.getTypes();\n\n  if (memberTypes.length === 0) {\n    context.reportError(\n      `Union type ${union.name} must define one or more member types.`,\n      [union.astNode, ...union.extensionASTNodes],\n    );\n  }\n\n  const includedTypeNames = Object.create(null);\n\n  for (const memberType of memberTypes) {\n    if (includedTypeNames[memberType.name]) {\n      context.reportError(\n        `Union type ${union.name} can only include type ${memberType.name} once.`,\n        getUnionMemberTypeNodes(union, memberType.name),\n      );\n      continue;\n    }\n\n    includedTypeNames[memberType.name] = true;\n\n    if (!isObjectType(memberType)) {\n      context.reportError(\n        `Union type ${union.name} can only include Object types, ` +\n          `it cannot include ${inspect(memberType)}.`,\n        getUnionMemberTypeNodes(union, String(memberType)),\n      );\n    }\n  }\n}\n\nfunction validateEnumValues(context, enumType) {\n  const enumValues = enumType.getValues();\n\n  if (enumValues.length === 0) {\n    context.reportError(\n      `Enum type ${enumType.name} must define one or more values.`,\n      [enumType.astNode, ...enumType.extensionASTNodes],\n    );\n  }\n\n  for (const enumValue of enumValues) {\n    // Ensure valid name.\n    validateName(context, enumValue);\n  }\n}\n\nfunction validateInputFields(context, inputObj) {\n  const fields = Object.values(inputObj.getFields());\n\n  if (fields.length === 0) {\n    context.reportError(\n      `Input Object type ${inputObj.name} must define one or more fields.`,\n      [inputObj.astNode, ...inputObj.extensionASTNodes],\n    );\n  } // Ensure the arguments are valid\n\n  for (const field of fields) {\n    // Ensure they are named correctly.\n    validateName(context, field); // Ensure the type is an input type\n\n    if (!isInputType(field.type)) {\n      var _field$astNode2;\n\n      context.reportError(\n        `The type of ${inputObj.name}.${field.name} must be Input Type ` +\n          `but got: ${inspect(field.type)}.`,\n        (_field$astNode2 = field.astNode) === null || _field$astNode2 === void 0\n          ? void 0\n          : _field$astNode2.type,\n      );\n    }\n\n    if (isRequiredInputField(field) && field.deprecationReason != null) {\n      var _field$astNode3;\n\n      context.reportError(\n        `Required input field ${inputObj.name}.${field.name} cannot be deprecated.`,\n        [\n          getDeprecatedDirectiveNode(field.astNode),\n          (_field$astNode3 = field.astNode) === null ||\n          _field$astNode3 === void 0\n            ? void 0\n            : _field$astNode3.type,\n        ],\n      );\n    }\n  }\n}\n\nfunction createInputObjectCircularRefsValidator(context) {\n  // Modified copy of algorithm from 'src/validation/rules/NoFragmentCycles.js'.\n  // Tracks already visited types to maintain O(N) and to ensure that cycles\n  // are not redundantly reported.\n  const visitedTypes = Object.create(null); // Array of types nodes used to produce meaningful errors\n\n  const fieldPath = []; // Position in the type path\n\n  const fieldPathIndexByTypeName = Object.create(null);\n  return detectCycleRecursive; // This does a straight-forward DFS to find cycles.\n  // It does not terminate when a cycle was found but continues to explore\n  // the graph to find all possible cycles.\n\n  function detectCycleRecursive(inputObj) {\n    if (visitedTypes[inputObj.name]) {\n      return;\n    }\n\n    visitedTypes[inputObj.name] = true;\n    fieldPathIndexByTypeName[inputObj.name] = fieldPath.length;\n    const fields = Object.values(inputObj.getFields());\n\n    for (const field of fields) {\n      if (isNonNullType(field.type) && isInputObjectType(field.type.ofType)) {\n        const fieldType = field.type.ofType;\n        const cycleIndex = fieldPathIndexByTypeName[fieldType.name];\n        fieldPath.push(field);\n\n        if (cycleIndex === undefined) {\n          detectCycleRecursive(fieldType);\n        } else {\n          const cyclePath = fieldPath.slice(cycleIndex);\n          const pathStr = cyclePath.map((fieldObj) => fieldObj.name).join('.');\n          context.reportError(\n            `Cannot reference Input Object \"${fieldType.name}\" within itself through a series of non-null fields: \"${pathStr}\".`,\n            cyclePath.map((fieldObj) => fieldObj.astNode),\n          );\n        }\n\n        fieldPath.pop();\n      }\n    }\n\n    fieldPathIndexByTypeName[inputObj.name] = undefined;\n  }\n}\n\nfunction getAllImplementsInterfaceNodes(type, iface) {\n  const { astNode, extensionASTNodes } = type;\n  const nodes =\n    astNode != null ? [astNode, ...extensionASTNodes] : extensionASTNodes; // FIXME: https://github.com/graphql/graphql-js/issues/2203\n\n  return nodes\n    .flatMap((typeNode) => {\n      var _typeNode$interfaces;\n\n      return (\n        /* c8 ignore next */\n        (_typeNode$interfaces = typeNode.interfaces) !== null &&\n          _typeNode$interfaces !== void 0\n          ? _typeNode$interfaces\n          : []\n      );\n    })\n    .filter((ifaceNode) => ifaceNode.name.value === iface.name);\n}\n\nfunction getUnionMemberTypeNodes(union, typeName) {\n  const { astNode, extensionASTNodes } = union;\n  const nodes =\n    astNode != null ? [astNode, ...extensionASTNodes] : extensionASTNodes; // FIXME: https://github.com/graphql/graphql-js/issues/2203\n\n  return nodes\n    .flatMap((unionNode) => {\n      var _unionNode$types;\n\n      return (\n        /* c8 ignore next */\n        (_unionNode$types = unionNode.types) !== null &&\n          _unionNode$types !== void 0\n          ? _unionNode$types\n          : []\n      );\n    })\n    .filter((typeNode) => typeNode.name.value === typeName);\n}\n\nfunction getDeprecatedDirectiveNode(definitionNode) {\n  var _definitionNode$direc;\n\n  return definitionNode === null || definitionNode === void 0\n    ? void 0\n    : (_definitionNode$direc = definitionNode.directives) === null ||\n      _definitionNode$direc === void 0\n    ? void 0\n    : _definitionNode$direc.find(\n        (node) => node.name.value === GraphQLDeprecatedDirective.name,\n      );\n}\n","import { Kind } from '../language/kinds.mjs';\nimport { GraphQLList, GraphQLNonNull } from '../type/definition.mjs';\nexport function typeFromAST(schema, typeNode) {\n  switch (typeNode.kind) {\n    case Kind.LIST_TYPE: {\n      const innerType = typeFromAST(schema, typeNode.type);\n      return innerType && new GraphQLList(innerType);\n    }\n\n    case Kind.NON_NULL_TYPE: {\n      const innerType = typeFromAST(schema, typeNode.type);\n      return innerType && new GraphQLNonNull(innerType);\n    }\n\n    case Kind.NAMED_TYPE:\n      return schema.getType(typeNode.name.value);\n  }\n}\n","import { isNode } from '../language/ast.mjs';\nimport { Kind } from '../language/kinds.mjs';\nimport { getEnterLeaveForKind } from '../language/visitor.mjs';\nimport {\n  getNamedType,\n  getNullableType,\n  isCompositeType,\n  isEnumType,\n  isInputObjectType,\n  isInputType,\n  isInterfaceType,\n  isListType,\n  isObjectType,\n  isOutputType,\n} from '../type/definition.mjs';\nimport {\n  SchemaMetaFieldDef,\n  TypeMetaFieldDef,\n  TypeNameMetaFieldDef,\n} from '../type/introspection.mjs';\nimport { typeFromAST } from './typeFromAST.mjs';\n/**\n * TypeInfo is a utility class which, given a GraphQL schema, can keep track\n * of the current field and type definitions at any point in a GraphQL document\n * AST during a recursive descent by calling `enter(node)` and `leave(node)`.\n */\n\nexport class TypeInfo {\n  constructor(\n    schema,\n    /**\n     * Initial type may be provided in rare cases to facilitate traversals\n     *  beginning somewhere other than documents.\n     */\n    initialType,\n    /** @deprecated will be removed in 17.0.0 */\n    getFieldDefFn,\n  ) {\n    this._schema = schema;\n    this._typeStack = [];\n    this._parentTypeStack = [];\n    this._inputTypeStack = [];\n    this._fieldDefStack = [];\n    this._defaultValueStack = [];\n    this._directive = null;\n    this._argument = null;\n    this._enumValue = null;\n    this._getFieldDef =\n      getFieldDefFn !== null && getFieldDefFn !== void 0\n        ? getFieldDefFn\n        : getFieldDef;\n\n    if (initialType) {\n      if (isInputType(initialType)) {\n        this._inputTypeStack.push(initialType);\n      }\n\n      if (isCompositeType(initialType)) {\n        this._parentTypeStack.push(initialType);\n      }\n\n      if (isOutputType(initialType)) {\n        this._typeStack.push(initialType);\n      }\n    }\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'TypeInfo';\n  }\n\n  getType() {\n    if (this._typeStack.length > 0) {\n      return this._typeStack[this._typeStack.length - 1];\n    }\n  }\n\n  getParentType() {\n    if (this._parentTypeStack.length > 0) {\n      return this._parentTypeStack[this._parentTypeStack.length - 1];\n    }\n  }\n\n  getInputType() {\n    if (this._inputTypeStack.length > 0) {\n      return this._inputTypeStack[this._inputTypeStack.length - 1];\n    }\n  }\n\n  getParentInputType() {\n    if (this._inputTypeStack.length > 1) {\n      return this._inputTypeStack[this._inputTypeStack.length - 2];\n    }\n  }\n\n  getFieldDef() {\n    if (this._fieldDefStack.length > 0) {\n      return this._fieldDefStack[this._fieldDefStack.length - 1];\n    }\n  }\n\n  getDefaultValue() {\n    if (this._defaultValueStack.length > 0) {\n      return this._defaultValueStack[this._defaultValueStack.length - 1];\n    }\n  }\n\n  getDirective() {\n    return this._directive;\n  }\n\n  getArgument() {\n    return this._argument;\n  }\n\n  getEnumValue() {\n    return this._enumValue;\n  }\n\n  enter(node) {\n    const schema = this._schema; // Note: many of the types below are explicitly typed as \"unknown\" to drop\n    // any assumptions of a valid schema to ensure runtime types are properly\n    // checked before continuing since TypeInfo is used as part of validation\n    // which occurs before guarantees of schema and document validity.\n\n    switch (node.kind) {\n      case Kind.SELECTION_SET: {\n        const namedType = getNamedType(this.getType());\n\n        this._parentTypeStack.push(\n          isCompositeType(namedType) ? namedType : undefined,\n        );\n\n        break;\n      }\n\n      case Kind.FIELD: {\n        const parentType = this.getParentType();\n        let fieldDef;\n        let fieldType;\n\n        if (parentType) {\n          fieldDef = this._getFieldDef(schema, parentType, node);\n\n          if (fieldDef) {\n            fieldType = fieldDef.type;\n          }\n        }\n\n        this._fieldDefStack.push(fieldDef);\n\n        this._typeStack.push(isOutputType(fieldType) ? fieldType : undefined);\n\n        break;\n      }\n\n      case Kind.DIRECTIVE:\n        this._directive = schema.getDirective(node.name.value);\n        break;\n\n      case Kind.OPERATION_DEFINITION: {\n        const rootType = schema.getRootType(node.operation);\n\n        this._typeStack.push(isObjectType(rootType) ? rootType : undefined);\n\n        break;\n      }\n\n      case Kind.INLINE_FRAGMENT:\n      case Kind.FRAGMENT_DEFINITION: {\n        const typeConditionAST = node.typeCondition;\n        const outputType = typeConditionAST\n          ? typeFromAST(schema, typeConditionAST)\n          : getNamedType(this.getType());\n\n        this._typeStack.push(isOutputType(outputType) ? outputType : undefined);\n\n        break;\n      }\n\n      case Kind.VARIABLE_DEFINITION: {\n        const inputType = typeFromAST(schema, node.type);\n\n        this._inputTypeStack.push(\n          isInputType(inputType) ? inputType : undefined,\n        );\n\n        break;\n      }\n\n      case Kind.ARGUMENT: {\n        var _this$getDirective;\n\n        let argDef;\n        let argType;\n        const fieldOrDirective =\n          (_this$getDirective = this.getDirective()) !== null &&\n          _this$getDirective !== void 0\n            ? _this$getDirective\n            : this.getFieldDef();\n\n        if (fieldOrDirective) {\n          argDef = fieldOrDirective.args.find(\n            (arg) => arg.name === node.name.value,\n          );\n\n          if (argDef) {\n            argType = argDef.type;\n          }\n        }\n\n        this._argument = argDef;\n\n        this._defaultValueStack.push(argDef ? argDef.defaultValue : undefined);\n\n        this._inputTypeStack.push(isInputType(argType) ? argType : undefined);\n\n        break;\n      }\n\n      case Kind.LIST: {\n        const listType = getNullableType(this.getInputType());\n        const itemType = isListType(listType) ? listType.ofType : listType; // List positions never have a default value.\n\n        this._defaultValueStack.push(undefined);\n\n        this._inputTypeStack.push(isInputType(itemType) ? itemType : undefined);\n\n        break;\n      }\n\n      case Kind.OBJECT_FIELD: {\n        const objectType = getNamedType(this.getInputType());\n        let inputFieldType;\n        let inputField;\n\n        if (isInputObjectType(objectType)) {\n          inputField = objectType.getFields()[node.name.value];\n\n          if (inputField) {\n            inputFieldType = inputField.type;\n          }\n        }\n\n        this._defaultValueStack.push(\n          inputField ? inputField.defaultValue : undefined,\n        );\n\n        this._inputTypeStack.push(\n          isInputType(inputFieldType) ? inputFieldType : undefined,\n        );\n\n        break;\n      }\n\n      case Kind.ENUM: {\n        const enumType = getNamedType(this.getInputType());\n        let enumValue;\n\n        if (isEnumType(enumType)) {\n          enumValue = enumType.getValue(node.value);\n        }\n\n        this._enumValue = enumValue;\n        break;\n      }\n\n      default: // Ignore other nodes\n    }\n  }\n\n  leave(node) {\n    switch (node.kind) {\n      case Kind.SELECTION_SET:\n        this._parentTypeStack.pop();\n\n        break;\n\n      case Kind.FIELD:\n        this._fieldDefStack.pop();\n\n        this._typeStack.pop();\n\n        break;\n\n      case Kind.DIRECTIVE:\n        this._directive = null;\n        break;\n\n      case Kind.OPERATION_DEFINITION:\n      case Kind.INLINE_FRAGMENT:\n      case Kind.FRAGMENT_DEFINITION:\n        this._typeStack.pop();\n\n        break;\n\n      case Kind.VARIABLE_DEFINITION:\n        this._inputTypeStack.pop();\n\n        break;\n\n      case Kind.ARGUMENT:\n        this._argument = null;\n\n        this._defaultValueStack.pop();\n\n        this._inputTypeStack.pop();\n\n        break;\n\n      case Kind.LIST:\n      case Kind.OBJECT_FIELD:\n        this._defaultValueStack.pop();\n\n        this._inputTypeStack.pop();\n\n        break;\n\n      case Kind.ENUM:\n        this._enumValue = null;\n        break;\n\n      default: // Ignore other nodes\n    }\n  }\n}\n\n/**\n * Not exactly the same as the executor's definition of getFieldDef, in this\n * statically evaluated environment we do not always have an Object type,\n * and need to handle Interface and Union types.\n */\nfunction getFieldDef(schema, parentType, fieldNode) {\n  const name = fieldNode.name.value;\n\n  if (\n    name === SchemaMetaFieldDef.name &&\n    schema.getQueryType() === parentType\n  ) {\n    return SchemaMetaFieldDef;\n  }\n\n  if (name === TypeMetaFieldDef.name && schema.getQueryType() === parentType) {\n    return TypeMetaFieldDef;\n  }\n\n  if (name === TypeNameMetaFieldDef.name && isCompositeType(parentType)) {\n    return TypeNameMetaFieldDef;\n  }\n\n  if (isObjectType(parentType) || isInterfaceType(parentType)) {\n    return parentType.getFields()[name];\n  }\n}\n/**\n * Creates a new visitor instance which maintains a provided TypeInfo instance\n * along with visiting visitor.\n */\n\nexport function visitWithTypeInfo(typeInfo, visitor) {\n  return {\n    enter(...args) {\n      const node = args[0];\n      typeInfo.enter(node);\n      const fn = getEnterLeaveForKind(visitor, node.kind).enter;\n\n      if (fn) {\n        const result = fn.apply(visitor, args);\n\n        if (result !== undefined) {\n          typeInfo.leave(node);\n\n          if (isNode(result)) {\n            typeInfo.enter(result);\n          }\n        }\n\n        return result;\n      }\n    },\n\n    leave(...args) {\n      const node = args[0];\n      const fn = getEnterLeaveForKind(visitor, node.kind).leave;\n      let result;\n\n      if (fn) {\n        result = fn.apply(visitor, args);\n      }\n\n      typeInfo.leave(node);\n      return result;\n    },\n  };\n}\n","import { Kind } from './kinds.mjs';\nexport function isDefinitionNode(node) {\n  return (\n    isExecutableDefinitionNode(node) ||\n    isTypeSystemDefinitionNode(node) ||\n    isTypeSystemExtensionNode(node)\n  );\n}\nexport function isExecutableDefinitionNode(node) {\n  return (\n    node.kind === Kind.OPERATION_DEFINITION ||\n    node.kind === Kind.FRAGMENT_DEFINITION\n  );\n}\nexport function isSelectionNode(node) {\n  return (\n    node.kind === Kind.FIELD ||\n    node.kind === Kind.FRAGMENT_SPREAD ||\n    node.kind === Kind.INLINE_FRAGMENT\n  );\n}\nexport function isValueNode(node) {\n  return (\n    node.kind === Kind.VARIABLE ||\n    node.kind === Kind.INT ||\n    node.kind === Kind.FLOAT ||\n    node.kind === Kind.STRING ||\n    node.kind === Kind.BOOLEAN ||\n    node.kind === Kind.NULL ||\n    node.kind === Kind.ENUM ||\n    node.kind === Kind.LIST ||\n    node.kind === Kind.OBJECT\n  );\n}\nexport function isConstValueNode(node) {\n  return (\n    isValueNode(node) &&\n    (node.kind === Kind.LIST\n      ? node.values.some(isConstValueNode)\n      : node.kind === Kind.OBJECT\n      ? node.fields.some((field) => isConstValueNode(field.value))\n      : node.kind !== Kind.VARIABLE)\n  );\n}\nexport function isTypeNode(node) {\n  return (\n    node.kind === Kind.NAMED_TYPE ||\n    node.kind === Kind.LIST_TYPE ||\n    node.kind === Kind.NON_NULL_TYPE\n  );\n}\nexport function isTypeSystemDefinitionNode(node) {\n  return (\n    node.kind === Kind.SCHEMA_DEFINITION ||\n    isTypeDefinitionNode(node) ||\n    node.kind === Kind.DIRECTIVE_DEFINITION\n  );\n}\nexport function isTypeDefinitionNode(node) {\n  return (\n    node.kind === Kind.SCALAR_TYPE_DEFINITION ||\n    node.kind === Kind.OBJECT_TYPE_DEFINITION ||\n    node.kind === Kind.INTERFACE_TYPE_DEFINITION ||\n    node.kind === Kind.UNION_TYPE_DEFINITION ||\n    node.kind === Kind.ENUM_TYPE_DEFINITION ||\n    node.kind === Kind.INPUT_OBJECT_TYPE_DEFINITION\n  );\n}\nexport function isTypeSystemExtensionNode(node) {\n  return node.kind === Kind.SCHEMA_EXTENSION || isTypeExtensionNode(node);\n}\nexport function isTypeExtensionNode(node) {\n  return (\n    node.kind === Kind.SCALAR_TYPE_EXTENSION ||\n    node.kind === Kind.OBJECT_TYPE_EXTENSION ||\n    node.kind === Kind.INTERFACE_TYPE_EXTENSION ||\n    node.kind === Kind.UNION_TYPE_EXTENSION ||\n    node.kind === Kind.ENUM_TYPE_EXTENSION ||\n    node.kind === Kind.INPUT_OBJECT_TYPE_EXTENSION\n  );\n}\n","import { GraphQLError } from '../../error/GraphQLError.mjs';\nimport { Kind } from '../../language/kinds.mjs';\nimport { isExecutableDefinitionNode } from '../../language/predicates.mjs';\n\n/**\n * Executable definitions\n *\n * A GraphQL document is only valid for execution if all definitions are either\n * operation or fragment definitions.\n *\n * See https://spec.graphql.org/draft/#sec-Executable-Definitions\n */\nexport function ExecutableDefinitionsRule(context) {\n  return {\n    Document(node) {\n      for (const definition of node.definitions) {\n        if (!isExecutableDefinitionNode(definition)) {\n          const defName =\n            definition.kind === Kind.SCHEMA_DEFINITION ||\n            definition.kind === Kind.SCHEMA_EXTENSION\n              ? 'schema'\n              : '\"' + definition.name.value + '\"';\n          context.reportError(\n            new GraphQLError(`The ${defName} definition is not executable.`, {\n              nodes: definition,\n            }),\n          );\n        }\n      }\n\n      return false;\n    },\n  };\n}\n","import { didYouMean } from '../../jsutils/didYouMean.mjs';\nimport { naturalCompare } from '../../jsutils/naturalCompare.mjs';\nimport { suggestionList } from '../../jsutils/suggestionList.mjs';\nimport { GraphQLError } from '../../error/GraphQLError.mjs';\nimport {\n  isAbstractType,\n  isInterfaceType,\n  isObjectType,\n} from '../../type/definition.mjs';\n\n/**\n * Fields on correct type\n *\n * A GraphQL document is only valid if all fields selected are defined by the\n * parent type, or are an allowed meta field such as __typename.\n *\n * See https://spec.graphql.org/draft/#sec-Field-Selections\n */\nexport function FieldsOnCorrectTypeRule(context) {\n  return {\n    Field(node) {\n      const type = context.getParentType();\n\n      if (type) {\n        const fieldDef = context.getFieldDef();\n\n        if (!fieldDef) {\n          // This field doesn't exist, lets look for suggestions.\n          const schema = context.getSchema();\n          const fieldName = node.name.value; // First determine if there are any suggested types to condition on.\n\n          let suggestion = didYouMean(\n            'to use an inline fragment on',\n            getSuggestedTypeNames(schema, type, fieldName),\n          ); // If there are no suggested types, then perhaps this was a typo?\n\n          if (suggestion === '') {\n            suggestion = didYouMean(getSuggestedFieldNames(type, fieldName));\n          } // Report an error, including helpful suggestions.\n\n          context.reportError(\n            new GraphQLError(\n              `Cannot query field \"${fieldName}\" on type \"${type.name}\".` +\n                suggestion,\n              {\n                nodes: node,\n              },\n            ),\n          );\n        }\n      }\n    },\n  };\n}\n/**\n * Go through all of the implementations of type, as well as the interfaces that\n * they implement. If any of those types include the provided field, suggest them,\n * sorted by how often the type is referenced.\n */\n\nfunction getSuggestedTypeNames(schema, type, fieldName) {\n  if (!isAbstractType(type)) {\n    // Must be an Object type, which does not have possible fields.\n    return [];\n  }\n\n  const suggestedTypes = new Set();\n  const usageCount = Object.create(null);\n\n  for (const possibleType of schema.getPossibleTypes(type)) {\n    if (!possibleType.getFields()[fieldName]) {\n      continue;\n    } // This object type defines this field.\n\n    suggestedTypes.add(possibleType);\n    usageCount[possibleType.name] = 1;\n\n    for (const possibleInterface of possibleType.getInterfaces()) {\n      var _usageCount$possibleI;\n\n      if (!possibleInterface.getFields()[fieldName]) {\n        continue;\n      } // This interface type defines this field.\n\n      suggestedTypes.add(possibleInterface);\n      usageCount[possibleInterface.name] =\n        ((_usageCount$possibleI = usageCount[possibleInterface.name]) !==\n          null && _usageCount$possibleI !== void 0\n          ? _usageCount$possibleI\n          : 0) + 1;\n    }\n  }\n\n  return [...suggestedTypes]\n    .sort((typeA, typeB) => {\n      // Suggest both interface and object types based on how common they are.\n      const usageCountDiff = usageCount[typeB.name] - usageCount[typeA.name];\n\n      if (usageCountDiff !== 0) {\n        return usageCountDiff;\n      } // Suggest super types first followed by subtypes\n\n      if (isInterfaceType(typeA) && schema.isSubType(typeA, typeB)) {\n        return -1;\n      }\n\n      if (isInterfaceType(typeB) && schema.isSubType(typeB, typeA)) {\n        return 1;\n      }\n\n      return naturalCompare(typeA.name, typeB.name);\n    })\n    .map((x) => x.name);\n}\n/**\n * For the field name provided, determine if there are any similar field names\n * that may be the result of a typo.\n */\n\nfunction getSuggestedFieldNames(type, fieldName) {\n  if (isObjectType(type) || isInterfaceType(type)) {\n    const possibleFieldNames = Object.keys(type.getFields());\n    return suggestionList(fieldName, possibleFieldNames);\n  } // Otherwise, must be a Union type, which does not define fields.\n\n  return [];\n}\n","import { GraphQLError } from '../../error/GraphQLError.mjs';\nimport { print } from '../../language/printer.mjs';\nimport { isCompositeType } from '../../type/definition.mjs';\nimport { typeFromAST } from '../../utilities/typeFromAST.mjs';\n\n/**\n * Fragments on composite type\n *\n * Fragments use a type condition to determine if they apply, since fragments\n * can only be spread into a composite type (object, interface, or union), the\n * type condition must also be a composite type.\n *\n * See https://spec.graphql.org/draft/#sec-Fragments-On-Composite-Types\n */\nexport function FragmentsOnCompositeTypesRule(context) {\n  return {\n    InlineFragment(node) {\n      const typeCondition = node.typeCondition;\n\n      if (typeCondition) {\n        const type = typeFromAST(context.getSchema(), typeCondition);\n\n        if (type && !isCompositeType(type)) {\n          const typeStr = print(typeCondition);\n          context.reportError(\n            new GraphQLError(\n              `Fragment cannot condition on non composite type \"${typeStr}\".`,\n              {\n                nodes: typeCondition,\n              },\n            ),\n          );\n        }\n      }\n    },\n\n    FragmentDefinition(node) {\n      const type = typeFromAST(context.getSchema(), node.typeCondition);\n\n      if (type && !isCompositeType(type)) {\n        const typeStr = print(node.typeCondition);\n        context.reportError(\n          new GraphQLError(\n            `Fragment \"${node.name.value}\" cannot condition on non composite type \"${typeStr}\".`,\n            {\n              nodes: node.typeCondition,\n            },\n          ),\n        );\n      }\n    },\n  };\n}\n","import { didYouMean } from '../../jsutils/didYouMean.mjs';\nimport { suggestionList } from '../../jsutils/suggestionList.mjs';\nimport { GraphQLError } from '../../error/GraphQLError.mjs';\nimport { Kind } from '../../language/kinds.mjs';\nimport { specifiedDirectives } from '../../type/directives.mjs';\n\n/**\n * Known argument names\n *\n * A GraphQL field is only valid if all supplied arguments are defined by\n * that field.\n *\n * See https://spec.graphql.org/draft/#sec-Argument-Names\n * See https://spec.graphql.org/draft/#sec-Directives-Are-In-Valid-Locations\n */\nexport function KnownArgumentNamesRule(context) {\n  return {\n    // eslint-disable-next-line new-cap\n    ...KnownArgumentNamesOnDirectivesRule(context),\n\n    Argument(argNode) {\n      const argDef = context.getArgument();\n      const fieldDef = context.getFieldDef();\n      const parentType = context.getParentType();\n\n      if (!argDef && fieldDef && parentType) {\n        const argName = argNode.name.value;\n        const knownArgsNames = fieldDef.args.map((arg) => arg.name);\n        const suggestions = suggestionList(argName, knownArgsNames);\n        context.reportError(\n          new GraphQLError(\n            `Unknown argument \"${argName}\" on field \"${parentType.name}.${fieldDef.name}\".` +\n              didYouMean(suggestions),\n            {\n              nodes: argNode,\n            },\n          ),\n        );\n      }\n    },\n  };\n}\n/**\n * @internal\n */\n\nexport function KnownArgumentNamesOnDirectivesRule(context) {\n  const directiveArgs = Object.create(null);\n  const schema = context.getSchema();\n  const definedDirectives = schema\n    ? schema.getDirectives()\n    : specifiedDirectives;\n\n  for (const directive of definedDirectives) {\n    directiveArgs[directive.name] = directive.args.map((arg) => arg.name);\n  }\n\n  const astDefinitions = context.getDocument().definitions;\n\n  for (const def of astDefinitions) {\n    if (def.kind === Kind.DIRECTIVE_DEFINITION) {\n      var _def$arguments;\n\n      // FIXME: https://github.com/graphql/graphql-js/issues/2203\n\n      /* c8 ignore next */\n      const argsNodes =\n        (_def$arguments = def.arguments) !== null && _def$arguments !== void 0\n          ? _def$arguments\n          : [];\n      directiveArgs[def.name.value] = argsNodes.map((arg) => arg.name.value);\n    }\n  }\n\n  return {\n    Directive(directiveNode) {\n      const directiveName = directiveNode.name.value;\n      const knownArgs = directiveArgs[directiveName];\n\n      if (directiveNode.arguments && knownArgs) {\n        for (const argNode of directiveNode.arguments) {\n          const argName = argNode.name.value;\n\n          if (!knownArgs.includes(argName)) {\n            const suggestions = suggestionList(argName, knownArgs);\n            context.reportError(\n              new GraphQLError(\n                `Unknown argument \"${argName}\" on directive \"@${directiveName}\".` +\n                  didYouMean(suggestions),\n                {\n                  nodes: argNode,\n                },\n              ),\n            );\n          }\n        }\n      }\n\n      return false;\n    },\n  };\n}\n","import { inspect } from '../../jsutils/inspect.mjs';\nimport { invariant } from '../../jsutils/invariant.mjs';\nimport { GraphQLError } from '../../error/GraphQLError.mjs';\nimport { OperationTypeNode } from '../../language/ast.mjs';\nimport { DirectiveLocation } from '../../language/directiveLocation.mjs';\nimport { Kind } from '../../language/kinds.mjs';\nimport { specifiedDirectives } from '../../type/directives.mjs';\n\n/**\n * Known directives\n *\n * A GraphQL document is only valid if all `@directives` are known by the\n * schema and legally positioned.\n *\n * See https://spec.graphql.org/draft/#sec-Directives-Are-Defined\n */\nexport function KnownDirectivesRule(context) {\n  const locationsMap = Object.create(null);\n  const schema = context.getSchema();\n  const definedDirectives = schema\n    ? schema.getDirectives()\n    : specifiedDirectives;\n\n  for (const directive of definedDirectives) {\n    locationsMap[directive.name] = directive.locations;\n  }\n\n  const astDefinitions = context.getDocument().definitions;\n\n  for (const def of astDefinitions) {\n    if (def.kind === Kind.DIRECTIVE_DEFINITION) {\n      locationsMap[def.name.value] = def.locations.map((name) => name.value);\n    }\n  }\n\n  return {\n    Directive(node, _key, _parent, _path, ancestors) {\n      const name = node.name.value;\n      const locations = locationsMap[name];\n\n      if (!locations) {\n        context.reportError(\n          new GraphQLError(`Unknown directive \"@${name}\".`, {\n            nodes: node,\n          }),\n        );\n        return;\n      }\n\n      const candidateLocation = getDirectiveLocationForASTPath(ancestors);\n\n      if (candidateLocation && !locations.includes(candidateLocation)) {\n        context.reportError(\n          new GraphQLError(\n            `Directive \"@${name}\" may not be used on ${candidateLocation}.`,\n            {\n              nodes: node,\n            },\n          ),\n        );\n      }\n    },\n  };\n}\n\nfunction getDirectiveLocationForASTPath(ancestors) {\n  const appliedTo = ancestors[ancestors.length - 1];\n  'kind' in appliedTo || invariant(false);\n\n  switch (appliedTo.kind) {\n    case Kind.OPERATION_DEFINITION:\n      return getDirectiveLocationForOperation(appliedTo.operation);\n\n    case Kind.FIELD:\n      return DirectiveLocation.FIELD;\n\n    case Kind.FRAGMENT_SPREAD:\n      return DirectiveLocation.FRAGMENT_SPREAD;\n\n    case Kind.INLINE_FRAGMENT:\n      return DirectiveLocation.INLINE_FRAGMENT;\n\n    case Kind.FRAGMENT_DEFINITION:\n      return DirectiveLocation.FRAGMENT_DEFINITION;\n\n    case Kind.VARIABLE_DEFINITION:\n      return DirectiveLocation.VARIABLE_DEFINITION;\n\n    case Kind.SCHEMA_DEFINITION:\n    case Kind.SCHEMA_EXTENSION:\n      return DirectiveLocation.SCHEMA;\n\n    case Kind.SCALAR_TYPE_DEFINITION:\n    case Kind.SCALAR_TYPE_EXTENSION:\n      return DirectiveLocation.SCALAR;\n\n    case Kind.OBJECT_TYPE_DEFINITION:\n    case Kind.OBJECT_TYPE_EXTENSION:\n      return DirectiveLocation.OBJECT;\n\n    case Kind.FIELD_DEFINITION:\n      return DirectiveLocation.FIELD_DEFINITION;\n\n    case Kind.INTERFACE_TYPE_DEFINITION:\n    case Kind.INTERFACE_TYPE_EXTENSION:\n      return DirectiveLocation.INTERFACE;\n\n    case Kind.UNION_TYPE_DEFINITION:\n    case Kind.UNION_TYPE_EXTENSION:\n      return DirectiveLocation.UNION;\n\n    case Kind.ENUM_TYPE_DEFINITION:\n    case Kind.ENUM_TYPE_EXTENSION:\n      return DirectiveLocation.ENUM;\n\n    case Kind.ENUM_VALUE_DEFINITION:\n      return DirectiveLocation.ENUM_VALUE;\n\n    case Kind.INPUT_OBJECT_TYPE_DEFINITION:\n    case Kind.INPUT_OBJECT_TYPE_EXTENSION:\n      return DirectiveLocation.INPUT_OBJECT;\n\n    case Kind.INPUT_VALUE_DEFINITION: {\n      const parentNode = ancestors[ancestors.length - 3];\n      'kind' in parentNode || invariant(false);\n      return parentNode.kind === Kind.INPUT_OBJECT_TYPE_DEFINITION\n        ? DirectiveLocation.INPUT_FIELD_DEFINITION\n        : DirectiveLocation.ARGUMENT_DEFINITION;\n    }\n    // Not reachable, all possible types have been considered.\n\n    /* c8 ignore next */\n\n    default:\n      false || invariant(false, 'Unexpected kind: ' + inspect(appliedTo.kind));\n  }\n}\n\nfunction getDirectiveLocationForOperation(operation) {\n  switch (operation) {\n    case OperationTypeNode.QUERY:\n      return DirectiveLocation.QUERY;\n\n    case OperationTypeNode.MUTATION:\n      return DirectiveLocation.MUTATION;\n\n    case OperationTypeNode.SUBSCRIPTION:\n      return DirectiveLocation.SUBSCRIPTION;\n  }\n}\n","import { GraphQLError } from '../../error/GraphQLError.mjs';\n\n/**\n * Known fragment names\n *\n * A GraphQL document is only valid if all `...Fragment` fragment spreads refer\n * to fragments defined in the same document.\n *\n * See https://spec.graphql.org/draft/#sec-Fragment-spread-target-defined\n */\nexport function KnownFragmentNamesRule(context) {\n  return {\n    FragmentSpread(node) {\n      const fragmentName = node.name.value;\n      const fragment = context.getFragment(fragmentName);\n\n      if (!fragment) {\n        context.reportError(\n          new GraphQLError(`Unknown fragment \"${fragmentName}\".`, {\n            nodes: node.name,\n          }),\n        );\n      }\n    },\n  };\n}\n","import { didYouMean } from '../../jsutils/didYouMean.mjs';\nimport { suggestionList } from '../../jsutils/suggestionList.mjs';\nimport { GraphQLError } from '../../error/GraphQLError.mjs';\nimport {\n  isTypeDefinitionNode,\n  isTypeSystemDefinitionNode,\n  isTypeSystemExtensionNode,\n} from '../../language/predicates.mjs';\nimport { introspectionTypes } from '../../type/introspection.mjs';\nimport { specifiedScalarTypes } from '../../type/scalars.mjs';\n\n/**\n * Known type names\n *\n * A GraphQL document is only valid if referenced types (specifically\n * variable definitions and fragment conditions) are defined by the type schema.\n *\n * See https://spec.graphql.org/draft/#sec-Fragment-Spread-Type-Existence\n */\nexport function KnownTypeNamesRule(context) {\n  const schema = context.getSchema();\n  const existingTypesMap = schema ? schema.getTypeMap() : Object.create(null);\n  const definedTypes = Object.create(null);\n\n  for (const def of context.getDocument().definitions) {\n    if (isTypeDefinitionNode(def)) {\n      definedTypes[def.name.value] = true;\n    }\n  }\n\n  const typeNames = [\n    ...Object.keys(existingTypesMap),\n    ...Object.keys(definedTypes),\n  ];\n  return {\n    NamedType(node, _1, parent, _2, ancestors) {\n      const typeName = node.name.value;\n\n      if (!existingTypesMap[typeName] && !definedTypes[typeName]) {\n        var _ancestors$;\n\n        const definitionNode =\n          (_ancestors$ = ancestors[2]) !== null && _ancestors$ !== void 0\n            ? _ancestors$\n            : parent;\n        const isSDL = definitionNode != null && isSDLNode(definitionNode);\n\n        if (isSDL && standardTypeNames.includes(typeName)) {\n          return;\n        }\n\n        const suggestedTypes = suggestionList(\n          typeName,\n          isSDL ? standardTypeNames.concat(typeNames) : typeNames,\n        );\n        context.reportError(\n          new GraphQLError(\n            `Unknown type \"${typeName}\".` + didYouMean(suggestedTypes),\n            {\n              nodes: node,\n            },\n          ),\n        );\n      }\n    },\n  };\n}\nconst standardTypeNames = [...specifiedScalarTypes, ...introspectionTypes].map(\n  (type) => type.name,\n);\n\nfunction isSDLNode(value) {\n  return (\n    'kind' in value &&\n    (isTypeSystemDefinitionNode(value) || isTypeSystemExtensionNode(value))\n  );\n}\n","import { GraphQLError } from '../../error/GraphQLError.mjs';\nimport { Kind } from '../../language/kinds.mjs';\n\n/**\n * Lone anonymous operation\n *\n * A GraphQL document is only valid if when it contains an anonymous operation\n * (the query short-hand) that it contains only that one operation definition.\n *\n * See https://spec.graphql.org/draft/#sec-Lone-Anonymous-Operation\n */\nexport function LoneAnonymousOperationRule(context) {\n  let operationCount = 0;\n  return {\n    Document(node) {\n      operationCount = node.definitions.filter(\n        (definition) => definition.kind === Kind.OPERATION_DEFINITION,\n      ).length;\n    },\n\n    OperationDefinition(node) {\n      if (!node.name && operationCount > 1) {\n        context.reportError(\n          new GraphQLError(\n            'This anonymous operation must be the only defined operation.',\n            {\n              nodes: node,\n            },\n          ),\n        );\n      }\n    },\n  };\n}\n","import { GraphQLError } from '../../error/GraphQLError.mjs';\n\n/**\n * Lone Schema definition\n *\n * A GraphQL document is only valid if it contains only one schema definition.\n */\nexport function LoneSchemaDefinitionRule(context) {\n  var _ref, _ref2, _oldSchema$astNode;\n\n  const oldSchema = context.getSchema();\n  const alreadyDefined =\n    (_ref =\n      (_ref2 =\n        (_oldSchema$astNode =\n          oldSchema === null || oldSchema === void 0\n            ? void 0\n            : oldSchema.astNode) !== null && _oldSchema$astNode !== void 0\n          ? _oldSchema$astNode\n          : oldSchema === null || oldSchema === void 0\n          ? void 0\n          : oldSchema.getQueryType()) !== null && _ref2 !== void 0\n        ? _ref2\n        : oldSchema === null || oldSchema === void 0\n        ? void 0\n        : oldSchema.getMutationType()) !== null && _ref !== void 0\n      ? _ref\n      : oldSchema === null || oldSchema === void 0\n      ? void 0\n      : oldSchema.getSubscriptionType();\n  let schemaDefinitionsCount = 0;\n  return {\n    SchemaDefinition(node) {\n      if (alreadyDefined) {\n        context.reportError(\n          new GraphQLError(\n            'Cannot define a new schema within a schema extension.',\n            {\n              nodes: node,\n            },\n          ),\n        );\n        return;\n      }\n\n      if (schemaDefinitionsCount > 0) {\n        context.reportError(\n          new GraphQLError('Must provide only one schema definition.', {\n            nodes: node,\n          }),\n        );\n      }\n\n      ++schemaDefinitionsCount;\n    },\n  };\n}\n","import { GraphQLError } from '../../error/GraphQLError.mjs';\n\n/**\n * No fragment cycles\n *\n * The graph of fragment spreads must not form any cycles including spreading itself.\n * Otherwise an operation could infinitely spread or infinitely execute on cycles in the underlying data.\n *\n * See https://spec.graphql.org/draft/#sec-Fragment-spreads-must-not-form-cycles\n */\nexport function NoFragmentCyclesRule(context) {\n  // Tracks already visited fragments to maintain O(N) and to ensure that cycles\n  // are not redundantly reported.\n  const visitedFrags = Object.create(null); // Array of AST nodes used to produce meaningful errors\n\n  const spreadPath = []; // Position in the spread path\n\n  const spreadPathIndexByName = Object.create(null);\n  return {\n    OperationDefinition: () => false,\n\n    FragmentDefinition(node) {\n      detectCycleRecursive(node);\n      return false;\n    },\n  }; // This does a straight-forward DFS to find cycles.\n  // It does not terminate when a cycle was found but continues to explore\n  // the graph to find all possible cycles.\n\n  function detectCycleRecursive(fragment) {\n    if (visitedFrags[fragment.name.value]) {\n      return;\n    }\n\n    const fragmentName = fragment.name.value;\n    visitedFrags[fragmentName] = true;\n    const spreadNodes = context.getFragmentSpreads(fragment.selectionSet);\n\n    if (spreadNodes.length === 0) {\n      return;\n    }\n\n    spreadPathIndexByName[fragmentName] = spreadPath.length;\n\n    for (const spreadNode of spreadNodes) {\n      const spreadName = spreadNode.name.value;\n      const cycleIndex = spreadPathIndexByName[spreadName];\n      spreadPath.push(spreadNode);\n\n      if (cycleIndex === undefined) {\n        const spreadFragment = context.getFragment(spreadName);\n\n        if (spreadFragment) {\n          detectCycleRecursive(spreadFragment);\n        }\n      } else {\n        const cyclePath = spreadPath.slice(cycleIndex);\n        const viaPath = cyclePath\n          .slice(0, -1)\n          .map((s) => '\"' + s.name.value + '\"')\n          .join(', ');\n        context.reportError(\n          new GraphQLError(\n            `Cannot spread fragment \"${spreadName}\" within itself` +\n              (viaPath !== '' ? ` via ${viaPath}.` : '.'),\n            {\n              nodes: cyclePath,\n            },\n          ),\n        );\n      }\n\n      spreadPath.pop();\n    }\n\n    spreadPathIndexByName[fragmentName] = undefined;\n  }\n}\n","import { GraphQLError } from '../../error/GraphQLError.mjs';\n\n/**\n * No undefined variables\n *\n * A GraphQL operation is only valid if all variables encountered, both directly\n * and via fragment spreads, are defined by that operation.\n *\n * See https://spec.graphql.org/draft/#sec-All-Variable-Uses-Defined\n */\nexport function NoUndefinedVariablesRule(context) {\n  let variableNameDefined = Object.create(null);\n  return {\n    OperationDefinition: {\n      enter() {\n        variableNameDefined = Object.create(null);\n      },\n\n      leave(operation) {\n        const usages = context.getRecursiveVariableUsages(operation);\n\n        for (const { node } of usages) {\n          const varName = node.name.value;\n\n          if (variableNameDefined[varName] !== true) {\n            context.reportError(\n              new GraphQLError(\n                operation.name\n                  ? `Variable \"$${varName}\" is not defined by operation \"${operation.name.value}\".`\n                  : `Variable \"$${varName}\" is not defined.`,\n                {\n                  nodes: [node, operation],\n                },\n              ),\n            );\n          }\n        }\n      },\n    },\n\n    VariableDefinition(node) {\n      variableNameDefined[node.variable.name.value] = true;\n    },\n  };\n}\n","import { GraphQLError } from '../../error/GraphQLError.mjs';\n\n/**\n * No unused fragments\n *\n * A GraphQL document is only valid if all fragment definitions are spread\n * within operations, or spread within other fragments spread within operations.\n *\n * See https://spec.graphql.org/draft/#sec-Fragments-Must-Be-Used\n */\nexport function NoUnusedFragmentsRule(context) {\n  const operationDefs = [];\n  const fragmentDefs = [];\n  return {\n    OperationDefinition(node) {\n      operationDefs.push(node);\n      return false;\n    },\n\n    FragmentDefinition(node) {\n      fragmentDefs.push(node);\n      return false;\n    },\n\n    Document: {\n      leave() {\n        const fragmentNameUsed = Object.create(null);\n\n        for (const operation of operationDefs) {\n          for (const fragment of context.getRecursivelyReferencedFragments(\n            operation,\n          )) {\n            fragmentNameUsed[fragment.name.value] = true;\n          }\n        }\n\n        for (const fragmentDef of fragmentDefs) {\n          const fragName = fragmentDef.name.value;\n\n          if (fragmentNameUsed[fragName] !== true) {\n            context.reportError(\n              new GraphQLError(`Fragment \"${fragName}\" is never used.`, {\n                nodes: fragmentDef,\n              }),\n            );\n          }\n        }\n      },\n    },\n  };\n}\n","import { GraphQLError } from '../../error/GraphQLError.mjs';\n\n/**\n * No unused variables\n *\n * A GraphQL operation is only valid if all variables defined by an operation\n * are used, either directly or within a spread fragment.\n *\n * See https://spec.graphql.org/draft/#sec-All-Variables-Used\n */\nexport function NoUnusedVariablesRule(context) {\n  let variableDefs = [];\n  return {\n    OperationDefinition: {\n      enter() {\n        variableDefs = [];\n      },\n\n      leave(operation) {\n        const variableNameUsed = Object.create(null);\n        const usages = context.getRecursiveVariableUsages(operation);\n\n        for (const { node } of usages) {\n          variableNameUsed[node.name.value] = true;\n        }\n\n        for (const variableDef of variableDefs) {\n          const variableName = variableDef.variable.name.value;\n\n          if (variableNameUsed[variableName] !== true) {\n            context.reportError(\n              new GraphQLError(\n                operation.name\n                  ? `Variable \"$${variableName}\" is never used in operation \"${operation.name.value}\".`\n                  : `Variable \"$${variableName}\" is never used.`,\n                {\n                  nodes: variableDef,\n                },\n              ),\n            );\n          }\n        }\n      },\n    },\n\n    VariableDefinition(def) {\n      variableDefs.push(def);\n    },\n  };\n}\n","import { naturalCompare } from '../jsutils/naturalCompare.mjs';\nimport { Kind } from '../language/kinds.mjs';\n/**\n * Sort ValueNode.\n *\n * This function returns a sorted copy of the given ValueNode.\n *\n * @internal\n */\n\nexport function sortValueNode(valueNode) {\n  switch (valueNode.kind) {\n    case Kind.OBJECT:\n      return { ...valueNode, fields: sortFields(valueNode.fields) };\n\n    case Kind.LIST:\n      return { ...valueNode, values: valueNode.values.map(sortValueNode) };\n\n    case Kind.INT:\n    case Kind.FLOAT:\n    case Kind.STRING:\n    case Kind.BOOLEAN:\n    case Kind.NULL:\n    case Kind.ENUM:\n    case Kind.VARIABLE:\n      return valueNode;\n  }\n}\n\nfunction sortFields(fields) {\n  return fields\n    .map((fieldNode) => ({\n      ...fieldNode,\n      value: sortValueNode(fieldNode.value),\n    }))\n    .sort((fieldA, fieldB) =>\n      naturalCompare(fieldA.name.value, fieldB.name.value),\n    );\n}\n","import { inspect } from '../../jsutils/inspect.mjs';\nimport { GraphQLError } from '../../error/GraphQLError.mjs';\nimport { Kind } from '../../language/kinds.mjs';\nimport { print } from '../../language/printer.mjs';\nimport {\n  getNamedType,\n  isInterfaceType,\n  isLeafType,\n  isListType,\n  isNonNullType,\n  isObjectType,\n} from '../../type/definition.mjs';\nimport { sortValueNode } from '../../utilities/sortValueNode.mjs';\nimport { typeFromAST } from '../../utilities/typeFromAST.mjs';\n\nfunction reasonMessage(reason) {\n  if (Array.isArray(reason)) {\n    return reason\n      .map(\n        ([responseName, subReason]) =>\n          `subfields \"${responseName}\" conflict because ` +\n          reasonMessage(subReason),\n      )\n      .join(' and ');\n  }\n\n  return reason;\n}\n/**\n * Overlapping fields can be merged\n *\n * A selection set is only valid if all fields (including spreading any\n * fragments) either correspond to distinct response names or can be merged\n * without ambiguity.\n *\n * See https://spec.graphql.org/draft/#sec-Field-Selection-Merging\n */\n\nexport function OverlappingFieldsCanBeMergedRule(context) {\n  // A memoization for when two fragments are compared \"between\" each other for\n  // conflicts. Two fragments may be compared many times, so memoizing this can\n  // dramatically improve the performance of this validator.\n  const comparedFragmentPairs = new PairSet(); // A cache for the \"field map\" and list of fragment names found in any given\n  // selection set. Selection sets may be asked for this information multiple\n  // times, so this improves the performance of this validator.\n\n  const cachedFieldsAndFragmentNames = new Map();\n  return {\n    SelectionSet(selectionSet) {\n      const conflicts = findConflictsWithinSelectionSet(\n        context,\n        cachedFieldsAndFragmentNames,\n        comparedFragmentPairs,\n        context.getParentType(),\n        selectionSet,\n      );\n\n      for (const [[responseName, reason], fields1, fields2] of conflicts) {\n        const reasonMsg = reasonMessage(reason);\n        context.reportError(\n          new GraphQLError(\n            `Fields \"${responseName}\" conflict because ${reasonMsg}. Use different aliases on the fields to fetch both if this was intentional.`,\n            {\n              nodes: fields1.concat(fields2),\n            },\n          ),\n        );\n      }\n    },\n  };\n}\n\n/**\n * Algorithm:\n *\n * Conflicts occur when two fields exist in a query which will produce the same\n * response name, but represent differing values, thus creating a conflict.\n * The algorithm below finds all conflicts via making a series of comparisons\n * between fields. In order to compare as few fields as possible, this makes\n * a series of comparisons \"within\" sets of fields and \"between\" sets of fields.\n *\n * Given any selection set, a collection produces both a set of fields by\n * also including all inline fragments, as well as a list of fragments\n * referenced by fragment spreads.\n *\n * A) Each selection set represented in the document first compares \"within\" its\n * collected set of fields, finding any conflicts between every pair of\n * overlapping fields.\n * Note: This is the *only time* that a the fields \"within\" a set are compared\n * to each other. After this only fields \"between\" sets are compared.\n *\n * B) Also, if any fragment is referenced in a selection set, then a\n * comparison is made \"between\" the original set of fields and the\n * referenced fragment.\n *\n * C) Also, if multiple fragments are referenced, then comparisons\n * are made \"between\" each referenced fragment.\n *\n * D) When comparing \"between\" a set of fields and a referenced fragment, first\n * a comparison is made between each field in the original set of fields and\n * each field in the the referenced set of fields.\n *\n * E) Also, if any fragment is referenced in the referenced selection set,\n * then a comparison is made \"between\" the original set of fields and the\n * referenced fragment (recursively referring to step D).\n *\n * F) When comparing \"between\" two fragments, first a comparison is made between\n * each field in the first referenced set of fields and each field in the the\n * second referenced set of fields.\n *\n * G) Also, any fragments referenced by the first must be compared to the\n * second, and any fragments referenced by the second must be compared to the\n * first (recursively referring to step F).\n *\n * H) When comparing two fields, if both have selection sets, then a comparison\n * is made \"between\" both selection sets, first comparing the set of fields in\n * the first selection set with the set of fields in the second.\n *\n * I) Also, if any fragment is referenced in either selection set, then a\n * comparison is made \"between\" the other set of fields and the\n * referenced fragment.\n *\n * J) Also, if two fragments are referenced in both selection sets, then a\n * comparison is made \"between\" the two fragments.\n *\n */\n// Find all conflicts found \"within\" a selection set, including those found\n// via spreading in fragments. Called when visiting each SelectionSet in the\n// GraphQL Document.\nfunction findConflictsWithinSelectionSet(\n  context,\n  cachedFieldsAndFragmentNames,\n  comparedFragmentPairs,\n  parentType,\n  selectionSet,\n) {\n  const conflicts = [];\n  const [fieldMap, fragmentNames] = getFieldsAndFragmentNames(\n    context,\n    cachedFieldsAndFragmentNames,\n    parentType,\n    selectionSet,\n  ); // (A) Find find all conflicts \"within\" the fields of this selection set.\n  // Note: this is the *only place* `collectConflictsWithin` is called.\n\n  collectConflictsWithin(\n    context,\n    conflicts,\n    cachedFieldsAndFragmentNames,\n    comparedFragmentPairs,\n    fieldMap,\n  );\n\n  if (fragmentNames.length !== 0) {\n    // (B) Then collect conflicts between these fields and those represented by\n    // each spread fragment name found.\n    for (let i = 0; i < fragmentNames.length; i++) {\n      collectConflictsBetweenFieldsAndFragment(\n        context,\n        conflicts,\n        cachedFieldsAndFragmentNames,\n        comparedFragmentPairs,\n        false,\n        fieldMap,\n        fragmentNames[i],\n      ); // (C) Then compare this fragment with all other fragments found in this\n      // selection set to collect conflicts between fragments spread together.\n      // This compares each item in the list of fragment names to every other\n      // item in that same list (except for itself).\n\n      for (let j = i + 1; j < fragmentNames.length; j++) {\n        collectConflictsBetweenFragments(\n          context,\n          conflicts,\n          cachedFieldsAndFragmentNames,\n          comparedFragmentPairs,\n          false,\n          fragmentNames[i],\n          fragmentNames[j],\n        );\n      }\n    }\n  }\n\n  return conflicts;\n} // Collect all conflicts found between a set of fields and a fragment reference\n// including via spreading in any nested fragments.\n\nfunction collectConflictsBetweenFieldsAndFragment(\n  context,\n  conflicts,\n  cachedFieldsAndFragmentNames,\n  comparedFragmentPairs,\n  areMutuallyExclusive,\n  fieldMap,\n  fragmentName,\n) {\n  const fragment = context.getFragment(fragmentName);\n\n  if (!fragment) {\n    return;\n  }\n\n  const [fieldMap2, referencedFragmentNames] =\n    getReferencedFieldsAndFragmentNames(\n      context,\n      cachedFieldsAndFragmentNames,\n      fragment,\n    ); // Do not compare a fragment's fieldMap to itself.\n\n  if (fieldMap === fieldMap2) {\n    return;\n  } // (D) First collect any conflicts between the provided collection of fields\n  // and the collection of fields represented by the given fragment.\n\n  collectConflictsBetween(\n    context,\n    conflicts,\n    cachedFieldsAndFragmentNames,\n    comparedFragmentPairs,\n    areMutuallyExclusive,\n    fieldMap,\n    fieldMap2,\n  ); // (E) Then collect any conflicts between the provided collection of fields\n  // and any fragment names found in the given fragment.\n\n  for (const referencedFragmentName of referencedFragmentNames) {\n    // Memoize so two fragments are not compared for conflicts more than once.\n    if (\n      comparedFragmentPairs.has(\n        referencedFragmentName,\n        fragmentName,\n        areMutuallyExclusive,\n      )\n    ) {\n      continue;\n    }\n\n    comparedFragmentPairs.add(\n      referencedFragmentName,\n      fragmentName,\n      areMutuallyExclusive,\n    );\n    collectConflictsBetweenFieldsAndFragment(\n      context,\n      conflicts,\n      cachedFieldsAndFragmentNames,\n      comparedFragmentPairs,\n      areMutuallyExclusive,\n      fieldMap,\n      referencedFragmentName,\n    );\n  }\n} // Collect all conflicts found between two fragments, including via spreading in\n// any nested fragments.\n\nfunction collectConflictsBetweenFragments(\n  context,\n  conflicts,\n  cachedFieldsAndFragmentNames,\n  comparedFragmentPairs,\n  areMutuallyExclusive,\n  fragmentName1,\n  fragmentName2,\n) {\n  // No need to compare a fragment to itself.\n  if (fragmentName1 === fragmentName2) {\n    return;\n  } // Memoize so two fragments are not compared for conflicts more than once.\n\n  if (\n    comparedFragmentPairs.has(\n      fragmentName1,\n      fragmentName2,\n      areMutuallyExclusive,\n    )\n  ) {\n    return;\n  }\n\n  comparedFragmentPairs.add(fragmentName1, fragmentName2, areMutuallyExclusive);\n  const fragment1 = context.getFragment(fragmentName1);\n  const fragment2 = context.getFragment(fragmentName2);\n\n  if (!fragment1 || !fragment2) {\n    return;\n  }\n\n  const [fieldMap1, referencedFragmentNames1] =\n    getReferencedFieldsAndFragmentNames(\n      context,\n      cachedFieldsAndFragmentNames,\n      fragment1,\n    );\n  const [fieldMap2, referencedFragmentNames2] =\n    getReferencedFieldsAndFragmentNames(\n      context,\n      cachedFieldsAndFragmentNames,\n      fragment2,\n    ); // (F) First, collect all conflicts between these two collections of fields\n  // (not including any nested fragments).\n\n  collectConflictsBetween(\n    context,\n    conflicts,\n    cachedFieldsAndFragmentNames,\n    comparedFragmentPairs,\n    areMutuallyExclusive,\n    fieldMap1,\n    fieldMap2,\n  ); // (G) Then collect conflicts between the first fragment and any nested\n  // fragments spread in the second fragment.\n\n  for (const referencedFragmentName2 of referencedFragmentNames2) {\n    collectConflictsBetweenFragments(\n      context,\n      conflicts,\n      cachedFieldsAndFragmentNames,\n      comparedFragmentPairs,\n      areMutuallyExclusive,\n      fragmentName1,\n      referencedFragmentName2,\n    );\n  } // (G) Then collect conflicts between the second fragment and any nested\n  // fragments spread in the first fragment.\n\n  for (const referencedFragmentName1 of referencedFragmentNames1) {\n    collectConflictsBetweenFragments(\n      context,\n      conflicts,\n      cachedFieldsAndFragmentNames,\n      comparedFragmentPairs,\n      areMutuallyExclusive,\n      referencedFragmentName1,\n      fragmentName2,\n    );\n  }\n} // Find all conflicts found between two selection sets, including those found\n// via spreading in fragments. Called when determining if conflicts exist\n// between the sub-fields of two overlapping fields.\n\nfunction findConflictsBetweenSubSelectionSets(\n  context,\n  cachedFieldsAndFragmentNames,\n  comparedFragmentPairs,\n  areMutuallyExclusive,\n  parentType1,\n  selectionSet1,\n  parentType2,\n  selectionSet2,\n) {\n  const conflicts = [];\n  const [fieldMap1, fragmentNames1] = getFieldsAndFragmentNames(\n    context,\n    cachedFieldsAndFragmentNames,\n    parentType1,\n    selectionSet1,\n  );\n  const [fieldMap2, fragmentNames2] = getFieldsAndFragmentNames(\n    context,\n    cachedFieldsAndFragmentNames,\n    parentType2,\n    selectionSet2,\n  ); // (H) First, collect all conflicts between these two collections of field.\n\n  collectConflictsBetween(\n    context,\n    conflicts,\n    cachedFieldsAndFragmentNames,\n    comparedFragmentPairs,\n    areMutuallyExclusive,\n    fieldMap1,\n    fieldMap2,\n  ); // (I) Then collect conflicts between the first collection of fields and\n  // those referenced by each fragment name associated with the second.\n\n  for (const fragmentName2 of fragmentNames2) {\n    collectConflictsBetweenFieldsAndFragment(\n      context,\n      conflicts,\n      cachedFieldsAndFragmentNames,\n      comparedFragmentPairs,\n      areMutuallyExclusive,\n      fieldMap1,\n      fragmentName2,\n    );\n  } // (I) Then collect conflicts between the second collection of fields and\n  // those referenced by each fragment name associated with the first.\n\n  for (const fragmentName1 of fragmentNames1) {\n    collectConflictsBetweenFieldsAndFragment(\n      context,\n      conflicts,\n      cachedFieldsAndFragmentNames,\n      comparedFragmentPairs,\n      areMutuallyExclusive,\n      fieldMap2,\n      fragmentName1,\n    );\n  } // (J) Also collect conflicts between any fragment names by the first and\n  // fragment names by the second. This compares each item in the first set of\n  // names to each item in the second set of names.\n\n  for (const fragmentName1 of fragmentNames1) {\n    for (const fragmentName2 of fragmentNames2) {\n      collectConflictsBetweenFragments(\n        context,\n        conflicts,\n        cachedFieldsAndFragmentNames,\n        comparedFragmentPairs,\n        areMutuallyExclusive,\n        fragmentName1,\n        fragmentName2,\n      );\n    }\n  }\n\n  return conflicts;\n} // Collect all Conflicts \"within\" one collection of fields.\n\nfunction collectConflictsWithin(\n  context,\n  conflicts,\n  cachedFieldsAndFragmentNames,\n  comparedFragmentPairs,\n  fieldMap,\n) {\n  // A field map is a keyed collection, where each key represents a response\n  // name and the value at that key is a list of all fields which provide that\n  // response name. For every response name, if there are multiple fields, they\n  // must be compared to find a potential conflict.\n  for (const [responseName, fields] of Object.entries(fieldMap)) {\n    // This compares every field in the list to every other field in this list\n    // (except to itself). If the list only has one item, nothing needs to\n    // be compared.\n    if (fields.length > 1) {\n      for (let i = 0; i < fields.length; i++) {\n        for (let j = i + 1; j < fields.length; j++) {\n          const conflict = findConflict(\n            context,\n            cachedFieldsAndFragmentNames,\n            comparedFragmentPairs,\n            false, // within one collection is never mutually exclusive\n            responseName,\n            fields[i],\n            fields[j],\n          );\n\n          if (conflict) {\n            conflicts.push(conflict);\n          }\n        }\n      }\n    }\n  }\n} // Collect all Conflicts between two collections of fields. This is similar to,\n// but different from the `collectConflictsWithin` function above. This check\n// assumes that `collectConflictsWithin` has already been called on each\n// provided collection of fields. This is true because this validator traverses\n// each individual selection set.\n\nfunction collectConflictsBetween(\n  context,\n  conflicts,\n  cachedFieldsAndFragmentNames,\n  comparedFragmentPairs,\n  parentFieldsAreMutuallyExclusive,\n  fieldMap1,\n  fieldMap2,\n) {\n  // A field map is a keyed collection, where each key represents a response\n  // name and the value at that key is a list of all fields which provide that\n  // response name. For any response name which appears in both provided field\n  // maps, each field from the first field map must be compared to every field\n  // in the second field map to find potential conflicts.\n  for (const [responseName, fields1] of Object.entries(fieldMap1)) {\n    const fields2 = fieldMap2[responseName];\n\n    if (fields2) {\n      for (const field1 of fields1) {\n        for (const field2 of fields2) {\n          const conflict = findConflict(\n            context,\n            cachedFieldsAndFragmentNames,\n            comparedFragmentPairs,\n            parentFieldsAreMutuallyExclusive,\n            responseName,\n            field1,\n            field2,\n          );\n\n          if (conflict) {\n            conflicts.push(conflict);\n          }\n        }\n      }\n    }\n  }\n} // Determines if there is a conflict between two particular fields, including\n// comparing their sub-fields.\n\nfunction findConflict(\n  context,\n  cachedFieldsAndFragmentNames,\n  comparedFragmentPairs,\n  parentFieldsAreMutuallyExclusive,\n  responseName,\n  field1,\n  field2,\n) {\n  const [parentType1, node1, def1] = field1;\n  const [parentType2, node2, def2] = field2; // If it is known that two fields could not possibly apply at the same\n  // time, due to the parent types, then it is safe to permit them to diverge\n  // in aliased field or arguments used as they will not present any ambiguity\n  // by differing.\n  // It is known that two parent types could never overlap if they are\n  // different Object types. Interface or Union types might overlap - if not\n  // in the current state of the schema, then perhaps in some future version,\n  // thus may not safely diverge.\n\n  const areMutuallyExclusive =\n    parentFieldsAreMutuallyExclusive ||\n    (parentType1 !== parentType2 &&\n      isObjectType(parentType1) &&\n      isObjectType(parentType2));\n\n  if (!areMutuallyExclusive) {\n    // Two aliases must refer to the same field.\n    const name1 = node1.name.value;\n    const name2 = node2.name.value;\n\n    if (name1 !== name2) {\n      return [\n        [responseName, `\"${name1}\" and \"${name2}\" are different fields`],\n        [node1],\n        [node2],\n      ];\n    } // Two field calls must have the same arguments.\n\n    if (stringifyArguments(node1) !== stringifyArguments(node2)) {\n      return [\n        [responseName, 'they have differing arguments'],\n        [node1],\n        [node2],\n      ];\n    }\n  } // The return type for each field.\n\n  const type1 = def1 === null || def1 === void 0 ? void 0 : def1.type;\n  const type2 = def2 === null || def2 === void 0 ? void 0 : def2.type;\n\n  if (type1 && type2 && doTypesConflict(type1, type2)) {\n    return [\n      [\n        responseName,\n        `they return conflicting types \"${inspect(type1)}\" and \"${inspect(\n          type2,\n        )}\"`,\n      ],\n      [node1],\n      [node2],\n    ];\n  } // Collect and compare sub-fields. Use the same \"visited fragment names\" list\n  // for both collections so fields in a fragment reference are never\n  // compared to themselves.\n\n  const selectionSet1 = node1.selectionSet;\n  const selectionSet2 = node2.selectionSet;\n\n  if (selectionSet1 && selectionSet2) {\n    const conflicts = findConflictsBetweenSubSelectionSets(\n      context,\n      cachedFieldsAndFragmentNames,\n      comparedFragmentPairs,\n      areMutuallyExclusive,\n      getNamedType(type1),\n      selectionSet1,\n      getNamedType(type2),\n      selectionSet2,\n    );\n    return subfieldConflicts(conflicts, responseName, node1, node2);\n  }\n}\n\nfunction stringifyArguments(fieldNode) {\n  var _fieldNode$arguments;\n\n  // FIXME https://github.com/graphql/graphql-js/issues/2203\n  const args =\n    /* c8 ignore next */\n    (_fieldNode$arguments = fieldNode.arguments) !== null &&\n    _fieldNode$arguments !== void 0\n      ? _fieldNode$arguments\n      : [];\n  const inputObjectWithArgs = {\n    kind: Kind.OBJECT,\n    fields: args.map((argNode) => ({\n      kind: Kind.OBJECT_FIELD,\n      name: argNode.name,\n      value: argNode.value,\n    })),\n  };\n  return print(sortValueNode(inputObjectWithArgs));\n} // Two types conflict if both types could not apply to a value simultaneously.\n// Composite types are ignored as their individual field types will be compared\n// later recursively. However List and Non-Null types must match.\n\nfunction doTypesConflict(type1, type2) {\n  if (isListType(type1)) {\n    return isListType(type2)\n      ? doTypesConflict(type1.ofType, type2.ofType)\n      : true;\n  }\n\n  if (isListType(type2)) {\n    return true;\n  }\n\n  if (isNonNullType(type1)) {\n    return isNonNullType(type2)\n      ? doTypesConflict(type1.ofType, type2.ofType)\n      : true;\n  }\n\n  if (isNonNullType(type2)) {\n    return true;\n  }\n\n  if (isLeafType(type1) || isLeafType(type2)) {\n    return type1 !== type2;\n  }\n\n  return false;\n} // Given a selection set, return the collection of fields (a mapping of response\n// name to field nodes and definitions) as well as a list of fragment names\n// referenced via fragment spreads.\n\nfunction getFieldsAndFragmentNames(\n  context,\n  cachedFieldsAndFragmentNames,\n  parentType,\n  selectionSet,\n) {\n  const cached = cachedFieldsAndFragmentNames.get(selectionSet);\n\n  if (cached) {\n    return cached;\n  }\n\n  const nodeAndDefs = Object.create(null);\n  const fragmentNames = Object.create(null);\n\n  _collectFieldsAndFragmentNames(\n    context,\n    parentType,\n    selectionSet,\n    nodeAndDefs,\n    fragmentNames,\n  );\n\n  const result = [nodeAndDefs, Object.keys(fragmentNames)];\n  cachedFieldsAndFragmentNames.set(selectionSet, result);\n  return result;\n} // Given a reference to a fragment, return the represented collection of fields\n// as well as a list of nested fragment names referenced via fragment spreads.\n\nfunction getReferencedFieldsAndFragmentNames(\n  context,\n  cachedFieldsAndFragmentNames,\n  fragment,\n) {\n  // Short-circuit building a type from the node if possible.\n  const cached = cachedFieldsAndFragmentNames.get(fragment.selectionSet);\n\n  if (cached) {\n    return cached;\n  }\n\n  const fragmentType = typeFromAST(context.getSchema(), fragment.typeCondition);\n  return getFieldsAndFragmentNames(\n    context,\n    cachedFieldsAndFragmentNames,\n    fragmentType,\n    fragment.selectionSet,\n  );\n}\n\nfunction _collectFieldsAndFragmentNames(\n  context,\n  parentType,\n  selectionSet,\n  nodeAndDefs,\n  fragmentNames,\n) {\n  for (const selection of selectionSet.selections) {\n    switch (selection.kind) {\n      case Kind.FIELD: {\n        const fieldName = selection.name.value;\n        let fieldDef;\n\n        if (isObjectType(parentType) || isInterfaceType(parentType)) {\n          fieldDef = parentType.getFields()[fieldName];\n        }\n\n        const responseName = selection.alias\n          ? selection.alias.value\n          : fieldName;\n\n        if (!nodeAndDefs[responseName]) {\n          nodeAndDefs[responseName] = [];\n        }\n\n        nodeAndDefs[responseName].push([parentType, selection, fieldDef]);\n        break;\n      }\n\n      case Kind.FRAGMENT_SPREAD:\n        fragmentNames[selection.name.value] = true;\n        break;\n\n      case Kind.INLINE_FRAGMENT: {\n        const typeCondition = selection.typeCondition;\n        const inlineFragmentType = typeCondition\n          ? typeFromAST(context.getSchema(), typeCondition)\n          : parentType;\n\n        _collectFieldsAndFragmentNames(\n          context,\n          inlineFragmentType,\n          selection.selectionSet,\n          nodeAndDefs,\n          fragmentNames,\n        );\n\n        break;\n      }\n    }\n  }\n} // Given a series of Conflicts which occurred between two sub-fields, generate\n// a single Conflict.\n\nfunction subfieldConflicts(conflicts, responseName, node1, node2) {\n  if (conflicts.length > 0) {\n    return [\n      [responseName, conflicts.map(([reason]) => reason)],\n      [node1, ...conflicts.map(([, fields1]) => fields1).flat()],\n      [node2, ...conflicts.map(([, , fields2]) => fields2).flat()],\n    ];\n  }\n}\n/**\n * A way to keep track of pairs of things when the ordering of the pair does not matter.\n */\n\nclass PairSet {\n  constructor() {\n    this._data = new Map();\n  }\n\n  has(a, b, areMutuallyExclusive) {\n    var _this$_data$get;\n\n    const [key1, key2] = a < b ? [a, b] : [b, a];\n    const result =\n      (_this$_data$get = this._data.get(key1)) === null ||\n      _this$_data$get === void 0\n        ? void 0\n        : _this$_data$get.get(key2);\n\n    if (result === undefined) {\n      return false;\n    } // areMutuallyExclusive being false is a superset of being true, hence if\n    // we want to know if this PairSet \"has\" these two with no exclusivity,\n    // we have to ensure it was added as such.\n\n    return areMutuallyExclusive ? true : areMutuallyExclusive === result;\n  }\n\n  add(a, b, areMutuallyExclusive) {\n    const [key1, key2] = a < b ? [a, b] : [b, a];\n\n    const map = this._data.get(key1);\n\n    if (map === undefined) {\n      this._data.set(key1, new Map([[key2, areMutuallyExclusive]]));\n    } else {\n      map.set(key2, areMutuallyExclusive);\n    }\n  }\n}\n","import { inspect } from '../../jsutils/inspect.mjs';\nimport { GraphQLError } from '../../error/GraphQLError.mjs';\nimport { isCompositeType } from '../../type/definition.mjs';\nimport { doTypesOverlap } from '../../utilities/typeComparators.mjs';\nimport { typeFromAST } from '../../utilities/typeFromAST.mjs';\n\n/**\n * Possible fragment spread\n *\n * A fragment spread is only valid if the type condition could ever possibly\n * be true: if there is a non-empty intersection of the possible parent types,\n * and possible types which pass the type condition.\n */\nexport function PossibleFragmentSpreadsRule(context) {\n  return {\n    InlineFragment(node) {\n      const fragType = context.getType();\n      const parentType = context.getParentType();\n\n      if (\n        isCompositeType(fragType) &&\n        isCompositeType(parentType) &&\n        !doTypesOverlap(context.getSchema(), fragType, parentType)\n      ) {\n        const parentTypeStr = inspect(parentType);\n        const fragTypeStr = inspect(fragType);\n        context.reportError(\n          new GraphQLError(\n            `Fragment cannot be spread here as objects of type \"${parentTypeStr}\" can never be of type \"${fragTypeStr}\".`,\n            {\n              nodes: node,\n            },\n          ),\n        );\n      }\n    },\n\n    FragmentSpread(node) {\n      const fragName = node.name.value;\n      const fragType = getFragmentType(context, fragName);\n      const parentType = context.getParentType();\n\n      if (\n        fragType &&\n        parentType &&\n        !doTypesOverlap(context.getSchema(), fragType, parentType)\n      ) {\n        const parentTypeStr = inspect(parentType);\n        const fragTypeStr = inspect(fragType);\n        context.reportError(\n          new GraphQLError(\n            `Fragment \"${fragName}\" cannot be spread here as objects of type \"${parentTypeStr}\" can never be of type \"${fragTypeStr}\".`,\n            {\n              nodes: node,\n            },\n          ),\n        );\n      }\n    },\n  };\n}\n\nfunction getFragmentType(context, name) {\n  const frag = context.getFragment(name);\n\n  if (frag) {\n    const type = typeFromAST(context.getSchema(), frag.typeCondition);\n\n    if (isCompositeType(type)) {\n      return type;\n    }\n  }\n}\n","import { didYouMean } from '../../jsutils/didYouMean.mjs';\nimport { inspect } from '../../jsutils/inspect.mjs';\nimport { invariant } from '../../jsutils/invariant.mjs';\nimport { suggestionList } from '../../jsutils/suggestionList.mjs';\nimport { GraphQLError } from '../../error/GraphQLError.mjs';\nimport { Kind } from '../../language/kinds.mjs';\nimport { isTypeDefinitionNode } from '../../language/predicates.mjs';\nimport {\n  isEnumType,\n  isInputObjectType,\n  isInterfaceType,\n  isObjectType,\n  isScalarType,\n  isUnionType,\n} from '../../type/definition.mjs';\n\n/**\n * Possible type extension\n *\n * A type extension is only valid if the type is defined and has the same kind.\n */\nexport function PossibleTypeExtensionsRule(context) {\n  const schema = context.getSchema();\n  const definedTypes = Object.create(null);\n\n  for (const def of context.getDocument().definitions) {\n    if (isTypeDefinitionNode(def)) {\n      definedTypes[def.name.value] = def;\n    }\n  }\n\n  return {\n    ScalarTypeExtension: checkExtension,\n    ObjectTypeExtension: checkExtension,\n    InterfaceTypeExtension: checkExtension,\n    UnionTypeExtension: checkExtension,\n    EnumTypeExtension: checkExtension,\n    InputObjectTypeExtension: checkExtension,\n  };\n\n  function checkExtension(node) {\n    const typeName = node.name.value;\n    const defNode = definedTypes[typeName];\n    const existingType =\n      schema === null || schema === void 0 ? void 0 : schema.getType(typeName);\n    let expectedKind;\n\n    if (defNode) {\n      expectedKind = defKindToExtKind[defNode.kind];\n    } else if (existingType) {\n      expectedKind = typeToExtKind(existingType);\n    }\n\n    if (expectedKind) {\n      if (expectedKind !== node.kind) {\n        const kindStr = extensionKindToTypeName(node.kind);\n        context.reportError(\n          new GraphQLError(`Cannot extend non-${kindStr} type \"${typeName}\".`, {\n            nodes: defNode ? [defNode, node] : node,\n          }),\n        );\n      }\n    } else {\n      const allTypeNames = Object.keys({\n        ...definedTypes,\n        ...(schema === null || schema === void 0\n          ? void 0\n          : schema.getTypeMap()),\n      });\n      const suggestedTypes = suggestionList(typeName, allTypeNames);\n      context.reportError(\n        new GraphQLError(\n          `Cannot extend type \"${typeName}\" because it is not defined.` +\n            didYouMean(suggestedTypes),\n          {\n            nodes: node.name,\n          },\n        ),\n      );\n    }\n  }\n}\nconst defKindToExtKind = {\n  [Kind.SCALAR_TYPE_DEFINITION]: Kind.SCALAR_TYPE_EXTENSION,\n  [Kind.OBJECT_TYPE_DEFINITION]: Kind.OBJECT_TYPE_EXTENSION,\n  [Kind.INTERFACE_TYPE_DEFINITION]: Kind.INTERFACE_TYPE_EXTENSION,\n  [Kind.UNION_TYPE_DEFINITION]: Kind.UNION_TYPE_EXTENSION,\n  [Kind.ENUM_TYPE_DEFINITION]: Kind.ENUM_TYPE_EXTENSION,\n  [Kind.INPUT_OBJECT_TYPE_DEFINITION]: Kind.INPUT_OBJECT_TYPE_EXTENSION,\n};\n\nfunction typeToExtKind(type) {\n  if (isScalarType(type)) {\n    return Kind.SCALAR_TYPE_EXTENSION;\n  }\n\n  if (isObjectType(type)) {\n    return Kind.OBJECT_TYPE_EXTENSION;\n  }\n\n  if (isInterfaceType(type)) {\n    return Kind.INTERFACE_TYPE_EXTENSION;\n  }\n\n  if (isUnionType(type)) {\n    return Kind.UNION_TYPE_EXTENSION;\n  }\n\n  if (isEnumType(type)) {\n    return Kind.ENUM_TYPE_EXTENSION;\n  }\n\n  if (isInputObjectType(type)) {\n    return Kind.INPUT_OBJECT_TYPE_EXTENSION;\n  }\n  /* c8 ignore next 3 */\n  // Not reachable. All possible types have been considered\n\n  false || invariant(false, 'Unexpected type: ' + inspect(type));\n}\n\nfunction extensionKindToTypeName(kind) {\n  switch (kind) {\n    case Kind.SCALAR_TYPE_EXTENSION:\n      return 'scalar';\n\n    case Kind.OBJECT_TYPE_EXTENSION:\n      return 'object';\n\n    case Kind.INTERFACE_TYPE_EXTENSION:\n      return 'interface';\n\n    case Kind.UNION_TYPE_EXTENSION:\n      return 'union';\n\n    case Kind.ENUM_TYPE_EXTENSION:\n      return 'enum';\n\n    case Kind.INPUT_OBJECT_TYPE_EXTENSION:\n      return 'input object';\n    // Not reachable. All possible types have been considered\n\n    /* c8 ignore next */\n\n    default:\n      false || invariant(false, 'Unexpected kind: ' + inspect(kind));\n  }\n}\n","import { inspect } from '../../jsutils/inspect.mjs';\nimport { keyMap } from '../../jsutils/keyMap.mjs';\nimport { GraphQLError } from '../../error/GraphQLError.mjs';\nimport { Kind } from '../../language/kinds.mjs';\nimport { print } from '../../language/printer.mjs';\nimport { isRequiredArgument, isType } from '../../type/definition.mjs';\nimport { specifiedDirectives } from '../../type/directives.mjs';\n\n/**\n * Provided required arguments\n *\n * A field or directive is only valid if all required (non-null without a\n * default value) field arguments have been provided.\n */\nexport function ProvidedRequiredArgumentsRule(context) {\n  return {\n    // eslint-disable-next-line new-cap\n    ...ProvidedRequiredArgumentsOnDirectivesRule(context),\n    Field: {\n      // Validate on leave to allow for deeper errors to appear first.\n      leave(fieldNode) {\n        var _fieldNode$arguments;\n\n        const fieldDef = context.getFieldDef();\n\n        if (!fieldDef) {\n          return false;\n        }\n\n        const providedArgs = new Set( // FIXME: https://github.com/graphql/graphql-js/issues/2203\n          /* c8 ignore next */\n          (_fieldNode$arguments = fieldNode.arguments) === null ||\n          _fieldNode$arguments === void 0\n            ? void 0\n            : _fieldNode$arguments.map((arg) => arg.name.value),\n        );\n\n        for (const argDef of fieldDef.args) {\n          if (!providedArgs.has(argDef.name) && isRequiredArgument(argDef)) {\n            const argTypeStr = inspect(argDef.type);\n            context.reportError(\n              new GraphQLError(\n                `Field \"${fieldDef.name}\" argument \"${argDef.name}\" of type \"${argTypeStr}\" is required, but it was not provided.`,\n                {\n                  nodes: fieldNode,\n                },\n              ),\n            );\n          }\n        }\n      },\n    },\n  };\n}\n/**\n * @internal\n */\n\nexport function ProvidedRequiredArgumentsOnDirectivesRule(context) {\n  var _schema$getDirectives;\n\n  const requiredArgsMap = Object.create(null);\n  const schema = context.getSchema();\n  const definedDirectives =\n    (_schema$getDirectives =\n      schema === null || schema === void 0\n        ? void 0\n        : schema.getDirectives()) !== null && _schema$getDirectives !== void 0\n      ? _schema$getDirectives\n      : specifiedDirectives;\n\n  for (const directive of definedDirectives) {\n    requiredArgsMap[directive.name] = keyMap(\n      directive.args.filter(isRequiredArgument),\n      (arg) => arg.name,\n    );\n  }\n\n  const astDefinitions = context.getDocument().definitions;\n\n  for (const def of astDefinitions) {\n    if (def.kind === Kind.DIRECTIVE_DEFINITION) {\n      var _def$arguments;\n\n      // FIXME: https://github.com/graphql/graphql-js/issues/2203\n\n      /* c8 ignore next */\n      const argNodes =\n        (_def$arguments = def.arguments) !== null && _def$arguments !== void 0\n          ? _def$arguments\n          : [];\n      requiredArgsMap[def.name.value] = keyMap(\n        argNodes.filter(isRequiredArgumentNode),\n        (arg) => arg.name.value,\n      );\n    }\n  }\n\n  return {\n    Directive: {\n      // Validate on leave to allow for deeper errors to appear first.\n      leave(directiveNode) {\n        const directiveName = directiveNode.name.value;\n        const requiredArgs = requiredArgsMap[directiveName];\n\n        if (requiredArgs) {\n          var _directiveNode$argume;\n\n          // FIXME: https://github.com/graphql/graphql-js/issues/2203\n\n          /* c8 ignore next */\n          const argNodes =\n            (_directiveNode$argume = directiveNode.arguments) !== null &&\n            _directiveNode$argume !== void 0\n              ? _directiveNode$argume\n              : [];\n          const argNodeMap = new Set(argNodes.map((arg) => arg.name.value));\n\n          for (const [argName, argDef] of Object.entries(requiredArgs)) {\n            if (!argNodeMap.has(argName)) {\n              const argType = isType(argDef.type)\n                ? inspect(argDef.type)\n                : print(argDef.type);\n              context.reportError(\n                new GraphQLError(\n                  `Directive \"@${directiveName}\" argument \"${argName}\" of type \"${argType}\" is required, but it was not provided.`,\n                  {\n                    nodes: directiveNode,\n                  },\n                ),\n              );\n            }\n          }\n        }\n      },\n    },\n  };\n}\n\nfunction isRequiredArgumentNode(arg) {\n  return arg.type.kind === Kind.NON_NULL_TYPE && arg.defaultValue == null;\n}\n","import { inspect } from '../../jsutils/inspect.mjs';\nimport { GraphQLError } from '../../error/GraphQLError.mjs';\nimport { getNamedType, isLeafType } from '../../type/definition.mjs';\n\n/**\n * Scalar leafs\n *\n * A GraphQL document is valid only if all leaf fields (fields without\n * sub selections) are of scalar or enum types.\n */\nexport function ScalarLeafsRule(context) {\n  return {\n    Field(node) {\n      const type = context.getType();\n      const selectionSet = node.selectionSet;\n\n      if (type) {\n        if (isLeafType(getNamedType(type))) {\n          if (selectionSet) {\n            const fieldName = node.name.value;\n            const typeStr = inspect(type);\n            context.reportError(\n              new GraphQLError(\n                `Field \"${fieldName}\" must not have a selection since type \"${typeStr}\" has no subfields.`,\n                {\n                  nodes: selectionSet,\n                },\n              ),\n            );\n          }\n        } else if (!selectionSet) {\n          const fieldName = node.name.value;\n          const typeStr = inspect(type);\n          context.reportError(\n            new GraphQLError(\n              `Field \"${fieldName}\" of type \"${typeStr}\" must have a selection of subfields. Did you mean \"${fieldName} { ... }\"?`,\n              {\n                nodes: node,\n              },\n            ),\n          );\n        }\n      }\n    },\n  };\n}\n","/**\n * Build a string describing the path.\n */\nexport function printPathArray(path) {\n  return path\n    .map((key) =>\n      typeof key === 'number' ? '[' + key.toString() + ']' : '.' + key,\n    )\n    .join('');\n}\n","/**\n * Given a Path and a key, return a new Path containing the new key.\n */\nexport function addPath(prev, key, typename) {\n  return {\n    prev,\n    key,\n    typename,\n  };\n}\n/**\n * Given a Path, return an Array of the path keys.\n */\n\nexport function pathToArray(path) {\n  const flattened = [];\n  let curr = path;\n\n  while (curr) {\n    flattened.push(curr.key);\n    curr = curr.prev;\n  }\n\n  return flattened.reverse();\n}\n","import { didYouMean } from '../jsutils/didYouMean.mjs';\nimport { inspect } from '../jsutils/inspect.mjs';\nimport { invariant } from '../jsutils/invariant.mjs';\nimport { isIterableObject } from '../jsutils/isIterableObject.mjs';\nimport { isObjectLike } from '../jsutils/isObjectLike.mjs';\nimport { addPath, pathToArray } from '../jsutils/Path.mjs';\nimport { printPathArray } from '../jsutils/printPathArray.mjs';\nimport { suggestionList } from '../jsutils/suggestionList.mjs';\nimport { GraphQLError } from '../error/GraphQLError.mjs';\nimport {\n  isInputObjectType,\n  isLeafType,\n  isListType,\n  isNonNullType,\n} from '../type/definition.mjs';\n\n/**\n * Coerces a JavaScript value given a GraphQL Input Type.\n */\nexport function coerceInputValue(inputValue, type, onError = defaultOnError) {\n  return coerceInputValueImpl(inputValue, type, onError, undefined);\n}\n\nfunction defaultOnError(path, invalidValue, error) {\n  let errorPrefix = 'Invalid value ' + inspect(invalidValue);\n\n  if (path.length > 0) {\n    errorPrefix += ` at \"value${printPathArray(path)}\"`;\n  }\n\n  error.message = errorPrefix + ': ' + error.message;\n  throw error;\n}\n\nfunction coerceInputValueImpl(inputValue, type, onError, path) {\n  if (isNonNullType(type)) {\n    if (inputValue != null) {\n      return coerceInputValueImpl(inputValue, type.ofType, onError, path);\n    }\n\n    onError(\n      pathToArray(path),\n      inputValue,\n      new GraphQLError(\n        `Expected non-nullable type \"${inspect(type)}\" not to be null.`,\n      ),\n    );\n    return;\n  }\n\n  if (inputValue == null) {\n    // Explicitly return the value null.\n    return null;\n  }\n\n  if (isListType(type)) {\n    const itemType = type.ofType;\n\n    if (isIterableObject(inputValue)) {\n      return Array.from(inputValue, (itemValue, index) => {\n        const itemPath = addPath(path, index, undefined);\n        return coerceInputValueImpl(itemValue, itemType, onError, itemPath);\n      });\n    } // Lists accept a non-list value as a list of one.\n\n    return [coerceInputValueImpl(inputValue, itemType, onError, path)];\n  }\n\n  if (isInputObjectType(type)) {\n    if (!isObjectLike(inputValue)) {\n      onError(\n        pathToArray(path),\n        inputValue,\n        new GraphQLError(`Expected type \"${type.name}\" to be an object.`),\n      );\n      return;\n    }\n\n    const coercedValue = {};\n    const fieldDefs = type.getFields();\n\n    for (const field of Object.values(fieldDefs)) {\n      const fieldValue = inputValue[field.name];\n\n      if (fieldValue === undefined) {\n        if (field.defaultValue !== undefined) {\n          coercedValue[field.name] = field.defaultValue;\n        } else if (isNonNullType(field.type)) {\n          const typeStr = inspect(field.type);\n          onError(\n            pathToArray(path),\n            inputValue,\n            new GraphQLError(\n              `Field \"${field.name}\" of required type \"${typeStr}\" was not provided.`,\n            ),\n          );\n        }\n\n        continue;\n      }\n\n      coercedValue[field.name] = coerceInputValueImpl(\n        fieldValue,\n        field.type,\n        onError,\n        addPath(path, field.name, type.name),\n      );\n    } // Ensure every provided field is defined.\n\n    for (const fieldName of Object.keys(inputValue)) {\n      if (!fieldDefs[fieldName]) {\n        const suggestions = suggestionList(\n          fieldName,\n          Object.keys(type.getFields()),\n        );\n        onError(\n          pathToArray(path),\n          inputValue,\n          new GraphQLError(\n            `Field \"${fieldName}\" is not defined by type \"${type.name}\".` +\n              didYouMean(suggestions),\n          ),\n        );\n      }\n    }\n\n    return coercedValue;\n  }\n\n  if (isLeafType(type)) {\n    let parseResult; // Scalars and Enums determine if a input value is valid via parseValue(),\n    // which can throw to indicate failure. If it throws, maintain a reference\n    // to the original error.\n\n    try {\n      parseResult = type.parseValue(inputValue);\n    } catch (error) {\n      if (error instanceof GraphQLError) {\n        onError(pathToArray(path), inputValue, error);\n      } else {\n        onError(\n          pathToArray(path),\n          inputValue,\n          new GraphQLError(`Expected type \"${type.name}\". ` + error.message, {\n            originalError: error,\n          }),\n        );\n      }\n\n      return;\n    }\n\n    if (parseResult === undefined) {\n      onError(\n        pathToArray(path),\n        inputValue,\n        new GraphQLError(`Expected type \"${type.name}\".`),\n      );\n    }\n\n    return parseResult;\n  }\n  /* c8 ignore next 3 */\n  // Not reachable, all possible types have been considered.\n\n  false || invariant(false, 'Unexpected input type: ' + inspect(type));\n}\n","import { inspect } from '../jsutils/inspect.mjs';\nimport { invariant } from '../jsutils/invariant.mjs';\nimport { keyMap } from '../jsutils/keyMap.mjs';\nimport { Kind } from '../language/kinds.mjs';\nimport {\n  isInputObjectType,\n  isLeafType,\n  isListType,\n  isNonNullType,\n} from '../type/definition.mjs';\n/**\n * Produces a JavaScript value given a GraphQL Value AST.\n *\n * A GraphQL type must be provided, which will be used to interpret different\n * GraphQL Value literals.\n *\n * Returns `undefined` when the value could not be validly coerced according to\n * the provided type.\n *\n * | GraphQL Value        | JSON Value    |\n * | -------------------- | ------------- |\n * | Input Object         | Object        |\n * | List                 | Array         |\n * | Boolean              | Boolean       |\n * | String               | String        |\n * | Int / Float          | Number        |\n * | Enum Value           | Unknown       |\n * | NullValue            | null          |\n *\n */\n\nexport function valueFromAST(valueNode, type, variables) {\n  if (!valueNode) {\n    // When there is no node, then there is also no value.\n    // Importantly, this is different from returning the value null.\n    return;\n  }\n\n  if (valueNode.kind === Kind.VARIABLE) {\n    const variableName = valueNode.name.value;\n\n    if (variables == null || variables[variableName] === undefined) {\n      // No valid return value.\n      return;\n    }\n\n    const variableValue = variables[variableName];\n\n    if (variableValue === null && isNonNullType(type)) {\n      return; // Invalid: intentionally return no value.\n    } // Note: This does no further checking that this variable is correct.\n    // This assumes that this query has been validated and the variable\n    // usage here is of the correct type.\n\n    return variableValue;\n  }\n\n  if (isNonNullType(type)) {\n    if (valueNode.kind === Kind.NULL) {\n      return; // Invalid: intentionally return no value.\n    }\n\n    return valueFromAST(valueNode, type.ofType, variables);\n  }\n\n  if (valueNode.kind === Kind.NULL) {\n    // This is explicitly returning the value null.\n    return null;\n  }\n\n  if (isListType(type)) {\n    const itemType = type.ofType;\n\n    if (valueNode.kind === Kind.LIST) {\n      const coercedValues = [];\n\n      for (const itemNode of valueNode.values) {\n        if (isMissingVariable(itemNode, variables)) {\n          // If an array contains a missing variable, it is either coerced to\n          // null or if the item type is non-null, it considered invalid.\n          if (isNonNullType(itemType)) {\n            return; // Invalid: intentionally return no value.\n          }\n\n          coercedValues.push(null);\n        } else {\n          const itemValue = valueFromAST(itemNode, itemType, variables);\n\n          if (itemValue === undefined) {\n            return; // Invalid: intentionally return no value.\n          }\n\n          coercedValues.push(itemValue);\n        }\n      }\n\n      return coercedValues;\n    }\n\n    const coercedValue = valueFromAST(valueNode, itemType, variables);\n\n    if (coercedValue === undefined) {\n      return; // Invalid: intentionally return no value.\n    }\n\n    return [coercedValue];\n  }\n\n  if (isInputObjectType(type)) {\n    if (valueNode.kind !== Kind.OBJECT) {\n      return; // Invalid: intentionally return no value.\n    }\n\n    const coercedObj = Object.create(null);\n    const fieldNodes = keyMap(valueNode.fields, (field) => field.name.value);\n\n    for (const field of Object.values(type.getFields())) {\n      const fieldNode = fieldNodes[field.name];\n\n      if (!fieldNode || isMissingVariable(fieldNode.value, variables)) {\n        if (field.defaultValue !== undefined) {\n          coercedObj[field.name] = field.defaultValue;\n        } else if (isNonNullType(field.type)) {\n          return; // Invalid: intentionally return no value.\n        }\n\n        continue;\n      }\n\n      const fieldValue = valueFromAST(fieldNode.value, field.type, variables);\n\n      if (fieldValue === undefined) {\n        return; // Invalid: intentionally return no value.\n      }\n\n      coercedObj[field.name] = fieldValue;\n    }\n\n    return coercedObj;\n  }\n\n  if (isLeafType(type)) {\n    // Scalars and Enums fulfill parsing a literal value via parseLiteral().\n    // Invalid values represent a failure to parse correctly, in which case\n    // no value is returned.\n    let result;\n\n    try {\n      result = type.parseLiteral(valueNode, variables);\n    } catch (_error) {\n      return; // Invalid: intentionally return no value.\n    }\n\n    if (result === undefined) {\n      return; // Invalid: intentionally return no value.\n    }\n\n    return result;\n  }\n  /* c8 ignore next 3 */\n  // Not reachable, all possible input types have been considered.\n\n  false || invariant(false, 'Unexpected input type: ' + inspect(type));\n} // Returns true if the provided valueNode is a variable which is not defined\n// in the set of variables.\n\nfunction isMissingVariable(valueNode, variables) {\n  return (\n    valueNode.kind === Kind.VARIABLE &&\n    (variables == null || variables[valueNode.name.value] === undefined)\n  );\n}\n","import { inspect } from '../jsutils/inspect.mjs';\nimport { keyMap } from '../jsutils/keyMap.mjs';\nimport { printPathArray } from '../jsutils/printPathArray.mjs';\nimport { GraphQLError } from '../error/GraphQLError.mjs';\nimport { Kind } from '../language/kinds.mjs';\nimport { print } from '../language/printer.mjs';\nimport { isInputType, isNonNullType } from '../type/definition.mjs';\nimport { coerceInputValue } from '../utilities/coerceInputValue.mjs';\nimport { typeFromAST } from '../utilities/typeFromAST.mjs';\nimport { valueFromAST } from '../utilities/valueFromAST.mjs';\n\n/**\n * Prepares an object map of variableValues of the correct type based on the\n * provided variable definitions and arbitrary input. If the input cannot be\n * parsed to match the variable definitions, a GraphQLError will be thrown.\n *\n * Note: The returned value is a plain Object with a prototype, since it is\n * exposed to user code. Care should be taken to not pull values from the\n * Object prototype.\n */\nexport function getVariableValues(schema, varDefNodes, inputs, options) {\n  const errors = [];\n  const maxErrors =\n    options === null || options === void 0 ? void 0 : options.maxErrors;\n\n  try {\n    const coerced = coerceVariableValues(\n      schema,\n      varDefNodes,\n      inputs,\n      (error) => {\n        if (maxErrors != null && errors.length >= maxErrors) {\n          throw new GraphQLError(\n            'Too many errors processing variables, error limit reached. Execution aborted.',\n          );\n        }\n\n        errors.push(error);\n      },\n    );\n\n    if (errors.length === 0) {\n      return {\n        coerced,\n      };\n    }\n  } catch (error) {\n    errors.push(error);\n  }\n\n  return {\n    errors,\n  };\n}\n\nfunction coerceVariableValues(schema, varDefNodes, inputs, onError) {\n  const coercedValues = {};\n\n  for (const varDefNode of varDefNodes) {\n    const varName = varDefNode.variable.name.value;\n    const varType = typeFromAST(schema, varDefNode.type);\n\n    if (!isInputType(varType)) {\n      // Must use input types for variables. This should be caught during\n      // validation, however is checked again here for safety.\n      const varTypeStr = print(varDefNode.type);\n      onError(\n        new GraphQLError(\n          `Variable \"$${varName}\" expected value of type \"${varTypeStr}\" which cannot be used as an input type.`,\n          {\n            nodes: varDefNode.type,\n          },\n        ),\n      );\n      continue;\n    }\n\n    if (!hasOwnProperty(inputs, varName)) {\n      if (varDefNode.defaultValue) {\n        coercedValues[varName] = valueFromAST(varDefNode.defaultValue, varType);\n      } else if (isNonNullType(varType)) {\n        const varTypeStr = inspect(varType);\n        onError(\n          new GraphQLError(\n            `Variable \"$${varName}\" of required type \"${varTypeStr}\" was not provided.`,\n            {\n              nodes: varDefNode,\n            },\n          ),\n        );\n      }\n\n      continue;\n    }\n\n    const value = inputs[varName];\n\n    if (value === null && isNonNullType(varType)) {\n      const varTypeStr = inspect(varType);\n      onError(\n        new GraphQLError(\n          `Variable \"$${varName}\" of non-null type \"${varTypeStr}\" must not be null.`,\n          {\n            nodes: varDefNode,\n          },\n        ),\n      );\n      continue;\n    }\n\n    coercedValues[varName] = coerceInputValue(\n      value,\n      varType,\n      (path, invalidValue, error) => {\n        let prefix =\n          `Variable \"$${varName}\" got invalid value ` + inspect(invalidValue);\n\n        if (path.length > 0) {\n          prefix += ` at \"${varName}${printPathArray(path)}\"`;\n        }\n\n        onError(\n          new GraphQLError(prefix + '; ' + error.message, {\n            nodes: varDefNode,\n            originalError: error.originalError,\n          }),\n        );\n      },\n    );\n  }\n\n  return coercedValues;\n}\n/**\n * Prepares an object map of argument values given a list of argument\n * definitions and list of argument AST nodes.\n *\n * Note: The returned value is a plain Object with a prototype, since it is\n * exposed to user code. Care should be taken to not pull values from the\n * Object prototype.\n */\n\nexport function getArgumentValues(def, node, variableValues) {\n  var _node$arguments;\n\n  const coercedValues = {}; // FIXME: https://github.com/graphql/graphql-js/issues/2203\n\n  /* c8 ignore next */\n\n  const argumentNodes =\n    (_node$arguments = node.arguments) !== null && _node$arguments !== void 0\n      ? _node$arguments\n      : [];\n  const argNodeMap = keyMap(argumentNodes, (arg) => arg.name.value);\n\n  for (const argDef of def.args) {\n    const name = argDef.name;\n    const argType = argDef.type;\n    const argumentNode = argNodeMap[name];\n\n    if (!argumentNode) {\n      if (argDef.defaultValue !== undefined) {\n        coercedValues[name] = argDef.defaultValue;\n      } else if (isNonNullType(argType)) {\n        throw new GraphQLError(\n          `Argument \"${name}\" of required type \"${inspect(argType)}\" ` +\n            'was not provided.',\n          {\n            nodes: node,\n          },\n        );\n      }\n\n      continue;\n    }\n\n    const valueNode = argumentNode.value;\n    let isNull = valueNode.kind === Kind.NULL;\n\n    if (valueNode.kind === Kind.VARIABLE) {\n      const variableName = valueNode.name.value;\n\n      if (\n        variableValues == null ||\n        !hasOwnProperty(variableValues, variableName)\n      ) {\n        if (argDef.defaultValue !== undefined) {\n          coercedValues[name] = argDef.defaultValue;\n        } else if (isNonNullType(argType)) {\n          throw new GraphQLError(\n            `Argument \"${name}\" of required type \"${inspect(argType)}\" ` +\n              `was provided the variable \"$${variableName}\" which was not provided a runtime value.`,\n            {\n              nodes: valueNode,\n            },\n          );\n        }\n\n        continue;\n      }\n\n      isNull = variableValues[variableName] == null;\n    }\n\n    if (isNull && isNonNullType(argType)) {\n      throw new GraphQLError(\n        `Argument \"${name}\" of non-null type \"${inspect(argType)}\" ` +\n          'must not be null.',\n        {\n          nodes: valueNode,\n        },\n      );\n    }\n\n    const coercedValue = valueFromAST(valueNode, argType, variableValues);\n\n    if (coercedValue === undefined) {\n      // Note: ValuesOfCorrectTypeRule validation should catch this before\n      // execution. This is a runtime check to ensure execution does not\n      // continue with an invalid argument value.\n      throw new GraphQLError(\n        `Argument \"${name}\" has invalid value ${print(valueNode)}.`,\n        {\n          nodes: valueNode,\n        },\n      );\n    }\n\n    coercedValues[name] = coercedValue;\n  }\n\n  return coercedValues;\n}\n/**\n * Prepares an object map of argument values given a directive definition\n * and a AST node which may contain directives. Optionally also accepts a map\n * of variable values.\n *\n * If the directive does not exist on the node, returns undefined.\n *\n * Note: The returned value is a plain Object with a prototype, since it is\n * exposed to user code. Care should be taken to not pull values from the\n * Object prototype.\n */\n\nexport function getDirectiveValues(directiveDef, node, variableValues) {\n  var _node$directives;\n\n  const directiveNode =\n    (_node$directives = node.directives) === null || _node$directives === void 0\n      ? void 0\n      : _node$directives.find(\n          (directive) => directive.name.value === directiveDef.name,\n        );\n\n  if (directiveNode) {\n    return getArgumentValues(directiveDef, directiveNode, variableValues);\n  }\n}\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n","import { Kind } from '../language/kinds.mjs';\nimport { isAbstractType } from '../type/definition.mjs';\nimport {\n  GraphQLIncludeDirective,\n  GraphQLSkipDirective,\n} from '../type/directives.mjs';\nimport { typeFromAST } from '../utilities/typeFromAST.mjs';\nimport { getDirectiveValues } from './values.mjs';\n/**\n * Given a selectionSet, collects all of the fields and returns them.\n *\n * CollectFields requires the \"runtime type\" of an object. For a field that\n * returns an Interface or Union type, the \"runtime type\" will be the actual\n * object type returned by that field.\n *\n * @internal\n */\n\nexport function collectFields(\n  schema,\n  fragments,\n  variableValues,\n  runtimeType,\n  selectionSet,\n) {\n  const fields = new Map();\n  collectFieldsImpl(\n    schema,\n    fragments,\n    variableValues,\n    runtimeType,\n    selectionSet,\n    fields,\n    new Set(),\n  );\n  return fields;\n}\n/**\n * Given an array of field nodes, collects all of the subfields of the passed\n * in fields, and returns them at the end.\n *\n * CollectSubFields requires the \"return type\" of an object. For a field that\n * returns an Interface or Union type, the \"return type\" will be the actual\n * object type returned by that field.\n *\n * @internal\n */\n\nexport function collectSubfields(\n  schema,\n  fragments,\n  variableValues,\n  returnType,\n  fieldNodes,\n) {\n  const subFieldNodes = new Map();\n  const visitedFragmentNames = new Set();\n\n  for (const node of fieldNodes) {\n    if (node.selectionSet) {\n      collectFieldsImpl(\n        schema,\n        fragments,\n        variableValues,\n        returnType,\n        node.selectionSet,\n        subFieldNodes,\n        visitedFragmentNames,\n      );\n    }\n  }\n\n  return subFieldNodes;\n}\n\nfunction collectFieldsImpl(\n  schema,\n  fragments,\n  variableValues,\n  runtimeType,\n  selectionSet,\n  fields,\n  visitedFragmentNames,\n) {\n  for (const selection of selectionSet.selections) {\n    switch (selection.kind) {\n      case Kind.FIELD: {\n        if (!shouldIncludeNode(variableValues, selection)) {\n          continue;\n        }\n\n        const name = getFieldEntryKey(selection);\n        const fieldList = fields.get(name);\n\n        if (fieldList !== undefined) {\n          fieldList.push(selection);\n        } else {\n          fields.set(name, [selection]);\n        }\n\n        break;\n      }\n\n      case Kind.INLINE_FRAGMENT: {\n        if (\n          !shouldIncludeNode(variableValues, selection) ||\n          !doesFragmentConditionMatch(schema, selection, runtimeType)\n        ) {\n          continue;\n        }\n\n        collectFieldsImpl(\n          schema,\n          fragments,\n          variableValues,\n          runtimeType,\n          selection.selectionSet,\n          fields,\n          visitedFragmentNames,\n        );\n        break;\n      }\n\n      case Kind.FRAGMENT_SPREAD: {\n        const fragName = selection.name.value;\n\n        if (\n          visitedFragmentNames.has(fragName) ||\n          !shouldIncludeNode(variableValues, selection)\n        ) {\n          continue;\n        }\n\n        visitedFragmentNames.add(fragName);\n        const fragment = fragments[fragName];\n\n        if (\n          !fragment ||\n          !doesFragmentConditionMatch(schema, fragment, runtimeType)\n        ) {\n          continue;\n        }\n\n        collectFieldsImpl(\n          schema,\n          fragments,\n          variableValues,\n          runtimeType,\n          fragment.selectionSet,\n          fields,\n          visitedFragmentNames,\n        );\n        break;\n      }\n    }\n  }\n}\n/**\n * Determines if a field should be included based on the `@include` and `@skip`\n * directives, where `@skip` has higher precedence than `@include`.\n */\n\nfunction shouldIncludeNode(variableValues, node) {\n  const skip = getDirectiveValues(GraphQLSkipDirective, node, variableValues);\n\n  if ((skip === null || skip === void 0 ? void 0 : skip.if) === true) {\n    return false;\n  }\n\n  const include = getDirectiveValues(\n    GraphQLIncludeDirective,\n    node,\n    variableValues,\n  );\n\n  if (\n    (include === null || include === void 0 ? void 0 : include.if) === false\n  ) {\n    return false;\n  }\n\n  return true;\n}\n/**\n * Determines if a fragment is applicable to the given type.\n */\n\nfunction doesFragmentConditionMatch(schema, fragment, type) {\n  const typeConditionNode = fragment.typeCondition;\n\n  if (!typeConditionNode) {\n    return true;\n  }\n\n  const conditionalType = typeFromAST(schema, typeConditionNode);\n\n  if (conditionalType === type) {\n    return true;\n  }\n\n  if (isAbstractType(conditionalType)) {\n    return schema.isSubType(conditionalType, type);\n  }\n\n  return false;\n}\n/**\n * Implements the logic to compute the key of a given field's entry\n */\n\nfunction getFieldEntryKey(node) {\n  return node.alias ? node.alias.value : node.name.value;\n}\n","import { GraphQLError } from '../../error/GraphQLError.mjs';\nimport { Kind } from '../../language/kinds.mjs';\nimport { collectFields } from '../../execution/collectFields.mjs';\n\n/**\n * Subscriptions must only include a non-introspection field.\n *\n * A GraphQL subscription is valid only if it contains a single root field and\n * that root field is not an introspection field.\n *\n * See https://spec.graphql.org/draft/#sec-Single-root-field\n */\nexport function SingleFieldSubscriptionsRule(context) {\n  return {\n    OperationDefinition(node) {\n      if (node.operation === 'subscription') {\n        const schema = context.getSchema();\n        const subscriptionType = schema.getSubscriptionType();\n\n        if (subscriptionType) {\n          const operationName = node.name ? node.name.value : null;\n          const variableValues = Object.create(null);\n          const document = context.getDocument();\n          const fragments = Object.create(null);\n\n          for (const definition of document.definitions) {\n            if (definition.kind === Kind.FRAGMENT_DEFINITION) {\n              fragments[definition.name.value] = definition;\n            }\n          }\n\n          const fields = collectFields(\n            schema,\n            fragments,\n            variableValues,\n            subscriptionType,\n            node.selectionSet,\n          );\n\n          if (fields.size > 1) {\n            const fieldSelectionLists = [...fields.values()];\n            const extraFieldSelectionLists = fieldSelectionLists.slice(1);\n            const extraFieldSelections = extraFieldSelectionLists.flat();\n            context.reportError(\n              new GraphQLError(\n                operationName != null\n                  ? `Subscription \"${operationName}\" must select only one top level field.`\n                  : 'Anonymous Subscription must select only one top level field.',\n                {\n                  nodes: extraFieldSelections,\n                },\n              ),\n            );\n          }\n\n          for (const fieldNodes of fields.values()) {\n            const field = fieldNodes[0];\n            const fieldName = field.name.value;\n\n            if (fieldName.startsWith('__')) {\n              context.reportError(\n                new GraphQLError(\n                  operationName != null\n                    ? `Subscription \"${operationName}\" must not select an introspection top level field.`\n                    : 'Anonymous Subscription must not select an introspection top level field.',\n                  {\n                    nodes: fieldNodes,\n                  },\n                ),\n              );\n            }\n          }\n        }\n      }\n    },\n  };\n}\n","/**\n * Groups array items into a Map, given a function to produce grouping key.\n */\nexport function groupBy(list, keyFn) {\n  const result = new Map();\n\n  for (const item of list) {\n    const key = keyFn(item);\n    const group = result.get(key);\n\n    if (group === undefined) {\n      result.set(key, [item]);\n    } else {\n      group.push(item);\n    }\n  }\n\n  return result;\n}\n","import { groupBy } from '../../jsutils/groupBy.mjs';\nimport { GraphQLError } from '../../error/GraphQLError.mjs';\n\n/**\n * Unique argument definition names\n *\n * A GraphQL Object or Interface type is only valid if all its fields have uniquely named arguments.\n * A GraphQL Directive is only valid if all its arguments are uniquely named.\n */\nexport function UniqueArgumentDefinitionNamesRule(context) {\n  return {\n    DirectiveDefinition(directiveNode) {\n      var _directiveNode$argume;\n\n      // FIXME: https://github.com/graphql/graphql-js/issues/2203\n\n      /* c8 ignore next */\n      const argumentNodes =\n        (_directiveNode$argume = directiveNode.arguments) !== null &&\n        _directiveNode$argume !== void 0\n          ? _directiveNode$argume\n          : [];\n      return checkArgUniqueness(`@${directiveNode.name.value}`, argumentNodes);\n    },\n\n    InterfaceTypeDefinition: checkArgUniquenessPerField,\n    InterfaceTypeExtension: checkArgUniquenessPerField,\n    ObjectTypeDefinition: checkArgUniquenessPerField,\n    ObjectTypeExtension: checkArgUniquenessPerField,\n  };\n\n  function checkArgUniquenessPerField(typeNode) {\n    var _typeNode$fields;\n\n    const typeName = typeNode.name.value; // FIXME: https://github.com/graphql/graphql-js/issues/2203\n\n    /* c8 ignore next */\n\n    const fieldNodes =\n      (_typeNode$fields = typeNode.fields) !== null &&\n      _typeNode$fields !== void 0\n        ? _typeNode$fields\n        : [];\n\n    for (const fieldDef of fieldNodes) {\n      var _fieldDef$arguments;\n\n      const fieldName = fieldDef.name.value; // FIXME: https://github.com/graphql/graphql-js/issues/2203\n\n      /* c8 ignore next */\n\n      const argumentNodes =\n        (_fieldDef$arguments = fieldDef.arguments) !== null &&\n        _fieldDef$arguments !== void 0\n          ? _fieldDef$arguments\n          : [];\n      checkArgUniqueness(`${typeName}.${fieldName}`, argumentNodes);\n    }\n\n    return false;\n  }\n\n  function checkArgUniqueness(parentName, argumentNodes) {\n    const seenArgs = groupBy(argumentNodes, (arg) => arg.name.value);\n\n    for (const [argName, argNodes] of seenArgs) {\n      if (argNodes.length > 1) {\n        context.reportError(\n          new GraphQLError(\n            `Argument \"${parentName}(${argName}:)\" can only be defined once.`,\n            {\n              nodes: argNodes.map((node) => node.name),\n            },\n          ),\n        );\n      }\n    }\n\n    return false;\n  }\n}\n","import { groupBy } from '../../jsutils/groupBy.mjs';\nimport { GraphQLError } from '../../error/GraphQLError.mjs';\n\n/**\n * Unique argument names\n *\n * A GraphQL field or directive is only valid if all supplied arguments are\n * uniquely named.\n *\n * See https://spec.graphql.org/draft/#sec-Argument-Names\n */\nexport function UniqueArgumentNamesRule(context) {\n  return {\n    Field: checkArgUniqueness,\n    Directive: checkArgUniqueness,\n  };\n\n  function checkArgUniqueness(parentNode) {\n    var _parentNode$arguments;\n\n    // FIXME: https://github.com/graphql/graphql-js/issues/2203\n\n    /* c8 ignore next */\n    const argumentNodes =\n      (_parentNode$arguments = parentNode.arguments) !== null &&\n      _parentNode$arguments !== void 0\n        ? _parentNode$arguments\n        : [];\n    const seenArgs = groupBy(argumentNodes, (arg) => arg.name.value);\n\n    for (const [argName, argNodes] of seenArgs) {\n      if (argNodes.length > 1) {\n        context.reportError(\n          new GraphQLError(\n            `There can be only one argument named \"${argName}\".`,\n            {\n              nodes: argNodes.map((node) => node.name),\n            },\n          ),\n        );\n      }\n    }\n  }\n}\n","import { GraphQLError } from '../../error/GraphQLError.mjs';\n\n/**\n * Unique directive names\n *\n * A GraphQL document is only valid if all defined directives have unique names.\n */\nexport function UniqueDirectiveNamesRule(context) {\n  const knownDirectiveNames = Object.create(null);\n  const schema = context.getSchema();\n  return {\n    DirectiveDefinition(node) {\n      const directiveName = node.name.value;\n\n      if (\n        schema !== null &&\n        schema !== void 0 &&\n        schema.getDirective(directiveName)\n      ) {\n        context.reportError(\n          new GraphQLError(\n            `Directive \"@${directiveName}\" already exists in the schema. It cannot be redefined.`,\n            {\n              nodes: node.name,\n            },\n          ),\n        );\n        return;\n      }\n\n      if (knownDirectiveNames[directiveName]) {\n        context.reportError(\n          new GraphQLError(\n            `There can be only one directive named \"@${directiveName}\".`,\n            {\n              nodes: [knownDirectiveNames[directiveName], node.name],\n            },\n          ),\n        );\n      } else {\n        knownDirectiveNames[directiveName] = node.name;\n      }\n\n      return false;\n    },\n  };\n}\n","import { GraphQLError } from '../../error/GraphQLError.mjs';\nimport { Kind } from '../../language/kinds.mjs';\nimport {\n  isTypeDefinitionNode,\n  isTypeExtensionNode,\n} from '../../language/predicates.mjs';\nimport { specifiedDirectives } from '../../type/directives.mjs';\n\n/**\n * Unique directive names per location\n *\n * A GraphQL document is only valid if all non-repeatable directives at\n * a given location are uniquely named.\n *\n * See https://spec.graphql.org/draft/#sec-Directives-Are-Unique-Per-Location\n */\nexport function UniqueDirectivesPerLocationRule(context) {\n  const uniqueDirectiveMap = Object.create(null);\n  const schema = context.getSchema();\n  const definedDirectives = schema\n    ? schema.getDirectives()\n    : specifiedDirectives;\n\n  for (const directive of definedDirectives) {\n    uniqueDirectiveMap[directive.name] = !directive.isRepeatable;\n  }\n\n  const astDefinitions = context.getDocument().definitions;\n\n  for (const def of astDefinitions) {\n    if (def.kind === Kind.DIRECTIVE_DEFINITION) {\n      uniqueDirectiveMap[def.name.value] = !def.repeatable;\n    }\n  }\n\n  const schemaDirectives = Object.create(null);\n  const typeDirectivesMap = Object.create(null);\n  return {\n    // Many different AST nodes may contain directives. Rather than listing\n    // them all, just listen for entering any node, and check to see if it\n    // defines any directives.\n    enter(node) {\n      if (!('directives' in node) || !node.directives) {\n        return;\n      }\n\n      let seenDirectives;\n\n      if (\n        node.kind === Kind.SCHEMA_DEFINITION ||\n        node.kind === Kind.SCHEMA_EXTENSION\n      ) {\n        seenDirectives = schemaDirectives;\n      } else if (isTypeDefinitionNode(node) || isTypeExtensionNode(node)) {\n        const typeName = node.name.value;\n        seenDirectives = typeDirectivesMap[typeName];\n\n        if (seenDirectives === undefined) {\n          typeDirectivesMap[typeName] = seenDirectives = Object.create(null);\n        }\n      } else {\n        seenDirectives = Object.create(null);\n      }\n\n      for (const directive of node.directives) {\n        const directiveName = directive.name.value;\n\n        if (uniqueDirectiveMap[directiveName]) {\n          if (seenDirectives[directiveName]) {\n            context.reportError(\n              new GraphQLError(\n                `The directive \"@${directiveName}\" can only be used once at this location.`,\n                {\n                  nodes: [seenDirectives[directiveName], directive],\n                },\n              ),\n            );\n          } else {\n            seenDirectives[directiveName] = directive;\n          }\n        }\n      }\n    },\n  };\n}\n","import { GraphQLError } from '../../error/GraphQLError.mjs';\nimport { isEnumType } from '../../type/definition.mjs';\n\n/**\n * Unique enum value names\n *\n * A GraphQL enum type is only valid if all its values are uniquely named.\n */\nexport function UniqueEnumValueNamesRule(context) {\n  const schema = context.getSchema();\n  const existingTypeMap = schema ? schema.getTypeMap() : Object.create(null);\n  const knownValueNames = Object.create(null);\n  return {\n    EnumTypeDefinition: checkValueUniqueness,\n    EnumTypeExtension: checkValueUniqueness,\n  };\n\n  function checkValueUniqueness(node) {\n    var _node$values;\n\n    const typeName = node.name.value;\n\n    if (!knownValueNames[typeName]) {\n      knownValueNames[typeName] = Object.create(null);\n    } // FIXME: https://github.com/graphql/graphql-js/issues/2203\n\n    /* c8 ignore next */\n\n    const valueNodes =\n      (_node$values = node.values) !== null && _node$values !== void 0\n        ? _node$values\n        : [];\n    const valueNames = knownValueNames[typeName];\n\n    for (const valueDef of valueNodes) {\n      const valueName = valueDef.name.value;\n      const existingType = existingTypeMap[typeName];\n\n      if (isEnumType(existingType) && existingType.getValue(valueName)) {\n        context.reportError(\n          new GraphQLError(\n            `Enum value \"${typeName}.${valueName}\" already exists in the schema. It cannot also be defined in this type extension.`,\n            {\n              nodes: valueDef.name,\n            },\n          ),\n        );\n      } else if (valueNames[valueName]) {\n        context.reportError(\n          new GraphQLError(\n            `Enum value \"${typeName}.${valueName}\" can only be defined once.`,\n            {\n              nodes: [valueNames[valueName], valueDef.name],\n            },\n          ),\n        );\n      } else {\n        valueNames[valueName] = valueDef.name;\n      }\n    }\n\n    return false;\n  }\n}\n","import { GraphQLError } from '../../error/GraphQLError.mjs';\nimport {\n  isInputObjectType,\n  isInterfaceType,\n  isObjectType,\n} from '../../type/definition.mjs';\n\n/**\n * Unique field definition names\n *\n * A GraphQL complex type is only valid if all its fields are uniquely named.\n */\nexport function UniqueFieldDefinitionNamesRule(context) {\n  const schema = context.getSchema();\n  const existingTypeMap = schema ? schema.getTypeMap() : Object.create(null);\n  const knownFieldNames = Object.create(null);\n  return {\n    InputObjectTypeDefinition: checkFieldUniqueness,\n    InputObjectTypeExtension: checkFieldUniqueness,\n    InterfaceTypeDefinition: checkFieldUniqueness,\n    InterfaceTypeExtension: checkFieldUniqueness,\n    ObjectTypeDefinition: checkFieldUniqueness,\n    ObjectTypeExtension: checkFieldUniqueness,\n  };\n\n  function checkFieldUniqueness(node) {\n    var _node$fields;\n\n    const typeName = node.name.value;\n\n    if (!knownFieldNames[typeName]) {\n      knownFieldNames[typeName] = Object.create(null);\n    } // FIXME: https://github.com/graphql/graphql-js/issues/2203\n\n    /* c8 ignore next */\n\n    const fieldNodes =\n      (_node$fields = node.fields) !== null && _node$fields !== void 0\n        ? _node$fields\n        : [];\n    const fieldNames = knownFieldNames[typeName];\n\n    for (const fieldDef of fieldNodes) {\n      const fieldName = fieldDef.name.value;\n\n      if (hasField(existingTypeMap[typeName], fieldName)) {\n        context.reportError(\n          new GraphQLError(\n            `Field \"${typeName}.${fieldName}\" already exists in the schema. It cannot also be defined in this type extension.`,\n            {\n              nodes: fieldDef.name,\n            },\n          ),\n        );\n      } else if (fieldNames[fieldName]) {\n        context.reportError(\n          new GraphQLError(\n            `Field \"${typeName}.${fieldName}\" can only be defined once.`,\n            {\n              nodes: [fieldNames[fieldName], fieldDef.name],\n            },\n          ),\n        );\n      } else {\n        fieldNames[fieldName] = fieldDef.name;\n      }\n    }\n\n    return false;\n  }\n}\n\nfunction hasField(type, fieldName) {\n  if (isObjectType(type) || isInterfaceType(type) || isInputObjectType(type)) {\n    return type.getFields()[fieldName] != null;\n  }\n\n  return false;\n}\n","import { GraphQLError } from '../../error/GraphQLError.mjs';\n\n/**\n * Unique fragment names\n *\n * A GraphQL document is only valid if all defined fragments have unique names.\n *\n * See https://spec.graphql.org/draft/#sec-Fragment-Name-Uniqueness\n */\nexport function UniqueFragmentNamesRule(context) {\n  const knownFragmentNames = Object.create(null);\n  return {\n    OperationDefinition: () => false,\n\n    FragmentDefinition(node) {\n      const fragmentName = node.name.value;\n\n      if (knownFragmentNames[fragmentName]) {\n        context.reportError(\n          new GraphQLError(\n            `There can be only one fragment named \"${fragmentName}\".`,\n            {\n              nodes: [knownFragmentNames[fragmentName], node.name],\n            },\n          ),\n        );\n      } else {\n        knownFragmentNames[fragmentName] = node.name;\n      }\n\n      return false;\n    },\n  };\n}\n","import { invariant } from '../../jsutils/invariant.mjs';\nimport { GraphQLError } from '../../error/GraphQLError.mjs';\n\n/**\n * Unique input field names\n *\n * A GraphQL input object value is only valid if all supplied fields are\n * uniquely named.\n *\n * See https://spec.graphql.org/draft/#sec-Input-Object-Field-Uniqueness\n */\nexport function UniqueInputFieldNamesRule(context) {\n  const knownNameStack = [];\n  let knownNames = Object.create(null);\n  return {\n    ObjectValue: {\n      enter() {\n        knownNameStack.push(knownNames);\n        knownNames = Object.create(null);\n      },\n\n      leave() {\n        const prevKnownNames = knownNameStack.pop();\n        prevKnownNames || invariant(false);\n        knownNames = prevKnownNames;\n      },\n    },\n\n    ObjectField(node) {\n      const fieldName = node.name.value;\n\n      if (knownNames[fieldName]) {\n        context.reportError(\n          new GraphQLError(\n            `There can be only one input field named \"${fieldName}\".`,\n            {\n              nodes: [knownNames[fieldName], node.name],\n            },\n          ),\n        );\n      } else {\n        knownNames[fieldName] = node.name;\n      }\n    },\n  };\n}\n","import { GraphQLError } from '../../error/GraphQLError.mjs';\n\n/**\n * Unique operation names\n *\n * A GraphQL document is only valid if all defined operations have unique names.\n *\n * See https://spec.graphql.org/draft/#sec-Operation-Name-Uniqueness\n */\nexport function UniqueOperationNamesRule(context) {\n  const knownOperationNames = Object.create(null);\n  return {\n    OperationDefinition(node) {\n      const operationName = node.name;\n\n      if (operationName) {\n        if (knownOperationNames[operationName.value]) {\n          context.reportError(\n            new GraphQLError(\n              `There can be only one operation named \"${operationName.value}\".`,\n              {\n                nodes: [\n                  knownOperationNames[operationName.value],\n                  operationName,\n                ],\n              },\n            ),\n          );\n        } else {\n          knownOperationNames[operationName.value] = operationName;\n        }\n      }\n\n      return false;\n    },\n\n    FragmentDefinition: () => false,\n  };\n}\n","import { GraphQLError } from '../../error/GraphQLError.mjs';\n\n/**\n * Unique operation types\n *\n * A GraphQL document is only valid if it has only one type per operation.\n */\nexport function UniqueOperationTypesRule(context) {\n  const schema = context.getSchema();\n  const definedOperationTypes = Object.create(null);\n  const existingOperationTypes = schema\n    ? {\n        query: schema.getQueryType(),\n        mutation: schema.getMutationType(),\n        subscription: schema.getSubscriptionType(),\n      }\n    : {};\n  return {\n    SchemaDefinition: checkOperationTypes,\n    SchemaExtension: checkOperationTypes,\n  };\n\n  function checkOperationTypes(node) {\n    var _node$operationTypes;\n\n    // See: https://github.com/graphql/graphql-js/issues/2203\n\n    /* c8 ignore next */\n    const operationTypesNodes =\n      (_node$operationTypes = node.operationTypes) !== null &&\n      _node$operationTypes !== void 0\n        ? _node$operationTypes\n        : [];\n\n    for (const operationType of operationTypesNodes) {\n      const operation = operationType.operation;\n      const alreadyDefinedOperationType = definedOperationTypes[operation];\n\n      if (existingOperationTypes[operation]) {\n        context.reportError(\n          new GraphQLError(\n            `Type for ${operation} already defined in the schema. It cannot be redefined.`,\n            {\n              nodes: operationType,\n            },\n          ),\n        );\n      } else if (alreadyDefinedOperationType) {\n        context.reportError(\n          new GraphQLError(\n            `There can be only one ${operation} type in schema.`,\n            {\n              nodes: [alreadyDefinedOperationType, operationType],\n            },\n          ),\n        );\n      } else {\n        definedOperationTypes[operation] = operationType;\n      }\n    }\n\n    return false;\n  }\n}\n","import { GraphQLError } from '../../error/GraphQLError.mjs';\n\n/**\n * Unique type names\n *\n * A GraphQL document is only valid if all defined types have unique names.\n */\nexport function UniqueTypeNamesRule(context) {\n  const knownTypeNames = Object.create(null);\n  const schema = context.getSchema();\n  return {\n    ScalarTypeDefinition: checkTypeName,\n    ObjectTypeDefinition: checkTypeName,\n    InterfaceTypeDefinition: checkTypeName,\n    UnionTypeDefinition: checkTypeName,\n    EnumTypeDefinition: checkTypeName,\n    InputObjectTypeDefinition: checkTypeName,\n  };\n\n  function checkTypeName(node) {\n    const typeName = node.name.value;\n\n    if (schema !== null && schema !== void 0 && schema.getType(typeName)) {\n      context.reportError(\n        new GraphQLError(\n          `Type \"${typeName}\" already exists in the schema. It cannot also be defined in this type definition.`,\n          {\n            nodes: node.name,\n          },\n        ),\n      );\n      return;\n    }\n\n    if (knownTypeNames[typeName]) {\n      context.reportError(\n        new GraphQLError(`There can be only one type named \"${typeName}\".`, {\n          nodes: [knownTypeNames[typeName], node.name],\n        }),\n      );\n    } else {\n      knownTypeNames[typeName] = node.name;\n    }\n\n    return false;\n  }\n}\n","import { groupBy } from '../../jsutils/groupBy.mjs';\nimport { GraphQLError } from '../../error/GraphQLError.mjs';\n\n/**\n * Unique variable names\n *\n * A GraphQL operation is only valid if all its variables are uniquely named.\n */\nexport function UniqueVariableNamesRule(context) {\n  return {\n    OperationDefinition(operationNode) {\n      var _operationNode$variab;\n\n      // See: https://github.com/graphql/graphql-js/issues/2203\n\n      /* c8 ignore next */\n      const variableDefinitions =\n        (_operationNode$variab = operationNode.variableDefinitions) !== null &&\n        _operationNode$variab !== void 0\n          ? _operationNode$variab\n          : [];\n      const seenVariableDefinitions = groupBy(\n        variableDefinitions,\n        (node) => node.variable.name.value,\n      );\n\n      for (const [variableName, variableNodes] of seenVariableDefinitions) {\n        if (variableNodes.length > 1) {\n          context.reportError(\n            new GraphQLError(\n              `There can be only one variable named \"$${variableName}\".`,\n              {\n                nodes: variableNodes.map((node) => node.variable.name),\n              },\n            ),\n          );\n        }\n      }\n    },\n  };\n}\n","import { didYouMean } from '../../jsutils/didYouMean.mjs';\nimport { inspect } from '../../jsutils/inspect.mjs';\nimport { keyMap } from '../../jsutils/keyMap.mjs';\nimport { suggestionList } from '../../jsutils/suggestionList.mjs';\nimport { GraphQLError } from '../../error/GraphQLError.mjs';\nimport { print } from '../../language/printer.mjs';\nimport {\n  getNamedType,\n  getNullableType,\n  isInputObjectType,\n  isLeafType,\n  isListType,\n  isNonNullType,\n  isRequiredInputField,\n} from '../../type/definition.mjs';\n\n/**\n * Value literals of correct type\n *\n * A GraphQL document is only valid if all value literals are of the type\n * expected at their position.\n *\n * See https://spec.graphql.org/draft/#sec-Values-of-Correct-Type\n */\nexport function ValuesOfCorrectTypeRule(context) {\n  return {\n    ListValue(node) {\n      // Note: TypeInfo will traverse into a list's item type, so look to the\n      // parent input type to check if it is a list.\n      const type = getNullableType(context.getParentInputType());\n\n      if (!isListType(type)) {\n        isValidValueNode(context, node);\n        return false; // Don't traverse further.\n      }\n    },\n\n    ObjectValue(node) {\n      const type = getNamedType(context.getInputType());\n\n      if (!isInputObjectType(type)) {\n        isValidValueNode(context, node);\n        return false; // Don't traverse further.\n      } // Ensure every required field exists.\n\n      const fieldNodeMap = keyMap(node.fields, (field) => field.name.value);\n\n      for (const fieldDef of Object.values(type.getFields())) {\n        const fieldNode = fieldNodeMap[fieldDef.name];\n\n        if (!fieldNode && isRequiredInputField(fieldDef)) {\n          const typeStr = inspect(fieldDef.type);\n          context.reportError(\n            new GraphQLError(\n              `Field \"${type.name}.${fieldDef.name}\" of required type \"${typeStr}\" was not provided.`,\n              {\n                nodes: node,\n              },\n            ),\n          );\n        }\n      }\n    },\n\n    ObjectField(node) {\n      const parentType = getNamedType(context.getParentInputType());\n      const fieldType = context.getInputType();\n\n      if (!fieldType && isInputObjectType(parentType)) {\n        const suggestions = suggestionList(\n          node.name.value,\n          Object.keys(parentType.getFields()),\n        );\n        context.reportError(\n          new GraphQLError(\n            `Field \"${node.name.value}\" is not defined by type \"${parentType.name}\".` +\n              didYouMean(suggestions),\n            {\n              nodes: node,\n            },\n          ),\n        );\n      }\n    },\n\n    NullValue(node) {\n      const type = context.getInputType();\n\n      if (isNonNullType(type)) {\n        context.reportError(\n          new GraphQLError(\n            `Expected value of type \"${inspect(type)}\", found ${print(node)}.`,\n            {\n              nodes: node,\n            },\n          ),\n        );\n      }\n    },\n\n    EnumValue: (node) => isValidValueNode(context, node),\n    IntValue: (node) => isValidValueNode(context, node),\n    FloatValue: (node) => isValidValueNode(context, node),\n    StringValue: (node) => isValidValueNode(context, node),\n    BooleanValue: (node) => isValidValueNode(context, node),\n  };\n}\n/**\n * Any value literal may be a valid representation of a Scalar, depending on\n * that scalar type.\n */\n\nfunction isValidValueNode(context, node) {\n  // Report any error at the full type expected by the location.\n  const locationType = context.getInputType();\n\n  if (!locationType) {\n    return;\n  }\n\n  const type = getNamedType(locationType);\n\n  if (!isLeafType(type)) {\n    const typeStr = inspect(locationType);\n    context.reportError(\n      new GraphQLError(\n        `Expected value of type \"${typeStr}\", found ${print(node)}.`,\n        {\n          nodes: node,\n        },\n      ),\n    );\n    return;\n  } // Scalars and Enums determine if a literal value is valid via parseLiteral(),\n  // which may throw or return an invalid value to indicate failure.\n\n  try {\n    const parseResult = type.parseLiteral(\n      node,\n      undefined,\n      /* variables */\n    );\n\n    if (parseResult === undefined) {\n      const typeStr = inspect(locationType);\n      context.reportError(\n        new GraphQLError(\n          `Expected value of type \"${typeStr}\", found ${print(node)}.`,\n          {\n            nodes: node,\n          },\n        ),\n      );\n    }\n  } catch (error) {\n    const typeStr = inspect(locationType);\n\n    if (error instanceof GraphQLError) {\n      context.reportError(error);\n    } else {\n      context.reportError(\n        new GraphQLError(\n          `Expected value of type \"${typeStr}\", found ${print(node)}; ` +\n            error.message,\n          {\n            nodes: node,\n            originalError: error,\n          },\n        ),\n      );\n    }\n  }\n}\n","import { GraphQLError } from '../../error/GraphQLError.mjs';\nimport { print } from '../../language/printer.mjs';\nimport { isInputType } from '../../type/definition.mjs';\nimport { typeFromAST } from '../../utilities/typeFromAST.mjs';\n\n/**\n * Variables are input types\n *\n * A GraphQL operation is only valid if all the variables it defines are of\n * input types (scalar, enum, or input object).\n *\n * See https://spec.graphql.org/draft/#sec-Variables-Are-Input-Types\n */\nexport function VariablesAreInputTypesRule(context) {\n  return {\n    VariableDefinition(node) {\n      const type = typeFromAST(context.getSchema(), node.type);\n\n      if (type !== undefined && !isInputType(type)) {\n        const variableName = node.variable.name.value;\n        const typeName = print(node.type);\n        context.reportError(\n          new GraphQLError(\n            `Variable \"$${variableName}\" cannot be non-input type \"${typeName}\".`,\n            {\n              nodes: node.type,\n            },\n          ),\n        );\n      }\n    },\n  };\n}\n","import { inspect } from '../../jsutils/inspect.mjs';\nimport { GraphQLError } from '../../error/GraphQLError.mjs';\nimport { Kind } from '../../language/kinds.mjs';\nimport { isNonNullType } from '../../type/definition.mjs';\nimport { isTypeSubTypeOf } from '../../utilities/typeComparators.mjs';\nimport { typeFromAST } from '../../utilities/typeFromAST.mjs';\n\n/**\n * Variables in allowed position\n *\n * Variable usages must be compatible with the arguments they are passed to.\n *\n * See https://spec.graphql.org/draft/#sec-All-Variable-Usages-are-Allowed\n */\nexport function VariablesInAllowedPositionRule(context) {\n  let varDefMap = Object.create(null);\n  return {\n    OperationDefinition: {\n      enter() {\n        varDefMap = Object.create(null);\n      },\n\n      leave(operation) {\n        const usages = context.getRecursiveVariableUsages(operation);\n\n        for (const { node, type, defaultValue } of usages) {\n          const varName = node.name.value;\n          const varDef = varDefMap[varName];\n\n          if (varDef && type) {\n            // A var type is allowed if it is the same or more strict (e.g. is\n            // a subtype of) than the expected type. It can be more strict if\n            // the variable type is non-null when the expected type is nullable.\n            // If both are list types, the variable item type can be more strict\n            // than the expected item type (contravariant).\n            const schema = context.getSchema();\n            const varType = typeFromAST(schema, varDef.type);\n\n            if (\n              varType &&\n              !allowedVariableUsage(\n                schema,\n                varType,\n                varDef.defaultValue,\n                type,\n                defaultValue,\n              )\n            ) {\n              const varTypeStr = inspect(varType);\n              const typeStr = inspect(type);\n              context.reportError(\n                new GraphQLError(\n                  `Variable \"$${varName}\" of type \"${varTypeStr}\" used in position expecting type \"${typeStr}\".`,\n                  {\n                    nodes: [varDef, node],\n                  },\n                ),\n              );\n            }\n          }\n        }\n      },\n    },\n\n    VariableDefinition(node) {\n      varDefMap[node.variable.name.value] = node;\n    },\n  };\n}\n/**\n * Returns true if the variable is allowed in the location it was found,\n * which includes considering if default values exist for either the variable\n * or the location at which it is located.\n */\n\nfunction allowedVariableUsage(\n  schema,\n  varType,\n  varDefaultValue,\n  locationType,\n  locationDefaultValue,\n) {\n  if (isNonNullType(locationType) && !isNonNullType(varType)) {\n    const hasNonNullVariableDefaultValue =\n      varDefaultValue != null && varDefaultValue.kind !== Kind.NULL;\n    const hasLocationDefaultValue = locationDefaultValue !== undefined;\n\n    if (!hasNonNullVariableDefaultValue && !hasLocationDefaultValue) {\n      return false;\n    }\n\n    const nullableLocationType = locationType.ofType;\n    return isTypeSubTypeOf(schema, varType, nullableLocationType);\n  }\n\n  return isTypeSubTypeOf(schema, varType, locationType);\n}\n","// Spec Section: \"Executable Definitions\"\nimport { ExecutableDefinitionsRule } from './rules/ExecutableDefinitionsRule.mjs'; // Spec Section: \"Field Selections on Objects, Interfaces, and Unions Types\"\n\nimport { FieldsOnCorrectTypeRule } from './rules/FieldsOnCorrectTypeRule.mjs'; // Spec Section: \"Fragments on Composite Types\"\n\nimport { FragmentsOnCompositeTypesRule } from './rules/FragmentsOnCompositeTypesRule.mjs'; // Spec Section: \"Argument Names\"\n\nimport {\n  KnownArgumentNamesOnDirectivesRule,\n  KnownArgumentNamesRule,\n} from './rules/KnownArgumentNamesRule.mjs'; // Spec Section: \"Directives Are Defined\"\n\nimport { KnownDirectivesRule } from './rules/KnownDirectivesRule.mjs'; // Spec Section: \"Fragment spread target defined\"\n\nimport { KnownFragmentNamesRule } from './rules/KnownFragmentNamesRule.mjs'; // Spec Section: \"Fragment Spread Type Existence\"\n\nimport { KnownTypeNamesRule } from './rules/KnownTypeNamesRule.mjs'; // Spec Section: \"Lone Anonymous Operation\"\n\nimport { LoneAnonymousOperationRule } from './rules/LoneAnonymousOperationRule.mjs'; // SDL-specific validation rules\n\nimport { LoneSchemaDefinitionRule } from './rules/LoneSchemaDefinitionRule.mjs'; // Spec Section: \"Fragments must not form cycles\"\n\nimport { NoFragmentCyclesRule } from './rules/NoFragmentCyclesRule.mjs'; // Spec Section: \"All Variable Used Defined\"\n\nimport { NoUndefinedVariablesRule } from './rules/NoUndefinedVariablesRule.mjs'; // Spec Section: \"Fragments must be used\"\n\nimport { NoUnusedFragmentsRule } from './rules/NoUnusedFragmentsRule.mjs'; // Spec Section: \"All Variables Used\"\n\nimport { NoUnusedVariablesRule } from './rules/NoUnusedVariablesRule.mjs'; // Spec Section: \"Field Selection Merging\"\n\nimport { OverlappingFieldsCanBeMergedRule } from './rules/OverlappingFieldsCanBeMergedRule.mjs'; // Spec Section: \"Fragment spread is possible\"\n\nimport { PossibleFragmentSpreadsRule } from './rules/PossibleFragmentSpreadsRule.mjs';\nimport { PossibleTypeExtensionsRule } from './rules/PossibleTypeExtensionsRule.mjs'; // Spec Section: \"Argument Optionality\"\n\nimport {\n  ProvidedRequiredArgumentsOnDirectivesRule,\n  ProvidedRequiredArgumentsRule,\n} from './rules/ProvidedRequiredArgumentsRule.mjs'; // Spec Section: \"Leaf Field Selections\"\n\nimport { ScalarLeafsRule } from './rules/ScalarLeafsRule.mjs'; // Spec Section: \"Subscriptions with Single Root Field\"\n\nimport { SingleFieldSubscriptionsRule } from './rules/SingleFieldSubscriptionsRule.mjs';\nimport { UniqueArgumentDefinitionNamesRule } from './rules/UniqueArgumentDefinitionNamesRule.mjs'; // Spec Section: \"Argument Uniqueness\"\n\nimport { UniqueArgumentNamesRule } from './rules/UniqueArgumentNamesRule.mjs';\nimport { UniqueDirectiveNamesRule } from './rules/UniqueDirectiveNamesRule.mjs'; // Spec Section: \"Directives Are Unique Per Location\"\n\nimport { UniqueDirectivesPerLocationRule } from './rules/UniqueDirectivesPerLocationRule.mjs';\nimport { UniqueEnumValueNamesRule } from './rules/UniqueEnumValueNamesRule.mjs';\nimport { UniqueFieldDefinitionNamesRule } from './rules/UniqueFieldDefinitionNamesRule.mjs'; // Spec Section: \"Fragment Name Uniqueness\"\n\nimport { UniqueFragmentNamesRule } from './rules/UniqueFragmentNamesRule.mjs'; // Spec Section: \"Input Object Field Uniqueness\"\n\nimport { UniqueInputFieldNamesRule } from './rules/UniqueInputFieldNamesRule.mjs'; // Spec Section: \"Operation Name Uniqueness\"\n\nimport { UniqueOperationNamesRule } from './rules/UniqueOperationNamesRule.mjs';\nimport { UniqueOperationTypesRule } from './rules/UniqueOperationTypesRule.mjs';\nimport { UniqueTypeNamesRule } from './rules/UniqueTypeNamesRule.mjs'; // Spec Section: \"Variable Uniqueness\"\n\nimport { UniqueVariableNamesRule } from './rules/UniqueVariableNamesRule.mjs'; // Spec Section: \"Value Type Correctness\"\n\nimport { ValuesOfCorrectTypeRule } from './rules/ValuesOfCorrectTypeRule.mjs'; // Spec Section: \"Variables are Input Types\"\n\nimport { VariablesAreInputTypesRule } from './rules/VariablesAreInputTypesRule.mjs'; // Spec Section: \"All Variable Usages Are Allowed\"\n\nimport { VariablesInAllowedPositionRule } from './rules/VariablesInAllowedPositionRule.mjs';\n\n/**\n * This set includes all validation rules defined by the GraphQL spec.\n *\n * The order of the rules in this list has been adjusted to lead to the\n * most clear output when encountering multiple validation errors.\n */\nexport const specifiedRules = Object.freeze([\n  ExecutableDefinitionsRule,\n  UniqueOperationNamesRule,\n  LoneAnonymousOperationRule,\n  SingleFieldSubscriptionsRule,\n  KnownTypeNamesRule,\n  FragmentsOnCompositeTypesRule,\n  VariablesAreInputTypesRule,\n  ScalarLeafsRule,\n  FieldsOnCorrectTypeRule,\n  UniqueFragmentNamesRule,\n  KnownFragmentNamesRule,\n  NoUnusedFragmentsRule,\n  PossibleFragmentSpreadsRule,\n  NoFragmentCyclesRule,\n  UniqueVariableNamesRule,\n  NoUndefinedVariablesRule,\n  NoUnusedVariablesRule,\n  KnownDirectivesRule,\n  UniqueDirectivesPerLocationRule,\n  KnownArgumentNamesRule,\n  UniqueArgumentNamesRule,\n  ValuesOfCorrectTypeRule,\n  ProvidedRequiredArgumentsRule,\n  VariablesInAllowedPositionRule,\n  OverlappingFieldsCanBeMergedRule,\n  UniqueInputFieldNamesRule,\n]);\n/**\n * @internal\n */\n\nexport const specifiedSDLRules = Object.freeze([\n  LoneSchemaDefinitionRule,\n  UniqueOperationTypesRule,\n  UniqueTypeNamesRule,\n  UniqueEnumValueNamesRule,\n  UniqueFieldDefinitionNamesRule,\n  UniqueArgumentDefinitionNamesRule,\n  UniqueDirectiveNamesRule,\n  KnownTypeNamesRule,\n  KnownDirectivesRule,\n  UniqueDirectivesPerLocationRule,\n  PossibleTypeExtensionsRule,\n  KnownArgumentNamesOnDirectivesRule,\n  UniqueArgumentNamesRule,\n  UniqueInputFieldNamesRule,\n  ProvidedRequiredArgumentsOnDirectivesRule,\n]);\n","import { Kind } from '../language/kinds.mjs';\nimport { visit } from '../language/visitor.mjs';\nimport { TypeInfo, visitWithTypeInfo } from '../utilities/TypeInfo.mjs';\n\n/**\n * An instance of this class is passed as the \"this\" context to all validators,\n * allowing access to commonly useful contextual information from within a\n * validation rule.\n */\nexport class ASTValidationContext {\n  constructor(ast, onError) {\n    this._ast = ast;\n    this._fragments = undefined;\n    this._fragmentSpreads = new Map();\n    this._recursivelyReferencedFragments = new Map();\n    this._onError = onError;\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'ASTValidationContext';\n  }\n\n  reportError(error) {\n    this._onError(error);\n  }\n\n  getDocument() {\n    return this._ast;\n  }\n\n  getFragment(name) {\n    let fragments;\n\n    if (this._fragments) {\n      fragments = this._fragments;\n    } else {\n      fragments = Object.create(null);\n\n      for (const defNode of this.getDocument().definitions) {\n        if (defNode.kind === Kind.FRAGMENT_DEFINITION) {\n          fragments[defNode.name.value] = defNode;\n        }\n      }\n\n      this._fragments = fragments;\n    }\n\n    return fragments[name];\n  }\n\n  getFragmentSpreads(node) {\n    let spreads = this._fragmentSpreads.get(node);\n\n    if (!spreads) {\n      spreads = [];\n      const setsToVisit = [node];\n      let set;\n\n      while ((set = setsToVisit.pop())) {\n        for (const selection of set.selections) {\n          if (selection.kind === Kind.FRAGMENT_SPREAD) {\n            spreads.push(selection);\n          } else if (selection.selectionSet) {\n            setsToVisit.push(selection.selectionSet);\n          }\n        }\n      }\n\n      this._fragmentSpreads.set(node, spreads);\n    }\n\n    return spreads;\n  }\n\n  getRecursivelyReferencedFragments(operation) {\n    let fragments = this._recursivelyReferencedFragments.get(operation);\n\n    if (!fragments) {\n      fragments = [];\n      const collectedNames = Object.create(null);\n      const nodesToVisit = [operation.selectionSet];\n      let node;\n\n      while ((node = nodesToVisit.pop())) {\n        for (const spread of this.getFragmentSpreads(node)) {\n          const fragName = spread.name.value;\n\n          if (collectedNames[fragName] !== true) {\n            collectedNames[fragName] = true;\n            const fragment = this.getFragment(fragName);\n\n            if (fragment) {\n              fragments.push(fragment);\n              nodesToVisit.push(fragment.selectionSet);\n            }\n          }\n        }\n      }\n\n      this._recursivelyReferencedFragments.set(operation, fragments);\n    }\n\n    return fragments;\n  }\n}\nexport class SDLValidationContext extends ASTValidationContext {\n  constructor(ast, schema, onError) {\n    super(ast, onError);\n    this._schema = schema;\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'SDLValidationContext';\n  }\n\n  getSchema() {\n    return this._schema;\n  }\n}\nexport class ValidationContext extends ASTValidationContext {\n  constructor(schema, ast, typeInfo, onError) {\n    super(ast, onError);\n    this._schema = schema;\n    this._typeInfo = typeInfo;\n    this._variableUsages = new Map();\n    this._recursiveVariableUsages = new Map();\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'ValidationContext';\n  }\n\n  getSchema() {\n    return this._schema;\n  }\n\n  getVariableUsages(node) {\n    let usages = this._variableUsages.get(node);\n\n    if (!usages) {\n      const newUsages = [];\n      const typeInfo = new TypeInfo(this._schema);\n      visit(\n        node,\n        visitWithTypeInfo(typeInfo, {\n          VariableDefinition: () => false,\n\n          Variable(variable) {\n            newUsages.push({\n              node: variable,\n              type: typeInfo.getInputType(),\n              defaultValue: typeInfo.getDefaultValue(),\n            });\n          },\n        }),\n      );\n      usages = newUsages;\n\n      this._variableUsages.set(node, usages);\n    }\n\n    return usages;\n  }\n\n  getRecursiveVariableUsages(operation) {\n    let usages = this._recursiveVariableUsages.get(operation);\n\n    if (!usages) {\n      usages = this.getVariableUsages(operation);\n\n      for (const frag of this.getRecursivelyReferencedFragments(operation)) {\n        usages = usages.concat(this.getVariableUsages(frag));\n      }\n\n      this._recursiveVariableUsages.set(operation, usages);\n    }\n\n    return usages;\n  }\n\n  getType() {\n    return this._typeInfo.getType();\n  }\n\n  getParentType() {\n    return this._typeInfo.getParentType();\n  }\n\n  getInputType() {\n    return this._typeInfo.getInputType();\n  }\n\n  getParentInputType() {\n    return this._typeInfo.getParentInputType();\n  }\n\n  getFieldDef() {\n    return this._typeInfo.getFieldDef();\n  }\n\n  getDirective() {\n    return this._typeInfo.getDirective();\n  }\n\n  getArgument() {\n    return this._typeInfo.getArgument();\n  }\n\n  getEnumValue() {\n    return this._typeInfo.getEnumValue();\n  }\n}\n","import { devAssert } from '../jsutils/devAssert.mjs';\nimport { GraphQLError } from '../error/GraphQLError.mjs';\nimport { visit, visitInParallel } from '../language/visitor.mjs';\nimport { assertValidSchema } from '../type/validate.mjs';\nimport { TypeInfo, visitWithTypeInfo } from '../utilities/TypeInfo.mjs';\nimport { specifiedRules, specifiedSDLRules } from './specifiedRules.mjs';\nimport {\n  SDLValidationContext,\n  ValidationContext,\n} from './ValidationContext.mjs';\n/**\n * Implements the \"Validation\" section of the spec.\n *\n * Validation runs synchronously, returning an array of encountered errors, or\n * an empty array if no errors were encountered and the document is valid.\n *\n * A list of specific validation rules may be provided. If not provided, the\n * default list of rules defined by the GraphQL specification will be used.\n *\n * Each validation rules is a function which returns a visitor\n * (see the language/visitor API). Visitor methods are expected to return\n * GraphQLErrors, or Arrays of GraphQLErrors when invalid.\n *\n * Validate will stop validation after a `maxErrors` limit has been reached.\n * Attackers can send pathologically invalid queries to induce a DoS attack,\n * so by default `maxErrors` set to 100 errors.\n *\n * Optionally a custom TypeInfo instance may be provided. If not provided, one\n * will be created from the provided schema.\n */\n\nexport function validate(\n  schema,\n  documentAST,\n  rules = specifiedRules,\n  options,\n  /** @deprecated will be removed in 17.0.0 */\n  typeInfo = new TypeInfo(schema),\n) {\n  var _options$maxErrors;\n\n  const maxErrors =\n    (_options$maxErrors =\n      options === null || options === void 0 ? void 0 : options.maxErrors) !==\n      null && _options$maxErrors !== void 0\n      ? _options$maxErrors\n      : 100;\n  documentAST || devAssert(false, 'Must provide document.'); // If the schema used for validation is invalid, throw an error.\n\n  assertValidSchema(schema);\n  const abortObj = Object.freeze({});\n  const errors = [];\n  const context = new ValidationContext(\n    schema,\n    documentAST,\n    typeInfo,\n    (error) => {\n      if (errors.length >= maxErrors) {\n        errors.push(\n          new GraphQLError(\n            'Too many validation errors, error limit reached. Validation aborted.',\n          ),\n        ); // eslint-disable-next-line @typescript-eslint/no-throw-literal\n\n        throw abortObj;\n      }\n\n      errors.push(error);\n    },\n  ); // This uses a specialized visitor which runs multiple visitors in parallel,\n  // while maintaining the visitor skip and break API.\n\n  const visitor = visitInParallel(rules.map((rule) => rule(context))); // Visit the whole document with each instance of all provided rules.\n\n  try {\n    visit(documentAST, visitWithTypeInfo(typeInfo, visitor));\n  } catch (e) {\n    if (e !== abortObj) {\n      throw e;\n    }\n  }\n\n  return errors;\n}\n/**\n * @internal\n */\n\nexport function validateSDL(\n  documentAST,\n  schemaToExtend,\n  rules = specifiedSDLRules,\n) {\n  const errors = [];\n  const context = new SDLValidationContext(\n    documentAST,\n    schemaToExtend,\n    (error) => {\n      errors.push(error);\n    },\n  );\n  const visitors = rules.map((rule) => rule(context));\n  visit(documentAST, visitInParallel(visitors));\n  return errors;\n}\n/**\n * Utility function which asserts a SDL document is valid by throwing an error\n * if it is invalid.\n *\n * @internal\n */\n\nexport function assertValidSDL(documentAST) {\n  const errors = validateSDL(documentAST);\n\n  if (errors.length !== 0) {\n    throw new Error(errors.map((error) => error.message).join('\\n\\n'));\n  }\n}\n/**\n * Utility function which asserts a SDL document is valid by throwing an error\n * if it is invalid.\n *\n * @internal\n */\n\nexport function assertValidSDLExtension(documentAST, schema) {\n  const errors = validateSDL(documentAST, schema);\n\n  if (errors.length !== 0) {\n    throw new Error(errors.map((error) => error.message).join('\\n\\n'));\n  }\n}\n","/**\n * Memoizes the provided three-argument function.\n */\nexport function memoize3(fn) {\n  let cache0;\n  return function memoized(a1, a2, a3) {\n    if (cache0 === undefined) {\n      cache0 = new WeakMap();\n    }\n\n    let cache1 = cache0.get(a1);\n\n    if (cache1 === undefined) {\n      cache1 = new WeakMap();\n      cache0.set(a1, cache1);\n    }\n\n    let cache2 = cache1.get(a2);\n\n    if (cache2 === undefined) {\n      cache2 = new WeakMap();\n      cache1.set(a2, cache2);\n    }\n\n    let fnResult = cache2.get(a3);\n\n    if (fnResult === undefined) {\n      fnResult = fn(a1, a2, a3);\n      cache2.set(a3, fnResult);\n    }\n\n    return fnResult;\n  };\n}\n","/**\n * This function transforms a JS object `ObjMap<Promise<T>>` into\n * a `Promise<ObjMap<T>>`\n *\n * This is akin to bluebird's `Promise.props`, but implemented only using\n * `Promise.all` so it will work with any implementation of ES6 promises.\n */\nexport function promiseForObject(object) {\n  return Promise.all(Object.values(object)).then((resolvedValues) => {\n    const resolvedObject = Object.create(null);\n\n    for (const [i, key] of Object.keys(object).entries()) {\n      resolvedObject[key] = resolvedValues[i];\n    }\n\n    return resolvedObject;\n  });\n}\n","import { isPromise } from './isPromise.mjs';\n\n/**\n * Similar to Array.prototype.reduce(), however the reducing callback may return\n * a Promise, in which case reduction will continue after each promise resolves.\n *\n * If the callback does not return a Promise, then this function will also not\n * return a Promise.\n */\nexport function promiseReduce(values, callbackFn, initialValue) {\n  let accumulator = initialValue;\n\n  for (const value of values) {\n    accumulator = isPromise(accumulator)\n      ? accumulator.then((resolved) => callbackFn(resolved, value))\n      : callbackFn(accumulator, value);\n  }\n\n  return accumulator;\n}\n","import { inspect } from './inspect.mjs';\n/**\n * Sometimes a non-error is thrown, wrap it as an Error instance to ensure a consistent Error interface.\n */\n\nexport function toError(thrownValue) {\n  return thrownValue instanceof Error\n    ? thrownValue\n    : new NonErrorThrown(thrownValue);\n}\n\nclass NonErrorThrown extends Error {\n  constructor(thrownValue) {\n    super('Unexpected error value: ' + inspect(thrownValue));\n    this.name = 'NonErrorThrown';\n    this.thrownValue = thrownValue;\n  }\n}\n","import { toError } from '../jsutils/toError.mjs';\nimport { GraphQLError } from './GraphQLError.mjs';\n/**\n * Given an arbitrary value, presumably thrown while attempting to execute a\n * GraphQL operation, produce a new GraphQLError aware of the location in the\n * document responsible for the original Error.\n */\n\nexport function locatedError(rawOriginalError, nodes, path) {\n  var _nodes;\n\n  const originalError = toError(rawOriginalError); // Note: this uses a brand-check to support GraphQL errors originating from other contexts.\n\n  if (isLocatedGraphQLError(originalError)) {\n    return originalError;\n  }\n\n  return new GraphQLError(originalError.message, {\n    nodes:\n      (_nodes = originalError.nodes) !== null && _nodes !== void 0\n        ? _nodes\n        : nodes,\n    source: originalError.source,\n    positions: originalError.positions,\n    path,\n    originalError,\n  });\n}\n\nfunction isLocatedGraphQLError(error) {\n  return Array.isArray(error.path);\n}\n","import { devAssert } from '../jsutils/devAssert.mjs';\nimport { inspect } from '../jsutils/inspect.mjs';\nimport { invariant } from '../jsutils/invariant.mjs';\nimport { isIterableObject } from '../jsutils/isIterableObject.mjs';\nimport { isObjectLike } from '../jsutils/isObjectLike.mjs';\nimport { isPromise } from '../jsutils/isPromise.mjs';\nimport { memoize3 } from '../jsutils/memoize3.mjs';\nimport { addPath, pathToArray } from '../jsutils/Path.mjs';\nimport { promiseForObject } from '../jsutils/promiseForObject.mjs';\nimport { promiseReduce } from '../jsutils/promiseReduce.mjs';\nimport { GraphQLError } from '../error/GraphQLError.mjs';\nimport { locatedError } from '../error/locatedError.mjs';\nimport { OperationTypeNode } from '../language/ast.mjs';\nimport { Kind } from '../language/kinds.mjs';\nimport {\n  isAbstractType,\n  isLeafType,\n  isListType,\n  isNonNullType,\n  isObjectType,\n} from '../type/definition.mjs';\nimport {\n  SchemaMetaFieldDef,\n  TypeMetaFieldDef,\n  TypeNameMetaFieldDef,\n} from '../type/introspection.mjs';\nimport { assertValidSchema } from '../type/validate.mjs';\nimport {\n  collectFields,\n  collectSubfields as _collectSubfields,\n} from './collectFields.mjs';\nimport { getArgumentValues, getVariableValues } from './values.mjs';\n/**\n * A memoized collection of relevant subfields with regard to the return\n * type. Memoizing ensures the subfields are not repeatedly calculated, which\n * saves overhead when resolving lists of values.\n */\n\nconst collectSubfields = memoize3((exeContext, returnType, fieldNodes) =>\n  _collectSubfields(\n    exeContext.schema,\n    exeContext.fragments,\n    exeContext.variableValues,\n    returnType,\n    fieldNodes,\n  ),\n);\n/**\n * Terminology\n *\n * \"Definitions\" are the generic name for top-level statements in the document.\n * Examples of this include:\n * 1) Operations (such as a query)\n * 2) Fragments\n *\n * \"Operations\" are a generic name for requests in the document.\n * Examples of this include:\n * 1) query,\n * 2) mutation\n *\n * \"Selections\" are the definitions that can appear legally and at\n * single level of the query. These include:\n * 1) field references e.g `a`\n * 2) fragment \"spreads\" e.g. `...c`\n * 3) inline fragment \"spreads\" e.g. `...on Type { a }`\n */\n\n/**\n * Data that must be available at all points during query execution.\n *\n * Namely, schema of the type system that is currently executing,\n * and the fragments defined in the query document\n */\n\n/**\n * Implements the \"Executing requests\" section of the GraphQL specification.\n *\n * Returns either a synchronous ExecutionResult (if all encountered resolvers\n * are synchronous), or a Promise of an ExecutionResult that will eventually be\n * resolved and never rejected.\n *\n * If the arguments to this function do not result in a legal execution context,\n * a GraphQLError will be thrown immediately explaining the invalid input.\n */\nexport function execute(args) {\n  // Temporary for v15 to v16 migration. Remove in v17\n  arguments.length < 2 ||\n    devAssert(\n      false,\n      'graphql@16 dropped long-deprecated support for positional arguments, please pass an object instead.',\n    );\n  const { schema, document, variableValues, rootValue } = args; // If arguments are missing or incorrect, throw an error.\n\n  assertValidExecutionArguments(schema, document, variableValues); // If a valid execution context cannot be created due to incorrect arguments,\n  // a \"Response\" with only errors is returned.\n\n  const exeContext = buildExecutionContext(args); // Return early errors if execution context failed.\n\n  if (!('schema' in exeContext)) {\n    return {\n      errors: exeContext,\n    };\n  } // Return a Promise that will eventually resolve to the data described by\n  // The \"Response\" section of the GraphQL specification.\n  //\n  // If errors are encountered while executing a GraphQL field, only that\n  // field and its descendants will be omitted, and sibling fields will still\n  // be executed. An execution which encounters errors will still result in a\n  // resolved Promise.\n  //\n  // Errors from sub-fields of a NonNull type may propagate to the top level,\n  // at which point we still log the error and null the parent field, which\n  // in this case is the entire response.\n\n  try {\n    const { operation } = exeContext;\n    const result = executeOperation(exeContext, operation, rootValue);\n\n    if (isPromise(result)) {\n      return result.then(\n        (data) => buildResponse(data, exeContext.errors),\n        (error) => {\n          exeContext.errors.push(error);\n          return buildResponse(null, exeContext.errors);\n        },\n      );\n    }\n\n    return buildResponse(result, exeContext.errors);\n  } catch (error) {\n    exeContext.errors.push(error);\n    return buildResponse(null, exeContext.errors);\n  }\n}\n/**\n * Also implements the \"Executing requests\" section of the GraphQL specification.\n * However, it guarantees to complete synchronously (or throw an error) assuming\n * that all field resolvers are also synchronous.\n */\n\nexport function executeSync(args) {\n  const result = execute(args); // Assert that the execution was synchronous.\n\n  if (isPromise(result)) {\n    throw new Error('GraphQL execution failed to complete synchronously.');\n  }\n\n  return result;\n}\n/**\n * Given a completed execution context and data, build the `{ errors, data }`\n * response defined by the \"Response\" section of the GraphQL specification.\n */\n\nfunction buildResponse(data, errors) {\n  return errors.length === 0\n    ? {\n        data,\n      }\n    : {\n        errors,\n        data,\n      };\n}\n/**\n * Essential assertions before executing to provide developer feedback for\n * improper use of the GraphQL library.\n *\n * @internal\n */\n\nexport function assertValidExecutionArguments(\n  schema,\n  document,\n  rawVariableValues,\n) {\n  document || devAssert(false, 'Must provide document.'); // If the schema used for execution is invalid, throw an error.\n\n  assertValidSchema(schema); // Variables, if provided, must be an object.\n\n  rawVariableValues == null ||\n    isObjectLike(rawVariableValues) ||\n    devAssert(\n      false,\n      'Variables must be provided as an Object where each property is a variable value. Perhaps look to see if an unparsed JSON string was provided.',\n    );\n}\n/**\n * Constructs a ExecutionContext object from the arguments passed to\n * execute, which we will pass throughout the other execution methods.\n *\n * Throws a GraphQLError if a valid execution context cannot be created.\n *\n * @internal\n */\n\nexport function buildExecutionContext(args) {\n  var _definition$name, _operation$variableDe;\n\n  const {\n    schema,\n    document,\n    rootValue,\n    contextValue,\n    variableValues: rawVariableValues,\n    operationName,\n    fieldResolver,\n    typeResolver,\n    subscribeFieldResolver,\n  } = args;\n  let operation;\n  const fragments = Object.create(null);\n\n  for (const definition of document.definitions) {\n    switch (definition.kind) {\n      case Kind.OPERATION_DEFINITION:\n        if (operationName == null) {\n          if (operation !== undefined) {\n            return [\n              new GraphQLError(\n                'Must provide operation name if query contains multiple operations.',\n              ),\n            ];\n          }\n\n          operation = definition;\n        } else if (\n          ((_definition$name = definition.name) === null ||\n          _definition$name === void 0\n            ? void 0\n            : _definition$name.value) === operationName\n        ) {\n          operation = definition;\n        }\n\n        break;\n\n      case Kind.FRAGMENT_DEFINITION:\n        fragments[definition.name.value] = definition;\n        break;\n\n      default: // ignore non-executable definitions\n    }\n  }\n\n  if (!operation) {\n    if (operationName != null) {\n      return [new GraphQLError(`Unknown operation named \"${operationName}\".`)];\n    }\n\n    return [new GraphQLError('Must provide an operation.')];\n  } // FIXME: https://github.com/graphql/graphql-js/issues/2203\n\n  /* c8 ignore next */\n\n  const variableDefinitions =\n    (_operation$variableDe = operation.variableDefinitions) !== null &&\n    _operation$variableDe !== void 0\n      ? _operation$variableDe\n      : [];\n  const coercedVariableValues = getVariableValues(\n    schema,\n    variableDefinitions,\n    rawVariableValues !== null && rawVariableValues !== void 0\n      ? rawVariableValues\n      : {},\n    {\n      maxErrors: 50,\n    },\n  );\n\n  if (coercedVariableValues.errors) {\n    return coercedVariableValues.errors;\n  }\n\n  return {\n    schema,\n    fragments,\n    rootValue,\n    contextValue,\n    operation,\n    variableValues: coercedVariableValues.coerced,\n    fieldResolver:\n      fieldResolver !== null && fieldResolver !== void 0\n        ? fieldResolver\n        : defaultFieldResolver,\n    typeResolver:\n      typeResolver !== null && typeResolver !== void 0\n        ? typeResolver\n        : defaultTypeResolver,\n    subscribeFieldResolver:\n      subscribeFieldResolver !== null && subscribeFieldResolver !== void 0\n        ? subscribeFieldResolver\n        : defaultFieldResolver,\n    errors: [],\n  };\n}\n/**\n * Implements the \"Executing operations\" section of the spec.\n */\n\nfunction executeOperation(exeContext, operation, rootValue) {\n  const rootType = exeContext.schema.getRootType(operation.operation);\n\n  if (rootType == null) {\n    throw new GraphQLError(\n      `Schema is not configured to execute ${operation.operation} operation.`,\n      {\n        nodes: operation,\n      },\n    );\n  }\n\n  const rootFields = collectFields(\n    exeContext.schema,\n    exeContext.fragments,\n    exeContext.variableValues,\n    rootType,\n    operation.selectionSet,\n  );\n  const path = undefined;\n\n  switch (operation.operation) {\n    case OperationTypeNode.QUERY:\n      return executeFields(exeContext, rootType, rootValue, path, rootFields);\n\n    case OperationTypeNode.MUTATION:\n      return executeFieldsSerially(\n        exeContext,\n        rootType,\n        rootValue,\n        path,\n        rootFields,\n      );\n\n    case OperationTypeNode.SUBSCRIPTION:\n      // TODO: deprecate `subscribe` and move all logic here\n      // Temporary solution until we finish merging execute and subscribe together\n      return executeFields(exeContext, rootType, rootValue, path, rootFields);\n  }\n}\n/**\n * Implements the \"Executing selection sets\" section of the spec\n * for fields that must be executed serially.\n */\n\nfunction executeFieldsSerially(\n  exeContext,\n  parentType,\n  sourceValue,\n  path,\n  fields,\n) {\n  return promiseReduce(\n    fields.entries(),\n    (results, [responseName, fieldNodes]) => {\n      const fieldPath = addPath(path, responseName, parentType.name);\n      const result = executeField(\n        exeContext,\n        parentType,\n        sourceValue,\n        fieldNodes,\n        fieldPath,\n      );\n\n      if (result === undefined) {\n        return results;\n      }\n\n      if (isPromise(result)) {\n        return result.then((resolvedResult) => {\n          results[responseName] = resolvedResult;\n          return results;\n        });\n      }\n\n      results[responseName] = result;\n      return results;\n    },\n    Object.create(null),\n  );\n}\n/**\n * Implements the \"Executing selection sets\" section of the spec\n * for fields that may be executed in parallel.\n */\n\nfunction executeFields(exeContext, parentType, sourceValue, path, fields) {\n  const results = Object.create(null);\n  let containsPromise = false;\n\n  for (const [responseName, fieldNodes] of fields.entries()) {\n    const fieldPath = addPath(path, responseName, parentType.name);\n    const result = executeField(\n      exeContext,\n      parentType,\n      sourceValue,\n      fieldNodes,\n      fieldPath,\n    );\n\n    if (result !== undefined) {\n      results[responseName] = result;\n\n      if (isPromise(result)) {\n        containsPromise = true;\n      }\n    }\n  } // If there are no promises, we can just return the object\n\n  if (!containsPromise) {\n    return results;\n  } // Otherwise, results is a map from field name to the result of resolving that\n  // field, which is possibly a promise. Return a promise that will return this\n  // same map, but with any promises replaced with the values they resolved to.\n\n  return promiseForObject(results);\n}\n/**\n * Implements the \"Executing fields\" section of the spec\n * In particular, this function figures out the value that the field returns by\n * calling its resolve function, then calls completeValue to complete promises,\n * serialize scalars, or execute the sub-selection-set for objects.\n */\n\nfunction executeField(exeContext, parentType, source, fieldNodes, path) {\n  var _fieldDef$resolve;\n\n  const fieldDef = getFieldDef(exeContext.schema, parentType, fieldNodes[0]);\n\n  if (!fieldDef) {\n    return;\n  }\n\n  const returnType = fieldDef.type;\n  const resolveFn =\n    (_fieldDef$resolve = fieldDef.resolve) !== null &&\n    _fieldDef$resolve !== void 0\n      ? _fieldDef$resolve\n      : exeContext.fieldResolver;\n  const info = buildResolveInfo(\n    exeContext,\n    fieldDef,\n    fieldNodes,\n    parentType,\n    path,\n  ); // Get the resolve function, regardless of if its result is normal or abrupt (error).\n\n  try {\n    // Build a JS object of arguments from the field.arguments AST, using the\n    // variables scope to fulfill any variable references.\n    // TODO: find a way to memoize, in case this field is within a List type.\n    const args = getArgumentValues(\n      fieldDef,\n      fieldNodes[0],\n      exeContext.variableValues,\n    ); // The resolve function's optional third argument is a context value that\n    // is provided to every resolve function within an execution. It is commonly\n    // used to represent an authenticated user, or request-specific caches.\n\n    const contextValue = exeContext.contextValue;\n    const result = resolveFn(source, args, contextValue, info);\n    let completed;\n\n    if (isPromise(result)) {\n      completed = result.then((resolved) =>\n        completeValue(exeContext, returnType, fieldNodes, info, path, resolved),\n      );\n    } else {\n      completed = completeValue(\n        exeContext,\n        returnType,\n        fieldNodes,\n        info,\n        path,\n        result,\n      );\n    }\n\n    if (isPromise(completed)) {\n      // Note: we don't rely on a `catch` method, but we do expect \"thenable\"\n      // to take a second callback for the error case.\n      return completed.then(undefined, (rawError) => {\n        const error = locatedError(rawError, fieldNodes, pathToArray(path));\n        return handleFieldError(error, returnType, exeContext);\n      });\n    }\n\n    return completed;\n  } catch (rawError) {\n    const error = locatedError(rawError, fieldNodes, pathToArray(path));\n    return handleFieldError(error, returnType, exeContext);\n  }\n}\n/**\n * @internal\n */\n\nexport function buildResolveInfo(\n  exeContext,\n  fieldDef,\n  fieldNodes,\n  parentType,\n  path,\n) {\n  // The resolve function's optional fourth argument is a collection of\n  // information about the current execution state.\n  return {\n    fieldName: fieldDef.name,\n    fieldNodes,\n    returnType: fieldDef.type,\n    parentType,\n    path,\n    schema: exeContext.schema,\n    fragments: exeContext.fragments,\n    rootValue: exeContext.rootValue,\n    operation: exeContext.operation,\n    variableValues: exeContext.variableValues,\n  };\n}\n\nfunction handleFieldError(error, returnType, exeContext) {\n  // If the field type is non-nullable, then it is resolved without any\n  // protection from errors, however it still properly locates the error.\n  if (isNonNullType(returnType)) {\n    throw error;\n  } // Otherwise, error protection is applied, logging the error and resolving\n  // a null value for this field if one is encountered.\n\n  exeContext.errors.push(error);\n  return null;\n}\n/**\n * Implements the instructions for completeValue as defined in the\n * \"Value Completion\" section of the spec.\n *\n * If the field type is Non-Null, then this recursively completes the value\n * for the inner type. It throws a field error if that completion returns null,\n * as per the \"Nullability\" section of the spec.\n *\n * If the field type is a List, then this recursively completes the value\n * for the inner type on each item in the list.\n *\n * If the field type is a Scalar or Enum, ensures the completed value is a legal\n * value of the type by calling the `serialize` method of GraphQL type\n * definition.\n *\n * If the field is an abstract type, determine the runtime type of the value\n * and then complete based on that type\n *\n * Otherwise, the field type expects a sub-selection set, and will complete the\n * value by executing all sub-selections.\n */\n\nfunction completeValue(exeContext, returnType, fieldNodes, info, path, result) {\n  // If result is an Error, throw a located error.\n  if (result instanceof Error) {\n    throw result;\n  } // If field type is NonNull, complete for inner type, and throw field error\n  // if result is null.\n\n  if (isNonNullType(returnType)) {\n    const completed = completeValue(\n      exeContext,\n      returnType.ofType,\n      fieldNodes,\n      info,\n      path,\n      result,\n    );\n\n    if (completed === null) {\n      throw new Error(\n        `Cannot return null for non-nullable field ${info.parentType.name}.${info.fieldName}.`,\n      );\n    }\n\n    return completed;\n  } // If result value is null or undefined then return null.\n\n  if (result == null) {\n    return null;\n  } // If field type is List, complete each item in the list with the inner type\n\n  if (isListType(returnType)) {\n    return completeListValue(\n      exeContext,\n      returnType,\n      fieldNodes,\n      info,\n      path,\n      result,\n    );\n  } // If field type is a leaf type, Scalar or Enum, serialize to a valid value,\n  // returning null if serialization is not possible.\n\n  if (isLeafType(returnType)) {\n    return completeLeafValue(returnType, result);\n  } // If field type is an abstract type, Interface or Union, determine the\n  // runtime Object type and complete for that type.\n\n  if (isAbstractType(returnType)) {\n    return completeAbstractValue(\n      exeContext,\n      returnType,\n      fieldNodes,\n      info,\n      path,\n      result,\n    );\n  } // If field type is Object, execute and complete all sub-selections.\n\n  if (isObjectType(returnType)) {\n    return completeObjectValue(\n      exeContext,\n      returnType,\n      fieldNodes,\n      info,\n      path,\n      result,\n    );\n  }\n  /* c8 ignore next 6 */\n  // Not reachable, all possible output types have been considered.\n\n  false ||\n    invariant(\n      false,\n      'Cannot complete value of unexpected output type: ' + inspect(returnType),\n    );\n}\n/**\n * Complete a list value by completing each item in the list with the\n * inner type\n */\n\nfunction completeListValue(\n  exeContext,\n  returnType,\n  fieldNodes,\n  info,\n  path,\n  result,\n) {\n  if (!isIterableObject(result)) {\n    throw new GraphQLError(\n      `Expected Iterable, but did not find one for field \"${info.parentType.name}.${info.fieldName}\".`,\n    );\n  } // This is specified as a simple map, however we're optimizing the path\n  // where the list contains no Promises by avoiding creating another Promise.\n\n  const itemType = returnType.ofType;\n  let containsPromise = false;\n  const completedResults = Array.from(result, (item, index) => {\n    // No need to modify the info object containing the path,\n    // since from here on it is not ever accessed by resolver functions.\n    const itemPath = addPath(path, index, undefined);\n\n    try {\n      let completedItem;\n\n      if (isPromise(item)) {\n        completedItem = item.then((resolved) =>\n          completeValue(\n            exeContext,\n            itemType,\n            fieldNodes,\n            info,\n            itemPath,\n            resolved,\n          ),\n        );\n      } else {\n        completedItem = completeValue(\n          exeContext,\n          itemType,\n          fieldNodes,\n          info,\n          itemPath,\n          item,\n        );\n      }\n\n      if (isPromise(completedItem)) {\n        containsPromise = true; // Note: we don't rely on a `catch` method, but we do expect \"thenable\"\n        // to take a second callback for the error case.\n\n        return completedItem.then(undefined, (rawError) => {\n          const error = locatedError(\n            rawError,\n            fieldNodes,\n            pathToArray(itemPath),\n          );\n          return handleFieldError(error, itemType, exeContext);\n        });\n      }\n\n      return completedItem;\n    } catch (rawError) {\n      const error = locatedError(rawError, fieldNodes, pathToArray(itemPath));\n      return handleFieldError(error, itemType, exeContext);\n    }\n  });\n  return containsPromise ? Promise.all(completedResults) : completedResults;\n}\n/**\n * Complete a Scalar or Enum by serializing to a valid value, returning\n * null if serialization is not possible.\n */\n\nfunction completeLeafValue(returnType, result) {\n  const serializedResult = returnType.serialize(result);\n\n  if (serializedResult == null) {\n    throw new Error(\n      `Expected \\`${inspect(returnType)}.serialize(${inspect(result)})\\` to ` +\n        `return non-nullable value, returned: ${inspect(serializedResult)}`,\n    );\n  }\n\n  return serializedResult;\n}\n/**\n * Complete a value of an abstract type by determining the runtime object type\n * of that value, then complete the value for that type.\n */\n\nfunction completeAbstractValue(\n  exeContext,\n  returnType,\n  fieldNodes,\n  info,\n  path,\n  result,\n) {\n  var _returnType$resolveTy;\n\n  const resolveTypeFn =\n    (_returnType$resolveTy = returnType.resolveType) !== null &&\n    _returnType$resolveTy !== void 0\n      ? _returnType$resolveTy\n      : exeContext.typeResolver;\n  const contextValue = exeContext.contextValue;\n  const runtimeType = resolveTypeFn(result, contextValue, info, returnType);\n\n  if (isPromise(runtimeType)) {\n    return runtimeType.then((resolvedRuntimeType) =>\n      completeObjectValue(\n        exeContext,\n        ensureValidRuntimeType(\n          resolvedRuntimeType,\n          exeContext,\n          returnType,\n          fieldNodes,\n          info,\n          result,\n        ),\n        fieldNodes,\n        info,\n        path,\n        result,\n      ),\n    );\n  }\n\n  return completeObjectValue(\n    exeContext,\n    ensureValidRuntimeType(\n      runtimeType,\n      exeContext,\n      returnType,\n      fieldNodes,\n      info,\n      result,\n    ),\n    fieldNodes,\n    info,\n    path,\n    result,\n  );\n}\n\nfunction ensureValidRuntimeType(\n  runtimeTypeName,\n  exeContext,\n  returnType,\n  fieldNodes,\n  info,\n  result,\n) {\n  if (runtimeTypeName == null) {\n    throw new GraphQLError(\n      `Abstract type \"${returnType.name}\" must resolve to an Object type at runtime for field \"${info.parentType.name}.${info.fieldName}\". Either the \"${returnType.name}\" type should provide a \"resolveType\" function or each possible type should provide an \"isTypeOf\" function.`,\n      fieldNodes,\n    );\n  } // releases before 16.0.0 supported returning `GraphQLObjectType` from `resolveType`\n  // TODO: remove in 17.0.0 release\n\n  if (isObjectType(runtimeTypeName)) {\n    throw new GraphQLError(\n      'Support for returning GraphQLObjectType from resolveType was removed in graphql-js@16.0.0 please return type name instead.',\n    );\n  }\n\n  if (typeof runtimeTypeName !== 'string') {\n    throw new GraphQLError(\n      `Abstract type \"${returnType.name}\" must resolve to an Object type at runtime for field \"${info.parentType.name}.${info.fieldName}\" with ` +\n        `value ${inspect(result)}, received \"${inspect(runtimeTypeName)}\".`,\n    );\n  }\n\n  const runtimeType = exeContext.schema.getType(runtimeTypeName);\n\n  if (runtimeType == null) {\n    throw new GraphQLError(\n      `Abstract type \"${returnType.name}\" was resolved to a type \"${runtimeTypeName}\" that does not exist inside the schema.`,\n      {\n        nodes: fieldNodes,\n      },\n    );\n  }\n\n  if (!isObjectType(runtimeType)) {\n    throw new GraphQLError(\n      `Abstract type \"${returnType.name}\" was resolved to a non-object type \"${runtimeTypeName}\".`,\n      {\n        nodes: fieldNodes,\n      },\n    );\n  }\n\n  if (!exeContext.schema.isSubType(returnType, runtimeType)) {\n    throw new GraphQLError(\n      `Runtime Object type \"${runtimeType.name}\" is not a possible type for \"${returnType.name}\".`,\n      {\n        nodes: fieldNodes,\n      },\n    );\n  }\n\n  return runtimeType;\n}\n/**\n * Complete an Object value by executing all sub-selections.\n */\n\nfunction completeObjectValue(\n  exeContext,\n  returnType,\n  fieldNodes,\n  info,\n  path,\n  result,\n) {\n  // Collect sub-fields to execute to complete this value.\n  const subFieldNodes = collectSubfields(exeContext, returnType, fieldNodes); // If there is an isTypeOf predicate function, call it with the\n  // current result. If isTypeOf returns false, then raise an error rather\n  // than continuing execution.\n\n  if (returnType.isTypeOf) {\n    const isTypeOf = returnType.isTypeOf(result, exeContext.contextValue, info);\n\n    if (isPromise(isTypeOf)) {\n      return isTypeOf.then((resolvedIsTypeOf) => {\n        if (!resolvedIsTypeOf) {\n          throw invalidReturnTypeError(returnType, result, fieldNodes);\n        }\n\n        return executeFields(\n          exeContext,\n          returnType,\n          result,\n          path,\n          subFieldNodes,\n        );\n      });\n    }\n\n    if (!isTypeOf) {\n      throw invalidReturnTypeError(returnType, result, fieldNodes);\n    }\n  }\n\n  return executeFields(exeContext, returnType, result, path, subFieldNodes);\n}\n\nfunction invalidReturnTypeError(returnType, result, fieldNodes) {\n  return new GraphQLError(\n    `Expected value of type \"${returnType.name}\" but got: ${inspect(result)}.`,\n    {\n      nodes: fieldNodes,\n    },\n  );\n}\n/**\n * If a resolveType function is not given, then a default resolve behavior is\n * used which attempts two strategies:\n *\n * First, See if the provided value has a `__typename` field defined, if so, use\n * that value as name of the resolved type.\n *\n * Otherwise, test each possible type for the abstract type by calling\n * isTypeOf for the object being coerced, returning the first type that matches.\n */\n\nexport const defaultTypeResolver = function (\n  value,\n  contextValue,\n  info,\n  abstractType,\n) {\n  // First, look for `__typename`.\n  if (isObjectLike(value) && typeof value.__typename === 'string') {\n    return value.__typename;\n  } // Otherwise, test each possible type.\n\n  const possibleTypes = info.schema.getPossibleTypes(abstractType);\n  const promisedIsTypeOfResults = [];\n\n  for (let i = 0; i < possibleTypes.length; i++) {\n    const type = possibleTypes[i];\n\n    if (type.isTypeOf) {\n      const isTypeOfResult = type.isTypeOf(value, contextValue, info);\n\n      if (isPromise(isTypeOfResult)) {\n        promisedIsTypeOfResults[i] = isTypeOfResult;\n      } else if (isTypeOfResult) {\n        return type.name;\n      }\n    }\n  }\n\n  if (promisedIsTypeOfResults.length) {\n    return Promise.all(promisedIsTypeOfResults).then((isTypeOfResults) => {\n      for (let i = 0; i < isTypeOfResults.length; i++) {\n        if (isTypeOfResults[i]) {\n          return possibleTypes[i].name;\n        }\n      }\n    });\n  }\n};\n/**\n * If a resolve function is not given, then a default resolve behavior is used\n * which takes the property of the source object of the same name as the field\n * and returns it as the result, or if it's a function, returns the result\n * of calling that function while passing along args and context value.\n */\n\nexport const defaultFieldResolver = function (\n  source,\n  args,\n  contextValue,\n  info,\n) {\n  // ensure source is a value for which property access is acceptable.\n  if (isObjectLike(source) || typeof source === 'function') {\n    const property = source[info.fieldName];\n\n    if (typeof property === 'function') {\n      return source[info.fieldName](args, contextValue, info);\n    }\n\n    return property;\n  }\n};\n/**\n * This method looks up the field on the given type definition.\n * It has special casing for the three introspection fields,\n * __schema, __type and __typename. __typename is special because\n * it can always be queried as a field, even in situations where no\n * other fields are allowed, like on a Union. __schema and __type\n * could get automatically added to the query type, but that would\n * require mutating type definitions, which would cause issues.\n *\n * @internal\n */\n\nexport function getFieldDef(schema, parentType, fieldNode) {\n  const fieldName = fieldNode.name.value;\n\n  if (\n    fieldName === SchemaMetaFieldDef.name &&\n    schema.getQueryType() === parentType\n  ) {\n    return SchemaMetaFieldDef;\n  } else if (\n    fieldName === TypeMetaFieldDef.name &&\n    schema.getQueryType() === parentType\n  ) {\n    return TypeMetaFieldDef;\n  } else if (fieldName === TypeNameMetaFieldDef.name) {\n    return TypeNameMetaFieldDef;\n  }\n\n  return parentType.getFields()[fieldName];\n}\n","import { devAssert } from './jsutils/devAssert.mjs';\nimport { isPromise } from './jsutils/isPromise.mjs';\nimport { parse } from './language/parser.mjs';\nimport { validateSchema } from './type/validate.mjs';\nimport { validate } from './validation/validate.mjs';\nimport { execute } from './execution/execute.mjs';\n/**\n * This is the primary entry point function for fulfilling GraphQL operations\n * by parsing, validating, and executing a GraphQL document along side a\n * GraphQL schema.\n *\n * More sophisticated GraphQL servers, such as those which persist queries,\n * may wish to separate the validation and execution phases to a static time\n * tooling step, and a server runtime step.\n *\n * Accepts either an object with named arguments, or individual arguments:\n *\n * schema:\n *    The GraphQL type system to use when validating and executing a query.\n * source:\n *    A GraphQL language formatted string representing the requested operation.\n * rootValue:\n *    The value provided as the first argument to resolver functions on the top\n *    level type (e.g. the query object type).\n * contextValue:\n *    The context value is provided as an argument to resolver functions after\n *    field arguments. It is used to pass shared information useful at any point\n *    during executing this query, for example the currently logged in user and\n *    connections to databases or other services.\n * variableValues:\n *    A mapping of variable name to runtime value to use for all variables\n *    defined in the requestString.\n * operationName:\n *    The name of the operation to use if requestString contains multiple\n *    possible operations. Can be omitted if requestString contains only\n *    one operation.\n * fieldResolver:\n *    A resolver function to use when one is not provided by the schema.\n *    If not provided, the default field resolver is used (which looks for a\n *    value or method on the source value with the field's name).\n * typeResolver:\n *    A type resolver function to use when none is provided by the schema.\n *    If not provided, the default type resolver is used (which looks for a\n *    `__typename` field or alternatively calls the `isTypeOf` method).\n */\n\nexport function graphql(args) {\n  // Always return a Promise for a consistent API.\n  return new Promise((resolve) => resolve(graphqlImpl(args)));\n}\n/**\n * The graphqlSync function also fulfills GraphQL operations by parsing,\n * validating, and executing a GraphQL document along side a GraphQL schema.\n * However, it guarantees to complete synchronously (or throw an error) assuming\n * that all field resolvers are also synchronous.\n */\n\nexport function graphqlSync(args) {\n  const result = graphqlImpl(args); // Assert that the execution was synchronous.\n\n  if (isPromise(result)) {\n    throw new Error('GraphQL execution failed to complete synchronously.');\n  }\n\n  return result;\n}\n\nfunction graphqlImpl(args) {\n  // Temporary for v15 to v16 migration. Remove in v17\n  arguments.length < 2 ||\n    devAssert(\n      false,\n      'graphql@16 dropped long-deprecated support for positional arguments, please pass an object instead.',\n    );\n  const {\n    schema,\n    source,\n    rootValue,\n    contextValue,\n    variableValues,\n    operationName,\n    fieldResolver,\n    typeResolver,\n  } = args; // Validate Schema\n\n  const schemaValidationErrors = validateSchema(schema);\n\n  if (schemaValidationErrors.length > 0) {\n    return {\n      errors: schemaValidationErrors,\n    };\n  } // Parse\n\n  let document;\n\n  try {\n    document = parse(source);\n  } catch (syntaxError) {\n    return {\n      errors: [syntaxError],\n    };\n  } // Validate\n\n  const validationErrors = validate(schema, document);\n\n  if (validationErrors.length > 0) {\n    return {\n      errors: validationErrors,\n    };\n  } // Execute\n\n  return execute({\n    schema,\n    document,\n    rootValue,\n    contextValue,\n    variableValues,\n    operationName,\n    fieldResolver,\n    typeResolver,\n  });\n}\n","/**\n * Returns true if the provided object implements the AsyncIterator protocol via\n * implementing a `Symbol.asyncIterator` method.\n */\nexport function isAsyncIterable(maybeAsyncIterable) {\n  return (\n    typeof (maybeAsyncIterable === null || maybeAsyncIterable === void 0\n      ? void 0\n      : maybeAsyncIterable[Symbol.asyncIterator]) === 'function'\n  );\n}\n","/**\n * Given an AsyncIterable and a callback function, return an AsyncIterator\n * which produces values mapped via calling the callback function.\n */\nexport function mapAsyncIterator(iterable, callback) {\n  const iterator = iterable[Symbol.asyncIterator]();\n\n  async function mapResult(result) {\n    if (result.done) {\n      return result;\n    }\n\n    try {\n      return {\n        value: await callback(result.value),\n        done: false,\n      };\n    } catch (error) {\n      /* c8 ignore start */\n      // FIXME: add test case\n      if (typeof iterator.return === 'function') {\n        try {\n          await iterator.return();\n        } catch (_e) {\n          /* ignore error */\n        }\n      }\n\n      throw error;\n      /* c8 ignore stop */\n    }\n  }\n\n  return {\n    async next() {\n      return mapResult(await iterator.next());\n    },\n\n    async return() {\n      // If iterator.return() does not exist, then type R must be undefined.\n      return typeof iterator.return === 'function'\n        ? mapResult(await iterator.return())\n        : {\n            value: undefined,\n            done: true,\n          };\n    },\n\n    async throw(error) {\n      if (typeof iterator.throw === 'function') {\n        return mapResult(await iterator.throw(error));\n      }\n\n      throw error;\n    },\n\n    [Symbol.asyncIterator]() {\n      return this;\n    },\n  };\n}\n","import { devAssert } from '../jsutils/devAssert.mjs';\nimport { inspect } from '../jsutils/inspect.mjs';\nimport { isAsyncIterable } from '../jsutils/isAsyncIterable.mjs';\nimport { addPath, pathToArray } from '../jsutils/Path.mjs';\nimport { GraphQLError } from '../error/GraphQLError.mjs';\nimport { locatedError } from '../error/locatedError.mjs';\nimport { collectFields } from './collectFields.mjs';\nimport {\n  assertValidExecutionArguments,\n  buildExecutionContext,\n  buildResolveInfo,\n  execute,\n  getFieldDef,\n} from './execute.mjs';\nimport { mapAsyncIterator } from './mapAsyncIterator.mjs';\nimport { getArgumentValues } from './values.mjs';\n/**\n * Implements the \"Subscribe\" algorithm described in the GraphQL specification.\n *\n * Returns a Promise which resolves to either an AsyncIterator (if successful)\n * or an ExecutionResult (error). The promise will be rejected if the schema or\n * other arguments to this function are invalid, or if the resolved event stream\n * is not an async iterable.\n *\n * If the client-provided arguments to this function do not result in a\n * compliant subscription, a GraphQL Response (ExecutionResult) with\n * descriptive errors and no data will be returned.\n *\n * If the source stream could not be created due to faulty subscription\n * resolver logic or underlying systems, the promise will resolve to a single\n * ExecutionResult containing `errors` and no `data`.\n *\n * If the operation succeeded, the promise resolves to an AsyncIterator, which\n * yields a stream of ExecutionResults representing the response stream.\n *\n * Accepts either an object with named arguments, or individual arguments.\n */\n\nexport async function subscribe(args) {\n  // Temporary for v15 to v16 migration. Remove in v17\n  arguments.length < 2 ||\n    devAssert(\n      false,\n      'graphql@16 dropped long-deprecated support for positional arguments, please pass an object instead.',\n    );\n  const {\n    schema,\n    document,\n    rootValue,\n    contextValue,\n    variableValues,\n    operationName,\n    fieldResolver,\n    subscribeFieldResolver,\n  } = args;\n  const resultOrStream = await createSourceEventStream(\n    schema,\n    document,\n    rootValue,\n    contextValue,\n    variableValues,\n    operationName,\n    subscribeFieldResolver,\n  );\n\n  if (!isAsyncIterable(resultOrStream)) {\n    return resultOrStream;\n  } // For each payload yielded from a subscription, map it over the normal\n  // GraphQL `execute` function, with `payload` as the rootValue.\n  // This implements the \"MapSourceToResponseEvent\" algorithm described in\n  // the GraphQL specification. The `execute` function provides the\n  // \"ExecuteSubscriptionEvent\" algorithm, as it is nearly identical to the\n  // \"ExecuteQuery\" algorithm, for which `execute` is also used.\n\n  const mapSourceToResponse = (payload) =>\n    execute({\n      schema,\n      document,\n      rootValue: payload,\n      contextValue,\n      variableValues,\n      operationName,\n      fieldResolver,\n    }); // Map every source value to a ExecutionResult value as described above.\n\n  return mapAsyncIterator(resultOrStream, mapSourceToResponse);\n}\n/**\n * Implements the \"CreateSourceEventStream\" algorithm described in the\n * GraphQL specification, resolving the subscription source event stream.\n *\n * Returns a Promise which resolves to either an AsyncIterable (if successful)\n * or an ExecutionResult (error). The promise will be rejected if the schema or\n * other arguments to this function are invalid, or if the resolved event stream\n * is not an async iterable.\n *\n * If the client-provided arguments to this function do not result in a\n * compliant subscription, a GraphQL Response (ExecutionResult) with\n * descriptive errors and no data will be returned.\n *\n * If the the source stream could not be created due to faulty subscription\n * resolver logic or underlying systems, the promise will resolve to a single\n * ExecutionResult containing `errors` and no `data`.\n *\n * If the operation succeeded, the promise resolves to the AsyncIterable for the\n * event stream returned by the resolver.\n *\n * A Source Event Stream represents a sequence of events, each of which triggers\n * a GraphQL execution for that event.\n *\n * This may be useful when hosting the stateful subscription service in a\n * different process or machine than the stateless GraphQL execution engine,\n * or otherwise separating these two steps. For more on this, see the\n * \"Supporting Subscriptions at Scale\" information in the GraphQL specification.\n */\n\nexport async function createSourceEventStream(\n  schema,\n  document,\n  rootValue,\n  contextValue,\n  variableValues,\n  operationName,\n  subscribeFieldResolver,\n) {\n  // If arguments are missing or incorrectly typed, this is an internal\n  // developer mistake which should throw an early error.\n  assertValidExecutionArguments(schema, document, variableValues); // If a valid execution context cannot be created due to incorrect arguments,\n  // a \"Response\" with only errors is returned.\n\n  const exeContext = buildExecutionContext({\n    schema,\n    document,\n    rootValue,\n    contextValue,\n    variableValues,\n    operationName,\n    subscribeFieldResolver,\n  }); // Return early errors if execution context failed.\n\n  if (!('schema' in exeContext)) {\n    return {\n      errors: exeContext,\n    };\n  }\n\n  try {\n    const eventStream = await executeSubscription(exeContext); // Assert field returned an event stream, otherwise yield an error.\n\n    if (!isAsyncIterable(eventStream)) {\n      throw new Error(\n        'Subscription field must return Async Iterable. ' +\n          `Received: ${inspect(eventStream)}.`,\n      );\n    }\n\n    return eventStream;\n  } catch (error) {\n    // If it GraphQLError, report it as an ExecutionResult, containing only errors and no data.\n    // Otherwise treat the error as a system-class error and re-throw it.\n    if (error instanceof GraphQLError) {\n      return {\n        errors: [error],\n      };\n    }\n\n    throw error;\n  }\n}\n\nasync function executeSubscription(exeContext) {\n  const { schema, fragments, operation, variableValues, rootValue } =\n    exeContext;\n  const rootType = schema.getSubscriptionType();\n\n  if (rootType == null) {\n    throw new GraphQLError(\n      'Schema is not configured to execute subscription operation.',\n      {\n        nodes: operation,\n      },\n    );\n  }\n\n  const rootFields = collectFields(\n    schema,\n    fragments,\n    variableValues,\n    rootType,\n    operation.selectionSet,\n  );\n  const [responseName, fieldNodes] = [...rootFields.entries()][0];\n  const fieldDef = getFieldDef(schema, rootType, fieldNodes[0]);\n\n  if (!fieldDef) {\n    const fieldName = fieldNodes[0].name.value;\n    throw new GraphQLError(\n      `The subscription field \"${fieldName}\" is not defined.`,\n      {\n        nodes: fieldNodes,\n      },\n    );\n  }\n\n  const path = addPath(undefined, responseName, rootType.name);\n  const info = buildResolveInfo(\n    exeContext,\n    fieldDef,\n    fieldNodes,\n    rootType,\n    path,\n  );\n\n  try {\n    var _fieldDef$subscribe;\n\n    // Implements the \"ResolveFieldEventStream\" algorithm from GraphQL specification.\n    // It differs from \"ResolveFieldValue\" due to providing a different `resolveFn`.\n    // Build a JS object of arguments from the field.arguments AST, using the\n    // variables scope to fulfill any variable references.\n    const args = getArgumentValues(fieldDef, fieldNodes[0], variableValues); // The resolve function's optional third argument is a context value that\n    // is provided to every resolve function within an execution. It is commonly\n    // used to represent an authenticated user, or request-specific caches.\n\n    const contextValue = exeContext.contextValue; // Call the `subscribe()` resolver or the default resolver to produce an\n    // AsyncIterable yielding raw payloads.\n\n    const resolveFn =\n      (_fieldDef$subscribe = fieldDef.subscribe) !== null &&\n      _fieldDef$subscribe !== void 0\n        ? _fieldDef$subscribe\n        : exeContext.subscribeFieldResolver;\n    const eventStream = await resolveFn(rootValue, args, contextValue, info);\n\n    if (eventStream instanceof Error) {\n      throw eventStream;\n    }\n\n    return eventStream;\n  } catch (error) {\n    throw locatedError(error, fieldNodes, pathToArray(path));\n  }\n}\n","import { invariant } from '../../../jsutils/invariant.mjs';\nimport { GraphQLError } from '../../../error/GraphQLError.mjs';\nimport { getNamedType, isInputObjectType } from '../../../type/definition.mjs';\n\n/**\n * No deprecated\n *\n * A GraphQL document is only valid if all selected fields and all used enum values have not been\n * deprecated.\n *\n * Note: This rule is optional and is not part of the Validation section of the GraphQL\n * Specification. The main purpose of this rule is detection of deprecated usages and not\n * necessarily to forbid their use when querying a service.\n */\nexport function NoDeprecatedCustomRule(context) {\n  return {\n    Field(node) {\n      const fieldDef = context.getFieldDef();\n      const deprecationReason =\n        fieldDef === null || fieldDef === void 0\n          ? void 0\n          : fieldDef.deprecationReason;\n\n      if (fieldDef && deprecationReason != null) {\n        const parentType = context.getParentType();\n        parentType != null || invariant(false);\n        context.reportError(\n          new GraphQLError(\n            `The field ${parentType.name}.${fieldDef.name} is deprecated. ${deprecationReason}`,\n            {\n              nodes: node,\n            },\n          ),\n        );\n      }\n    },\n\n    Argument(node) {\n      const argDef = context.getArgument();\n      const deprecationReason =\n        argDef === null || argDef === void 0\n          ? void 0\n          : argDef.deprecationReason;\n\n      if (argDef && deprecationReason != null) {\n        const directiveDef = context.getDirective();\n\n        if (directiveDef != null) {\n          context.reportError(\n            new GraphQLError(\n              `Directive \"@${directiveDef.name}\" argument \"${argDef.name}\" is deprecated. ${deprecationReason}`,\n              {\n                nodes: node,\n              },\n            ),\n          );\n        } else {\n          const parentType = context.getParentType();\n          const fieldDef = context.getFieldDef();\n          (parentType != null && fieldDef != null) || invariant(false);\n          context.reportError(\n            new GraphQLError(\n              `Field \"${parentType.name}.${fieldDef.name}\" argument \"${argDef.name}\" is deprecated. ${deprecationReason}`,\n              {\n                nodes: node,\n              },\n            ),\n          );\n        }\n      }\n    },\n\n    ObjectField(node) {\n      const inputObjectDef = getNamedType(context.getParentInputType());\n\n      if (isInputObjectType(inputObjectDef)) {\n        const inputFieldDef = inputObjectDef.getFields()[node.name.value];\n        const deprecationReason =\n          inputFieldDef === null || inputFieldDef === void 0\n            ? void 0\n            : inputFieldDef.deprecationReason;\n\n        if (deprecationReason != null) {\n          context.reportError(\n            new GraphQLError(\n              `The input field ${inputObjectDef.name}.${inputFieldDef.name} is deprecated. ${deprecationReason}`,\n              {\n                nodes: node,\n              },\n            ),\n          );\n        }\n      }\n    },\n\n    EnumValue(node) {\n      const enumValueDef = context.getEnumValue();\n      const deprecationReason =\n        enumValueDef === null || enumValueDef === void 0\n          ? void 0\n          : enumValueDef.deprecationReason;\n\n      if (enumValueDef && deprecationReason != null) {\n        const enumTypeDef = getNamedType(context.getInputType());\n        enumTypeDef != null || invariant(false);\n        context.reportError(\n          new GraphQLError(\n            `The enum value \"${enumTypeDef.name}.${enumValueDef.name}\" is deprecated. ${deprecationReason}`,\n            {\n              nodes: node,\n            },\n          ),\n        );\n      }\n    },\n  };\n}\n","import { GraphQLError } from '../../../error/GraphQLError.mjs';\nimport { getNamedType } from '../../../type/definition.mjs';\nimport { isIntrospectionType } from '../../../type/introspection.mjs';\n\n/**\n * Prohibit introspection queries\n *\n * A GraphQL document is only valid if all fields selected are not fields that\n * return an introspection type.\n *\n * Note: This rule is optional and is not part of the Validation section of the\n * GraphQL Specification. This rule effectively disables introspection, which\n * does not reflect best practices and should only be done if absolutely necessary.\n */\nexport function NoSchemaIntrospectionCustomRule(context) {\n  return {\n    Field(node) {\n      const type = getNamedType(context.getType());\n\n      if (type && isIntrospectionType(type)) {\n        context.reportError(\n          new GraphQLError(\n            `GraphQL introspection has been disabled, but the requested query contained the field \"${node.name.value}\".`,\n            {\n              nodes: node,\n            },\n          ),\n        );\n      }\n    },\n  };\n}\n","/**\n * Produce the GraphQL query recommended for a full schema introspection.\n * Accepts optional IntrospectionOptions.\n */\nexport function getIntrospectionQuery(options) {\n  const optionsWithDefault = {\n    descriptions: true,\n    specifiedByUrl: false,\n    directiveIsRepeatable: false,\n    schemaDescription: false,\n    inputValueDeprecation: false,\n    ...options,\n  };\n  const descriptions = optionsWithDefault.descriptions ? 'description' : '';\n  const specifiedByUrl = optionsWithDefault.specifiedByUrl\n    ? 'specifiedByURL'\n    : '';\n  const directiveIsRepeatable = optionsWithDefault.directiveIsRepeatable\n    ? 'isRepeatable'\n    : '';\n  const schemaDescription = optionsWithDefault.schemaDescription\n    ? descriptions\n    : '';\n\n  function inputDeprecation(str) {\n    return optionsWithDefault.inputValueDeprecation ? str : '';\n  }\n\n  return `\n    query IntrospectionQuery {\n      __schema {\n        ${schemaDescription}\n        queryType { name }\n        mutationType { name }\n        subscriptionType { name }\n        types {\n          ...FullType\n        }\n        directives {\n          name\n          ${descriptions}\n          ${directiveIsRepeatable}\n          locations\n          args${inputDeprecation('(includeDeprecated: true)')} {\n            ...InputValue\n          }\n        }\n      }\n    }\n\n    fragment FullType on __Type {\n      kind\n      name\n      ${descriptions}\n      ${specifiedByUrl}\n      fields(includeDeprecated: true) {\n        name\n        ${descriptions}\n        args${inputDeprecation('(includeDeprecated: true)')} {\n          ...InputValue\n        }\n        type {\n          ...TypeRef\n        }\n        isDeprecated\n        deprecationReason\n      }\n      inputFields${inputDeprecation('(includeDeprecated: true)')} {\n        ...InputValue\n      }\n      interfaces {\n        ...TypeRef\n      }\n      enumValues(includeDeprecated: true) {\n        name\n        ${descriptions}\n        isDeprecated\n        deprecationReason\n      }\n      possibleTypes {\n        ...TypeRef\n      }\n    }\n\n    fragment InputValue on __InputValue {\n      name\n      ${descriptions}\n      type { ...TypeRef }\n      defaultValue\n      ${inputDeprecation('isDeprecated')}\n      ${inputDeprecation('deprecationReason')}\n    }\n\n    fragment TypeRef on __Type {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n          ofType {\n            kind\n            name\n            ofType {\n              kind\n              name\n              ofType {\n                kind\n                name\n                ofType {\n                  kind\n                  name\n                  ofType {\n                    kind\n                    name\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  `;\n}\n","import { Kind } from '../language/kinds.mjs';\n/**\n * Returns an operation AST given a document AST and optionally an operation\n * name. If a name is not provided, an operation is only returned if only one is\n * provided in the document.\n */\n\nexport function getOperationAST(documentAST, operationName) {\n  let operation = null;\n\n  for (const definition of documentAST.definitions) {\n    if (definition.kind === Kind.OPERATION_DEFINITION) {\n      var _definition$name;\n\n      if (operationName == null) {\n        // If no operation name was provided, only return an Operation if there\n        // is one defined in the document. Upon encountering the second, return\n        // null.\n        if (operation) {\n          return null;\n        }\n\n        operation = definition;\n      } else if (\n        ((_definition$name = definition.name) === null ||\n        _definition$name === void 0\n          ? void 0\n          : _definition$name.value) === operationName\n      ) {\n        return definition;\n      }\n    }\n  }\n\n  return operation;\n}\n","import { GraphQLError } from '../error/GraphQLError.mjs';\n\n/**\n * Extracts the root type of the operation from the schema.\n *\n * @deprecated Please use `GraphQLSchema.getRootType` instead. Will be removed in v17\n */\nexport function getOperationRootType(schema, operation) {\n  if (operation.operation === 'query') {\n    const queryType = schema.getQueryType();\n\n    if (!queryType) {\n      throw new GraphQLError(\n        'Schema does not define the required query root type.',\n        {\n          nodes: operation,\n        },\n      );\n    }\n\n    return queryType;\n  }\n\n  if (operation.operation === 'mutation') {\n    const mutationType = schema.getMutationType();\n\n    if (!mutationType) {\n      throw new GraphQLError('Schema is not configured for mutations.', {\n        nodes: operation,\n      });\n    }\n\n    return mutationType;\n  }\n\n  if (operation.operation === 'subscription') {\n    const subscriptionType = schema.getSubscriptionType();\n\n    if (!subscriptionType) {\n      throw new GraphQLError('Schema is not configured for subscriptions.', {\n        nodes: operation,\n      });\n    }\n\n    return subscriptionType;\n  }\n\n  throw new GraphQLError(\n    'Can only have query, mutation and subscription operations.',\n    {\n      nodes: operation,\n    },\n  );\n}\n","import { invariant } from '../jsutils/invariant.mjs';\nimport { parse } from '../language/parser.mjs';\nimport { executeSync } from '../execution/execute.mjs';\nimport { getIntrospectionQuery } from './getIntrospectionQuery.mjs';\n/**\n * Build an IntrospectionQuery from a GraphQLSchema\n *\n * IntrospectionQuery is useful for utilities that care about type and field\n * relationships, but do not need to traverse through those relationships.\n *\n * This is the inverse of buildClientSchema. The primary use case is outside\n * of the server context, for instance when doing schema comparisons.\n */\n\nexport function introspectionFromSchema(schema, options) {\n  const optionsWithDefaults = {\n    specifiedByUrl: true,\n    directiveIsRepeatable: true,\n    schemaDescription: true,\n    inputValueDeprecation: true,\n    ...options,\n  };\n  const document = parse(getIntrospectionQuery(optionsWithDefaults));\n  const result = executeSync({\n    schema,\n    document,\n  });\n  (!result.errors && result.data) || invariant(false);\n  return result.data;\n}\n","import { devAssert } from '../jsutils/devAssert.mjs';\nimport { inspect } from '../jsutils/inspect.mjs';\nimport { isObjectLike } from '../jsutils/isObjectLike.mjs';\nimport { keyValMap } from '../jsutils/keyValMap.mjs';\nimport { parseValue } from '../language/parser.mjs';\nimport {\n  assertInterfaceType,\n  assertNullableType,\n  assertObjectType,\n  GraphQLEnumType,\n  GraphQLInputObjectType,\n  GraphQLInterfaceType,\n  GraphQLList,\n  GraphQLNonNull,\n  GraphQLObjectType,\n  GraphQLScalarType,\n  GraphQLUnionType,\n  isInputType,\n  isOutputType,\n} from '../type/definition.mjs';\nimport { GraphQLDirective } from '../type/directives.mjs';\nimport { introspectionTypes, TypeKind } from '../type/introspection.mjs';\nimport { specifiedScalarTypes } from '../type/scalars.mjs';\nimport { GraphQLSchema } from '../type/schema.mjs';\nimport { valueFromAST } from './valueFromAST.mjs';\n/**\n * Build a GraphQLSchema for use by client tools.\n *\n * Given the result of a client running the introspection query, creates and\n * returns a GraphQLSchema instance which can be then used with all graphql-js\n * tools, but cannot be used to execute a query, as introspection does not\n * represent the \"resolver\", \"parse\" or \"serialize\" functions or any other\n * server-internal mechanisms.\n *\n * This function expects a complete introspection result. Don't forget to check\n * the \"errors\" field of a server response before calling this function.\n */\n\nexport function buildClientSchema(introspection, options) {\n  (isObjectLike(introspection) && isObjectLike(introspection.__schema)) ||\n    devAssert(\n      false,\n      `Invalid or incomplete introspection result. Ensure that you are passing \"data\" property of introspection response and no \"errors\" was returned alongside: ${inspect(\n        introspection,\n      )}.`,\n    ); // Get the schema from the introspection result.\n\n  const schemaIntrospection = introspection.__schema; // Iterate through all types, getting the type definition for each.\n\n  const typeMap = keyValMap(\n    schemaIntrospection.types,\n    (typeIntrospection) => typeIntrospection.name,\n    (typeIntrospection) => buildType(typeIntrospection),\n  ); // Include standard types only if they are used.\n\n  for (const stdType of [...specifiedScalarTypes, ...introspectionTypes]) {\n    if (typeMap[stdType.name]) {\n      typeMap[stdType.name] = stdType;\n    }\n  } // Get the root Query, Mutation, and Subscription types.\n\n  const queryType = schemaIntrospection.queryType\n    ? getObjectType(schemaIntrospection.queryType)\n    : null;\n  const mutationType = schemaIntrospection.mutationType\n    ? getObjectType(schemaIntrospection.mutationType)\n    : null;\n  const subscriptionType = schemaIntrospection.subscriptionType\n    ? getObjectType(schemaIntrospection.subscriptionType)\n    : null; // Get the directives supported by Introspection, assuming empty-set if\n  // directives were not queried for.\n\n  const directives = schemaIntrospection.directives\n    ? schemaIntrospection.directives.map(buildDirective)\n    : []; // Then produce and return a Schema with these types.\n\n  return new GraphQLSchema({\n    description: schemaIntrospection.description,\n    query: queryType,\n    mutation: mutationType,\n    subscription: subscriptionType,\n    types: Object.values(typeMap),\n    directives,\n    assumeValid:\n      options === null || options === void 0 ? void 0 : options.assumeValid,\n  }); // Given a type reference in introspection, return the GraphQLType instance.\n  // preferring cached instances before building new instances.\n\n  function getType(typeRef) {\n    if (typeRef.kind === TypeKind.LIST) {\n      const itemRef = typeRef.ofType;\n\n      if (!itemRef) {\n        throw new Error('Decorated type deeper than introspection query.');\n      }\n\n      return new GraphQLList(getType(itemRef));\n    }\n\n    if (typeRef.kind === TypeKind.NON_NULL) {\n      const nullableRef = typeRef.ofType;\n\n      if (!nullableRef) {\n        throw new Error('Decorated type deeper than introspection query.');\n      }\n\n      const nullableType = getType(nullableRef);\n      return new GraphQLNonNull(assertNullableType(nullableType));\n    }\n\n    return getNamedType(typeRef);\n  }\n\n  function getNamedType(typeRef) {\n    const typeName = typeRef.name;\n\n    if (!typeName) {\n      throw new Error(`Unknown type reference: ${inspect(typeRef)}.`);\n    }\n\n    const type = typeMap[typeName];\n\n    if (!type) {\n      throw new Error(\n        `Invalid or incomplete schema, unknown type: ${typeName}. Ensure that a full introspection query is used in order to build a client schema.`,\n      );\n    }\n\n    return type;\n  }\n\n  function getObjectType(typeRef) {\n    return assertObjectType(getNamedType(typeRef));\n  }\n\n  function getInterfaceType(typeRef) {\n    return assertInterfaceType(getNamedType(typeRef));\n  } // Given a type's introspection result, construct the correct\n  // GraphQLType instance.\n\n  function buildType(type) {\n    // eslint-disable-next-line @typescript-eslint/prefer-optional-chain\n    if (type != null && type.name != null && type.kind != null) {\n      // FIXME: Properly type IntrospectionType, it's a breaking change so fix in v17\n      // eslint-disable-next-line @typescript-eslint/switch-exhaustiveness-check\n      switch (type.kind) {\n        case TypeKind.SCALAR:\n          return buildScalarDef(type);\n\n        case TypeKind.OBJECT:\n          return buildObjectDef(type);\n\n        case TypeKind.INTERFACE:\n          return buildInterfaceDef(type);\n\n        case TypeKind.UNION:\n          return buildUnionDef(type);\n\n        case TypeKind.ENUM:\n          return buildEnumDef(type);\n\n        case TypeKind.INPUT_OBJECT:\n          return buildInputObjectDef(type);\n      }\n    }\n\n    const typeStr = inspect(type);\n    throw new Error(\n      `Invalid or incomplete introspection result. Ensure that a full introspection query is used in order to build a client schema: ${typeStr}.`,\n    );\n  }\n\n  function buildScalarDef(scalarIntrospection) {\n    return new GraphQLScalarType({\n      name: scalarIntrospection.name,\n      description: scalarIntrospection.description,\n      specifiedByURL: scalarIntrospection.specifiedByURL,\n    });\n  }\n\n  function buildImplementationsList(implementingIntrospection) {\n    // TODO: Temporary workaround until GraphQL ecosystem will fully support\n    // 'interfaces' on interface types.\n    if (\n      implementingIntrospection.interfaces === null &&\n      implementingIntrospection.kind === TypeKind.INTERFACE\n    ) {\n      return [];\n    }\n\n    if (!implementingIntrospection.interfaces) {\n      const implementingIntrospectionStr = inspect(implementingIntrospection);\n      throw new Error(\n        `Introspection result missing interfaces: ${implementingIntrospectionStr}.`,\n      );\n    }\n\n    return implementingIntrospection.interfaces.map(getInterfaceType);\n  }\n\n  function buildObjectDef(objectIntrospection) {\n    return new GraphQLObjectType({\n      name: objectIntrospection.name,\n      description: objectIntrospection.description,\n      interfaces: () => buildImplementationsList(objectIntrospection),\n      fields: () => buildFieldDefMap(objectIntrospection),\n    });\n  }\n\n  function buildInterfaceDef(interfaceIntrospection) {\n    return new GraphQLInterfaceType({\n      name: interfaceIntrospection.name,\n      description: interfaceIntrospection.description,\n      interfaces: () => buildImplementationsList(interfaceIntrospection),\n      fields: () => buildFieldDefMap(interfaceIntrospection),\n    });\n  }\n\n  function buildUnionDef(unionIntrospection) {\n    if (!unionIntrospection.possibleTypes) {\n      const unionIntrospectionStr = inspect(unionIntrospection);\n      throw new Error(\n        `Introspection result missing possibleTypes: ${unionIntrospectionStr}.`,\n      );\n    }\n\n    return new GraphQLUnionType({\n      name: unionIntrospection.name,\n      description: unionIntrospection.description,\n      types: () => unionIntrospection.possibleTypes.map(getObjectType),\n    });\n  }\n\n  function buildEnumDef(enumIntrospection) {\n    if (!enumIntrospection.enumValues) {\n      const enumIntrospectionStr = inspect(enumIntrospection);\n      throw new Error(\n        `Introspection result missing enumValues: ${enumIntrospectionStr}.`,\n      );\n    }\n\n    return new GraphQLEnumType({\n      name: enumIntrospection.name,\n      description: enumIntrospection.description,\n      values: keyValMap(\n        enumIntrospection.enumValues,\n        (valueIntrospection) => valueIntrospection.name,\n        (valueIntrospection) => ({\n          description: valueIntrospection.description,\n          deprecationReason: valueIntrospection.deprecationReason,\n        }),\n      ),\n    });\n  }\n\n  function buildInputObjectDef(inputObjectIntrospection) {\n    if (!inputObjectIntrospection.inputFields) {\n      const inputObjectIntrospectionStr = inspect(inputObjectIntrospection);\n      throw new Error(\n        `Introspection result missing inputFields: ${inputObjectIntrospectionStr}.`,\n      );\n    }\n\n    return new GraphQLInputObjectType({\n      name: inputObjectIntrospection.name,\n      description: inputObjectIntrospection.description,\n      fields: () => buildInputValueDefMap(inputObjectIntrospection.inputFields),\n    });\n  }\n\n  function buildFieldDefMap(typeIntrospection) {\n    if (!typeIntrospection.fields) {\n      throw new Error(\n        `Introspection result missing fields: ${inspect(typeIntrospection)}.`,\n      );\n    }\n\n    return keyValMap(\n      typeIntrospection.fields,\n      (fieldIntrospection) => fieldIntrospection.name,\n      buildField,\n    );\n  }\n\n  function buildField(fieldIntrospection) {\n    const type = getType(fieldIntrospection.type);\n\n    if (!isOutputType(type)) {\n      const typeStr = inspect(type);\n      throw new Error(\n        `Introspection must provide output type for fields, but received: ${typeStr}.`,\n      );\n    }\n\n    if (!fieldIntrospection.args) {\n      const fieldIntrospectionStr = inspect(fieldIntrospection);\n      throw new Error(\n        `Introspection result missing field args: ${fieldIntrospectionStr}.`,\n      );\n    }\n\n    return {\n      description: fieldIntrospection.description,\n      deprecationReason: fieldIntrospection.deprecationReason,\n      type,\n      args: buildInputValueDefMap(fieldIntrospection.args),\n    };\n  }\n\n  function buildInputValueDefMap(inputValueIntrospections) {\n    return keyValMap(\n      inputValueIntrospections,\n      (inputValue) => inputValue.name,\n      buildInputValue,\n    );\n  }\n\n  function buildInputValue(inputValueIntrospection) {\n    const type = getType(inputValueIntrospection.type);\n\n    if (!isInputType(type)) {\n      const typeStr = inspect(type);\n      throw new Error(\n        `Introspection must provide input type for arguments, but received: ${typeStr}.`,\n      );\n    }\n\n    const defaultValue =\n      inputValueIntrospection.defaultValue != null\n        ? valueFromAST(parseValue(inputValueIntrospection.defaultValue), type)\n        : undefined;\n    return {\n      description: inputValueIntrospection.description,\n      type,\n      defaultValue,\n      deprecationReason: inputValueIntrospection.deprecationReason,\n    };\n  }\n\n  function buildDirective(directiveIntrospection) {\n    if (!directiveIntrospection.args) {\n      const directiveIntrospectionStr = inspect(directiveIntrospection);\n      throw new Error(\n        `Introspection result missing directive args: ${directiveIntrospectionStr}.`,\n      );\n    }\n\n    if (!directiveIntrospection.locations) {\n      const directiveIntrospectionStr = inspect(directiveIntrospection);\n      throw new Error(\n        `Introspection result missing directive locations: ${directiveIntrospectionStr}.`,\n      );\n    }\n\n    return new GraphQLDirective({\n      name: directiveIntrospection.name,\n      description: directiveIntrospection.description,\n      isRepeatable: directiveIntrospection.isRepeatable,\n      locations: directiveIntrospection.locations.slice(),\n      args: buildInputValueDefMap(directiveIntrospection.args),\n    });\n  }\n}\n","import { devAssert } from '../jsutils/devAssert.mjs';\nimport { inspect } from '../jsutils/inspect.mjs';\nimport { invariant } from '../jsutils/invariant.mjs';\nimport { keyMap } from '../jsutils/keyMap.mjs';\nimport { mapValue } from '../jsutils/mapValue.mjs';\nimport { Kind } from '../language/kinds.mjs';\nimport {\n  isTypeDefinitionNode,\n  isTypeExtensionNode,\n} from '../language/predicates.mjs';\nimport {\n  GraphQLEnumType,\n  GraphQLInputObjectType,\n  GraphQLInterfaceType,\n  GraphQLList,\n  GraphQLNonNull,\n  GraphQLObjectType,\n  GraphQLScalarType,\n  GraphQLUnionType,\n  isEnumType,\n  isInputObjectType,\n  isInterfaceType,\n  isListType,\n  isNonNullType,\n  isObjectType,\n  isScalarType,\n  isUnionType,\n} from '../type/definition.mjs';\nimport {\n  GraphQLDeprecatedDirective,\n  GraphQLDirective,\n  GraphQLSpecifiedByDirective,\n} from '../type/directives.mjs';\nimport {\n  introspectionTypes,\n  isIntrospectionType,\n} from '../type/introspection.mjs';\nimport {\n  isSpecifiedScalarType,\n  specifiedScalarTypes,\n} from '../type/scalars.mjs';\nimport { assertSchema, GraphQLSchema } from '../type/schema.mjs';\nimport { assertValidSDLExtension } from '../validation/validate.mjs';\nimport { getDirectiveValues } from '../execution/values.mjs';\nimport { valueFromAST } from './valueFromAST.mjs';\n\n/**\n * Produces a new schema given an existing schema and a document which may\n * contain GraphQL type extensions and definitions. The original schema will\n * remain unaltered.\n *\n * Because a schema represents a graph of references, a schema cannot be\n * extended without effectively making an entire copy. We do not know until it's\n * too late if subgraphs remain unchanged.\n *\n * This algorithm copies the provided schema, applying extensions while\n * producing the copy. The original schema remains unaltered.\n */\nexport function extendSchema(schema, documentAST, options) {\n  assertSchema(schema);\n  (documentAST != null && documentAST.kind === Kind.DOCUMENT) ||\n    devAssert(false, 'Must provide valid Document AST.');\n\n  if (\n    (options === null || options === void 0 ? void 0 : options.assumeValid) !==\n      true &&\n    (options === null || options === void 0\n      ? void 0\n      : options.assumeValidSDL) !== true\n  ) {\n    assertValidSDLExtension(documentAST, schema);\n  }\n\n  const schemaConfig = schema.toConfig();\n  const extendedConfig = extendSchemaImpl(schemaConfig, documentAST, options);\n  return schemaConfig === extendedConfig\n    ? schema\n    : new GraphQLSchema(extendedConfig);\n}\n/**\n * @internal\n */\n\nexport function extendSchemaImpl(schemaConfig, documentAST, options) {\n  var _schemaDef, _schemaDef$descriptio, _schemaDef2, _options$assumeValid;\n\n  // Collect the type definitions and extensions found in the document.\n  const typeDefs = [];\n  const typeExtensionsMap = Object.create(null); // New directives and types are separate because a directives and types can\n  // have the same name. For example, a type named \"skip\".\n\n  const directiveDefs = [];\n  let schemaDef; // Schema extensions are collected which may add additional operation types.\n\n  const schemaExtensions = [];\n\n  for (const def of documentAST.definitions) {\n    if (def.kind === Kind.SCHEMA_DEFINITION) {\n      schemaDef = def;\n    } else if (def.kind === Kind.SCHEMA_EXTENSION) {\n      schemaExtensions.push(def);\n    } else if (isTypeDefinitionNode(def)) {\n      typeDefs.push(def);\n    } else if (isTypeExtensionNode(def)) {\n      const extendedTypeName = def.name.value;\n      const existingTypeExtensions = typeExtensionsMap[extendedTypeName];\n      typeExtensionsMap[extendedTypeName] = existingTypeExtensions\n        ? existingTypeExtensions.concat([def])\n        : [def];\n    } else if (def.kind === Kind.DIRECTIVE_DEFINITION) {\n      directiveDefs.push(def);\n    }\n  } // If this document contains no new types, extensions, or directives then\n  // return the same unmodified GraphQLSchema instance.\n\n  if (\n    Object.keys(typeExtensionsMap).length === 0 &&\n    typeDefs.length === 0 &&\n    directiveDefs.length === 0 &&\n    schemaExtensions.length === 0 &&\n    schemaDef == null\n  ) {\n    return schemaConfig;\n  }\n\n  const typeMap = Object.create(null);\n\n  for (const existingType of schemaConfig.types) {\n    typeMap[existingType.name] = extendNamedType(existingType);\n  }\n\n  for (const typeNode of typeDefs) {\n    var _stdTypeMap$name;\n\n    const name = typeNode.name.value;\n    typeMap[name] =\n      (_stdTypeMap$name = stdTypeMap[name]) !== null &&\n      _stdTypeMap$name !== void 0\n        ? _stdTypeMap$name\n        : buildType(typeNode);\n  }\n\n  const operationTypes = {\n    // Get the extended root operation types.\n    query: schemaConfig.query && replaceNamedType(schemaConfig.query),\n    mutation: schemaConfig.mutation && replaceNamedType(schemaConfig.mutation),\n    subscription:\n      schemaConfig.subscription && replaceNamedType(schemaConfig.subscription),\n    // Then, incorporate schema definition and all schema extensions.\n    ...(schemaDef && getOperationTypes([schemaDef])),\n    ...getOperationTypes(schemaExtensions),\n  }; // Then produce and return a Schema config with these types.\n\n  return {\n    description:\n      (_schemaDef = schemaDef) === null || _schemaDef === void 0\n        ? void 0\n        : (_schemaDef$descriptio = _schemaDef.description) === null ||\n          _schemaDef$descriptio === void 0\n        ? void 0\n        : _schemaDef$descriptio.value,\n    ...operationTypes,\n    types: Object.values(typeMap),\n    directives: [\n      ...schemaConfig.directives.map(replaceDirective),\n      ...directiveDefs.map(buildDirective),\n    ],\n    extensions: Object.create(null),\n    astNode:\n      (_schemaDef2 = schemaDef) !== null && _schemaDef2 !== void 0\n        ? _schemaDef2\n        : schemaConfig.astNode,\n    extensionASTNodes: schemaConfig.extensionASTNodes.concat(schemaExtensions),\n    assumeValid:\n      (_options$assumeValid =\n        options === null || options === void 0\n          ? void 0\n          : options.assumeValid) !== null && _options$assumeValid !== void 0\n        ? _options$assumeValid\n        : false,\n  }; // Below are functions used for producing this schema that have closed over\n  // this scope and have access to the schema, cache, and newly defined types.\n\n  function replaceType(type) {\n    if (isListType(type)) {\n      // @ts-expect-error\n      return new GraphQLList(replaceType(type.ofType));\n    }\n\n    if (isNonNullType(type)) {\n      // @ts-expect-error\n      return new GraphQLNonNull(replaceType(type.ofType));\n    } // @ts-expect-error FIXME\n\n    return replaceNamedType(type);\n  }\n\n  function replaceNamedType(type) {\n    // Note: While this could make early assertions to get the correctly\n    // typed values, that would throw immediately while type system\n    // validation with validateSchema() will produce more actionable results.\n    return typeMap[type.name];\n  }\n\n  function replaceDirective(directive) {\n    const config = directive.toConfig();\n    return new GraphQLDirective({\n      ...config,\n      args: mapValue(config.args, extendArg),\n    });\n  }\n\n  function extendNamedType(type) {\n    if (isIntrospectionType(type) || isSpecifiedScalarType(type)) {\n      // Builtin types are not extended.\n      return type;\n    }\n\n    if (isScalarType(type)) {\n      return extendScalarType(type);\n    }\n\n    if (isObjectType(type)) {\n      return extendObjectType(type);\n    }\n\n    if (isInterfaceType(type)) {\n      return extendInterfaceType(type);\n    }\n\n    if (isUnionType(type)) {\n      return extendUnionType(type);\n    }\n\n    if (isEnumType(type)) {\n      return extendEnumType(type);\n    }\n\n    if (isInputObjectType(type)) {\n      return extendInputObjectType(type);\n    }\n    /* c8 ignore next 3 */\n    // Not reachable, all possible type definition nodes have been considered.\n\n    false || invariant(false, 'Unexpected type: ' + inspect(type));\n  }\n\n  function extendInputObjectType(type) {\n    var _typeExtensionsMap$co;\n\n    const config = type.toConfig();\n    const extensions =\n      (_typeExtensionsMap$co = typeExtensionsMap[config.name]) !== null &&\n      _typeExtensionsMap$co !== void 0\n        ? _typeExtensionsMap$co\n        : [];\n    return new GraphQLInputObjectType({\n      ...config,\n      fields: () => ({\n        ...mapValue(config.fields, (field) => ({\n          ...field,\n          type: replaceType(field.type),\n        })),\n        ...buildInputFieldMap(extensions),\n      }),\n      extensionASTNodes: config.extensionASTNodes.concat(extensions),\n    });\n  }\n\n  function extendEnumType(type) {\n    var _typeExtensionsMap$ty;\n\n    const config = type.toConfig();\n    const extensions =\n      (_typeExtensionsMap$ty = typeExtensionsMap[type.name]) !== null &&\n      _typeExtensionsMap$ty !== void 0\n        ? _typeExtensionsMap$ty\n        : [];\n    return new GraphQLEnumType({\n      ...config,\n      values: { ...config.values, ...buildEnumValueMap(extensions) },\n      extensionASTNodes: config.extensionASTNodes.concat(extensions),\n    });\n  }\n\n  function extendScalarType(type) {\n    var _typeExtensionsMap$co2;\n\n    const config = type.toConfig();\n    const extensions =\n      (_typeExtensionsMap$co2 = typeExtensionsMap[config.name]) !== null &&\n      _typeExtensionsMap$co2 !== void 0\n        ? _typeExtensionsMap$co2\n        : [];\n    let specifiedByURL = config.specifiedByURL;\n\n    for (const extensionNode of extensions) {\n      var _getSpecifiedByURL;\n\n      specifiedByURL =\n        (_getSpecifiedByURL = getSpecifiedByURL(extensionNode)) !== null &&\n        _getSpecifiedByURL !== void 0\n          ? _getSpecifiedByURL\n          : specifiedByURL;\n    }\n\n    return new GraphQLScalarType({\n      ...config,\n      specifiedByURL,\n      extensionASTNodes: config.extensionASTNodes.concat(extensions),\n    });\n  }\n\n  function extendObjectType(type) {\n    var _typeExtensionsMap$co3;\n\n    const config = type.toConfig();\n    const extensions =\n      (_typeExtensionsMap$co3 = typeExtensionsMap[config.name]) !== null &&\n      _typeExtensionsMap$co3 !== void 0\n        ? _typeExtensionsMap$co3\n        : [];\n    return new GraphQLObjectType({\n      ...config,\n      interfaces: () => [\n        ...type.getInterfaces().map(replaceNamedType),\n        ...buildInterfaces(extensions),\n      ],\n      fields: () => ({\n        ...mapValue(config.fields, extendField),\n        ...buildFieldMap(extensions),\n      }),\n      extensionASTNodes: config.extensionASTNodes.concat(extensions),\n    });\n  }\n\n  function extendInterfaceType(type) {\n    var _typeExtensionsMap$co4;\n\n    const config = type.toConfig();\n    const extensions =\n      (_typeExtensionsMap$co4 = typeExtensionsMap[config.name]) !== null &&\n      _typeExtensionsMap$co4 !== void 0\n        ? _typeExtensionsMap$co4\n        : [];\n    return new GraphQLInterfaceType({\n      ...config,\n      interfaces: () => [\n        ...type.getInterfaces().map(replaceNamedType),\n        ...buildInterfaces(extensions),\n      ],\n      fields: () => ({\n        ...mapValue(config.fields, extendField),\n        ...buildFieldMap(extensions),\n      }),\n      extensionASTNodes: config.extensionASTNodes.concat(extensions),\n    });\n  }\n\n  function extendUnionType(type) {\n    var _typeExtensionsMap$co5;\n\n    const config = type.toConfig();\n    const extensions =\n      (_typeExtensionsMap$co5 = typeExtensionsMap[config.name]) !== null &&\n      _typeExtensionsMap$co5 !== void 0\n        ? _typeExtensionsMap$co5\n        : [];\n    return new GraphQLUnionType({\n      ...config,\n      types: () => [\n        ...type.getTypes().map(replaceNamedType),\n        ...buildUnionTypes(extensions),\n      ],\n      extensionASTNodes: config.extensionASTNodes.concat(extensions),\n    });\n  }\n\n  function extendField(field) {\n    return {\n      ...field,\n      type: replaceType(field.type),\n      args: field.args && mapValue(field.args, extendArg),\n    };\n  }\n\n  function extendArg(arg) {\n    return { ...arg, type: replaceType(arg.type) };\n  }\n\n  function getOperationTypes(nodes) {\n    const opTypes = {};\n\n    for (const node of nodes) {\n      var _node$operationTypes;\n\n      // FIXME: https://github.com/graphql/graphql-js/issues/2203\n      const operationTypesNodes =\n        /* c8 ignore next */\n        (_node$operationTypes = node.operationTypes) !== null &&\n        _node$operationTypes !== void 0\n          ? _node$operationTypes\n          : [];\n\n      for (const operationType of operationTypesNodes) {\n        // Note: While this could make early assertions to get the correctly\n        // typed values below, that would throw immediately while type system\n        // validation with validateSchema() will produce more actionable results.\n        // @ts-expect-error\n        opTypes[operationType.operation] = getNamedType(operationType.type);\n      }\n    }\n\n    return opTypes;\n  }\n\n  function getNamedType(node) {\n    var _stdTypeMap$name2;\n\n    const name = node.name.value;\n    const type =\n      (_stdTypeMap$name2 = stdTypeMap[name]) !== null &&\n      _stdTypeMap$name2 !== void 0\n        ? _stdTypeMap$name2\n        : typeMap[name];\n\n    if (type === undefined) {\n      throw new Error(`Unknown type: \"${name}\".`);\n    }\n\n    return type;\n  }\n\n  function getWrappedType(node) {\n    if (node.kind === Kind.LIST_TYPE) {\n      return new GraphQLList(getWrappedType(node.type));\n    }\n\n    if (node.kind === Kind.NON_NULL_TYPE) {\n      return new GraphQLNonNull(getWrappedType(node.type));\n    }\n\n    return getNamedType(node);\n  }\n\n  function buildDirective(node) {\n    var _node$description;\n\n    return new GraphQLDirective({\n      name: node.name.value,\n      description:\n        (_node$description = node.description) === null ||\n        _node$description === void 0\n          ? void 0\n          : _node$description.value,\n      // @ts-expect-error\n      locations: node.locations.map(({ value }) => value),\n      isRepeatable: node.repeatable,\n      args: buildArgumentMap(node.arguments),\n      astNode: node,\n    });\n  }\n\n  function buildFieldMap(nodes) {\n    const fieldConfigMap = Object.create(null);\n\n    for (const node of nodes) {\n      var _node$fields;\n\n      // FIXME: https://github.com/graphql/graphql-js/issues/2203\n      const nodeFields =\n        /* c8 ignore next */\n        (_node$fields = node.fields) !== null && _node$fields !== void 0\n          ? _node$fields\n          : [];\n\n      for (const field of nodeFields) {\n        var _field$description;\n\n        fieldConfigMap[field.name.value] = {\n          // Note: While this could make assertions to get the correctly typed\n          // value, that would throw immediately while type system validation\n          // with validateSchema() will produce more actionable results.\n          type: getWrappedType(field.type),\n          description:\n            (_field$description = field.description) === null ||\n            _field$description === void 0\n              ? void 0\n              : _field$description.value,\n          args: buildArgumentMap(field.arguments),\n          deprecationReason: getDeprecationReason(field),\n          astNode: field,\n        };\n      }\n    }\n\n    return fieldConfigMap;\n  }\n\n  function buildArgumentMap(args) {\n    // FIXME: https://github.com/graphql/graphql-js/issues/2203\n    const argsNodes =\n      /* c8 ignore next */\n      args !== null && args !== void 0 ? args : [];\n    const argConfigMap = Object.create(null);\n\n    for (const arg of argsNodes) {\n      var _arg$description;\n\n      // Note: While this could make assertions to get the correctly typed\n      // value, that would throw immediately while type system validation\n      // with validateSchema() will produce more actionable results.\n      const type = getWrappedType(arg.type);\n      argConfigMap[arg.name.value] = {\n        type,\n        description:\n          (_arg$description = arg.description) === null ||\n          _arg$description === void 0\n            ? void 0\n            : _arg$description.value,\n        defaultValue: valueFromAST(arg.defaultValue, type),\n        deprecationReason: getDeprecationReason(arg),\n        astNode: arg,\n      };\n    }\n\n    return argConfigMap;\n  }\n\n  function buildInputFieldMap(nodes) {\n    const inputFieldMap = Object.create(null);\n\n    for (const node of nodes) {\n      var _node$fields2;\n\n      // FIXME: https://github.com/graphql/graphql-js/issues/2203\n      const fieldsNodes =\n        /* c8 ignore next */\n        (_node$fields2 = node.fields) !== null && _node$fields2 !== void 0\n          ? _node$fields2\n          : [];\n\n      for (const field of fieldsNodes) {\n        var _field$description2;\n\n        // Note: While this could make assertions to get the correctly typed\n        // value, that would throw immediately while type system validation\n        // with validateSchema() will produce more actionable results.\n        const type = getWrappedType(field.type);\n        inputFieldMap[field.name.value] = {\n          type,\n          description:\n            (_field$description2 = field.description) === null ||\n            _field$description2 === void 0\n              ? void 0\n              : _field$description2.value,\n          defaultValue: valueFromAST(field.defaultValue, type),\n          deprecationReason: getDeprecationReason(field),\n          astNode: field,\n        };\n      }\n    }\n\n    return inputFieldMap;\n  }\n\n  function buildEnumValueMap(nodes) {\n    const enumValueMap = Object.create(null);\n\n    for (const node of nodes) {\n      var _node$values;\n\n      // FIXME: https://github.com/graphql/graphql-js/issues/2203\n      const valuesNodes =\n        /* c8 ignore next */\n        (_node$values = node.values) !== null && _node$values !== void 0\n          ? _node$values\n          : [];\n\n      for (const value of valuesNodes) {\n        var _value$description;\n\n        enumValueMap[value.name.value] = {\n          description:\n            (_value$description = value.description) === null ||\n            _value$description === void 0\n              ? void 0\n              : _value$description.value,\n          deprecationReason: getDeprecationReason(value),\n          astNode: value,\n        };\n      }\n    }\n\n    return enumValueMap;\n  }\n\n  function buildInterfaces(nodes) {\n    // Note: While this could make assertions to get the correctly typed\n    // values below, that would throw immediately while type system\n    // validation with validateSchema() will produce more actionable results.\n    // @ts-expect-error\n    return nodes.flatMap(\n      // FIXME: https://github.com/graphql/graphql-js/issues/2203\n      (node) => {\n        var _node$interfaces$map, _node$interfaces;\n\n        return (\n          /* c8 ignore next */\n          (_node$interfaces$map =\n            (_node$interfaces = node.interfaces) === null ||\n            _node$interfaces === void 0\n              ? void 0\n              : _node$interfaces.map(getNamedType)) !== null &&\n            _node$interfaces$map !== void 0\n            ? _node$interfaces$map\n            : []\n        );\n      },\n    );\n  }\n\n  function buildUnionTypes(nodes) {\n    // Note: While this could make assertions to get the correctly typed\n    // values below, that would throw immediately while type system\n    // validation with validateSchema() will produce more actionable results.\n    // @ts-expect-error\n    return nodes.flatMap(\n      // FIXME: https://github.com/graphql/graphql-js/issues/2203\n      (node) => {\n        var _node$types$map, _node$types;\n\n        return (\n          /* c8 ignore next */\n          (_node$types$map =\n            (_node$types = node.types) === null || _node$types === void 0\n              ? void 0\n              : _node$types.map(getNamedType)) !== null &&\n            _node$types$map !== void 0\n            ? _node$types$map\n            : []\n        );\n      },\n    );\n  }\n\n  function buildType(astNode) {\n    var _typeExtensionsMap$na;\n\n    const name = astNode.name.value;\n    const extensionASTNodes =\n      (_typeExtensionsMap$na = typeExtensionsMap[name]) !== null &&\n      _typeExtensionsMap$na !== void 0\n        ? _typeExtensionsMap$na\n        : [];\n\n    switch (astNode.kind) {\n      case Kind.OBJECT_TYPE_DEFINITION: {\n        var _astNode$description;\n\n        const allNodes = [astNode, ...extensionASTNodes];\n        return new GraphQLObjectType({\n          name,\n          description:\n            (_astNode$description = astNode.description) === null ||\n            _astNode$description === void 0\n              ? void 0\n              : _astNode$description.value,\n          interfaces: () => buildInterfaces(allNodes),\n          fields: () => buildFieldMap(allNodes),\n          astNode,\n          extensionASTNodes,\n        });\n      }\n\n      case Kind.INTERFACE_TYPE_DEFINITION: {\n        var _astNode$description2;\n\n        const allNodes = [astNode, ...extensionASTNodes];\n        return new GraphQLInterfaceType({\n          name,\n          description:\n            (_astNode$description2 = astNode.description) === null ||\n            _astNode$description2 === void 0\n              ? void 0\n              : _astNode$description2.value,\n          interfaces: () => buildInterfaces(allNodes),\n          fields: () => buildFieldMap(allNodes),\n          astNode,\n          extensionASTNodes,\n        });\n      }\n\n      case Kind.ENUM_TYPE_DEFINITION: {\n        var _astNode$description3;\n\n        const allNodes = [astNode, ...extensionASTNodes];\n        return new GraphQLEnumType({\n          name,\n          description:\n            (_astNode$description3 = astNode.description) === null ||\n            _astNode$description3 === void 0\n              ? void 0\n              : _astNode$description3.value,\n          values: buildEnumValueMap(allNodes),\n          astNode,\n          extensionASTNodes,\n        });\n      }\n\n      case Kind.UNION_TYPE_DEFINITION: {\n        var _astNode$description4;\n\n        const allNodes = [astNode, ...extensionASTNodes];\n        return new GraphQLUnionType({\n          name,\n          description:\n            (_astNode$description4 = astNode.description) === null ||\n            _astNode$description4 === void 0\n              ? void 0\n              : _astNode$description4.value,\n          types: () => buildUnionTypes(allNodes),\n          astNode,\n          extensionASTNodes,\n        });\n      }\n\n      case Kind.SCALAR_TYPE_DEFINITION: {\n        var _astNode$description5;\n\n        return new GraphQLScalarType({\n          name,\n          description:\n            (_astNode$description5 = astNode.description) === null ||\n            _astNode$description5 === void 0\n              ? void 0\n              : _astNode$description5.value,\n          specifiedByURL: getSpecifiedByURL(astNode),\n          astNode,\n          extensionASTNodes,\n        });\n      }\n\n      case Kind.INPUT_OBJECT_TYPE_DEFINITION: {\n        var _astNode$description6;\n\n        const allNodes = [astNode, ...extensionASTNodes];\n        return new GraphQLInputObjectType({\n          name,\n          description:\n            (_astNode$description6 = astNode.description) === null ||\n            _astNode$description6 === void 0\n              ? void 0\n              : _astNode$description6.value,\n          fields: () => buildInputFieldMap(allNodes),\n          astNode,\n          extensionASTNodes,\n        });\n      }\n    }\n  }\n}\nconst stdTypeMap = keyMap(\n  [...specifiedScalarTypes, ...introspectionTypes],\n  (type) => type.name,\n);\n/**\n * Given a field or enum value node, returns the string value for the\n * deprecation reason.\n */\n\nfunction getDeprecationReason(node) {\n  const deprecated = getDirectiveValues(GraphQLDeprecatedDirective, node); // @ts-expect-error validated by `getDirectiveValues`\n\n  return deprecated === null || deprecated === void 0\n    ? void 0\n    : deprecated.reason;\n}\n/**\n * Given a scalar node, returns the string value for the specifiedByURL.\n */\n\nfunction getSpecifiedByURL(node) {\n  const specifiedBy = getDirectiveValues(GraphQLSpecifiedByDirective, node); // @ts-expect-error validated by `getDirectiveValues`\n\n  return specifiedBy === null || specifiedBy === void 0\n    ? void 0\n    : specifiedBy.url;\n}\n","import { devAssert } from '../jsutils/devAssert.mjs';\nimport { Kind } from '../language/kinds.mjs';\nimport { parse } from '../language/parser.mjs';\nimport { specifiedDirectives } from '../type/directives.mjs';\nimport { GraphQLSchema } from '../type/schema.mjs';\nimport { assertValidSDL } from '../validation/validate.mjs';\nimport { extendSchemaImpl } from './extendSchema.mjs';\n\n/**\n * This takes the ast of a schema document produced by the parse function in\n * src/language/parser.js.\n *\n * If no schema definition is provided, then it will look for types named Query,\n * Mutation and Subscription.\n *\n * Given that AST it constructs a GraphQLSchema. The resulting schema\n * has no resolve methods, so execution will use default resolvers.\n */\nexport function buildASTSchema(documentAST, options) {\n  (documentAST != null && documentAST.kind === Kind.DOCUMENT) ||\n    devAssert(false, 'Must provide valid Document AST.');\n\n  if (\n    (options === null || options === void 0 ? void 0 : options.assumeValid) !==\n      true &&\n    (options === null || options === void 0\n      ? void 0\n      : options.assumeValidSDL) !== true\n  ) {\n    assertValidSDL(documentAST);\n  }\n\n  const emptySchemaConfig = {\n    description: undefined,\n    types: [],\n    directives: [],\n    extensions: Object.create(null),\n    extensionASTNodes: [],\n    assumeValid: false,\n  };\n  const config = extendSchemaImpl(emptySchemaConfig, documentAST, options);\n\n  if (config.astNode == null) {\n    for (const type of config.types) {\n      switch (type.name) {\n        // Note: While this could make early assertions to get the correctly\n        // typed values below, that would throw immediately while type system\n        // validation with validateSchema() will produce more actionable results.\n        case 'Query':\n          // @ts-expect-error validated in `validateSchema`\n          config.query = type;\n          break;\n\n        case 'Mutation':\n          // @ts-expect-error validated in `validateSchema`\n          config.mutation = type;\n          break;\n\n        case 'Subscription':\n          // @ts-expect-error validated in `validateSchema`\n          config.subscription = type;\n          break;\n      }\n    }\n  }\n\n  const directives = [\n    ...config.directives, // If specified directives were not explicitly declared, add them.\n    ...specifiedDirectives.filter((stdDirective) =>\n      config.directives.every(\n        (directive) => directive.name !== stdDirective.name,\n      ),\n    ),\n  ];\n  return new GraphQLSchema({ ...config, directives });\n}\n/**\n * A helper function to build a GraphQLSchema directly from a source\n * document.\n */\n\nexport function buildSchema(source, options) {\n  const document = parse(source, {\n    noLocation:\n      options === null || options === void 0 ? void 0 : options.noLocation,\n    allowLegacyFragmentVariables:\n      options === null || options === void 0\n        ? void 0\n        : options.allowLegacyFragmentVariables,\n  });\n  return buildASTSchema(document, {\n    assumeValidSDL:\n      options === null || options === void 0 ? void 0 : options.assumeValidSDL,\n    assumeValid:\n      options === null || options === void 0 ? void 0 : options.assumeValid,\n  });\n}\n","import { inspect } from '../jsutils/inspect.mjs';\nimport { invariant } from '../jsutils/invariant.mjs';\nimport { keyValMap } from '../jsutils/keyValMap.mjs';\nimport { naturalCompare } from '../jsutils/naturalCompare.mjs';\nimport {\n  GraphQLEnumType,\n  GraphQLInputObjectType,\n  GraphQLInterfaceType,\n  GraphQLList,\n  GraphQLNonNull,\n  GraphQLObjectType,\n  GraphQLUnionType,\n  isEnumType,\n  isInputObjectType,\n  isInterfaceType,\n  isListType,\n  isNonNullType,\n  isObjectType,\n  isScalarType,\n  isUnionType,\n} from '../type/definition.mjs';\nimport { GraphQLDirective } from '../type/directives.mjs';\nimport { isIntrospectionType } from '../type/introspection.mjs';\nimport { GraphQLSchema } from '../type/schema.mjs';\n/**\n * Sort GraphQLSchema.\n *\n * This function returns a sorted copy of the given GraphQLSchema.\n */\n\nexport function lexicographicSortSchema(schema) {\n  const schemaConfig = schema.toConfig();\n  const typeMap = keyValMap(\n    sortByName(schemaConfig.types),\n    (type) => type.name,\n    sortNamedType,\n  );\n  return new GraphQLSchema({\n    ...schemaConfig,\n    types: Object.values(typeMap),\n    directives: sortByName(schemaConfig.directives).map(sortDirective),\n    query: replaceMaybeType(schemaConfig.query),\n    mutation: replaceMaybeType(schemaConfig.mutation),\n    subscription: replaceMaybeType(schemaConfig.subscription),\n  });\n\n  function replaceType(type) {\n    if (isListType(type)) {\n      // @ts-expect-error\n      return new GraphQLList(replaceType(type.ofType));\n    } else if (isNonNullType(type)) {\n      // @ts-expect-error\n      return new GraphQLNonNull(replaceType(type.ofType));\n    } // @ts-expect-error FIXME: TS Conversion\n\n    return replaceNamedType(type);\n  }\n\n  function replaceNamedType(type) {\n    return typeMap[type.name];\n  }\n\n  function replaceMaybeType(maybeType) {\n    return maybeType && replaceNamedType(maybeType);\n  }\n\n  function sortDirective(directive) {\n    const config = directive.toConfig();\n    return new GraphQLDirective({\n      ...config,\n      locations: sortBy(config.locations, (x) => x),\n      args: sortArgs(config.args),\n    });\n  }\n\n  function sortArgs(args) {\n    return sortObjMap(args, (arg) => ({ ...arg, type: replaceType(arg.type) }));\n  }\n\n  function sortFields(fieldsMap) {\n    return sortObjMap(fieldsMap, (field) => ({\n      ...field,\n      type: replaceType(field.type),\n      args: field.args && sortArgs(field.args),\n    }));\n  }\n\n  function sortInputFields(fieldsMap) {\n    return sortObjMap(fieldsMap, (field) => ({\n      ...field,\n      type: replaceType(field.type),\n    }));\n  }\n\n  function sortTypes(array) {\n    return sortByName(array).map(replaceNamedType);\n  }\n\n  function sortNamedType(type) {\n    if (isScalarType(type) || isIntrospectionType(type)) {\n      return type;\n    }\n\n    if (isObjectType(type)) {\n      const config = type.toConfig();\n      return new GraphQLObjectType({\n        ...config,\n        interfaces: () => sortTypes(config.interfaces),\n        fields: () => sortFields(config.fields),\n      });\n    }\n\n    if (isInterfaceType(type)) {\n      const config = type.toConfig();\n      return new GraphQLInterfaceType({\n        ...config,\n        interfaces: () => sortTypes(config.interfaces),\n        fields: () => sortFields(config.fields),\n      });\n    }\n\n    if (isUnionType(type)) {\n      const config = type.toConfig();\n      return new GraphQLUnionType({\n        ...config,\n        types: () => sortTypes(config.types),\n      });\n    }\n\n    if (isEnumType(type)) {\n      const config = type.toConfig();\n      return new GraphQLEnumType({\n        ...config,\n        values: sortObjMap(config.values, (value) => value),\n      });\n    }\n\n    if (isInputObjectType(type)) {\n      const config = type.toConfig();\n      return new GraphQLInputObjectType({\n        ...config,\n        fields: () => sortInputFields(config.fields),\n      });\n    }\n    /* c8 ignore next 3 */\n    // Not reachable, all possible types have been considered.\n\n    false || invariant(false, 'Unexpected type: ' + inspect(type));\n  }\n}\n\nfunction sortObjMap(map, sortValueFn) {\n  const sortedMap = Object.create(null);\n\n  for (const key of Object.keys(map).sort(naturalCompare)) {\n    sortedMap[key] = sortValueFn(map[key]);\n  }\n\n  return sortedMap;\n}\n\nfunction sortByName(array) {\n  return sortBy(array, (obj) => obj.name);\n}\n\nfunction sortBy(array, mapToKey) {\n  return array.slice().sort((obj1, obj2) => {\n    const key1 = mapToKey(obj1);\n    const key2 = mapToKey(obj2);\n    return naturalCompare(key1, key2);\n  });\n}\n","import { inspect } from '../jsutils/inspect.mjs';\nimport { invariant } from '../jsutils/invariant.mjs';\nimport { isPrintableAsBlockString } from '../language/blockString.mjs';\nimport { Kind } from '../language/kinds.mjs';\nimport { print } from '../language/printer.mjs';\nimport {\n  isEnumType,\n  isInputObjectType,\n  isInterfaceType,\n  isObjectType,\n  isScalarType,\n  isUnionType,\n} from '../type/definition.mjs';\nimport {\n  DEFAULT_DEPRECATION_REASON,\n  isSpecifiedDirective,\n} from '../type/directives.mjs';\nimport { isIntrospectionType } from '../type/introspection.mjs';\nimport { isSpecifiedScalarType } from '../type/scalars.mjs';\nimport { astFromValue } from './astFromValue.mjs';\nexport function printSchema(schema) {\n  return printFilteredSchema(\n    schema,\n    (n) => !isSpecifiedDirective(n),\n    isDefinedType,\n  );\n}\nexport function printIntrospectionSchema(schema) {\n  return printFilteredSchema(schema, isSpecifiedDirective, isIntrospectionType);\n}\n\nfunction isDefinedType(type) {\n  return !isSpecifiedScalarType(type) && !isIntrospectionType(type);\n}\n\nfunction printFilteredSchema(schema, directiveFilter, typeFilter) {\n  const directives = schema.getDirectives().filter(directiveFilter);\n  const types = Object.values(schema.getTypeMap()).filter(typeFilter);\n  return [\n    printSchemaDefinition(schema),\n    ...directives.map((directive) => printDirective(directive)),\n    ...types.map((type) => printType(type)),\n  ]\n    .filter(Boolean)\n    .join('\\n\\n');\n}\n\nfunction printSchemaDefinition(schema) {\n  if (schema.description == null && isSchemaOfCommonNames(schema)) {\n    return;\n  }\n\n  const operationTypes = [];\n  const queryType = schema.getQueryType();\n\n  if (queryType) {\n    operationTypes.push(`  query: ${queryType.name}`);\n  }\n\n  const mutationType = schema.getMutationType();\n\n  if (mutationType) {\n    operationTypes.push(`  mutation: ${mutationType.name}`);\n  }\n\n  const subscriptionType = schema.getSubscriptionType();\n\n  if (subscriptionType) {\n    operationTypes.push(`  subscription: ${subscriptionType.name}`);\n  }\n\n  return printDescription(schema) + `schema {\\n${operationTypes.join('\\n')}\\n}`;\n}\n/**\n * GraphQL schema define root types for each type of operation. These types are\n * the same as any other type and can be named in any manner, however there is\n * a common naming convention:\n *\n * ```graphql\n *   schema {\n *     query: Query\n *     mutation: Mutation\n *     subscription: Subscription\n *   }\n * ```\n *\n * When using this naming convention, the schema description can be omitted.\n */\n\nfunction isSchemaOfCommonNames(schema) {\n  const queryType = schema.getQueryType();\n\n  if (queryType && queryType.name !== 'Query') {\n    return false;\n  }\n\n  const mutationType = schema.getMutationType();\n\n  if (mutationType && mutationType.name !== 'Mutation') {\n    return false;\n  }\n\n  const subscriptionType = schema.getSubscriptionType();\n\n  if (subscriptionType && subscriptionType.name !== 'Subscription') {\n    return false;\n  }\n\n  return true;\n}\n\nexport function printType(type) {\n  if (isScalarType(type)) {\n    return printScalar(type);\n  }\n\n  if (isObjectType(type)) {\n    return printObject(type);\n  }\n\n  if (isInterfaceType(type)) {\n    return printInterface(type);\n  }\n\n  if (isUnionType(type)) {\n    return printUnion(type);\n  }\n\n  if (isEnumType(type)) {\n    return printEnum(type);\n  }\n\n  if (isInputObjectType(type)) {\n    return printInputObject(type);\n  }\n  /* c8 ignore next 3 */\n  // Not reachable, all possible types have been considered.\n\n  false || invariant(false, 'Unexpected type: ' + inspect(type));\n}\n\nfunction printScalar(type) {\n  return (\n    printDescription(type) + `scalar ${type.name}` + printSpecifiedByURL(type)\n  );\n}\n\nfunction printImplementedInterfaces(type) {\n  const interfaces = type.getInterfaces();\n  return interfaces.length\n    ? ' implements ' + interfaces.map((i) => i.name).join(' & ')\n    : '';\n}\n\nfunction printObject(type) {\n  return (\n    printDescription(type) +\n    `type ${type.name}` +\n    printImplementedInterfaces(type) +\n    printFields(type)\n  );\n}\n\nfunction printInterface(type) {\n  return (\n    printDescription(type) +\n    `interface ${type.name}` +\n    printImplementedInterfaces(type) +\n    printFields(type)\n  );\n}\n\nfunction printUnion(type) {\n  const types = type.getTypes();\n  const possibleTypes = types.length ? ' = ' + types.join(' | ') : '';\n  return printDescription(type) + 'union ' + type.name + possibleTypes;\n}\n\nfunction printEnum(type) {\n  const values = type\n    .getValues()\n    .map(\n      (value, i) =>\n        printDescription(value, '  ', !i) +\n        '  ' +\n        value.name +\n        printDeprecated(value.deprecationReason),\n    );\n  return printDescription(type) + `enum ${type.name}` + printBlock(values);\n}\n\nfunction printInputObject(type) {\n  const fields = Object.values(type.getFields()).map(\n    (f, i) => printDescription(f, '  ', !i) + '  ' + printInputValue(f),\n  );\n  return printDescription(type) + `input ${type.name}` + printBlock(fields);\n}\n\nfunction printFields(type) {\n  const fields = Object.values(type.getFields()).map(\n    (f, i) =>\n      printDescription(f, '  ', !i) +\n      '  ' +\n      f.name +\n      printArgs(f.args, '  ') +\n      ': ' +\n      String(f.type) +\n      printDeprecated(f.deprecationReason),\n  );\n  return printBlock(fields);\n}\n\nfunction printBlock(items) {\n  return items.length !== 0 ? ' {\\n' + items.join('\\n') + '\\n}' : '';\n}\n\nfunction printArgs(args, indentation = '') {\n  if (args.length === 0) {\n    return '';\n  } // If every arg does not have a description, print them on one line.\n\n  if (args.every((arg) => !arg.description)) {\n    return '(' + args.map(printInputValue).join(', ') + ')';\n  }\n\n  return (\n    '(\\n' +\n    args\n      .map(\n        (arg, i) =>\n          printDescription(arg, '  ' + indentation, !i) +\n          '  ' +\n          indentation +\n          printInputValue(arg),\n      )\n      .join('\\n') +\n    '\\n' +\n    indentation +\n    ')'\n  );\n}\n\nfunction printInputValue(arg) {\n  const defaultAST = astFromValue(arg.defaultValue, arg.type);\n  let argDecl = arg.name + ': ' + String(arg.type);\n\n  if (defaultAST) {\n    argDecl += ` = ${print(defaultAST)}`;\n  }\n\n  return argDecl + printDeprecated(arg.deprecationReason);\n}\n\nfunction printDirective(directive) {\n  return (\n    printDescription(directive) +\n    'directive @' +\n    directive.name +\n    printArgs(directive.args) +\n    (directive.isRepeatable ? ' repeatable' : '') +\n    ' on ' +\n    directive.locations.join(' | ')\n  );\n}\n\nfunction printDeprecated(reason) {\n  if (reason == null) {\n    return '';\n  }\n\n  if (reason !== DEFAULT_DEPRECATION_REASON) {\n    const astValue = print({\n      kind: Kind.STRING,\n      value: reason,\n    });\n    return ` @deprecated(reason: ${astValue})`;\n  }\n\n  return ' @deprecated';\n}\n\nfunction printSpecifiedByURL(scalar) {\n  if (scalar.specifiedByURL == null) {\n    return '';\n  }\n\n  const astValue = print({\n    kind: Kind.STRING,\n    value: scalar.specifiedByURL,\n  });\n  return ` @specifiedBy(url: ${astValue})`;\n}\n\nfunction printDescription(def, indentation = '', firstInBlock = true) {\n  const { description } = def;\n\n  if (description == null) {\n    return '';\n  }\n\n  const blockString = print({\n    kind: Kind.STRING,\n    value: description,\n    block: isPrintableAsBlockString(description),\n  });\n  const prefix =\n    indentation && !firstInBlock ? '\\n' + indentation : indentation;\n  return prefix + blockString.replace(/\\n/g, '\\n' + indentation) + '\\n';\n}\n","import { Kind } from '../language/kinds.mjs';\n/**\n * Provided a collection of ASTs, presumably each from different files,\n * concatenate the ASTs together into batched AST, useful for validating many\n * GraphQL source files which together represent one conceptual application.\n */\n\nexport function concatAST(documents) {\n  const definitions = [];\n\n  for (const doc of documents) {\n    definitions.push(...doc.definitions);\n  }\n\n  return {\n    kind: Kind.DOCUMENT,\n    definitions,\n  };\n}\n","import { Kind } from '../language/kinds.mjs';\nimport { visit } from '../language/visitor.mjs';\n/**\n * separateOperations accepts a single AST document which may contain many\n * operations and fragments and returns a collection of AST documents each of\n * which contains a single operation as well the fragment definitions it\n * refers to.\n */\n\nexport function separateOperations(documentAST) {\n  const operations = [];\n  const depGraph = Object.create(null); // Populate metadata and build a dependency graph.\n\n  for (const definitionNode of documentAST.definitions) {\n    switch (definitionNode.kind) {\n      case Kind.OPERATION_DEFINITION:\n        operations.push(definitionNode);\n        break;\n\n      case Kind.FRAGMENT_DEFINITION:\n        depGraph[definitionNode.name.value] = collectDependencies(\n          definitionNode.selectionSet,\n        );\n        break;\n\n      default: // ignore non-executable definitions\n    }\n  } // For each operation, produce a new synthesized AST which includes only what\n  // is necessary for completing that operation.\n\n  const separatedDocumentASTs = Object.create(null);\n\n  for (const operation of operations) {\n    const dependencies = new Set();\n\n    for (const fragmentName of collectDependencies(operation.selectionSet)) {\n      collectTransitiveDependencies(dependencies, depGraph, fragmentName);\n    } // Provides the empty string for anonymous operations.\n\n    const operationName = operation.name ? operation.name.value : ''; // The list of definition nodes to be included for this operation, sorted\n    // to retain the same order as the original document.\n\n    separatedDocumentASTs[operationName] = {\n      kind: Kind.DOCUMENT,\n      definitions: documentAST.definitions.filter(\n        (node) =>\n          node === operation ||\n          (node.kind === Kind.FRAGMENT_DEFINITION &&\n            dependencies.has(node.name.value)),\n      ),\n    };\n  }\n\n  return separatedDocumentASTs;\n}\n\n// From a dependency graph, collects a list of transitive dependencies by\n// recursing through a dependency graph.\nfunction collectTransitiveDependencies(collected, depGraph, fromName) {\n  if (!collected.has(fromName)) {\n    collected.add(fromName);\n    const immediateDeps = depGraph[fromName];\n\n    if (immediateDeps !== undefined) {\n      for (const toName of immediateDeps) {\n        collectTransitiveDependencies(collected, depGraph, toName);\n      }\n    }\n  }\n}\n\nfunction collectDependencies(selectionSet) {\n  const dependencies = [];\n  visit(selectionSet, {\n    FragmentSpread(node) {\n      dependencies.push(node.name.value);\n    },\n  });\n  return dependencies;\n}\n","import { printBlockString } from '../language/blockString.mjs';\nimport { isPunctuatorTokenKind, Lexer } from '../language/lexer.mjs';\nimport { isSource, Source } from '../language/source.mjs';\nimport { TokenKind } from '../language/tokenKind.mjs';\n/**\n * Strips characters that are not significant to the validity or execution\n * of a GraphQL document:\n *   - UnicodeBOM\n *   - WhiteSpace\n *   - LineTerminator\n *   - Comment\n *   - Comma\n *   - BlockString indentation\n *\n * Note: It is required to have a delimiter character between neighboring\n * non-punctuator tokens and this function always uses single space as delimiter.\n *\n * It is guaranteed that both input and output documents if parsed would result\n * in the exact same AST except for nodes location.\n *\n * Warning: It is guaranteed that this function will always produce stable results.\n * However, it's not guaranteed that it will stay the same between different\n * releases due to bugfixes or changes in the GraphQL specification.\n *\n * Query example:\n *\n * ```graphql\n * query SomeQuery($foo: String!, $bar: String) {\n *   someField(foo: $foo, bar: $bar) {\n *     a\n *     b {\n *       c\n *       d\n *     }\n *   }\n * }\n * ```\n *\n * Becomes:\n *\n * ```graphql\n * query SomeQuery($foo:String!$bar:String){someField(foo:$foo bar:$bar){a b{c d}}}\n * ```\n *\n * SDL example:\n *\n * ```graphql\n * \"\"\"\n * Type description\n * \"\"\"\n * type Foo {\n *   \"\"\"\n *   Field description\n *   \"\"\"\n *   bar: String\n * }\n * ```\n *\n * Becomes:\n *\n * ```graphql\n * \"\"\"Type description\"\"\" type Foo{\"\"\"Field description\"\"\" bar:String}\n * ```\n */\n\nexport function stripIgnoredCharacters(source) {\n  const sourceObj = isSource(source) ? source : new Source(source);\n  const body = sourceObj.body;\n  const lexer = new Lexer(sourceObj);\n  let strippedBody = '';\n  let wasLastAddedTokenNonPunctuator = false;\n\n  while (lexer.advance().kind !== TokenKind.EOF) {\n    const currentToken = lexer.token;\n    const tokenKind = currentToken.kind;\n    /**\n     * Every two non-punctuator tokens should have space between them.\n     * Also prevent case of non-punctuator token following by spread resulting\n     * in invalid token (e.g. `1...` is invalid Float token).\n     */\n\n    const isNonPunctuator = !isPunctuatorTokenKind(currentToken.kind);\n\n    if (wasLastAddedTokenNonPunctuator) {\n      if (isNonPunctuator || currentToken.kind === TokenKind.SPREAD) {\n        strippedBody += ' ';\n      }\n    }\n\n    const tokenBody = body.slice(currentToken.start, currentToken.end);\n\n    if (tokenKind === TokenKind.BLOCK_STRING) {\n      strippedBody += printBlockString(currentToken.value, {\n        minimize: true,\n      });\n    } else {\n      strippedBody += tokenBody;\n    }\n\n    wasLastAddedTokenNonPunctuator = isNonPunctuator;\n  }\n\n  return strippedBody;\n}\n","import { devAssert } from '../jsutils/devAssert.mjs';\nimport { GraphQLError } from '../error/GraphQLError.mjs';\nimport { assertName } from '../type/assertName.mjs';\n/* c8 ignore start */\n\n/**\n * Upholds the spec rules about naming.\n * @deprecated Please use `assertName` instead. Will be removed in v17\n */\n\nexport function assertValidName(name) {\n  const error = isValidNameError(name);\n\n  if (error) {\n    throw error;\n  }\n\n  return name;\n}\n/**\n * Returns an Error if a name is invalid.\n * @deprecated Please use `assertName` instead. Will be removed in v17\n */\n\nexport function isValidNameError(name) {\n  typeof name === 'string' || devAssert(false, 'Expected name to be a string.');\n\n  if (name.startsWith('__')) {\n    return new GraphQLError(\n      `Name \"${name}\" must not begin with \"__\", which is reserved by GraphQL introspection.`,\n    );\n  }\n\n  try {\n    assertName(name);\n  } catch (error) {\n    return error;\n  }\n}\n/* c8 ignore stop */\n","import { inspect } from '../jsutils/inspect.mjs';\nimport { invariant } from '../jsutils/invariant.mjs';\nimport { keyMap } from '../jsutils/keyMap.mjs';\nimport { print } from '../language/printer.mjs';\nimport {\n  isEnumType,\n  isInputObjectType,\n  isInterfaceType,\n  isListType,\n  isNamedType,\n  isNonNullType,\n  isObjectType,\n  isRequiredArgument,\n  isRequiredInputField,\n  isScalarType,\n  isUnionType,\n} from '../type/definition.mjs';\nimport { isSpecifiedScalarType } from '../type/scalars.mjs';\nimport { astFromValue } from './astFromValue.mjs';\nimport { sortValueNode } from './sortValueNode.mjs';\nexport let BreakingChangeType;\n\n(function (BreakingChangeType) {\n  BreakingChangeType['TYPE_REMOVED'] = 'TYPE_REMOVED';\n  BreakingChangeType['TYPE_CHANGED_KIND'] = 'TYPE_CHANGED_KIND';\n  BreakingChangeType['TYPE_REMOVED_FROM_UNION'] = 'TYPE_REMOVED_FROM_UNION';\n  BreakingChangeType['VALUE_REMOVED_FROM_ENUM'] = 'VALUE_REMOVED_FROM_ENUM';\n  BreakingChangeType['REQUIRED_INPUT_FIELD_ADDED'] =\n    'REQUIRED_INPUT_FIELD_ADDED';\n  BreakingChangeType['IMPLEMENTED_INTERFACE_REMOVED'] =\n    'IMPLEMENTED_INTERFACE_REMOVED';\n  BreakingChangeType['FIELD_REMOVED'] = 'FIELD_REMOVED';\n  BreakingChangeType['FIELD_CHANGED_KIND'] = 'FIELD_CHANGED_KIND';\n  BreakingChangeType['REQUIRED_ARG_ADDED'] = 'REQUIRED_ARG_ADDED';\n  BreakingChangeType['ARG_REMOVED'] = 'ARG_REMOVED';\n  BreakingChangeType['ARG_CHANGED_KIND'] = 'ARG_CHANGED_KIND';\n  BreakingChangeType['DIRECTIVE_REMOVED'] = 'DIRECTIVE_REMOVED';\n  BreakingChangeType['DIRECTIVE_ARG_REMOVED'] = 'DIRECTIVE_ARG_REMOVED';\n  BreakingChangeType['REQUIRED_DIRECTIVE_ARG_ADDED'] =\n    'REQUIRED_DIRECTIVE_ARG_ADDED';\n  BreakingChangeType['DIRECTIVE_REPEATABLE_REMOVED'] =\n    'DIRECTIVE_REPEATABLE_REMOVED';\n  BreakingChangeType['DIRECTIVE_LOCATION_REMOVED'] =\n    'DIRECTIVE_LOCATION_REMOVED';\n})(BreakingChangeType || (BreakingChangeType = {}));\n\nexport let DangerousChangeType;\n\n(function (DangerousChangeType) {\n  DangerousChangeType['VALUE_ADDED_TO_ENUM'] = 'VALUE_ADDED_TO_ENUM';\n  DangerousChangeType['TYPE_ADDED_TO_UNION'] = 'TYPE_ADDED_TO_UNION';\n  DangerousChangeType['OPTIONAL_INPUT_FIELD_ADDED'] =\n    'OPTIONAL_INPUT_FIELD_ADDED';\n  DangerousChangeType['OPTIONAL_ARG_ADDED'] = 'OPTIONAL_ARG_ADDED';\n  DangerousChangeType['IMPLEMENTED_INTERFACE_ADDED'] =\n    'IMPLEMENTED_INTERFACE_ADDED';\n  DangerousChangeType['ARG_DEFAULT_VALUE_CHANGE'] = 'ARG_DEFAULT_VALUE_CHANGE';\n})(DangerousChangeType || (DangerousChangeType = {}));\n\n/**\n * Given two schemas, returns an Array containing descriptions of all the types\n * of breaking changes covered by the other functions down below.\n */\nexport function findBreakingChanges(oldSchema, newSchema) {\n  // @ts-expect-error\n  return findSchemaChanges(oldSchema, newSchema).filter(\n    (change) => change.type in BreakingChangeType,\n  );\n}\n/**\n * Given two schemas, returns an Array containing descriptions of all the types\n * of potentially dangerous changes covered by the other functions down below.\n */\n\nexport function findDangerousChanges(oldSchema, newSchema) {\n  // @ts-expect-error\n  return findSchemaChanges(oldSchema, newSchema).filter(\n    (change) => change.type in DangerousChangeType,\n  );\n}\n\nfunction findSchemaChanges(oldSchema, newSchema) {\n  return [\n    ...findTypeChanges(oldSchema, newSchema),\n    ...findDirectiveChanges(oldSchema, newSchema),\n  ];\n}\n\nfunction findDirectiveChanges(oldSchema, newSchema) {\n  const schemaChanges = [];\n  const directivesDiff = diff(\n    oldSchema.getDirectives(),\n    newSchema.getDirectives(),\n  );\n\n  for (const oldDirective of directivesDiff.removed) {\n    schemaChanges.push({\n      type: BreakingChangeType.DIRECTIVE_REMOVED,\n      description: `${oldDirective.name} was removed.`,\n    });\n  }\n\n  for (const [oldDirective, newDirective] of directivesDiff.persisted) {\n    const argsDiff = diff(oldDirective.args, newDirective.args);\n\n    for (const newArg of argsDiff.added) {\n      if (isRequiredArgument(newArg)) {\n        schemaChanges.push({\n          type: BreakingChangeType.REQUIRED_DIRECTIVE_ARG_ADDED,\n          description: `A required arg ${newArg.name} on directive ${oldDirective.name} was added.`,\n        });\n      }\n    }\n\n    for (const oldArg of argsDiff.removed) {\n      schemaChanges.push({\n        type: BreakingChangeType.DIRECTIVE_ARG_REMOVED,\n        description: `${oldArg.name} was removed from ${oldDirective.name}.`,\n      });\n    }\n\n    if (oldDirective.isRepeatable && !newDirective.isRepeatable) {\n      schemaChanges.push({\n        type: BreakingChangeType.DIRECTIVE_REPEATABLE_REMOVED,\n        description: `Repeatable flag was removed from ${oldDirective.name}.`,\n      });\n    }\n\n    for (const location of oldDirective.locations) {\n      if (!newDirective.locations.includes(location)) {\n        schemaChanges.push({\n          type: BreakingChangeType.DIRECTIVE_LOCATION_REMOVED,\n          description: `${location} was removed from ${oldDirective.name}.`,\n        });\n      }\n    }\n  }\n\n  return schemaChanges;\n}\n\nfunction findTypeChanges(oldSchema, newSchema) {\n  const schemaChanges = [];\n  const typesDiff = diff(\n    Object.values(oldSchema.getTypeMap()),\n    Object.values(newSchema.getTypeMap()),\n  );\n\n  for (const oldType of typesDiff.removed) {\n    schemaChanges.push({\n      type: BreakingChangeType.TYPE_REMOVED,\n      description: isSpecifiedScalarType(oldType)\n        ? `Standard scalar ${oldType.name} was removed because it is not referenced anymore.`\n        : `${oldType.name} was removed.`,\n    });\n  }\n\n  for (const [oldType, newType] of typesDiff.persisted) {\n    if (isEnumType(oldType) && isEnumType(newType)) {\n      schemaChanges.push(...findEnumTypeChanges(oldType, newType));\n    } else if (isUnionType(oldType) && isUnionType(newType)) {\n      schemaChanges.push(...findUnionTypeChanges(oldType, newType));\n    } else if (isInputObjectType(oldType) && isInputObjectType(newType)) {\n      schemaChanges.push(...findInputObjectTypeChanges(oldType, newType));\n    } else if (isObjectType(oldType) && isObjectType(newType)) {\n      schemaChanges.push(\n        ...findFieldChanges(oldType, newType),\n        ...findImplementedInterfacesChanges(oldType, newType),\n      );\n    } else if (isInterfaceType(oldType) && isInterfaceType(newType)) {\n      schemaChanges.push(\n        ...findFieldChanges(oldType, newType),\n        ...findImplementedInterfacesChanges(oldType, newType),\n      );\n    } else if (oldType.constructor !== newType.constructor) {\n      schemaChanges.push({\n        type: BreakingChangeType.TYPE_CHANGED_KIND,\n        description:\n          `${oldType.name} changed from ` +\n          `${typeKindName(oldType)} to ${typeKindName(newType)}.`,\n      });\n    }\n  }\n\n  return schemaChanges;\n}\n\nfunction findInputObjectTypeChanges(oldType, newType) {\n  const schemaChanges = [];\n  const fieldsDiff = diff(\n    Object.values(oldType.getFields()),\n    Object.values(newType.getFields()),\n  );\n\n  for (const newField of fieldsDiff.added) {\n    if (isRequiredInputField(newField)) {\n      schemaChanges.push({\n        type: BreakingChangeType.REQUIRED_INPUT_FIELD_ADDED,\n        description: `A required field ${newField.name} on input type ${oldType.name} was added.`,\n      });\n    } else {\n      schemaChanges.push({\n        type: DangerousChangeType.OPTIONAL_INPUT_FIELD_ADDED,\n        description: `An optional field ${newField.name} on input type ${oldType.name} was added.`,\n      });\n    }\n  }\n\n  for (const oldField of fieldsDiff.removed) {\n    schemaChanges.push({\n      type: BreakingChangeType.FIELD_REMOVED,\n      description: `${oldType.name}.${oldField.name} was removed.`,\n    });\n  }\n\n  for (const [oldField, newField] of fieldsDiff.persisted) {\n    const isSafe = isChangeSafeForInputObjectFieldOrFieldArg(\n      oldField.type,\n      newField.type,\n    );\n\n    if (!isSafe) {\n      schemaChanges.push({\n        type: BreakingChangeType.FIELD_CHANGED_KIND,\n        description:\n          `${oldType.name}.${oldField.name} changed type from ` +\n          `${String(oldField.type)} to ${String(newField.type)}.`,\n      });\n    }\n  }\n\n  return schemaChanges;\n}\n\nfunction findUnionTypeChanges(oldType, newType) {\n  const schemaChanges = [];\n  const possibleTypesDiff = diff(oldType.getTypes(), newType.getTypes());\n\n  for (const newPossibleType of possibleTypesDiff.added) {\n    schemaChanges.push({\n      type: DangerousChangeType.TYPE_ADDED_TO_UNION,\n      description: `${newPossibleType.name} was added to union type ${oldType.name}.`,\n    });\n  }\n\n  for (const oldPossibleType of possibleTypesDiff.removed) {\n    schemaChanges.push({\n      type: BreakingChangeType.TYPE_REMOVED_FROM_UNION,\n      description: `${oldPossibleType.name} was removed from union type ${oldType.name}.`,\n    });\n  }\n\n  return schemaChanges;\n}\n\nfunction findEnumTypeChanges(oldType, newType) {\n  const schemaChanges = [];\n  const valuesDiff = diff(oldType.getValues(), newType.getValues());\n\n  for (const newValue of valuesDiff.added) {\n    schemaChanges.push({\n      type: DangerousChangeType.VALUE_ADDED_TO_ENUM,\n      description: `${newValue.name} was added to enum type ${oldType.name}.`,\n    });\n  }\n\n  for (const oldValue of valuesDiff.removed) {\n    schemaChanges.push({\n      type: BreakingChangeType.VALUE_REMOVED_FROM_ENUM,\n      description: `${oldValue.name} was removed from enum type ${oldType.name}.`,\n    });\n  }\n\n  return schemaChanges;\n}\n\nfunction findImplementedInterfacesChanges(oldType, newType) {\n  const schemaChanges = [];\n  const interfacesDiff = diff(oldType.getInterfaces(), newType.getInterfaces());\n\n  for (const newInterface of interfacesDiff.added) {\n    schemaChanges.push({\n      type: DangerousChangeType.IMPLEMENTED_INTERFACE_ADDED,\n      description: `${newInterface.name} added to interfaces implemented by ${oldType.name}.`,\n    });\n  }\n\n  for (const oldInterface of interfacesDiff.removed) {\n    schemaChanges.push({\n      type: BreakingChangeType.IMPLEMENTED_INTERFACE_REMOVED,\n      description: `${oldType.name} no longer implements interface ${oldInterface.name}.`,\n    });\n  }\n\n  return schemaChanges;\n}\n\nfunction findFieldChanges(oldType, newType) {\n  const schemaChanges = [];\n  const fieldsDiff = diff(\n    Object.values(oldType.getFields()),\n    Object.values(newType.getFields()),\n  );\n\n  for (const oldField of fieldsDiff.removed) {\n    schemaChanges.push({\n      type: BreakingChangeType.FIELD_REMOVED,\n      description: `${oldType.name}.${oldField.name} was removed.`,\n    });\n  }\n\n  for (const [oldField, newField] of fieldsDiff.persisted) {\n    schemaChanges.push(...findArgChanges(oldType, oldField, newField));\n    const isSafe = isChangeSafeForObjectOrInterfaceField(\n      oldField.type,\n      newField.type,\n    );\n\n    if (!isSafe) {\n      schemaChanges.push({\n        type: BreakingChangeType.FIELD_CHANGED_KIND,\n        description:\n          `${oldType.name}.${oldField.name} changed type from ` +\n          `${String(oldField.type)} to ${String(newField.type)}.`,\n      });\n    }\n  }\n\n  return schemaChanges;\n}\n\nfunction findArgChanges(oldType, oldField, newField) {\n  const schemaChanges = [];\n  const argsDiff = diff(oldField.args, newField.args);\n\n  for (const oldArg of argsDiff.removed) {\n    schemaChanges.push({\n      type: BreakingChangeType.ARG_REMOVED,\n      description: `${oldType.name}.${oldField.name} arg ${oldArg.name} was removed.`,\n    });\n  }\n\n  for (const [oldArg, newArg] of argsDiff.persisted) {\n    const isSafe = isChangeSafeForInputObjectFieldOrFieldArg(\n      oldArg.type,\n      newArg.type,\n    );\n\n    if (!isSafe) {\n      schemaChanges.push({\n        type: BreakingChangeType.ARG_CHANGED_KIND,\n        description:\n          `${oldType.name}.${oldField.name} arg ${oldArg.name} has changed type from ` +\n          `${String(oldArg.type)} to ${String(newArg.type)}.`,\n      });\n    } else if (oldArg.defaultValue !== undefined) {\n      if (newArg.defaultValue === undefined) {\n        schemaChanges.push({\n          type: DangerousChangeType.ARG_DEFAULT_VALUE_CHANGE,\n          description: `${oldType.name}.${oldField.name} arg ${oldArg.name} defaultValue was removed.`,\n        });\n      } else {\n        // Since we looking only for client's observable changes we should\n        // compare default values in the same representation as they are\n        // represented inside introspection.\n        const oldValueStr = stringifyValue(oldArg.defaultValue, oldArg.type);\n        const newValueStr = stringifyValue(newArg.defaultValue, newArg.type);\n\n        if (oldValueStr !== newValueStr) {\n          schemaChanges.push({\n            type: DangerousChangeType.ARG_DEFAULT_VALUE_CHANGE,\n            description: `${oldType.name}.${oldField.name} arg ${oldArg.name} has changed defaultValue from ${oldValueStr} to ${newValueStr}.`,\n          });\n        }\n      }\n    }\n  }\n\n  for (const newArg of argsDiff.added) {\n    if (isRequiredArgument(newArg)) {\n      schemaChanges.push({\n        type: BreakingChangeType.REQUIRED_ARG_ADDED,\n        description: `A required arg ${newArg.name} on ${oldType.name}.${oldField.name} was added.`,\n      });\n    } else {\n      schemaChanges.push({\n        type: DangerousChangeType.OPTIONAL_ARG_ADDED,\n        description: `An optional arg ${newArg.name} on ${oldType.name}.${oldField.name} was added.`,\n      });\n    }\n  }\n\n  return schemaChanges;\n}\n\nfunction isChangeSafeForObjectOrInterfaceField(oldType, newType) {\n  if (isListType(oldType)) {\n    return (\n      // if they're both lists, make sure the underlying types are compatible\n      (isListType(newType) &&\n        isChangeSafeForObjectOrInterfaceField(\n          oldType.ofType,\n          newType.ofType,\n        )) || // moving from nullable to non-null of the same underlying type is safe\n      (isNonNullType(newType) &&\n        isChangeSafeForObjectOrInterfaceField(oldType, newType.ofType))\n    );\n  }\n\n  if (isNonNullType(oldType)) {\n    // if they're both non-null, make sure the underlying types are compatible\n    return (\n      isNonNullType(newType) &&\n      isChangeSafeForObjectOrInterfaceField(oldType.ofType, newType.ofType)\n    );\n  }\n\n  return (\n    // if they're both named types, see if their names are equivalent\n    (isNamedType(newType) && oldType.name === newType.name) || // moving from nullable to non-null of the same underlying type is safe\n    (isNonNullType(newType) &&\n      isChangeSafeForObjectOrInterfaceField(oldType, newType.ofType))\n  );\n}\n\nfunction isChangeSafeForInputObjectFieldOrFieldArg(oldType, newType) {\n  if (isListType(oldType)) {\n    // if they're both lists, make sure the underlying types are compatible\n    return (\n      isListType(newType) &&\n      isChangeSafeForInputObjectFieldOrFieldArg(oldType.ofType, newType.ofType)\n    );\n  }\n\n  if (isNonNullType(oldType)) {\n    return (\n      // if they're both non-null, make sure the underlying types are\n      // compatible\n      (isNonNullType(newType) &&\n        isChangeSafeForInputObjectFieldOrFieldArg(\n          oldType.ofType,\n          newType.ofType,\n        )) || // moving from non-null to nullable of the same underlying type is safe\n      (!isNonNullType(newType) &&\n        isChangeSafeForInputObjectFieldOrFieldArg(oldType.ofType, newType))\n    );\n  } // if they're both named types, see if their names are equivalent\n\n  return isNamedType(newType) && oldType.name === newType.name;\n}\n\nfunction typeKindName(type) {\n  if (isScalarType(type)) {\n    return 'a Scalar type';\n  }\n\n  if (isObjectType(type)) {\n    return 'an Object type';\n  }\n\n  if (isInterfaceType(type)) {\n    return 'an Interface type';\n  }\n\n  if (isUnionType(type)) {\n    return 'a Union type';\n  }\n\n  if (isEnumType(type)) {\n    return 'an Enum type';\n  }\n\n  if (isInputObjectType(type)) {\n    return 'an Input type';\n  }\n  /* c8 ignore next 3 */\n  // Not reachable, all possible types have been considered.\n\n  false || invariant(false, 'Unexpected type: ' + inspect(type));\n}\n\nfunction stringifyValue(value, type) {\n  const ast = astFromValue(value, type);\n  ast != null || invariant(false);\n  return print(sortValueNode(ast));\n}\n\nfunction diff(oldArray, newArray) {\n  const added = [];\n  const removed = [];\n  const persisted = [];\n  const oldMap = keyMap(oldArray, ({ name }) => name);\n  const newMap = keyMap(newArray, ({ name }) => name);\n\n  for (const oldItem of oldArray) {\n    const newItem = newMap[oldItem.name];\n\n    if (newItem === undefined) {\n      removed.push(oldItem);\n    } else {\n      persisted.push([oldItem, newItem]);\n    }\n  }\n\n  for (const newItem of newArray) {\n    if (oldMap[newItem.name] === undefined) {\n      added.push(newItem);\n    }\n  }\n\n  return {\n    added,\n    persisted,\n    removed,\n  };\n}\n","/** @license React v17.0.2\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var l=require(\"object-assign\"),n=60103,p=60106;exports.Fragment=60107;exports.StrictMode=60108;exports.Profiler=60114;var q=60109,r=60110,t=60112;exports.Suspense=60113;var u=60115,v=60116;\nif(\"function\"===typeof Symbol&&Symbol.for){var w=Symbol.for;n=w(\"react.element\");p=w(\"react.portal\");exports.Fragment=w(\"react.fragment\");exports.StrictMode=w(\"react.strict_mode\");exports.Profiler=w(\"react.profiler\");q=w(\"react.provider\");r=w(\"react.context\");t=w(\"react.forward_ref\");exports.Suspense=w(\"react.suspense\");u=w(\"react.memo\");v=w(\"react.lazy\")}var x=\"function\"===typeof Symbol&&Symbol.iterator;\nfunction y(a){if(null===a||\"object\"!==typeof a)return null;a=x&&a[x]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}function z(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}\nvar A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B={};function C(a,b,c){this.props=a;this.context=b;this.refs=B;this.updater=c||A}C.prototype.isReactComponent={};C.prototype.setState=function(a,b){if(\"object\"!==typeof a&&\"function\"!==typeof a&&null!=a)throw Error(z(85));this.updater.enqueueSetState(this,a,b,\"setState\")};C.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,\"forceUpdate\")};\nfunction D(){}D.prototype=C.prototype;function E(a,b,c){this.props=a;this.context=b;this.refs=B;this.updater=c||A}var F=E.prototype=new D;F.constructor=E;l(F,C.prototype);F.isPureReactComponent=!0;var G={current:null},H=Object.prototype.hasOwnProperty,I={key:!0,ref:!0,__self:!0,__source:!0};\nfunction J(a,b,c){var e,d={},k=null,h=null;if(null!=b)for(e in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(k=\"\"+b.key),b)H.call(b,e)&&!I.hasOwnProperty(e)&&(d[e]=b[e]);var g=arguments.length-2;if(1===g)d.children=c;else if(1<g){for(var f=Array(g),m=0;m<g;m++)f[m]=arguments[m+2];d.children=f}if(a&&a.defaultProps)for(e in g=a.defaultProps,g)void 0===d[e]&&(d[e]=g[e]);return{$$typeof:n,type:a,key:k,ref:h,props:d,_owner:G.current}}\nfunction K(a,b){return{$$typeof:n,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function L(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===n}function escape(a){var b={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+a.replace(/[=:]/g,function(a){return b[a]})}var M=/\\/+/g;function N(a,b){return\"object\"===typeof a&&null!==a&&null!=a.key?escape(\"\"+a.key):b.toString(36)}\nfunction O(a,b,c,e,d){var k=typeof a;if(\"undefined\"===k||\"boolean\"===k)a=null;var h=!1;if(null===a)h=!0;else switch(k){case \"string\":case \"number\":h=!0;break;case \"object\":switch(a.$$typeof){case n:case p:h=!0}}if(h)return h=a,d=d(h),a=\"\"===e?\".\"+N(h,0):e,Array.isArray(d)?(c=\"\",null!=a&&(c=a.replace(M,\"$&/\")+\"/\"),O(d,b,c,\"\",function(a){return a})):null!=d&&(L(d)&&(d=K(d,c+(!d.key||h&&h.key===d.key?\"\":(\"\"+d.key).replace(M,\"$&/\")+\"/\")+a)),b.push(d)),1;h=0;e=\"\"===e?\".\":e+\":\";if(Array.isArray(a))for(var g=\n0;g<a.length;g++){k=a[g];var f=e+N(k,g);h+=O(k,b,c,f,d)}else if(f=y(a),\"function\"===typeof f)for(a=f.call(a),g=0;!(k=a.next()).done;)k=k.value,f=e+N(k,g++),h+=O(k,b,c,f,d);else if(\"object\"===k)throw b=\"\"+a,Error(z(31,\"[object Object]\"===b?\"object with keys {\"+Object.keys(a).join(\", \")+\"}\":b));return h}function P(a,b,c){if(null==a)return a;var e=[],d=0;O(a,e,\"\",\"\",function(a){return b.call(c,a,d++)});return e}\nfunction Q(a){if(-1===a._status){var b=a._result;b=b();a._status=0;a._result=b;b.then(function(b){0===a._status&&(b=b.default,a._status=1,a._result=b)},function(b){0===a._status&&(a._status=2,a._result=b)})}if(1===a._status)return a._result;throw a._result;}var R={current:null};function S(){var a=R.current;if(null===a)throw Error(z(321));return a}var T={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:G,IsSomeRendererActing:{current:!1},assign:l};\nexports.Children={map:P,forEach:function(a,b,c){P(a,function(){b.apply(this,arguments)},c)},count:function(a){var b=0;P(a,function(){b++});return b},toArray:function(a){return P(a,function(a){return a})||[]},only:function(a){if(!L(a))throw Error(z(143));return a}};exports.Component=C;exports.PureComponent=E;exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T;\nexports.cloneElement=function(a,b,c){if(null===a||void 0===a)throw Error(z(267,a));var e=l({},a.props),d=a.key,k=a.ref,h=a._owner;if(null!=b){void 0!==b.ref&&(k=b.ref,h=G.current);void 0!==b.key&&(d=\"\"+b.key);if(a.type&&a.type.defaultProps)var g=a.type.defaultProps;for(f in b)H.call(b,f)&&!I.hasOwnProperty(f)&&(e[f]=void 0===b[f]&&void 0!==g?g[f]:b[f])}var f=arguments.length-2;if(1===f)e.children=c;else if(1<f){g=Array(f);for(var m=0;m<f;m++)g[m]=arguments[m+2];e.children=g}return{$$typeof:n,type:a.type,\nkey:d,ref:k,props:e,_owner:h}};exports.createContext=function(a,b){void 0===b&&(b=null);a={$$typeof:r,_calculateChangedBits:b,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null};a.Provider={$$typeof:q,_context:a};return a.Consumer=a};exports.createElement=J;exports.createFactory=function(a){var b=J.bind(null,a);b.type=a;return b};exports.createRef=function(){return{current:null}};exports.forwardRef=function(a){return{$$typeof:t,render:a}};exports.isValidElement=L;\nexports.lazy=function(a){return{$$typeof:v,_payload:{_status:-1,_result:a},_init:Q}};exports.memo=function(a,b){return{$$typeof:u,type:a,compare:void 0===b?null:b}};exports.useCallback=function(a,b){return S().useCallback(a,b)};exports.useContext=function(a,b){return S().useContext(a,b)};exports.useDebugValue=function(){};exports.useEffect=function(a,b){return S().useEffect(a,b)};exports.useImperativeHandle=function(a,b,c){return S().useImperativeHandle(a,b,c)};\nexports.useLayoutEffect=function(a,b){return S().useLayoutEffect(a,b)};exports.useMemo=function(a,b){return S().useMemo(a,b)};exports.useReducer=function(a,b,c){return S().useReducer(a,b,c)};exports.useRef=function(a){return S().useRef(a)};exports.useState=function(a){return S().useState(a)};exports.version=\"17.0.2\";\n","export var createSignalIfSupported = function () {\n    if (typeof AbortController === 'undefined')\n        return { controller: false, signal: false };\n    var controller = new AbortController();\n    var signal = controller.signal;\n    return { controller: controller, signal: signal };\n};\n//# sourceMappingURL=createSignalIfSupported.js.map","/*\nAdaptation of \"object-assign\" library (https://www.npmjs.com/package/object-assign)\nexported as an ES module instead of CommonJS, to avoid extra configuration steps when using\nthe ESM build of the SDK with tools that doesn't support CommonJS by default (e.g. Rollup).\n\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n/* eslint-disable */\n// @ts-nocheck\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\nfunction toObject(val) {\n    if (val === null || val === undefined) {\n        throw new TypeError('Object.assign cannot be called with null or undefined');\n    }\n    return Object(val);\n}\nfunction shouldUseNative() {\n    try {\n        if (!Object.assign) {\n            return false;\n        }\n        // Detect buggy property enumeration order in older V8 versions.\n        // https://bugs.chromium.org/p/v8/issues/detail?id=4118\n        var test1 = new String('abc');\n        test1[5] = 'de';\n        if (Object.getOwnPropertyNames(test1)[0] === '5') {\n            return false;\n        }\n        // https://bugs.chromium.org/p/v8/issues/detail?id=3056\n        var test2 = {};\n        for (var i = 0; i < 10; i++) {\n            test2['_' + String.fromCharCode(i)] = i;\n        }\n        var order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n            return test2[n];\n        });\n        if (order2.join('') !== '0123456789') {\n            return false;\n        }\n        // https://bugs.chromium.org/p/v8/issues/detail?id=3056\n        var test3 = {};\n        'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n            test3[letter] = letter;\n        });\n        if (Object.keys(Object.assign({}, test3)).join('') !==\n            'abcdefghijklmnopqrst') {\n            return false;\n        }\n        return true;\n    }\n    catch (err) {\n        // We don't expect any of the above to throw, but better to be safe.\n        return false;\n    }\n}\nexport var objectAssign = shouldUseNative() ? Object.assign : function (target, source) {\n    var from;\n    var to = toObject(target);\n    var symbols;\n    for (var s = 1; s < arguments.length; s++) {\n        from = Object(arguments[s]);\n        // eslint-disable-next-line no-restricted-syntax\n        for (var key in from) {\n            if (hasOwnProperty.call(from, key)) {\n                to[key] = from[key];\n            }\n        }\n        if (getOwnPropertySymbols) {\n            symbols = getOwnPropertySymbols(from);\n            for (var i = 0; i < symbols.length; i++) {\n                if (propIsEnumerable.call(from, symbols[i])) {\n                    to[symbols[i]] = from[symbols[i]];\n                }\n            }\n        }\n    }\n    return to;\n};\n","/**\n * Message codes used to trim string log messages from commons and client-side API modules,\n * in order to reduce the minimal SDK size for Browser and eventually other client-side environments.\n *\n * Modules related to the server-side API (e.g., segmentsSyncTask), platform-specific components (e.g., signal listeners)\n * and pluggable components (e.g., pluggable integrations & storages) can use the logger with string literals.\n */\nexport var ENGINE_COMBINER_AND = 0;\nexport var ENGINE_COMBINER_IFELSEIF = 1;\nexport var ENGINE_COMBINER_IFELSEIF_NO_TREATMENT = 2;\nexport var ENGINE_BUCKET = 3;\nexport var ENGINE_MATCHER_ALL = 4;\nexport var ENGINE_MATCHER_BETWEEN = 5;\nexport var ENGINE_MATCHER_BOOLEAN = 6;\nexport var ENGINE_MATCHER_CONTAINS_ALL = 7;\nexport var ENGINE_MATCHER_CONTAINS_ANY = 8;\nexport var ENGINE_MATCHER_CONTAINS_STRING = 9;\nexport var ENGINE_MATCHER_DEPENDENCY = 10;\nexport var ENGINE_MATCHER_DEPENDENCY_PRE = 11;\nexport var ENGINE_MATCHER_EQUAL = 12;\nexport var ENGINE_MATCHER_EQUAL_TO_SET = 13;\nexport var ENGINE_MATCHER_ENDS_WITH = 14;\nexport var ENGINE_MATCHER_GREATER = 15;\nexport var ENGINE_MATCHER_LESS = 16;\nexport var ENGINE_MATCHER_PART_OF = 17;\nexport var ENGINE_MATCHER_SEGMENT = 18;\nexport var ENGINE_MATCHER_STRING = 19;\nexport var ENGINE_MATCHER_STRING_INVALID = 20;\nexport var ENGINE_MATCHER_STARTS_WITH = 21;\nexport var ENGINE_MATCHER_WHITELIST = 22;\nexport var ENGINE_VALUE = 23;\nexport var ENGINE_SANITIZE = 24;\nexport var CLEANUP_REGISTERING = 25;\nexport var CLEANUP_DEREGISTERING = 26;\nexport var RETRIEVE_CLIENT_DEFAULT = 27;\nexport var RETRIEVE_CLIENT_EXISTING = 28;\nexport var RETRIEVE_MANAGER = 29;\nexport var SYNC_OFFLINE_DATA = 30;\nexport var SYNC_SPLITS_FETCH = 31;\nexport var SYNC_SPLITS_NEW = 32;\nexport var SYNC_SPLITS_REMOVED = 33;\nexport var SYNC_SPLITS_SEGMENTS = 34;\nexport var STREAMING_NEW_MESSAGE = 35;\nexport var SYNC_TASK_START = 36;\nexport var SYNC_TASK_EXECUTE = 37;\nexport var SYNC_TASK_STOP = 38;\nexport var SETTINGS_SPLITS_FILTER = 39;\nexport var CLIENT_READY_FROM_CACHE = 100;\nexport var CLIENT_READY = 101;\nexport var IMPRESSION = 102;\nexport var IMPRESSION_QUEUEING = 103;\nexport var NEW_SHARED_CLIENT = 104;\nexport var NEW_FACTORY = 105;\nexport var POLLING_SMART_PAUSING = 106;\nexport var POLLING_START = 107;\nexport var POLLING_STOP = 108;\nexport var SYNC_SPLITS_FETCH_RETRY = 109;\nexport var STREAMING_REFRESH_TOKEN = 110;\nexport var STREAMING_RECONNECT = 111;\nexport var STREAMING_CONNECTING = 112;\nexport var STREAMING_DISABLED = 113;\nexport var STREAMING_DISCONNECTING = 114;\nexport var SUBMITTERS_PUSH_FULL_QUEUE = 115;\nexport var SUBMITTERS_PUSH = 116;\nexport var SYNC_START_POLLING = 117;\nexport var SYNC_CONTINUE_POLLING = 118;\nexport var SYNC_STOP_POLLING = 119;\nexport var EVENTS_TRACKER_SUCCESS = 120;\nexport var IMPRESSIONS_TRACKER_SUCCESS = 121;\nexport var USER_CONSENT_UPDATED = 122;\nexport var USER_CONSENT_NOT_UPDATED = 123;\nexport var USER_CONSENT_INITIAL = 124;\nexport var ENGINE_VALUE_INVALID = 200;\nexport var ENGINE_VALUE_NO_ATTRIBUTES = 201;\nexport var CLIENT_NO_LISTENER = 202;\nexport var CLIENT_NOT_READY = 203;\nexport var SYNC_MYSEGMENTS_FETCH_RETRY = 204;\nexport var SYNC_SPLITS_FETCH_FAILS = 205;\nexport var STREAMING_PARSING_ERROR_FAILS = 206;\nexport var STREAMING_PARSING_MESSAGE_FAILS = 207;\nexport var STREAMING_FALLBACK = 208;\nexport var SUBMITTERS_PUSH_FAILS = 209;\nexport var SUBMITTERS_PUSH_RETRY = 210;\nexport var WARN_SETTING_NULL = 211;\nexport var WARN_TRIMMING_PROPERTIES = 212;\nexport var WARN_CONVERTING = 213;\nexport var WARN_TRIMMING = 214;\nexport var WARN_NOT_EXISTENT_SPLIT = 215;\nexport var WARN_LOWERCASE_TRAFFIC_TYPE = 216;\nexport var WARN_NOT_EXISTENT_TT = 217;\nexport var WARN_INTEGRATION_INVALID = 218;\nexport var WARN_SPLITS_FILTER_IGNORED = 219;\nexport var WARN_SPLITS_FILTER_INVALID = 220;\nexport var WARN_SPLITS_FILTER_EMPTY = 221;\nexport var WARN_API_KEY = 222;\nexport var STREAMING_PARSING_MY_SEGMENTS_UPDATE_V2 = 223;\nexport var ERROR_ENGINE_COMBINER_IFELSEIF = 300;\nexport var ERROR_LOGLEVEL_INVALID = 301;\nexport var ERROR_CLIENT_LISTENER = 302;\nexport var ERROR_CLIENT_CANNOT_GET_READY = 303;\nexport var ERROR_SYNC_OFFLINE_LOADING = 304;\nexport var ERROR_STREAMING_SSE = 305;\nexport var ERROR_STREAMING_AUTH = 306;\nexport var ERROR_IMPRESSIONS_TRACKER = 307;\nexport var ERROR_IMPRESSIONS_LISTENER = 308;\nexport var ERROR_EVENTS_TRACKER = 309;\nexport var ERROR_EVENT_TYPE_FORMAT = 310;\nexport var ERROR_NOT_PLAIN_OBJECT = 311;\nexport var ERROR_SIZE_EXCEEDED = 312;\nexport var ERROR_NOT_FINITE = 313;\nexport var ERROR_CLIENT_DESTROYED = 314;\nexport var ERROR_NULL = 315;\nexport var ERROR_TOO_LONG = 316;\nexport var ERROR_INVALID_KEY_OBJECT = 317;\nexport var ERROR_INVALID = 318;\nexport var ERROR_EMPTY = 319;\nexport var ERROR_EMPTY_ARRAY = 320;\nexport var ERROR_INVALID_CONFIG_PARAM = 321;\nexport var ERROR_HTTP = 322;\nexport var ERROR_LOCALHOST_MODULE_REQUIRED = 323;\nexport var ERROR_STORAGE_INVALID = 324;\nexport var ERROR_NOT_BOOLEAN = 325;\nexport var ERROR_MIN_CONFIG_PARAM = 326;\n// Log prefixes (a.k.a. tags or categories)\nexport var LOG_PREFIX_SETTINGS = 'settings';\nexport var LOG_PREFIX_INSTANTIATION = 'Factory instantiation';\nexport var LOG_PREFIX_ENGINE = 'engine';\nexport var LOG_PREFIX_ENGINE_COMBINER = LOG_PREFIX_ENGINE + ':combiner: ';\nexport var LOG_PREFIX_ENGINE_MATCHER = LOG_PREFIX_ENGINE + ':matcher: ';\nexport var LOG_PREFIX_ENGINE_VALUE = LOG_PREFIX_ENGINE + ':value: ';\nexport var LOG_PREFIX_SYNC = 'sync';\nexport var LOG_PREFIX_SYNC_MANAGER = LOG_PREFIX_SYNC + ':sync-manager: ';\nexport var LOG_PREFIX_SYNC_OFFLINE = LOG_PREFIX_SYNC + ':offline: ';\nexport var LOG_PREFIX_SYNC_STREAMING = LOG_PREFIX_SYNC + ':streaming: ';\nexport var LOG_PREFIX_SYNC_SPLITS = LOG_PREFIX_SYNC + ':split-changes: ';\nexport var LOG_PREFIX_SYNC_SEGMENTS = LOG_PREFIX_SYNC + ':segment-changes: ';\nexport var LOG_PREFIX_SYNC_MYSEGMENTS = LOG_PREFIX_SYNC + ':my-segments: ';\nexport var LOG_PREFIX_SYNC_POLLING = LOG_PREFIX_SYNC + ':polling-manager: ';\nexport var LOG_PREFIX_SYNC_SUBMITTERS = LOG_PREFIX_SYNC + ':submitter: ';\nexport var LOG_PREFIX_IMPRESSIONS_TRACKER = 'impressions-tracker: ';\nexport var LOG_PREFIX_EVENTS_TRACKER = 'events-tracker: ';\nexport var LOG_PREFIX_CLEANUP = 'cleanup: ';\n","import { objectAssign } from '../utils/lang/objectAssign';\nimport { ERROR_HTTP, ERROR_CLIENT_CANNOT_GET_READY } from '../logger/constants';\nvar messageNoFetch = 'Global fetch API is not available.';\n/**\n * Factory of Split HTTP clients, which are HTTP clients with predefined headers for Split endpoints.\n *\n * @param settings SDK settings, used to access authorizationKey, logger instance and metadata (SDK version, ip and hostname) to set additional headers\n * @param options global request options\n * @param fetch optional http client to use instead of the global Fetch (for environments where Fetch API is not available such as Node)\n */\nexport function splitHttpClientFactory(settings, getFetch, getOptions) {\n    var log = settings.log, authorizationKey = settings.core.authorizationKey, version = settings.version, _a = settings.runtime, ip = _a.ip, hostname = _a.hostname;\n    var options = getOptions && getOptions();\n    var fetch = getFetch && getFetch();\n    // if fetch is not available, log Error\n    if (!fetch)\n        log.error(ERROR_CLIENT_CANNOT_GET_READY, [messageNoFetch]);\n    var headers = {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': \"Bearer \" + authorizationKey,\n        'SplitSDKVersion': version\n    };\n    if (ip)\n        headers['SplitSDKMachineIP'] = ip;\n    if (hostname)\n        headers['SplitSDKMachineName'] = hostname;\n    return function httpClient(url, reqOpts, latencyTracker, logErrorsAsInfo) {\n        if (reqOpts === void 0) { reqOpts = {}; }\n        if (latencyTracker === void 0) { latencyTracker = function () { }; }\n        if (logErrorsAsInfo === void 0) { logErrorsAsInfo = false; }\n        var request = objectAssign({\n            headers: reqOpts.headers ? objectAssign({}, headers, reqOpts.headers) : headers,\n            method: reqOpts.method || 'GET',\n            body: reqOpts.body\n        }, options);\n        // using `fetch(url, options)` signature to work with unfetch, a lightweight ponyfill of fetch API.\n        return fetch ? fetch(url, request)\n            // https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch#Checking_that_the_fetch_was_successful\n            .then(function (response) {\n            if (!response.ok) {\n                return response.text().then(function (message) { return Promise.reject({ response: response, message: message }); });\n            }\n            latencyTracker();\n            return response;\n        })\n            .catch(function (error) {\n            var resp = error && error.response;\n            var msg = '';\n            if (resp) { // An HTTP error\n                switch (resp.status) {\n                    case 404:\n                        msg = 'Invalid API key or resource not found.';\n                        break;\n                    // Don't use resp.statusText since reason phrase is removed in HTTP/2\n                    default:\n                        msg = error.message;\n                        break;\n                }\n            }\n            else { // Something else, either an error making the request or a Network error.\n                msg = error.message || 'Network Error';\n            }\n            if (!resp || resp.status !== 403) { // 403's log we'll be handled somewhere else.\n                log[logErrorsAsInfo ? 'info' : 'error'](ERROR_HTTP, [resp ? resp.status : 'NO_STATUS', url, msg]);\n            }\n            var networkError = new Error(msg);\n            // passes `undefined` as statusCode if not an HTTP error (resp === undefined)\n            networkError.statusCode = resp && resp.status;\n            latencyTracker(networkError);\n            throw networkError;\n        }) : Promise.reject(new Error(messageNoFetch));\n    };\n}\n","// Special treatments\nexport var CONTROL = 'control';\nexport var CONTROL_WITH_CONFIG = {\n    treatment: CONTROL,\n    config: null\n};\n// Constants for unknown and not-applicable values\nexport var UNKNOWN = 'unknown';\nexport var NA = 'NA';\n// Integration data types\nexport var SPLIT_IMPRESSION = 'IMPRESSION';\nexport var SPLIT_EVENT = 'EVENT';\n// Impression collection modes\nexport var DEBUG = 'DEBUG';\nexport var OPTIMIZED = 'OPTIMIZED';\n// SDK Modes\nexport var LOCALHOST_MODE = 'localhost';\nexport var STANDALONE_MODE = 'standalone';\nexport var PRODUCER_MODE = 'producer';\nexport var CONSUMER_MODE = 'consumer';\nexport var CONSUMER_PARTIAL_MODE = 'consumer_partial';\n// Storage types\nexport var STORAGE_MEMORY = 'MEMORY';\nexport var STORAGE_LOCALSTORAGE = 'LOCALSTORAGE';\nexport var STORAGE_REDIS = 'REDIS';\nexport var STORAGE_PLUGGABLE = 'PLUGGABLE';\n// User consent\nexport var CONSENT_GRANTED = 'GRANTED'; // The user has granted consent for tracking events and impressions\nexport var CONSENT_DECLINED = 'DECLINED'; // The user has declined consent for tracking events and impressions\nexport var CONSENT_UNKNOWN = 'UNKNOWN'; // The user has neither granted nor declined consent for tracking events and impressions\n// Telemetry\nexport var QUEUED = 0;\nexport var DROPPED = 1;\nexport var DEDUPED = 2;\nexport var STANDALONE_ENUM = 0;\nexport var CONSUMER_ENUM = 1;\nexport var CONSUMER_PARTIAL_ENUM = 2;\nexport var OPTIMIZED_ENUM = 0;\nexport var DEBUG_ENUM = 1;\nexport var SPLITS = 'sp';\nexport var IMPRESSIONS = 'im';\nexport var IMPRESSIONS_COUNT = 'ic';\nexport var EVENTS = 'ev';\nexport var TELEMETRY = 'te';\nexport var TOKEN = 'to';\nexport var SEGMENT = 'se';\nexport var MY_SEGMENT = 'ms';\nexport var TREATMENT = 't';\nexport var TREATMENTS = 'ts';\nexport var TREATMENT_WITH_CONFIG = 'tc';\nexport var TREATMENTS_WITH_CONFIG = 'tcs';\nexport var TRACK = 'tr';\nexport var CONNECTION_ESTABLISHED = 0;\nexport var OCCUPANCY_PRI = 10;\nexport var OCCUPANCY_SEC = 20;\nexport var STREAMING_STATUS = 30;\nexport var SSE_CONNECTION_ERROR = 40;\nexport var TOKEN_REFRESH = 50;\nexport var ABLY_ERROR = 60;\nexport var SYNC_MODE_UPDATE = 70;\nexport var AUTH_REJECTION = 80;\nexport var STREAMING = 0;\nexport var POLLING = 1;\nexport var REQUESTED = 0;\nexport var NON_REQUESTED = 1;\nexport var DISABLED = 0;\nexport var ENABLED = 1;\nexport var PAUSED = 2;\n","import { splitHttpClientFactory } from './splitHttpClient';\nimport { objectAssign } from '../utils/lang/objectAssign';\nimport { SPLITS, IMPRESSIONS, IMPRESSIONS_COUNT, EVENTS, TELEMETRY, TOKEN, SEGMENT, MY_SEGMENT } from '../utils/constants';\nvar noCacheHeaderOptions = { headers: { 'Cache-Control': 'no-cache' } };\nfunction userKeyToQueryParam(userKey) {\n    return 'users=' + encodeURIComponent(userKey); // no need to check availability of `encodeURIComponent`, since it is a global highly supported.\n}\n/**\n * Factory of SplitApi objects, which group the collection of Split HTTP endpoints used by the SDK\n *\n * @param settings validated settings object\n * @param platform object containing environment-specific `getFetch` and `getOptions` dependencies\n */\nexport function splitApiFactory(settings, platform, telemetryTracker) {\n    var urls = settings.urls;\n    var filterQueryString = settings.sync.__splitFiltersValidation && settings.sync.__splitFiltersValidation.queryString;\n    var SplitSDKImpressionsMode = settings.sync.impressionsMode;\n    var splitHttpClient = splitHttpClientFactory(settings, platform.getFetch, platform.getOptions);\n    return {\n        getSdkAPIHealthCheck: function () {\n            var url = urls.sdk + \"/version\";\n            return splitHttpClient(url).then(function () { return true; }).catch(function () { return false; });\n        },\n        getEventsAPIHealthCheck: function () {\n            var url = urls.events + \"/version\";\n            return splitHttpClient(url).then(function () { return true; }).catch(function () { return false; });\n        },\n        fetchAuth: function (userMatchingKeys) {\n            var url = urls.auth + \"/v2/auth\";\n            if (userMatchingKeys) { // accounting the possibility that `userMatchingKeys` is undefined (server-side API)\n                var queryParams = userMatchingKeys.map(userKeyToQueryParam).join('&');\n                if (queryParams) // accounting the possibility that `userKeys` and thus `queryParams` are empty\n                    url += '?' + queryParams;\n            }\n            return splitHttpClient(url, undefined, telemetryTracker.trackHttp(TOKEN));\n        },\n        fetchSplitChanges: function (since, noCache, till) {\n            var url = urls.sdk + \"/splitChanges?since=\" + since + (till ? '&till=' + till : '') + (filterQueryString || '');\n            return splitHttpClient(url, noCache ? noCacheHeaderOptions : undefined, telemetryTracker.trackHttp(SPLITS));\n        },\n        fetchSegmentChanges: function (since, segmentName, noCache, till) {\n            var url = urls.sdk + \"/segmentChanges/\" + segmentName + \"?since=\" + since + (till ? '&till=' + till : '');\n            return splitHttpClient(url, noCache ? noCacheHeaderOptions : undefined, telemetryTracker.trackHttp(SEGMENT));\n        },\n        fetchMySegments: function (userMatchingKey, noCache) {\n            /**\n             * URI encoding of user keys in order to:\n             *  - avoid 400 responses (due to URI malformed). E.g.: '/api/mySegments/%'\n             *  - avoid 404 responses. E.g.: '/api/mySegments/foo/bar'\n             *  - match user keys with special characters. E.g.: 'foo%bar', 'foo/bar'\n             */\n            var url = urls.sdk + \"/mySegments/\" + encodeURIComponent(userMatchingKey);\n            return splitHttpClient(url, noCache ? noCacheHeaderOptions : undefined, telemetryTracker.trackHttp(MY_SEGMENT));\n        },\n        /**\n         * Post events.\n         *\n         * @param body  Events bulk payload\n         * @param headers  Optionals headers to overwrite default ones. For example, it is used in producer mode to overwrite metadata headers.\n         */\n        postEventsBulk: function (body, headers) {\n            var url = urls.events + \"/events/bulk\";\n            return splitHttpClient(url, { method: 'POST', body: body, headers: headers }, telemetryTracker.trackHttp(EVENTS));\n        },\n        /**\n         * Post impressions.\n         *\n         * @param body  Impressions bulk payload\n         * @param headers  Optionals headers to overwrite default ones. For example, it is used in producer mode to overwrite metadata headers.\n         */\n        postTestImpressionsBulk: function (body, headers) {\n            var url = urls.events + \"/testImpressions/bulk\";\n            return splitHttpClient(url, {\n                // Adding extra headers to send impressions in OPTIMIZED or DEBUG modes.\n                method: 'POST',\n                body: body,\n                headers: objectAssign({ SplitSDKImpressionsMode: SplitSDKImpressionsMode }, headers)\n            }, telemetryTracker.trackHttp(IMPRESSIONS));\n        },\n        /**\n         * Post impressions counts.\n         *\n         * @param body  Impressions counts payload\n         * @param headers  Optionals headers to overwrite default ones. For example, it is used in producer mode to overwrite metadata headers.\n         */\n        postTestImpressionsCount: function (body, headers) {\n            var url = urls.events + \"/testImpressions/count\";\n            return splitHttpClient(url, { method: 'POST', body: body, headers: headers }, telemetryTracker.trackHttp(IMPRESSIONS_COUNT));\n        },\n        postMetricsConfig: function (body) {\n            var url = urls.telemetry + \"/v1/metrics/config\";\n            return splitHttpClient(url, { method: 'POST', body: body }, telemetryTracker.trackHttp(TELEMETRY), true);\n        },\n        postMetricsUsage: function (body) {\n            var url = urls.telemetry + \"/v1/metrics/usage\";\n            return splitHttpClient(url, { method: 'POST', body: body }, telemetryTracker.trackHttp(TELEMETRY), true);\n        }\n    };\n}\n","import { SYNC_TASK_EXECUTE, SYNC_TASK_START, SYNC_TASK_STOP } from '../logger/constants';\n/**\n * Creates an object that handles the periodic execution of a given task via \"start\" and \"stop\" methods.\n * The task can be also executed by calling the \"execute\" method. Multiple calls run sequentially to avoid race conditions (e.g., submitters executed on SDK destroy or full queue, while periodic execution is pending).\n *\n * @param log  Logger instance.\n * @param task  Task to execute that returns a promise that NEVER REJECTS. Otherwise, periodic execution can result in Unhandled Promise Rejections.\n * @param period  Period in milliseconds to execute the task.\n * @param taskName  Optional task name for logging.\n * @returns A sync task that wraps the given task.\n */\nexport function syncTaskFactory(log, task, period, taskName) {\n    if (taskName === void 0) { taskName = 'task'; }\n    // Flag that indicates if the task is executing\n    var executing = 0;\n    // Promise chain to resolve tasks sequentially\n    var promiseChain;\n    // flag that indicates if the task periodic execution has been started/stopped.\n    var running = false;\n    // Auxiliar counter used to avoid race condition when calling `start` & `stop` intermittently\n    var runningId = 0;\n    // Params passed to `task` when called periodically\n    var runningArgs;\n    // Id of the periodic call timeout\n    var timeoutID;\n    function execute() {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        executing++;\n        log.debug(SYNC_TASK_EXECUTE, [taskName]);\n        // Update `promiseChain` with last promise, to run tasks serially\n        promiseChain = (promiseChain ? promiseChain.then(function () { return task.apply(void 0, args); }) : task.apply(void 0, args))\n            .then(function (result) {\n            executing--;\n            return result;\n        });\n        return promiseChain;\n    }\n    function periodicExecute(currentRunningId) {\n        return execute.apply(void 0, runningArgs).then(function (result) {\n            // Call `setTimeout` if periodic execution was started and `currentRunningId === runningId`\n            // to avoid a race condition when calling `start`, `stop` and `start` again\n            if (running && currentRunningId === runningId)\n                timeoutID = setTimeout(periodicExecute, period, currentRunningId);\n            return result;\n        });\n    }\n    return {\n        execute: execute,\n        isExecuting: function () {\n            return executing > 0;\n        },\n        start: function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            if (!running) {\n                running = true;\n                runningId++;\n                runningArgs = args;\n                log.debug(SYNC_TASK_START, [taskName, period]);\n                return periodicExecute(runningId);\n            }\n        },\n        stop: function () {\n            running = false;\n            if (timeoutID) {\n                log.debug(SYNC_TASK_STOP, [taskName]);\n                clearTimeout(timeoutID);\n                timeoutID = undefined;\n            }\n        },\n        isRunning: function () {\n            return running;\n        }\n    };\n}\n","import { syncTaskFactory } from '../syncTask';\nimport { SUBMITTERS_PUSH, SUBMITTERS_PUSH_FAILS, SUBMITTERS_PUSH_RETRY } from '../../logger/constants';\n/**\n * Base function to create submitters, such as ImpressionsSubmitter and EventsSubmitter\n */\nexport function submitterFactory(log, postClient, sourceCache, postRate, dataName, fromCacheToPayload, maxRetries, debugLogs // true for telemetry submitters\n) {\n    if (maxRetries === void 0) { maxRetries = 0; }\n    var retries = 0;\n    var data;\n    function postData() {\n        if (sourceCache.isEmpty() && !data)\n            return Promise.resolve();\n        data = sourceCache.pop(data);\n        var dataCountMessage = typeof data.length === 'number' ? data.length + \" \" + dataName : dataName;\n        log[debugLogs ? 'debug' : 'info'](SUBMITTERS_PUSH, [dataCountMessage]);\n        var jsonPayload = JSON.stringify(fromCacheToPayload ? fromCacheToPayload(data) : data);\n        if (!maxRetries)\n            data = undefined;\n        return postClient(jsonPayload).then(function () {\n            retries = 0;\n            data = undefined;\n        }).catch(function (err) {\n            if (!maxRetries) {\n                log[debugLogs ? 'debug' : 'warn'](SUBMITTERS_PUSH_FAILS, [dataCountMessage, err]);\n            }\n            else if (retries === maxRetries) {\n                retries = 0;\n                data = undefined;\n                log[debugLogs ? 'debug' : 'warn'](SUBMITTERS_PUSH_FAILS, [dataCountMessage, err]);\n            }\n            else {\n                retries++;\n                log[debugLogs ? 'debug' : 'warn'](SUBMITTERS_PUSH_RETRY, [dataCountMessage, err]);\n            }\n        });\n    }\n    return syncTaskFactory(log, postData, postRate, dataName + ' submitter');\n}\n/**\n * Decorates a provided submitter with a first execution window\n */\nexport function firstPushWindowDecorator(submitter, firstPushWindow) {\n    var running = false;\n    var stopEventPublisherTimeout;\n    var originalStart = submitter.start;\n    submitter.start = function () {\n        running = true;\n        stopEventPublisherTimeout = setTimeout(originalStart, firstPushWindow);\n    };\n    var originalStop = submitter.stop;\n    submitter.stop = function () {\n        running = false;\n        clearTimeout(stopEventPublisherTimeout);\n        originalStop();\n    };\n    submitter.isRunning = function () {\n        return running;\n    };\n    return submitter;\n}\n","import { submitterFactory, firstPushWindowDecorator } from './submitter';\nimport { SUBMITTERS_PUSH_FULL_QUEUE } from '../../logger/constants';\nvar DATA_NAME = 'events';\n/**\n * Submitter that periodically posts tracked events\n */\nexport function eventsSubmitterFactory(params) {\n    var _a = params.settings, log = _a.log, eventsPushRate = _a.scheduler.eventsPushRate, eventsFirstPushWindow = _a.startup.eventsFirstPushWindow, postEventsBulk = params.splitApi.postEventsBulk, events = params.storage.events;\n    // don't retry events.\n    var submitter = submitterFactory(log, postEventsBulk, events, eventsPushRate, DATA_NAME);\n    // Set a timer for the first push window of events.\n    if (eventsFirstPushWindow > 0)\n        submitter = firstPushWindowDecorator(submitter, eventsFirstPushWindow);\n    // register events submitter to be executed when events cache is full\n    events.setOnFullQueueCb(function () {\n        if (submitter.isRunning()) {\n            log.info(SUBMITTERS_PUSH_FULL_QUEUE, [DATA_NAME]);\n            submitter.execute();\n        }\n        // If submitter is stopped (e.g., user consent declined or unknown, or app state offline), we don't send the data.\n        // Data will be sent when submitter is resumed.\n    });\n    return submitter;\n}\n","import { __spreadArray } from \"tslib\";\n/**\n * Checks if the target string ends with the sub string.\n */\nexport function endsWith(target, sub, caseInsensitive) {\n    if (caseInsensitive === void 0) { caseInsensitive = false; }\n    if (!(isString(target) && isString(sub))) {\n        return false;\n    }\n    if (caseInsensitive) {\n        target = target.toLowerCase();\n        sub = sub.toLowerCase();\n    }\n    return target.slice(target.length - sub.length) === sub;\n}\n/**\n * Loops through a source collection (an object or an array) running iteratee\n * against each element. It returns the first element for which iteratee returned\n * a truthy value and stops the loop.\n * Iteratee receives three arguments (element, key/index, collection)\n */\nexport function find(source, iteratee) {\n    var res;\n    if (isObject(source)) {\n        var keys = Object.keys(source);\n        for (var i = 0; i < keys.length && !res; i++) {\n            var key = keys[i];\n            var iterateeResult = iteratee(source[key], key, source);\n            if (iterateeResult)\n                res = source[key];\n        }\n    }\n    else if (Array.isArray(source)) {\n        for (var i = 0; i < source.length && !res; i++) {\n            var iterateeResult = iteratee(source[i], i, source);\n            if (iterateeResult)\n                res = source[i];\n        }\n    }\n    return res;\n}\n/**\n * Evaluates iteratee for each element of the source array. Returns the index of the first element\n * for which iteratee returns truthy. If no element is found or there's an issue with the params it returns -1.\n */\nexport function findIndex(source, iteratee) {\n    if (Array.isArray(source) && typeof iteratee === 'function') {\n        for (var i = 0; i < source.length; i++) {\n            if (iteratee(source[i], i, source) === true) {\n                return i;\n            }\n        }\n    }\n    return -1;\n}\n/**\n * Executes iteratee for given obj own props.\n */\nexport function forOwn(obj, iteratee) {\n    var keys = Object.keys(obj);\n    keys.forEach(function (key) { return iteratee(obj[key], key, obj); });\n    return obj;\n}\n/**\n * Safely retrieve the specified prop from obj. If we can't retrieve\n * that property value, we return the default value.\n */\nexport function get(obj, prop, val) {\n    var res = val;\n    try { // No risks nor lots of checks.\n        var pathPieces = prop.split('.');\n        var partial_1 = obj;\n        pathPieces.forEach(function (pathPiece) { return partial_1 = partial_1[pathPiece]; });\n        if (typeof partial_1 !== 'undefined')\n            res = partial_1;\n    }\n    catch (e) {\n        // noop\n    }\n    return res;\n}\n/**\n * Parses an array into a map of different arrays, grouping by the specified prop value.\n */\nexport function groupBy(source, prop) {\n    var map = {};\n    if (Array.isArray(source) && isString(prop)) {\n        for (var i = 0; i < source.length; i++) {\n            var key = source[i][prop];\n            // Skip the element if the key is not a string.\n            if (isString(key)) {\n                if (!map[key])\n                    map[key] = [];\n                map[key].push(source[i]);\n            }\n        }\n    }\n    return map;\n}\n/**\n * Checks if a given value is a boolean.\n */\nexport function isBoolean(val) {\n    return val === true || val === false;\n}\n/**\n * Checks if a given value is a finite value of number type or Number object.\n * Unlike `Number.isFinite`, it also tests Number object instances.\n * Unlike global `isFinite`, it returns false if the value is not a number or Number object instance.\n */\nexport function isFiniteNumber(val) {\n    if (val instanceof Number)\n        val = val.valueOf();\n    // @TODO remove `isFinite` once `Number.isFinite` is fully supported by targets\n    // eslint-disable-next-line compat/compat\n    if (typeof val === 'number')\n        return Number.isFinite ? Number.isFinite(val) : isFinite(val);\n    return false;\n}\n/**\n * Checks if a given value is an integer value of number type or Number object.\n * Unlike `Number.isInteger`, it also tests Number object instances.\n */\nexport function isIntegerNumber(val) {\n    if (val instanceof Number)\n        val = val.valueOf();\n    // eslint-disable-next-line compat/compat\n    if (typeof val === 'number')\n        return Number.isInteger ? Number.isInteger(val) : isFinite(val) && Math.floor(val) === val;\n    return false;\n}\n/**\n * Checks if a given value is a NaN value of number type or Number object.\n * Unlike `Number.isNaN`, it also tests Number object instances.\n * Unlike global `isNan`, it returns false if the value is not a number or Number object instance.\n */\nexport function isNaNNumber(val) {\n    if (val instanceof Number)\n        val = val.valueOf();\n    // @TODO replace with `Number.isNaN` once it is fully supported by targets\n    return val !== val;\n}\n/**\n * Validates if a value is an object created by the Object constructor (plain object).\n * It checks `constructor.name` to avoid false negatives when validating values on a separate VM context, which has its own global built-ins.\n */\nexport function isObject(obj) {\n    return obj !== null && typeof obj === 'object' && (obj.constructor === Object ||\n        (obj.constructor != null && obj.constructor.name === 'Object'));\n}\n/**\n * Checks if a given value is a string.\n */\nexport function isString(val) {\n    return typeof val === 'string' || val instanceof String;\n}\n/**\n * String sanitizer. Returns the provided value converted to uppercase if it is a string.\n */\nexport function stringToUpperCase(val) {\n    return isString(val) ? val.toUpperCase() : val;\n}\n/**\n * Deep copy version of Object.assign using recursion.\n * There are some assumptions here. It's for internal use and we don't need verbose errors\n * or to ensure the data types or whatever. Parameters should always be correct (at least have a target and a source, of type object).\n */\nexport function merge(target, source) {\n    var rest = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        rest[_i - 2] = arguments[_i];\n    }\n    var res = target;\n    isObject(source) && Object.keys(source).forEach(function (key) {\n        var val = source[key];\n        if (isObject(val)) {\n            if (res[key] && isObject(res[key])) { // If both are objects, merge into a new one.\n                val = merge({}, res[key], val);\n            }\n            else { // else make a copy.\n                val = merge({}, val);\n            }\n        }\n        // We skip undefined values.\n        if (val !== undefined)\n            res[key] = val;\n    });\n    if (rest && rest.length) {\n        var nextSource = rest.splice(0, 1)[0];\n        res = merge.apply(void 0, __spreadArray([res, nextSource], rest, false));\n    }\n    return res;\n}\n/**\n * Checks if the target string starts with the sub string.\n */\nexport function startsWith(target, sub) {\n    if (!(isString(target) && isString(sub))) {\n        return false;\n    }\n    return target.slice(0, sub.length) === sub;\n}\n/**\n * Transforms a value into a number.\n * Note: We're not expecting anything fancy here. If we are at some point, add more type checks.\n */\nexport function toNumber(val) {\n    if (typeof val === 'number')\n        return val;\n    if (isObject(val) && typeof val.valueOf === 'function') {\n        var valOf = val.valueOf();\n        val = isObject(valOf) ? valOf + '' : valOf;\n    }\n    if (typeof val !== 'string') {\n        return val === 0 ? val : +val;\n    }\n    // Remove trailing whitespaces.\n    val = val.replace(/^\\s+|\\s+$/g, '');\n    return +val;\n}\n/**\n * Transforms a value into it's string representation.\n */\nexport function toString(val) {\n    if (val == null)\n        return '';\n    if (typeof val === 'string')\n        return val;\n    if (Array.isArray(val))\n        return val.map(function (val) { return isString(val) ? val : ''; }) + '';\n    var result = val + '';\n    return (result === '0' && (1 / val) === Number.NEGATIVE_INFINITY) ? '-0' : result;\n}\n/**\n * Removes duplicate items on an array of strings.\n */\nexport function uniq(arr) {\n    var seen = {};\n    return arr.filter(function (item) {\n        return Object.prototype.hasOwnProperty.call(seen, item) ? false : seen[item] = true;\n    });\n}\n/**\n * Removes duplicate items on an array of objects using an optional `stringify` function as equality criteria.\n * It uses JSON.stringify as default criteria.\n */\nexport function uniqAsStrings(arr, stringify) {\n    if (stringify === void 0) { stringify = JSON.stringify; }\n    var seen = {};\n    return arr.filter(function (item) {\n        var itemString = stringify(item);\n        return Object.prototype.hasOwnProperty.call(seen, itemString) ? false : seen[itemString] = true;\n    });\n}\nvar uniqueIdCounter = -1;\n/**\n * Returns a number to be used as ID, which will be unique.\n */\nexport function uniqueId() {\n    return uniqueIdCounter++;\n}\n","import { groupBy, forOwn } from '../../utils/lang';\nimport { submitterFactory } from './submitter';\nimport { SUBMITTERS_PUSH_FULL_QUEUE } from '../../logger/constants';\nvar DATA_NAME = 'impressions';\n/**\n * Converts `impressions` data from cache into request payload.\n */\nexport function fromImpressionsCollector(sendLabels, data) {\n    var groupedByFeature = groupBy(data, 'feature');\n    var dto = [];\n    // using forOwn instead of for...in since the last also iterates over prototype enumerables\n    forOwn(groupedByFeature, function (value, name) {\n        dto.push({\n            f: name,\n            i: value.map(function (entry) {\n                var keyImpression = {\n                    k: entry.keyName,\n                    t: entry.treatment,\n                    m: entry.time,\n                    c: entry.changeNumber,\n                    r: sendLabels ? entry.label : undefined,\n                    b: entry.bucketingKey ? entry.bucketingKey : undefined,\n                    pt: entry.pt ? entry.pt : undefined // Previous time\n                };\n                return keyImpression;\n            })\n        });\n    });\n    return dto;\n}\n/**\n * Submitter that periodically posts impressions data\n */\nexport function impressionsSubmitterFactory(params) {\n    var _a = params.settings, log = _a.log, impressionsRefreshRate = _a.scheduler.impressionsRefreshRate, labelsEnabled = _a.core.labelsEnabled, postTestImpressionsBulk = params.splitApi.postTestImpressionsBulk, impressions = params.storage.impressions;\n    // retry impressions only once.\n    var syncTask = submitterFactory(log, postTestImpressionsBulk, impressions, impressionsRefreshRate, DATA_NAME, fromImpressionsCollector.bind(undefined, labelsEnabled), 1);\n    // register impressions submitter to be executed when impressions cache is full\n    impressions.setOnFullQueueCb(function () {\n        if (syncTask.isRunning()) {\n            log.info(SUBMITTERS_PUSH_FULL_QUEUE, [DATA_NAME]);\n            syncTask.execute();\n        }\n        // If submitter is stopped (e.g., user consent declined or unknown, or app state offline), we don't send the data.\n        // Data will be sent when submitter is resumed.\n    });\n    return syncTask;\n}\n","import { submitterFactory } from './submitter';\n/**\n * Converts `impressionCounts` data from cache into request payload.\n */\nexport function fromImpressionCountsCollector(impressionsCount) {\n    var pf = [];\n    var keys = Object.keys(impressionsCount);\n    for (var i = 0; i < keys.length; i++) {\n        var splitted = keys[i].split('::');\n        if (splitted.length !== 2)\n            continue;\n        var featureName = splitted[0];\n        var timeFrame = splitted[1];\n        var impressionsInTimeframe = {\n            f: featureName,\n            m: Number(timeFrame),\n            rc: impressionsCount[keys[i]] // Count\n        };\n        pf.push(impressionsInTimeframe);\n    }\n    return { pf: pf };\n}\nvar IMPRESSIONS_COUNT_RATE = 1800000; // 30 minutes\n/**\n * Submitter that periodically posts impression counts\n */\nexport function impressionCountsSubmitterFactory(params) {\n    var log = params.settings.log, postTestImpressionsCount = params.splitApi.postTestImpressionsCount, impressionCounts = params.storage.impressionCounts;\n    if (impressionCounts) {\n        // retry impressions counts only once.\n        return submitterFactory(log, postTestImpressionsCount, impressionCounts, IMPRESSIONS_COUNT_RATE, 'impression counts', fromImpressionCountsCollector, 1);\n    }\n}\n","// Splits events:\nexport var SDK_SPLITS_ARRIVED = 'state::splits-arrived';\nexport var SDK_SPLITS_CACHE_LOADED = 'state::splits-cache-loaded';\n// Segments events:\nexport var SDK_SEGMENTS_ARRIVED = 'state::segments-arrived';\n// Readiness events:\nexport var SDK_READY_TIMED_OUT = 'init::timeout';\nexport var SDK_READY = 'init::ready';\nexport var SDK_READY_FROM_CACHE = 'init::cache-ready';\nexport var SDK_UPDATE = 'state::update';\n","import { LOCALHOST_MODE, STANDALONE_MODE, PRODUCER_MODE, CONSUMER_MODE, CONSUMER_PARTIAL_MODE } from '../constants';\nexport function mode(key, mode) {\n    // Leaving the comparison as is, in case we change the mode name but not the setting.\n    if (key === 'localhost')\n        return LOCALHOST_MODE;\n    if ([STANDALONE_MODE, PRODUCER_MODE, CONSUMER_MODE, CONSUMER_PARTIAL_MODE].indexOf(mode) === -1)\n        throw Error('Invalid mode provided');\n    return mode;\n}\n","import { ERROR_NULL, ERROR_INVALID, WARN_TRIMMING, ERROR_EMPTY } from '../../logger/constants';\nimport { isString } from '../lang';\n// include BOM and nbsp\nvar TRIMMABLE_SPACES_REGEX = /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/;\nexport function validateSplit(log, maybeSplit, method, item) {\n    if (item === void 0) { item = 'split name'; }\n    if (maybeSplit == undefined) { // eslint-disable-line eqeqeq\n        log.error(ERROR_NULL, [method, item]);\n    }\n    else if (!isString(maybeSplit)) {\n        log.error(ERROR_INVALID, [method, item]);\n    }\n    else {\n        if (TRIMMABLE_SPACES_REGEX.test(maybeSplit)) {\n            log.warn(WARN_TRIMMING, [method, item, maybeSplit]);\n            maybeSplit = maybeSplit.trim();\n        }\n        if (maybeSplit.length > 0) {\n            return maybeSplit;\n        }\n        else {\n            log.error(ERROR_EMPTY, [method, item]);\n        }\n    }\n    return false;\n}\n","import { ERROR_EMPTY_ARRAY } from '../../logger/constants';\nimport { uniq } from '../lang';\nimport { validateSplit } from './split';\nexport function validateSplits(log, maybeSplits, method, listName, item) {\n    if (listName === void 0) { listName = 'split_names'; }\n    if (item === void 0) { item = 'split name'; }\n    if (Array.isArray(maybeSplits) && maybeSplits.length > 0) {\n        var validatedArray_1 = [];\n        // Remove invalid values\n        maybeSplits.forEach(function (maybeSplit) {\n            var splitName = validateSplit(log, maybeSplit, method, item);\n            if (splitName)\n                validatedArray_1.push(splitName);\n        });\n        // Strip off duplicated values if we have valid split names then return\n        if (validatedArray_1.length)\n            return uniq(validatedArray_1);\n    }\n    log.error(ERROR_EMPTY_ARRAY, [method, listName]);\n    return false;\n}\n","import { STANDALONE_MODE } from '../constants';\nimport { validateSplits } from '../inputValidation/splits';\nimport { WARN_SPLITS_FILTER_IGNORED, WARN_SPLITS_FILTER_EMPTY, WARN_SPLITS_FILTER_INVALID, SETTINGS_SPLITS_FILTER, LOG_PREFIX_SETTINGS } from '../../logger/constants';\n// Split filters metadata.\n// Ordered according to their precedency when forming the filter query string: `&names=<values>&prefixes=<values>`\nvar FILTERS_METADATA = [\n    {\n        type: 'byName',\n        maxLength: 400,\n        queryParam: 'names='\n    },\n    {\n        type: 'byPrefix',\n        maxLength: 50,\n        queryParam: 'prefixes='\n    }\n];\n/**\n * Validates that the given value is a valid filter type\n */\nfunction validateFilterType(maybeFilterType) {\n    return FILTERS_METADATA.some(function (filterMetadata) { return filterMetadata.type === maybeFilterType; });\n}\n/**\n * Validate, deduplicate and sort a given list of filter values.\n *\n * @param {string} type filter type string used for log messages\n * @param {string[]} values list of values to validate, deduplicate and sort\n * @param {number} maxLength\n * @returns list of valid, unique and alphabetically sorted non-empty strings. The list is empty if `values` param is not a non-empty array or all its values are invalid.\n *\n * @throws Error if the sanitized list exceeds the length indicated by `maxLength`\n */\nfunction validateSplitFilter(log, type, values, maxLength) {\n    // validate and remove invalid and duplicated values\n    var result = validateSplits(log, values, LOG_PREFIX_SETTINGS, type + \" filter\", type + \" filter value\");\n    if (result) {\n        // check max length\n        if (result.length > maxLength)\n            throw new Error(maxLength + \" unique values can be specified at most for '\" + type + \"' filter. You passed \" + result.length + \". Please consider reducing the amount or using other filter.\");\n        // sort values\n        result.sort();\n    }\n    return result || []; // returns empty array if `result` is `false`\n}\n/**\n * Returns a string representing the URL encoded query component of /splitChanges URL.\n *\n * The possible formats of the query string are:\n *  - null: if all filters are empty\n *  - '&names=<comma-separated-values>': if only `byPrefix` filter is undefined\n *  - '&prefixes=<comma-separated-values>': if only `byName` filter is undefined\n *  - '&names=<comma-separated-values>&prefixes=<comma-separated-values>': if no one is undefined\n *\n * @param {Object} groupedFilters object of filters. Each filter must be a list of valid, unique and ordered string values.\n * @returns null or string with the `split filter query` component of the URL.\n */\nfunction queryStringBuilder(groupedFilters) {\n    var queryParams = [];\n    FILTERS_METADATA.forEach(function (_a) {\n        var type = _a.type, queryParam = _a.queryParam;\n        var filter = groupedFilters[type];\n        if (filter.length > 0)\n            queryParams.push(queryParam + filter.map(function (value) { return encodeURIComponent(value); }).join(','));\n    });\n    return queryParams.length > 0 ? '&' + queryParams.join('&') : null;\n}\n/**\n * Validates `splitFilters` configuration object and parses it into a query string for filtering splits on `/splitChanges` fetch.\n *\n * @param {ILogger} log logger\n * @param {any} maybeSplitFilters split filters configuration param provided by the user\n * @param {string} mode settings mode\n * @returns it returns an object with the following properties:\n *  - `validFilters`: the validated `splitFilters` configuration object defined by the user.\n *  - `queryString`: the parsed split filter query. it is null if all filters are invalid or all values in filters are invalid.\n *  - `groupedFilters`: list of values grouped by filter type.\n *\n * @throws Error if the some of the grouped list of values per filter exceeds the max allowed length\n */\nexport function validateSplitFilters(log, maybeSplitFilters, mode) {\n    // Validation result schema\n    var res = {\n        validFilters: [],\n        queryString: null,\n        groupedFilters: { byName: [], byPrefix: [] }\n    };\n    // do nothing if `splitFilters` param is not a non-empty array or mode is not STANDALONE\n    if (!maybeSplitFilters)\n        return res;\n    // Warn depending on the mode\n    if (mode !== STANDALONE_MODE) {\n        log.warn(WARN_SPLITS_FILTER_IGNORED, [STANDALONE_MODE]);\n        return res;\n    }\n    // Check collection type\n    if (!Array.isArray(maybeSplitFilters) || maybeSplitFilters.length === 0) {\n        log.warn(WARN_SPLITS_FILTER_EMPTY);\n        return res;\n    }\n    // Validate filters and group their values by filter type inside `groupedFilters` object\n    res.validFilters = maybeSplitFilters.filter(function (filter, index) {\n        if (filter && validateFilterType(filter.type) && Array.isArray(filter.values)) {\n            res.groupedFilters[filter.type] = res.groupedFilters[filter.type].concat(filter.values);\n            return true;\n        }\n        else {\n            log.warn(WARN_SPLITS_FILTER_INVALID, [index]);\n        }\n        return false;\n    });\n    // By filter type, remove invalid and duplicated values and order them\n    FILTERS_METADATA.forEach(function (_a) {\n        var type = _a.type, maxLength = _a.maxLength;\n        if (res.groupedFilters[type].length > 0)\n            res.groupedFilters[type] = validateSplitFilter(log, type, res.groupedFilters[type], maxLength);\n    });\n    // build query string\n    res.queryString = queryStringBuilder(res.groupedFilters);\n    log.debug(SETTINGS_SPLITS_FILTER, [res.queryString]);\n    return res;\n}\n","import { ERROR_INVALID_CONFIG_PARAM } from '../../logger/constants';\nimport { DEBUG, OPTIMIZED } from '../constants';\nimport { stringToUpperCase } from '../lang';\nexport function validImpressionsMode(log, impressionsMode) {\n    impressionsMode = stringToUpperCase(impressionsMode);\n    if ([DEBUG, OPTIMIZED].indexOf(impressionsMode) > -1)\n        return impressionsMode;\n    log.error(ERROR_INVALID_CONFIG_PARAM, ['impressionsMode', [DEBUG, OPTIMIZED], OPTIMIZED]);\n    return OPTIMIZED;\n}\n","import { isObject, isString, isFiniteNumber, toString } from '../lang';\nimport { ERROR_NULL, WARN_CONVERTING, ERROR_EMPTY, ERROR_TOO_LONG, ERROR_INVALID, ERROR_INVALID_KEY_OBJECT } from '../../logger/constants';\nvar KEY_MAX_LENGTH = 250;\nfunction validateKeyValue(log, maybeKey, method, type) {\n    if (maybeKey == undefined) { // eslint-disable-line eqeqeq\n        log.error(ERROR_NULL, [method, type]);\n        return false;\n    }\n    if (isFiniteNumber(maybeKey)) {\n        log.warn(WARN_CONVERTING, [method, type, maybeKey]);\n        return toString(maybeKey);\n    }\n    if (isString(maybeKey)) {\n        // It's a string, start by trimming the value.\n        maybeKey = maybeKey.trim();\n        // It's aaaaaall good.\n        if (maybeKey.length > 0 && maybeKey.length <= KEY_MAX_LENGTH)\n            return maybeKey;\n        if (maybeKey.length === 0) {\n            log.error(ERROR_EMPTY, [method, type]);\n        }\n        else if (maybeKey.length > KEY_MAX_LENGTH) {\n            log.error(ERROR_TOO_LONG, [method, type]);\n        }\n    }\n    else {\n        log.error(ERROR_INVALID, [method, type]);\n    }\n    return false;\n}\nexport function validateKey(log, maybeKey, method) {\n    if (isObject(maybeKey)) {\n        // Validate key object\n        var matchingKey = validateKeyValue(log, maybeKey.matchingKey, method, 'matchingKey');\n        var bucketingKey = validateKeyValue(log, maybeKey.bucketingKey, method, 'bucketingKey');\n        if (matchingKey && bucketingKey)\n            return {\n                matchingKey: matchingKey,\n                bucketingKey: bucketingKey\n            };\n        log.error(ERROR_INVALID_KEY_OBJECT, [method]);\n        return false;\n    }\n    else {\n        return validateKeyValue(log, maybeKey, method, 'key');\n    }\n}\n","import { ERROR_NULL, ERROR_INVALID, ERROR_EMPTY, WARN_LOWERCASE_TRAFFIC_TYPE } from '../../logger/constants';\nimport { isString } from '../lang';\nvar CAPITAL_LETTERS_REGEX = /[A-Z]/;\nvar item = 'traffic_type';\nexport function validateTrafficType(log, maybeTT, method) {\n    if (maybeTT == undefined) { // eslint-disable-line eqeqeq\n        log.error(ERROR_NULL, [method, item]);\n    }\n    else if (!isString(maybeTT)) {\n        log.error(ERROR_INVALID, [method, item]);\n    }\n    else {\n        if (maybeTT.length === 0) {\n            log.error(ERROR_EMPTY, [method, item]);\n        }\n        else {\n            if (CAPITAL_LETTERS_REGEX.test(maybeTT)) {\n                log.warn(WARN_LOWERCASE_TRAFFIC_TYPE, [method]);\n                maybeTT = maybeTT.toLowerCase();\n            }\n            return maybeTT;\n        }\n    }\n    return false;\n}\n","import { merge, get } from '../lang';\nimport { mode } from './mode';\nimport { validateSplitFilters } from './splitFilters';\nimport { STANDALONE_MODE, OPTIMIZED, LOCALHOST_MODE, DEBUG } from '../constants';\nimport { validImpressionsMode } from './impressionsMode';\nimport { validateKey } from '../inputValidation/key';\nimport { validateTrafficType } from '../inputValidation/trafficType';\nimport { ERROR_MIN_CONFIG_PARAM } from '../../logger/constants';\n// Exported for telemetry\nexport var base = {\n    // Define which kind of object you want to retrieve from SplitFactory\n    mode: STANDALONE_MODE,\n    core: {\n        // API token (tight to an environment)\n        authorizationKey: undefined,\n        // key used in your system (only required for browser version)\n        key: undefined,\n        // traffic type for the given key (only used on browser version)\n        trafficType: undefined,\n        // toggle impressions tracking of labels\n        labelsEnabled: true,\n        // toggle sendind (true) or not sending (false) IP and Host Name with impressions, events, and telemetries requests (only used on nodejs version)\n        IPAddressesEnabled: undefined\n    },\n    scheduler: {\n        // fetch feature updates each 30 sec\n        featuresRefreshRate: 30,\n        // fetch segments updates each 60 sec\n        segmentsRefreshRate: 60,\n        // publish telemetry stats each 3600 secs (1 hour)\n        telemetryRefreshRate: 3600,\n        // publish evaluations each 300 sec (default value for OPTIMIZED impressions mode)\n        impressionsRefreshRate: 300,\n        // fetch offline changes each 15 sec\n        offlineRefreshRate: 15,\n        // publish events every 60 seconds after the first flush\n        eventsPushRate: 60,\n        // how many events will be queued before flushing\n        eventsQueueSize: 500,\n        // how many impressions will be queued before flushing\n        impressionsQueueSize: 30000,\n        // backoff base seconds to wait before re attempting to connect to push notifications\n        pushRetryBackoffBase: 1,\n    },\n    urls: {\n        // CDN having all the information for your environment\n        sdk: 'https://sdk.split.io/api',\n        // Storage for your SDK events\n        events: 'https://events.split.io/api',\n        // SDK Auth Server\n        auth: 'https://auth.split.io/api',\n        // Streaming Server\n        streaming: 'https://streaming.split.io',\n        // Telemetry Server\n        telemetry: 'https://telemetry.split.io/api',\n    },\n    // Defines which kind of storage we should instanciate.\n    storage: undefined,\n    // Defines if the logs are enabled, SDK wide.\n    debug: undefined,\n    // Defines the impression listener, but will only be used on NodeJS.\n    impressionListener: undefined,\n    // Instance version.\n    version: undefined,\n    // List of integrations.\n    integrations: undefined,\n    // toggle using (true) or not using (false) Server-Side Events for synchronizing storage\n    streamingEnabled: true,\n    sync: {\n        splitFilters: undefined,\n        // impressions collection mode\n        impressionsMode: OPTIMIZED,\n        localhostMode: undefined,\n        enabled: true\n    },\n    // Logger\n    log: undefined\n};\nfunction fromSecondsToMillis(n) {\n    return Math.round(n * 1000);\n}\n/**\n * Validates the given config and use it to build a settings object.\n * NOTE: it doesn't validate the Api Key. Call `validateApikey` or `validateAndTrackApiKey` for that after settings validation.\n *\n * @param config user defined configuration\n * @param validationParams defaults and fields validators used to validate and creates a settings object from a given config\n */\nexport function settingsValidation(config, validationParams) {\n    var defaults = validationParams.defaults, runtime = validationParams.runtime, storage = validationParams.storage, integrations = validationParams.integrations, logger = validationParams.logger, localhost = validationParams.localhost, consent = validationParams.consent;\n    // creates a settings object merging base, defaults and config objects.\n    var withDefaults = merge({}, base, defaults, config);\n    // ensure a valid logger.\n    // First thing to validate, since other validators might use the logger.\n    var log = logger(withDefaults); // @ts-ignore, modify readonly prop\n    withDefaults.log = log;\n    // ensure a valid impressionsMode\n    withDefaults.sync.impressionsMode = validImpressionsMode(log, withDefaults.sync.impressionsMode);\n    function validateMinValue(paramName, actualValue, minValue) {\n        if (actualValue >= minValue)\n            return actualValue;\n        // actualValue is not a number or is lower than minValue\n        log.error(ERROR_MIN_CONFIG_PARAM, [paramName, minValue]);\n        return minValue;\n    }\n    // Scheduler periods\n    var scheduler = withDefaults.scheduler, startup = withDefaults.startup;\n    scheduler.featuresRefreshRate = fromSecondsToMillis(scheduler.featuresRefreshRate);\n    scheduler.segmentsRefreshRate = fromSecondsToMillis(scheduler.segmentsRefreshRate);\n    scheduler.offlineRefreshRate = fromSecondsToMillis(scheduler.offlineRefreshRate);\n    scheduler.eventsPushRate = fromSecondsToMillis(scheduler.eventsPushRate);\n    scheduler.telemetryRefreshRate = fromSecondsToMillis(validateMinValue('telemetryRefreshRate', scheduler.telemetryRefreshRate, 60));\n    // Default impressionsRefreshRate for DEBUG mode is 60 secs\n    if (get(config, 'scheduler.impressionsRefreshRate') === undefined && withDefaults.sync.impressionsMode === DEBUG)\n        scheduler.impressionsRefreshRate = 60;\n    scheduler.impressionsRefreshRate = fromSecondsToMillis(scheduler.impressionsRefreshRate);\n    // Log deprecation for old telemetry param\n    if (scheduler.metricsRefreshRate)\n        log.warn('`metricsRefreshRate` will be deprecated soon. For configuring telemetry rates, update `telemetryRefreshRate` value in configs');\n    // Startup periods\n    startup.requestTimeoutBeforeReady = fromSecondsToMillis(startup.requestTimeoutBeforeReady);\n    startup.readyTimeout = fromSecondsToMillis(startup.readyTimeout);\n    startup.eventsFirstPushWindow = fromSecondsToMillis(startup.eventsFirstPushWindow);\n    // ensure a valid SDK mode\n    // @ts-ignore, modify readonly prop\n    withDefaults.mode = mode(withDefaults.core.authorizationKey, withDefaults.mode);\n    // ensure a valid Storage based on mode defined.\n    // @ts-ignore, modify readonly prop\n    if (storage)\n        withDefaults.storage = storage(withDefaults);\n    // Validate key and TT (for client-side)\n    if (validationParams.acceptKey) {\n        var maybeKey = withDefaults.core.key;\n        // Although `key` is required in client-side, it can be omitted in LOCALHOST mode. In that case, the value `localhost_key` is used.\n        if (withDefaults.mode === LOCALHOST_MODE && maybeKey === undefined) {\n            withDefaults.core.key = 'localhost_key';\n        }\n        else {\n            // Keeping same behaviour than JS SDK: if settings key or TT are invalid,\n            // `false` value is used as binded key/TT of the default client, which leads to some issues.\n            // @ts-ignore, @TODO handle invalid keys as a non-recoverable error?\n            withDefaults.core.key = validateKey(log, maybeKey, 'Client instantiation');\n        }\n        if (validationParams.acceptTT) {\n            var maybeTT = withDefaults.core.trafficType;\n            if (maybeTT !== undefined) { // @ts-ignore\n                withDefaults.core.trafficType = validateTrafficType(log, maybeTT, 'Client instantiation');\n            }\n        }\n    }\n    // Current ip/hostname information\n    // @ts-ignore, modify readonly prop\n    withDefaults.runtime = runtime(withDefaults);\n    // ensure a valid list of integrations.\n    // `integrations` returns an array of valid integration items.\n    // @ts-ignore, modify readonly prop\n    if (integrations)\n        withDefaults.integrations = integrations(withDefaults);\n    if (localhost)\n        withDefaults.sync.localhostMode = localhost(withDefaults);\n    // validate push options\n    if (withDefaults.streamingEnabled !== false) { // @ts-ignore, modify readonly prop\n        withDefaults.streamingEnabled = true;\n        // Backoff bases.\n        // We are not checking if bases are positive numbers. Thus, we might be reauthenticating immediately (`setTimeout` with NaN or negative number)\n        scheduler.pushRetryBackoffBase = fromSecondsToMillis(scheduler.pushRetryBackoffBase);\n    }\n    // validate sync enabled\n    if (withDefaults.sync.enabled !== false) { // @ts-ignore, modify readonly prop\n        withDefaults.sync.enabled = true;\n    }\n    // validate the `splitFilters` settings and parse splits query\n    var splitFiltersValidation = validateSplitFilters(log, withDefaults.sync.splitFilters, withDefaults.mode);\n    withDefaults.sync.splitFilters = splitFiltersValidation.validFilters;\n    withDefaults.sync.__splitFiltersValidation = splitFiltersValidation;\n    // ensure a valid user consent value\n    // @ts-ignore, modify readonly prop\n    withDefaults.userConsent = consent(withDefaults);\n    return withDefaults;\n}\n","import { ERROR_NULL, ERROR_EMPTY, ERROR_INVALID, WARN_API_KEY, LOG_PREFIX_INSTANTIATION } from '../../logger/constants';\nimport { isString } from '../lang';\nvar item = 'api_key';\n/** validates the given api key */\nexport function validateApiKey(log, maybeApiKey) {\n    var apiKey = false;\n    if (maybeApiKey == undefined) { // eslint-disable-line eqeqeq\n        log.error(ERROR_NULL, [LOG_PREFIX_INSTANTIATION, item]);\n    }\n    else if (isString(maybeApiKey)) {\n        if (maybeApiKey.length > 0)\n            apiKey = maybeApiKey;\n        else\n            log.error(ERROR_EMPTY, [LOG_PREFIX_INSTANTIATION, item]);\n    }\n    else {\n        log.error(ERROR_INVALID, [LOG_PREFIX_INSTANTIATION, item]);\n    }\n    return apiKey;\n}\n// Exported for telemetry\nexport var usedKeysMap = {};\n/** validates the given api key and also warns if it is in use */\nexport function validateAndTrackApiKey(log, maybeApiKey) {\n    var apiKey = validateApiKey(log, maybeApiKey);\n    // If the apiKey is correct, we'll save it as the instance creation should work.\n    if (apiKey) {\n        if (!usedKeysMap[apiKey]) {\n            // If this key is not present, only warning scenarios is that we have factories for other keys.\n            usedKeysMap[apiKey] = 1;\n            if (Object.keys(usedKeysMap).length > 1) {\n                log.warn(WARN_API_KEY, ['an instance of the Split factory']);\n            }\n        }\n        else {\n            log.warn(WARN_API_KEY, [usedKeysMap[apiKey] + \" factory/ies with this API Key\"]);\n            usedKeysMap[apiKey]++;\n        }\n    }\n    return apiKey;\n}\nexport function releaseApiKey(apiKey) {\n    if (usedKeysMap[apiKey])\n        usedKeysMap[apiKey]--;\n    if (usedKeysMap[apiKey] === 0)\n        delete usedKeysMap[apiKey];\n}\n","var _a, _b, _c;\nimport { submitterFactory, firstPushWindowDecorator } from './submitter';\nimport { QUEUED, DEDUPED, DROPPED, CONSUMER_MODE, CONSUMER_ENUM, STANDALONE_MODE, CONSUMER_PARTIAL_MODE, STANDALONE_ENUM, CONSUMER_PARTIAL_ENUM, OPTIMIZED, DEBUG, DEBUG_ENUM, OPTIMIZED_ENUM, CONSENT_GRANTED, CONSENT_DECLINED, CONSENT_UNKNOWN } from '../../utils/constants';\nimport { SDK_READY, SDK_READY_FROM_CACHE } from '../../readiness/constants';\nimport { base } from '../../utils/settingsValidation';\nimport { usedKeysMap } from '../../utils/inputValidation/apiKey';\nimport { timer } from '../../utils/timeTracker/timer';\nimport { objectAssign } from '../../utils/lang/objectAssign';\n/**\n * Converts data from telemetry cache into /metrics/usage request payload.\n */\nexport function telemetryCacheStatsAdapter(telemetry, splits, segments) {\n    return {\n        isEmpty: function () { return false; },\n        clear: function () { },\n        // @TODO consider moving inside telemetry cache for code size reduction\n        pop: function () {\n            return {\n                lS: telemetry.getLastSynchronization(),\n                mL: telemetry.popLatencies(),\n                mE: telemetry.popExceptions(),\n                hE: telemetry.popHttpErrors(),\n                hL: telemetry.popHttpLatencies(),\n                tR: telemetry.popTokenRefreshes(),\n                aR: telemetry.popAuthRejections(),\n                iQ: telemetry.getImpressionStats(QUEUED),\n                iDe: telemetry.getImpressionStats(DEDUPED),\n                iDr: telemetry.getImpressionStats(DROPPED),\n                spC: splits.getSplitNames().length,\n                seC: segments.getRegisteredSegments().length,\n                skC: segments.getKeysCount(),\n                sL: telemetry.getSessionLength(),\n                eQ: telemetry.getEventStats(QUEUED),\n                eD: telemetry.getEventStats(DROPPED),\n                sE: telemetry.popStreamingEvents(),\n                t: telemetry.popTags(),\n            };\n        }\n    };\n}\nvar OPERATION_MODE_MAP = (_a = {},\n    _a[STANDALONE_MODE] = STANDALONE_ENUM,\n    _a[CONSUMER_MODE] = CONSUMER_ENUM,\n    _a[CONSUMER_PARTIAL_MODE] = CONSUMER_PARTIAL_ENUM,\n    _a);\nvar IMPRESSIONS_MODE_MAP = (_b = {},\n    _b[OPTIMIZED] = OPTIMIZED_ENUM,\n    _b[DEBUG] = DEBUG_ENUM,\n    _b);\nvar USER_CONSENT_MAP = (_c = {},\n    _c[CONSENT_UNKNOWN] = 1,\n    _c[CONSENT_GRANTED] = 2,\n    _c[CONSENT_DECLINED] = 3,\n    _c);\nfunction getActiveFactories() {\n    return Object.keys(usedKeysMap).length;\n}\nfunction getRedundantActiveFactories() {\n    return Object.keys(usedKeysMap).reduce(function (acum, apiKey) {\n        return acum + usedKeysMap[apiKey] - 1;\n    }, 0);\n}\nexport function getTelemetryConfigStats(mode, storageType) {\n    return {\n        oM: OPERATION_MODE_MAP[mode],\n        st: storageType.toLowerCase(),\n        aF: getActiveFactories(),\n        rF: getRedundantActiveFactories(),\n    };\n}\n/**\n * Converts data from telemetry cache and settings into /metrics/config request payload.\n */\nexport function telemetryCacheConfigAdapter(telemetry, settings) {\n    return {\n        isEmpty: function () { return false; },\n        clear: function () { },\n        pop: function () {\n            var urls = settings.urls, scheduler = settings.scheduler;\n            var isClientSide = settings.core.key !== undefined;\n            return objectAssign(getTelemetryConfigStats(settings.mode, settings.storage.type), {\n                sE: settings.streamingEnabled,\n                rR: {\n                    sp: scheduler.featuresRefreshRate / 1000,\n                    se: isClientSide ? undefined : scheduler.segmentsRefreshRate / 1000,\n                    ms: isClientSide ? scheduler.segmentsRefreshRate / 1000 : undefined,\n                    im: scheduler.impressionsRefreshRate / 1000,\n                    ev: scheduler.eventsPushRate / 1000,\n                    te: scheduler.telemetryRefreshRate / 1000,\n                },\n                uO: {\n                    s: urls.sdk !== base.urls.sdk,\n                    e: urls.events !== base.urls.events,\n                    a: urls.auth !== base.urls.auth,\n                    st: urls.streaming !== base.urls.streaming,\n                    t: urls.telemetry !== base.urls.telemetry,\n                },\n                iQ: scheduler.impressionsQueueSize,\n                eQ: scheduler.eventsQueueSize,\n                iM: IMPRESSIONS_MODE_MAP[settings.sync.impressionsMode],\n                iL: settings.impressionListener ? true : false,\n                hP: false,\n                tR: telemetry.getTimeUntilReady(),\n                tC: telemetry.getTimeUntilReadyFromCache(),\n                nR: telemetry.getNonReadyUsage(),\n                t: telemetry.popTags(),\n                i: settings.integrations && settings.integrations.map(function (int) { return int.type; }),\n                uC: settings.userConsent ? USER_CONSENT_MAP[settings.userConsent] : 0\n            });\n        }\n    };\n}\n/**\n * Submitter that periodically posts telemetry data\n */\nexport function telemetrySubmitterFactory(params) {\n    var _a = params.storage, splits = _a.splits, segments = _a.segments, telemetry = _a.telemetry, now = params.platform.now;\n    if (!telemetry || !now)\n        return; // No submitter created if telemetry cache is not defined\n    var settings = params.settings, _b = params.settings, log = _b.log, telemetryRefreshRate = _b.scheduler.telemetryRefreshRate, splitApi = params.splitApi, readiness = params.readiness, sdkReadinessManager = params.sdkReadinessManager;\n    var startTime = timer(now);\n    var submitter = firstPushWindowDecorator(submitterFactory(log, splitApi.postMetricsUsage, telemetryCacheStatsAdapter(telemetry, splits, segments), telemetryRefreshRate, 'telemetry stats', undefined, 0, true), telemetryRefreshRate);\n    readiness.gate.once(SDK_READY_FROM_CACHE, function () {\n        telemetry.recordTimeUntilReadyFromCache(startTime());\n    });\n    sdkReadinessManager.incInternalReadyCbCount();\n    readiness.gate.once(SDK_READY, function () {\n        telemetry.recordTimeUntilReady(startTime());\n        // Post config data when the SDK is ready and if the telemetry submitter was started\n        if (submitter.isRunning()) {\n            var postMetricsConfigTask = submitterFactory(log, splitApi.postMetricsConfig, telemetryCacheConfigAdapter(telemetry, settings), 0, 'telemetry config', undefined, 0, true);\n            postMetricsConfigTask.execute();\n        }\n    });\n    return submitter;\n}\n","export function timer(now) {\n    var st = now();\n    return function stop() {\n        return Math.round(now() - st);\n    };\n}\n","import { eventsSubmitterFactory } from './eventsSubmitter';\nimport { impressionsSubmitterFactory } from './impressionsSubmitter';\nimport { impressionCountsSubmitterFactory } from './impressionCountsSubmitter';\nimport { telemetrySubmitterFactory } from './telemetrySubmitter';\nexport function submitterManagerFactory(params) {\n    var submitters = [\n        impressionsSubmitterFactory(params),\n        eventsSubmitterFactory(params)\n    ];\n    var impressionCountsSubmitter = impressionCountsSubmitterFactory(params);\n    if (impressionCountsSubmitter)\n        submitters.push(impressionCountsSubmitter);\n    var telemetrySubmitter = telemetrySubmitterFactory(params);\n    return {\n        // `onlyTelemetry` true if SDK is created with userConsent not GRANTED\n        start: function (onlyTelemetry) {\n            if (!onlyTelemetry)\n                submitters.forEach(function (submitter) { return submitter.start(); });\n            if (telemetrySubmitter)\n                telemetrySubmitter.start();\n        },\n        // `allExceptTelemetry` true if userConsent is changed to DECLINED\n        stop: function (allExceptTelemetry) {\n            submitters.forEach(function (submitter) { return submitter.stop(); });\n            if (!allExceptTelemetry && telemetrySubmitter)\n                telemetrySubmitter.stop();\n        },\n        isRunning: function () {\n            return submitters.some(function (submitter) { return submitter.isRunning(); });\n        },\n        // Flush data. Called with `onlyTelemetry` true if SDK is destroyed with userConsent not GRANTED\n        execute: function (onlyTelemetry) {\n            var promises = onlyTelemetry ? [] : submitters.map(function (submitter) { return submitter.execute(); });\n            if (telemetrySubmitter)\n                promises.push(telemetrySubmitter.execute());\n            return Promise.all(promises);\n        },\n        isExecuting: function () {\n            return submitters.some(function (submitter) { return submitter.isExecuting(); });\n        }\n    };\n}\n","// time for refresh token\nexport var SECONDS_BEFORE_EXPIRATION = 600;\n// Internal SDK events, subscribed by SyncManager and PushManager\n/**\n * emitted on SSE and Authenticate non-recoverable errors, STREAMING_DISABLED control notification and authentication with pushEnabled false\n * triggers `handleNonRetryableError` call\n */\nexport var PUSH_NONRETRYABLE_ERROR = 'PUSH_NONRETRYABLE_ERROR';\n/**\n * emitted on SSE and Authenticate recoverable errors\n * triggers `handleRetryableError` call\n */\nexport var PUSH_RETRYABLE_ERROR = 'PUSH_RETRYABLE_ERROR';\n/**\n * emitted on STREAMING_RESUMED control notification, OCCUPANCY different than 0, and SSE onopen event\n * triggers `stopPollingAndSyncAll` call\n */\nexport var PUSH_SUBSYSTEM_UP = 'PUSH_SUBSYSTEM_UP';\n/**\n * emitted on STREAMING_PAUSED control notification, OCCUPANCY equal to 0, PUSH_NONRETRYABLE_ERROR and PUSH_RETRYABLE_ERROR events.\n * triggers `startPolling` and `stopWorkers` calls\n */\nexport var PUSH_SUBSYSTEM_DOWN = 'PUSH_SUBSYSTEM_DOWN';\n// Update-type push notifications, handled by NotificationProcessor\nexport var MY_SEGMENTS_UPDATE = 'MY_SEGMENTS_UPDATE';\nexport var MY_SEGMENTS_UPDATE_V2 = 'MY_SEGMENTS_UPDATE_V2';\nexport var SEGMENT_UPDATE = 'SEGMENT_UPDATE';\nexport var SPLIT_KILL = 'SPLIT_KILL';\nexport var SPLIT_UPDATE = 'SPLIT_UPDATE';\n// Control-type push notifications, handled by NotificationKeeper\nexport var CONTROL = 'CONTROL';\nexport var OCCUPANCY = 'OCCUPANCY';\nexport var ControlType;\n(function (ControlType) {\n    ControlType[\"STREAMING_DISABLED\"] = \"STREAMING_DISABLED\";\n    ControlType[\"STREAMING_PAUSED\"] = \"STREAMING_PAUSED\";\n    ControlType[\"STREAMING_RESUMED\"] = \"STREAMING_RESUMED\";\n    ControlType[\"STREAMING_RESET\"] = \"STREAMING_RESET\";\n})(ControlType || (ControlType = {}));\n","import { CONSENT_GRANTED } from '../utils/constants';\nexport function isConsentGranted(settings) {\n    var userConsent = settings.userConsent;\n    // undefined userConsent is handled as granted (default)\n    return !userConsent || userConsent === CONSENT_GRANTED;\n}\n","import { submitterManagerFactory } from './submitters/submitterManager';\nimport { PUSH_SUBSYSTEM_UP, PUSH_SUBSYSTEM_DOWN } from './streaming/constants';\nimport { SYNC_START_POLLING, SYNC_CONTINUE_POLLING, SYNC_STOP_POLLING } from '../logger/constants';\nimport { isConsentGranted } from '../consent';\nimport { POLLING, STREAMING, SYNC_MODE_UPDATE } from '../utils/constants';\n/**\n * Online SyncManager factory.\n * Can be used for server-side API, and client-side API with or without multiple clients.\n *\n * @param pollingManagerFactory allows to specialize the SyncManager for server-side or client-side API by passing\n * `pollingManagerSSFactory` or `pollingManagerCSFactory` respectively.\n * @param pushManagerFactory optional to build a SyncManager with or without streaming support\n */\nexport function syncManagerOnlineFactory(pollingManagerFactory, pushManagerFactory) {\n    /**\n     * SyncManager factory for modular SDK\n     */\n    return function (params) {\n        var settings = params.settings, _a = params.settings, log = _a.log, streamingEnabled = _a.streamingEnabled, syncEnabled = _a.sync.enabled, telemetryTracker = params.telemetryTracker;\n        /** Polling Manager */\n        var pollingManager = pollingManagerFactory && pollingManagerFactory(params);\n        /** Push Manager */\n        var pushManager = syncEnabled && streamingEnabled && pollingManager && pushManagerFactory ?\n            pushManagerFactory(params, pollingManager) :\n            undefined;\n        /** Submitter Manager */\n        // It is not inyected as push and polling managers, because at the moment it is required\n        var submitterManager = submitterManagerFactory(params);\n        /** Sync Manager logic */\n        function startPolling() {\n            if (pollingManager.isRunning()) {\n                log.info(SYNC_CONTINUE_POLLING);\n            }\n            else {\n                log.info(SYNC_START_POLLING);\n                pollingManager.start();\n                telemetryTracker.streamingEvent(SYNC_MODE_UPDATE, POLLING);\n            }\n        }\n        function stopPollingAndSyncAll() {\n            log.info(SYNC_STOP_POLLING);\n            // if polling, stop\n            if (pollingManager.isRunning()) {\n                pollingManager.stop();\n                telemetryTracker.streamingEvent(SYNC_MODE_UPDATE, STREAMING);\n            }\n            // fetch splits and segments. There is no need to catch this promise (it is always resolved)\n            pollingManager.syncAll();\n        }\n        if (pushManager) {\n            pushManager.on(PUSH_SUBSYSTEM_UP, stopPollingAndSyncAll);\n            pushManager.on(PUSH_SUBSYSTEM_DOWN, startPolling);\n        }\n        var running = false; // flag that indicates whether the syncManager has been started (true) or stopped (false)\n        var startFirstTime = true; // flag to distinguish calling the `start` method for the first time, to support pausing and resuming the synchronization\n        return {\n            // Exposed for fine-grained control of synchronization.\n            // E.g.: user consent, app state changes (Page hide, Foreground/Background, Online/Offline).\n            pollingManager: pollingManager,\n            pushManager: pushManager,\n            submitterManager: submitterManager,\n            /**\n             * Method used to start the syncManager for the first time, or resume it after being stopped.\n             */\n            start: function () {\n                running = true;\n                // start syncing splits and segments\n                if (pollingManager) {\n                    // If synchronization is disabled pushManager and pollingManager should not start\n                    if (syncEnabled) {\n                        if (pushManager) {\n                            // Doesn't call `syncAll` when the syncManager is resuming\n                            if (startFirstTime) {\n                                pollingManager.syncAll();\n                                startFirstTime = false;\n                            }\n                            pushManager.start();\n                        }\n                        else {\n                            pollingManager.start();\n                        }\n                    }\n                    else {\n                        if (startFirstTime) {\n                            pollingManager.syncAll();\n                            startFirstTime = false;\n                        }\n                    }\n                }\n                // start periodic data recording (events, impressions, telemetry).\n                submitterManager.start(!isConsentGranted(settings));\n            },\n            /**\n             * Method used to stop/pause the syncManager.\n             */\n            stop: function () {\n                running = false;\n                // stop syncing\n                if (pushManager)\n                    pushManager.stop();\n                if (pollingManager && pollingManager.isRunning())\n                    pollingManager.stop();\n                // stop periodic data recording (events, impressions, telemetry).\n                submitterManager.stop();\n            },\n            isRunning: function () {\n                return running;\n            },\n            flush: function () {\n                return submitterManager.execute(!isConsentGranted(settings));\n            },\n            // [Only used for client-side]\n            // If polling and push managers are defined (standalone mode), they implement the interfaces for client-side\n            shared: function (matchingKey, readinessManager, storage) {\n                if (!pollingManager)\n                    return;\n                var mySegmentsSyncTask = pollingManager.add(matchingKey, readinessManager, storage);\n                return {\n                    isRunning: mySegmentsSyncTask.isRunning,\n                    start: function () {\n                        if (syncEnabled) {\n                            if (pushManager) {\n                                if (pollingManager.isRunning()) {\n                                    // if doing polling, we must start the periodic fetch of data\n                                    if (storage.splits.usesSegments())\n                                        mySegmentsSyncTask.start();\n                                }\n                                else {\n                                    // if not polling, we must execute the sync task for the initial fetch\n                                    // of segments since `syncAll` was already executed when starting the main client\n                                    mySegmentsSyncTask.execute();\n                                }\n                                pushManager.add(matchingKey, mySegmentsSyncTask);\n                            }\n                            else {\n                                if (storage.splits.usesSegments())\n                                    mySegmentsSyncTask.start();\n                            }\n                        }\n                        else {\n                            if (!readinessManager.isReady())\n                                mySegmentsSyncTask.execute();\n                        }\n                    },\n                    stop: function () {\n                        // check in case `client.destroy()` has been invoked more than once for the same client\n                        var mySegmentsSyncTask = pollingManager.get(matchingKey);\n                        if (mySegmentsSyncTask) {\n                            // stop syncing\n                            if (pushManager)\n                                pushManager.remove(matchingKey);\n                            if (mySegmentsSyncTask.isRunning())\n                                mySegmentsSyncTask.stop();\n                            pollingManager.remove(matchingKey);\n                        }\n                    },\n                    flush: function () { return Promise.resolve(); }\n                };\n            }\n        };\n    };\n}\n","var Backoff = /** @class */ (function () {\n    /**\n     * Schedule function calls with exponential backoff\n     *\n     * @param {function} cb\n     * @param {number} baseMillis\n     * @param {number} maxMillis\n     */\n    function Backoff(cb, baseMillis, maxMillis) {\n        this.baseMillis = Backoff.__TEST__BASE_MILLIS || baseMillis || Backoff.DEFAULT_BASE_MILLIS;\n        this.maxMillis = Backoff.__TEST__MAX_MILLIS || maxMillis || Backoff.DEFAULT_MAX_MILLIS;\n        this.attempts = 0;\n        this.cb = cb;\n    }\n    /**\n     * Schedule a next call to `cb`\n     * @returns scheduled delay in milliseconds\n     */\n    Backoff.prototype.scheduleCall = function () {\n        var _this = this;\n        var delayInMillis = Math.min(this.baseMillis * Math.pow(2, this.attempts), this.maxMillis);\n        if (this.timeoutID)\n            clearTimeout(this.timeoutID);\n        this.timeoutID = setTimeout(function () {\n            _this.timeoutID = undefined;\n            _this.cb();\n        }, delayInMillis);\n        this.attempts++;\n        return delayInMillis;\n    };\n    Backoff.prototype.reset = function () {\n        this.attempts = 0;\n        if (this.timeoutID) {\n            clearTimeout(this.timeoutID);\n            this.timeoutID = undefined;\n        }\n    };\n    Backoff.DEFAULT_BASE_MILLIS = 1000; // 1 second\n    Backoff.DEFAULT_MAX_MILLIS = 1800000; // 30 minutes\n    return Backoff;\n}());\nexport { Backoff };\n","import { OCCUPANCY } from '../constants';\nimport { isString } from '../../../utils/lang';\n/**\n * Parses the `data` JSON string, if exists, of a given SSE error notifications.\n * HTTP errors handled by Ably (e.g., 400 due to invalid token, 401 due to expired token, 500) have the `data` property.\n * Other network and HTTP errors do not have this property.\n *\n * @param {Object} error\n * @throws {SyntaxError} if `error.data` is an invalid JSON string\n */\nexport function errorParser(error) {\n    // @ts-ignore\n    if (isString(error.data))\n        error.parsedData = JSON.parse(error.data); // cannot assign to read only property 'data'\n    return error;\n}\n/**\n * Parses the `data` JSON string of a given SSE message notifications.\n * Also assigns the type OCCUPANCY, if it corresponds, so that all supported messages (e.g., SPLIT_UPDATE, CONTROL) have a type.\n *\n * @param message\n * @returns parsed notification message or undefined if the given event data is falsy (e.g, '' or undefined).\n * For example, the EventSource implementation of React-Native for iOS emits a message event with empty data for Ably keepalive comments.\n * @throws {SyntaxError} if `message.data` or `JSON.parse(message.data).data` are invalid JSON strings\n */\nexport function messageParser(message) {\n    if (!message.data)\n        return;\n    var messageData = JSON.parse(message.data);\n    messageData.parsedData = JSON.parse(messageData.data);\n    // set the event type to OCCUPANCY, to handle all events uniformely\n    if (messageData.name && messageData.name === '[meta]occupancy')\n        messageData.parsedData.type = OCCUPANCY;\n    return messageData;\n}\n","import { CONNECTION_ESTABLISHED, DISABLED, ENABLED, OCCUPANCY_PRI, OCCUPANCY_SEC, PAUSED, STREAMING_STATUS } from '../../../utils/constants';\nimport { ControlType, PUSH_SUBSYSTEM_UP, PUSH_NONRETRYABLE_ERROR, PUSH_SUBSYSTEM_DOWN } from '../constants';\nvar CONTROL_CHANNEL_REGEXS = [/control_pri$/, /control_sec$/];\nvar STREAMING_EVENT_TYPES = [OCCUPANCY_PRI, OCCUPANCY_SEC];\n/**\n * Factory of notification keeper, which process OCCUPANCY and CONTROL notifications and emits the corresponding push events.\n *\n * @param pushEmitter emitter for events related to streaming support\n */\n// @TODO update logic to handle OCCUPANCY for any region and rename according to new spec (e.g.: PUSH_SUBSYSTEM_UP --> PUSH_SUBSYSTEM_UP)\nexport function notificationKeeperFactory(pushEmitter, telemetryTracker) {\n    var channels = CONTROL_CHANNEL_REGEXS.map(function (regex) { return ({\n        regex: regex,\n        hasPublishers: true,\n        oTime: -1,\n        cTime: -1 // keep track of most recent control notification timestamp per channel\n    }); });\n    // false if the number of publishers is equal to 0 in all regions\n    var hasPublishers = true;\n    // false if last CONTROL event was STREAMING_PAUSED or STREAMING_DISABLED\n    var hasResumed = true;\n    function getHasPublishers() {\n        return channels.some(function (c) { return c.hasPublishers; });\n    }\n    return {\n        handleOpen: function () {\n            telemetryTracker.streamingEvent(CONNECTION_ESTABLISHED);\n            pushEmitter.emit(PUSH_SUBSYSTEM_UP);\n        },\n        isStreamingUp: function () {\n            return hasResumed && hasPublishers;\n        },\n        handleOccupancyEvent: function (publishers, channel, timestamp) {\n            for (var i = 0; i < channels.length; i++) {\n                var c = channels[i];\n                if (c.regex.test(channel)) {\n                    telemetryTracker.streamingEvent(STREAMING_EVENT_TYPES[i], publishers);\n                    if (timestamp > c.oTime) {\n                        c.oTime = timestamp;\n                        c.hasPublishers = publishers !== 0;\n                        var hasPublishersNow = getHasPublishers();\n                        if (hasResumed) {\n                            if (!hasPublishersNow && hasPublishers) {\n                                pushEmitter.emit(PUSH_SUBSYSTEM_DOWN);\n                            }\n                            else if (hasPublishersNow && !hasPublishers) {\n                                pushEmitter.emit(PUSH_SUBSYSTEM_UP);\n                            }\n                            // nothing to do when hasResumed === false:\n                            // streaming is already down for `!hasPublishersNow`, and cannot be up for `hasPublishersNow`\n                        }\n                        hasPublishers = hasPublishersNow;\n                    }\n                    return;\n                }\n            }\n        },\n        handleControlEvent: function (controlType, channel, timestamp) {\n            /* STREAMING_RESET control event is handled by PushManager directly since it doesn't require\n             * tracking timestamp and state like OCCUPANCY or CONTROL. It also ignores previous\n             * OCCUPANCY and CONTROL notifications, and whether PUSH_SUBSYSTEM_DOWN has been emitted or not */\n            if (controlType === ControlType.STREAMING_RESET) {\n                pushEmitter.emit(controlType);\n                return;\n            }\n            for (var i = 0; i < channels.length; i++) {\n                var c = channels[i];\n                if (c.regex.test(channel)) {\n                    if (timestamp > c.cTime) {\n                        c.cTime = timestamp;\n                        if (controlType === ControlType.STREAMING_DISABLED) {\n                            telemetryTracker.streamingEvent(STREAMING_STATUS, DISABLED);\n                            pushEmitter.emit(PUSH_NONRETRYABLE_ERROR);\n                        }\n                        else if (hasPublishers) {\n                            if (controlType === ControlType.STREAMING_PAUSED && hasResumed) {\n                                telemetryTracker.streamingEvent(STREAMING_STATUS, PAUSED);\n                                pushEmitter.emit(PUSH_SUBSYSTEM_DOWN);\n                            }\n                            else if (controlType === ControlType.STREAMING_RESUMED && !hasResumed) {\n                                telemetryTracker.streamingEvent(STREAMING_STATUS, ENABLED);\n                                pushEmitter.emit(PUSH_SUBSYSTEM_UP);\n                            }\n                            // nothing to do when hasPublishers === false:\n                            // streaming is already down for `STREAMING_PAUSED`, and cannot be up for `STREAMING_RESUMED`\n                        }\n                        hasResumed = controlType === ControlType.STREAMING_RESUMED;\n                    }\n                    return;\n                }\n            }\n        },\n    };\n}\n","import { errorParser, messageParser } from './NotificationParser';\nimport { notificationKeeperFactory } from './NotificationKeeper';\nimport { PUSH_RETRYABLE_ERROR, PUSH_NONRETRYABLE_ERROR, OCCUPANCY, CONTROL, MY_SEGMENTS_UPDATE, MY_SEGMENTS_UPDATE_V2, SEGMENT_UPDATE, SPLIT_KILL, SPLIT_UPDATE } from '../constants';\nimport { STREAMING_PARSING_ERROR_FAILS, ERROR_STREAMING_SSE, STREAMING_PARSING_MESSAGE_FAILS, STREAMING_NEW_MESSAGE } from '../../../logger/constants';\nimport { ABLY_ERROR, NON_REQUESTED, SSE_CONNECTION_ERROR } from '../../../utils/constants';\n/**\n * Factory for SSEHandler, which processes SSEClient messages and emits the corresponding push events.\n *\n * @param log factory logger\n * @param pushEmitter emitter for events related to streaming support\n */\nexport function SSEHandlerFactory(log, pushEmitter, telemetryTracker) {\n    var notificationKeeper = notificationKeeperFactory(pushEmitter, telemetryTracker);\n    function isRetryableError(error) {\n        if (error.parsedData && error.parsedData.code) {\n            // Ably error\n            var code = error.parsedData.code;\n            telemetryTracker.streamingEvent(ABLY_ERROR, code);\n            // 401 errors due to invalid or expired token (e.g., if refresh token coudn't be executed)\n            if (40140 <= code && code <= 40149)\n                return true;\n            // Others 4XX errors (e.g., bad request from the SDK)\n            if (40000 <= code && code <= 49999)\n                return false;\n        }\n        else {\n            // network errors or 5XX HTTP errors\n            telemetryTracker.streamingEvent(SSE_CONNECTION_ERROR, NON_REQUESTED);\n        }\n        return true;\n    }\n    return {\n        handleOpen: function () {\n            notificationKeeper.handleOpen();\n        },\n        /* HTTP & Network errors */\n        handleError: function (error) {\n            var errorWithParsedData = error;\n            try {\n                errorWithParsedData = errorParser(error);\n            }\n            catch (err) {\n                log.warn(STREAMING_PARSING_ERROR_FAILS, [err]);\n            }\n            var errorMessage = (errorWithParsedData.parsedData && errorWithParsedData.parsedData.message) || errorWithParsedData.message;\n            log.error(ERROR_STREAMING_SSE, [errorMessage]);\n            if (isRetryableError(errorWithParsedData)) {\n                pushEmitter.emit(PUSH_RETRYABLE_ERROR);\n            }\n            else {\n                pushEmitter.emit(PUSH_NONRETRYABLE_ERROR);\n            }\n        },\n        /* NotificationProcessor */\n        handleMessage: function (message) {\n            var messageWithParsedData;\n            try {\n                messageWithParsedData = messageParser(message);\n                if (!messageWithParsedData)\n                    return; // Messages with empty data are ignored\n            }\n            catch (err) {\n                log.warn(STREAMING_PARSING_MESSAGE_FAILS, [err]);\n                return;\n            }\n            var parsedData = messageWithParsedData.parsedData, data = messageWithParsedData.data, channel = messageWithParsedData.channel, timestamp = messageWithParsedData.timestamp;\n            log.debug(STREAMING_NEW_MESSAGE, [data]);\n            // we only handle update events if streaming is up.\n            if (!notificationKeeper.isStreamingUp() && [OCCUPANCY, CONTROL].indexOf(parsedData.type) === -1)\n                return;\n            switch (parsedData.type) {\n                /* update events */\n                case SPLIT_UPDATE:\n                case SEGMENT_UPDATE:\n                case MY_SEGMENTS_UPDATE_V2:\n                case SPLIT_KILL:\n                    pushEmitter.emit(parsedData.type, parsedData);\n                    break;\n                case MY_SEGMENTS_UPDATE:\n                    pushEmitter.emit(parsedData.type, parsedData, channel);\n                    break;\n                /* occupancy & control events, handled by NotificationManagerKeeper */\n                case OCCUPANCY:\n                    notificationKeeper.handleOccupancyEvent(parsedData.metrics.publishers, channel, timestamp);\n                    break;\n                case CONTROL:\n                    notificationKeeper.handleControlEvent(parsedData.controlType, channel, timestamp);\n                    break;\n                default:\n                    break;\n            }\n        },\n    };\n}\n","import { Backoff } from '../../../utils/Backoff';\n/**\n * MySegmentsUpdateWorker factory\n */\nexport function MySegmentsUpdateWorker(mySegmentsSyncTask) {\n    var maxChangeNumber = 0; // keeps the maximum changeNumber among queued events\n    var currentChangeNumber = -1;\n    var handleNewEvent = false;\n    var isHandlingEvent;\n    var _segmentsData; // keeps the segmentsData (if included in notification payload) from the queued event with maximum changeNumber\n    var backoff = new Backoff(__handleMySegmentsUpdateCall);\n    function __handleMySegmentsUpdateCall() {\n        isHandlingEvent = true;\n        if (maxChangeNumber > currentChangeNumber) {\n            handleNewEvent = false;\n            var currentMaxChangeNumber_1 = maxChangeNumber;\n            // fetch mySegments revalidating data if cached\n            mySegmentsSyncTask.execute(_segmentsData, true).then(function (result) {\n                if (!isHandlingEvent)\n                    return; // halt if `stop` has been called\n                if (result !== false) // Unlike `Splits|SegmentsUpdateWorker`, we cannot use `mySegmentsCache.getChangeNumber` since `/mySegments` endpoint doesn't provide this value.\n                    currentChangeNumber = Math.max(currentChangeNumber, currentMaxChangeNumber_1); // use `currentMaxChangeNumber`, in case that `maxChangeNumber` was updated during fetch.\n                if (handleNewEvent) {\n                    __handleMySegmentsUpdateCall();\n                }\n                else {\n                    backoff.scheduleCall();\n                }\n            });\n        }\n        else {\n            isHandlingEvent = false;\n        }\n    }\n    return {\n        /**\n         * Invoked by NotificationProcessor on MY_SEGMENTS_UPDATE event\n         *\n         * @param {number} changeNumber change number of the MY_SEGMENTS_UPDATE notification\n         * @param {SegmentsData | undefined} segmentsData might be undefined\n         */\n        put: function (changeNumber, segmentsData) {\n            if (changeNumber <= currentChangeNumber || changeNumber <= maxChangeNumber)\n                return;\n            maxChangeNumber = changeNumber;\n            handleNewEvent = true;\n            _segmentsData = segmentsData;\n            if (backoff.timeoutID || !isHandlingEvent)\n                __handleMySegmentsUpdateCall();\n            backoff.reset();\n        },\n        stop: function () {\n            isHandlingEvent = false;\n            backoff.reset();\n        }\n    };\n}\n","export var FETCH_BACKOFF_BASE = 10000; // backoff base starting at 10 seconds\nexport var FETCH_BACKOFF_MAX_WAIT = 60000; // don't wait for more than 1 minute\nexport var FETCH_BACKOFF_MAX_RETRIES = 10; // max retries\n","import { Backoff } from '../../../utils/Backoff';\nimport { FETCH_BACKOFF_BASE, FETCH_BACKOFF_MAX_RETRIES, FETCH_BACKOFF_MAX_WAIT } from './constants';\n/**\n * SegmentsUpdateWorker factory\n */\nexport function SegmentsUpdateWorker(log, segmentsSyncTask, segmentsCache) {\n    // Handles retries with CDN bypass per segment name\n    function SegmentUpdateWorker(segment) {\n        var maxChangeNumber = 0;\n        var handleNewEvent = false;\n        var isHandlingEvent;\n        var cdnBypass;\n        var backoff = new Backoff(__handleSegmentUpdateCall, FETCH_BACKOFF_BASE, FETCH_BACKOFF_MAX_WAIT);\n        function __handleSegmentUpdateCall() {\n            isHandlingEvent = true;\n            if (maxChangeNumber > segmentsCache.getChangeNumber(segment)) {\n                handleNewEvent = false;\n                // fetch segments revalidating data if cached\n                segmentsSyncTask.execute(false, segment, true, cdnBypass ? maxChangeNumber : undefined).then(function () {\n                    if (!isHandlingEvent)\n                        return; // halt if `stop` has been called\n                    if (handleNewEvent) {\n                        __handleSegmentUpdateCall();\n                    }\n                    else {\n                        var attempts = backoff.attempts + 1;\n                        if (maxChangeNumber <= segmentsCache.getChangeNumber(segment)) {\n                            log.debug(\"Refresh completed\" + (cdnBypass ? ' bypassing the CDN' : '') + \" in \" + attempts + \" attempts.\");\n                            isHandlingEvent = false;\n                            return;\n                        }\n                        if (attempts < FETCH_BACKOFF_MAX_RETRIES) {\n                            backoff.scheduleCall();\n                            return;\n                        }\n                        if (cdnBypass) {\n                            log.debug(\"No changes fetched after \" + attempts + \" attempts with CDN bypassed.\");\n                            isHandlingEvent = false;\n                        }\n                        else {\n                            backoff.reset();\n                            cdnBypass = true;\n                            __handleSegmentUpdateCall();\n                        }\n                    }\n                });\n            }\n            else {\n                isHandlingEvent = false;\n            }\n        }\n        return {\n            put: function (changeNumber) {\n                var currentChangeNumber = segmentsCache.getChangeNumber(segment);\n                if (changeNumber <= currentChangeNumber || changeNumber <= maxChangeNumber)\n                    return;\n                maxChangeNumber = changeNumber;\n                handleNewEvent = true;\n                cdnBypass = false;\n                if (backoff.timeoutID || !isHandlingEvent)\n                    __handleSegmentUpdateCall();\n                backoff.reset();\n            },\n            stop: function () {\n                isHandlingEvent = false;\n                backoff.reset();\n            }\n        };\n    }\n    var segments = {};\n    return {\n        /**\n         * Invoked by NotificationProcessor on SEGMENT_UPDATE event\n         *\n         * @param {number} changeNumber change number of the SEGMENT_UPDATE notification\n         * @param {string} segmentName segment name of the SEGMENT_UPDATE notification\n         */\n        put: function (_a) {\n            var changeNumber = _a.changeNumber, segmentName = _a.segmentName;\n            if (!segments[segmentName])\n                segments[segmentName] = SegmentUpdateWorker(segmentName);\n            segments[segmentName].put(changeNumber);\n        },\n        stop: function () {\n            Object.keys(segments).forEach(function (segmentName) { return segments[segmentName].stop(); });\n        }\n    };\n}\n","import { SDK_SPLITS_ARRIVED } from '../../../readiness/constants';\nimport { Backoff } from '../../../utils/Backoff';\nimport { FETCH_BACKOFF_BASE, FETCH_BACKOFF_MAX_WAIT, FETCH_BACKOFF_MAX_RETRIES } from './constants';\n/**\n * SplitsUpdateWorker factory\n */\nexport function SplitsUpdateWorker(log, splitsCache, splitsSyncTask, splitsEventEmitter, segmentsSyncTask) {\n    var maxChangeNumber = 0;\n    var handleNewEvent = false;\n    var isHandlingEvent;\n    var cdnBypass;\n    var backoff = new Backoff(__handleSplitUpdateCall, FETCH_BACKOFF_BASE, FETCH_BACKOFF_MAX_WAIT);\n    function __handleSplitUpdateCall() {\n        isHandlingEvent = true;\n        if (maxChangeNumber > splitsCache.getChangeNumber()) {\n            handleNewEvent = false;\n            // fetch splits revalidating data if cached\n            splitsSyncTask.execute(true, cdnBypass ? maxChangeNumber : undefined).then(function () {\n                if (!isHandlingEvent)\n                    return; // halt if `stop` has been called\n                if (handleNewEvent) {\n                    __handleSplitUpdateCall();\n                }\n                else {\n                    // fetch new registered segments for server-side API. Not retrying on error\n                    if (segmentsSyncTask)\n                        segmentsSyncTask.execute(true);\n                    var attempts = backoff.attempts + 1;\n                    if (maxChangeNumber <= splitsCache.getChangeNumber()) {\n                        log.debug(\"Refresh completed\" + (cdnBypass ? ' bypassing the CDN' : '') + \" in \" + attempts + \" attempts.\");\n                        isHandlingEvent = false;\n                        return;\n                    }\n                    if (attempts < FETCH_BACKOFF_MAX_RETRIES) {\n                        backoff.scheduleCall();\n                        return;\n                    }\n                    if (cdnBypass) {\n                        log.debug(\"No changes fetched after \" + attempts + \" attempts with CDN bypassed.\");\n                        isHandlingEvent = false;\n                    }\n                    else {\n                        backoff.reset();\n                        cdnBypass = true;\n                        __handleSplitUpdateCall();\n                    }\n                }\n            });\n        }\n        else {\n            isHandlingEvent = false;\n        }\n    }\n    /**\n     * Invoked by NotificationProcessor on SPLIT_UPDATE event\n     *\n     * @param {number} changeNumber change number of the SPLIT_UPDATE notification\n     */\n    function put(_a) {\n        var changeNumber = _a.changeNumber;\n        var currentChangeNumber = splitsCache.getChangeNumber();\n        if (changeNumber <= currentChangeNumber || changeNumber <= maxChangeNumber)\n            return;\n        maxChangeNumber = changeNumber;\n        handleNewEvent = true;\n        cdnBypass = false;\n        if (backoff.timeoutID || !isHandlingEvent)\n            __handleSplitUpdateCall();\n        backoff.reset();\n    }\n    return {\n        put: put,\n        /**\n         * Invoked by NotificationProcessor on SPLIT_KILL event\n         *\n         * @param {number} changeNumber change number of the SPLIT_UPDATE notification\n         * @param {string} splitName name of split to kill\n         * @param {string} defaultTreatment default treatment value\n         */\n        killSplit: function (_a) {\n            var changeNumber = _a.changeNumber, splitName = _a.splitName, defaultTreatment = _a.defaultTreatment;\n            if (splitsCache.killLocally(splitName, defaultTreatment, changeNumber)) {\n                // trigger an SDK_UPDATE if Split was killed locally\n                splitsEventEmitter.emit(SDK_SPLITS_ARRIVED, true);\n            }\n            // queues the SplitChanges fetch (only if changeNumber is newer)\n            put({ changeNumber: changeNumber });\n        },\n        stop: function () {\n            isHandlingEvent = false;\n            backoff.reset();\n        }\n    };\n}\n","/**\n * Base64 utils in pure JS, for browser, node and others which don't provide globals `btoa` and `atob`.\n * Implementation based on davidchambers/Base64 (https://github.com/davidchambers/Base64.js).\n\n   Copyright 2019 David Chambers\n\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n */\nvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n/**\n * Decode a given string value in Base64 format\n *\n * @param {string} input value to decode\n */\nexport function decodeFromBase64(input) {\n    var str = (String(input)).replace(/[=]+$/, ''); // #31: ExtendScript bad parse of /=\n    if (str.length % 4 === 1) {\n        throw new Error(\"'atob' failed: The string to be decoded is not correctly encoded.\");\n    }\n    var output = '';\n    for (\n    // initialize result and counters\n    var bc = 0, bs = void 0, buffer = void 0, idx = 0; \n    // get next character\n    buffer = str.charAt(idx++); // eslint-disable-line no-cond-assign\n     \n    // character found in table? initialize bit storage and add its ascii value;\n    // @ts-ignore\n    ~buffer && (bs = bc % 4 ? bs * 64 + buffer : buffer, bc++ % 4) ? output += String.fromCharCode(255 & bs >> (-2 * bc & 6)) : 0) {\n        // try to find character in table (0-63, not found => -1)\n        buffer = chars.indexOf(buffer);\n    }\n    return output;\n}\n/**\n * Encode a given string value to Base64 format.\n *\n * @param {string} input value to encode\n */\nexport function encodeToBase64(input) {\n    var str = String(input);\n    var output = '';\n    for (\n    // initialize result and counter\n    var block = void 0, charCode = void 0, idx = 0, map = chars; \n    // if the next str index does not exist:\n    //   change the mapping table to \"=\"\n    //   check if d has no fractional digits\n    str.charAt(idx | 0) || (map = '=', idx % 1); \n    // \"8 - idx % 1 * 8\" generates the sequence 2, 4, 6, 8\n    output += map.charAt(63 & block >> 8 - idx % 1 * 8)) {\n        charCode = str.charCodeAt(idx += 3 / 4);\n        if (charCode > 0xFF) {\n            throw new Error(\"'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.\");\n        }\n        // @ts-ignore\n        block = block << 8 | charCode;\n    }\n    return output;\n}\n","import { decodeFromBase64 } from '../base64';\n/**\n * Decode a JWT token.\n */\nexport function decodeJWTtoken(token) {\n    var base64Url = token.split('.')[1];\n    var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n    // no need to check availability of `encodeURIComponent`, since it is a function highly supported in browsers, node and other platforms.\n    var jsonPayload = decodeURIComponent(decodeFromBase64(base64).split('').map(function (c) {\n        return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n    }).join(''));\n    return JSON.parse(jsonPayload);\n}\n","/*\n Trimmed version of \"utfx\" library (https://www.npmjs.com/package/utfx/v/1.0.1) used to encode,\n decode and convert UTF8 / UTF16 in JavaScript, with the minimal methods used by the SDK.\n\n utfx (c) 2014 Daniel Wirtz <dcode@dcode.io>\n Released under the Apache License, Version 2.0\n see: https://github.com/dcodeIO/utfx for details\n*/\n/**\n * Encodes UTF8 code points to UTF8 bytes.\n * @param {(!function():number|null) | number} src Code points source, either as a function returning the next code point\n *  respectively `null` if there are no more code points left or a single numeric code point.\n * @param {!function(number)} dst Bytes destination as a function successively called with the next byte\n * @expose\n */\nfunction encodeUTF8(src, dst) {\n    var cp = null;\n    if (typeof src === 'number')\n        cp = src, src = function () { return null; };\n    while (cp !== null || (cp = src()) !== null) {\n        if (cp < 0x80)\n            dst(cp & 0x7F);\n        else if (cp < 0x800)\n            dst(((cp >> 6) & 0x1F) | 0xC0), dst((cp & 0x3F) | 0x80);\n        else if (cp < 0x10000)\n            dst(((cp >> 12) & 0x0F) | 0xE0), dst(((cp >> 6) & 0x3F) | 0x80), dst((cp & 0x3F) | 0x80);\n        else\n            dst(((cp >> 18) & 0x07) | 0xF0), dst(((cp >> 12) & 0x3F) | 0x80), dst(((cp >> 6) & 0x3F) | 0x80), dst((cp & 0x3F) | 0x80);\n        cp = null;\n    }\n}\n/**\n * Converts UTF16 characters to UTF8 code points.\n * @param {!function():number|null} src Characters source as a function returning the next char code respectively\n *  `null` if there are no more characters left.\n * @param {!function(number)} dst Code points destination as a function successively called with each converted code\n *  point.\n * @expose\n */\nfunction UTF16toUTF8(src, dst) {\n    var c1, c2 = null;\n    // eslint-disable-next-line no-constant-condition\n    while (true) {\n        if ((c1 = c2 !== null ? c2 : src()) === null)\n            break;\n        if (c1 >= 0xD800 && c1 <= 0xDFFF) {\n            if ((c2 = src()) !== null) {\n                if (c2 >= 0xDC00 && c2 <= 0xDFFF) {\n                    dst((c1 - 0xD800) * 0x400 + c2 - 0xDC00 + 0x10000);\n                    c2 = null;\n                    continue;\n                }\n            }\n        }\n        dst(c1);\n    }\n    if (c2 !== null)\n        dst(c2);\n}\n/**\n * Converts and encodes UTF16 characters to UTF8 bytes.\n * @param {!function():number|null} src Characters source as a function returning the next char code respectively `null`\n *  if there are no more characters left.\n * @param {!function(number)} dst Bytes destination as a function successively called with the next byte.\n * @expose\n */\nexport function encodeUTF16toUTF8(src, dst) {\n    UTF16toUTF8(src, function (cp) {\n        encodeUTF8(cp, dst);\n    });\n}\n/**\n * String.fromCharCode reference for compile time renaming.\n * @type {!function(...[number]):string}\n * @inner\n */\nvar stringFromCharCode = String.fromCharCode;\n/**\n * Creates a source function for a string.\n * @param {string} s String to read from\n * @returns {!function():number|null} Source function returning the next char code respectively `null` if there are\n *  no more characters left.\n * @throws {TypeError} If the argument is invalid\n * @expose\n */\nexport function stringSource(s) {\n    if (typeof s !== 'string')\n        throw TypeError('Illegal argument: ' + (typeof s));\n    var i = 0;\n    return function () {\n        return i >= s.length ? null : s.charCodeAt(i++);\n    };\n}\n/**\n * Creates a destination function for a string.\n * @returns {function(number=):undefined|string} Destination function successively called with the next char code.\n *  Returns the final string when called without arguments.\n * @expose\n */\nexport function stringDestination() {\n    var cs = [], ps = [];\n    return function () {\n        if (arguments.length === 0)\n            return ps.join('') + stringFromCharCode.apply(String, cs);\n        if (cs.length + arguments.length > 1024)\n            ps.push(stringFromCharCode.apply(String, cs)), cs.length = 0; // @ts-ignore\n        Array.prototype.push.apply(cs, arguments);\n    };\n}\n","import { stringSource, stringDestination, encodeUTF16toUTF8 } from './utfx';\nexport function UTF16ToUTF8(key) {\n    var sd;\n    encodeUTF16toUTF8(stringSource(key), sd = stringDestination());\n    return sd();\n}\n/*!\n * +----------------------------------------------------------------------------------+\n * | murmurHash3.js v3.0.0 (http://github.com/karanlyons/murmurHash3.js)              |\n * | A TypeScript/JavaScript implementation of MurmurHash3's hashing algorithms.      |\n * |----------------------------------------------------------------------------------|\n * | Copyright (c) 2012-2020 Karan Lyons. Freely distributable under the MIT license. |\n * +----------------------------------------------------------------------------------+\n */\nexport function x86Multiply(m, n) {\n    //\n    // Given two 32bit ints, returns the two multiplied together as a\n    // 32bit int.\n    //\n    return ((m & 0xffff) * n) + ((((m >>> 16) * n) & 0xffff) << 16);\n}\nexport function x86Rotl(m, n) {\n    //\n    // Given a 32bit int and an int representing a number of bit positions,\n    // returns the 32bit int rotated left by that number of positions.\n    //\n    return (m << n) | (m >>> (32 - n));\n}\nexport function x86Fmix(h) {\n    //\n    // Given a block, returns murmurHash3's final x86 mix of that block.\n    //\n    h ^= h >>> 16;\n    h = x86Multiply(h, 0x85ebca6b);\n    h ^= h >>> 13;\n    h = x86Multiply(h, 0xc2b2ae35);\n    h ^= h >>> 16;\n    return h;\n}\n","/* eslint-disable no-fallthrough */\nimport { UTF16ToUTF8, x86Fmix, x86Multiply, x86Rotl } from './common';\n/*\n * +----------------------------------------------------------------------------------+\n * | murmurHash3.js v3.0.0 (http://github.com/karanlyons/murmurHash3.js)              |\n * | A TypeScript/JavaScript implementation of MurmurHash3's hashing algorithms.      |\n * |----------------------------------------------------------------------------------|\n * | Copyright (c) 2012-2020 Karan Lyons. Freely distributable under the MIT license. |\n * +----------------------------------------------------------------------------------+\n */\n// PUBLIC FUNCTIONS\n// ----------------\nfunction hash32(key, seed) {\n    //\n    // Given a string and an optional seed as an int, returns a 32 bit hash\n    // using the x86 flavor of MurmurHash3, as an unsigned int.\n    //\n    key = key || '';\n    seed = seed || 0;\n    var remainder = key.length % 4;\n    var bytes = key.length - remainder;\n    var h1 = seed;\n    var k1 = 0;\n    var c1 = 0xcc9e2d51;\n    var c2 = 0x1b873593;\n    for (var i = 0; i < bytes; i = i + 4) {\n        k1 = ((key.charCodeAt(i) & 0xff)) | ((key.charCodeAt(i + 1) & 0xff) << 8) | ((key.charCodeAt(i + 2) & 0xff) << 16) | ((key.charCodeAt(i + 3) & 0xff) << 24);\n        k1 = x86Multiply(k1, c1);\n        k1 = x86Rotl(k1, 15);\n        k1 = x86Multiply(k1, c2);\n        h1 ^= k1;\n        h1 = x86Rotl(h1, 13);\n        h1 = x86Multiply(h1, 5) + 0xe6546b64;\n    }\n    k1 = 0;\n    switch (remainder) {\n        case 3:\n            k1 ^= (key.charCodeAt(i + 2) & 0xff) << 16;\n        case 2:\n            k1 ^= (key.charCodeAt(i + 1) & 0xff) << 8;\n        case 1:\n            k1 ^= (key.charCodeAt(i) & 0xff);\n            k1 = x86Multiply(k1, c1);\n            k1 = x86Rotl(k1, 15);\n            k1 = x86Multiply(k1, c2);\n            h1 ^= k1;\n    }\n    h1 ^= key.length;\n    h1 = x86Fmix(h1);\n    return h1 >>> 0;\n}\nexport function hash(str, seed) {\n    return hash32(UTF16ToUTF8(str), seed >>> 0);\n}\nexport function bucket(str, seed) {\n    return Math.abs(hash(str, seed) % 100) + 1;\n}\n","import { objectAssign } from '../../../utils/lang/objectAssign';\nimport { encodeToBase64 } from '../../../utils/base64';\nimport { decodeJWTtoken } from '../../../utils/jwt';\nimport { hash } from '../../../utils/murmur3/murmur3';\n/**\n * Factory of authentication function.\n *\n * @param fetchAuth `SplitAPI.fetchAuth` endpoint\n */\nexport function authenticateFactory(fetchAuth) {\n    /**\n     * Run authentication requests to Auth Server, and returns a promise that resolves with the decoded JTW token.\n     * @param {string[] | undefined} userKeys set of user Keys to track MY_SEGMENTS_CHANGES. It is undefined for server-side API.\n     */\n    return function authenticate(userKeys) {\n        return fetchAuth(userKeys)\n            .then(function (resp) { return resp.json(); })\n            .then(function (json) {\n            if (json.token) { // empty token when `\"pushEnabled\": false`\n                var decodedToken = decodeJWTtoken(json.token);\n                if (typeof decodedToken.iat !== 'number' || typeof decodedToken.exp !== 'number')\n                    throw new Error('token properties \"issuedAt\" (iat) or \"expiration\" (exp) are missing or invalid');\n                var channels = JSON.parse(decodedToken['x-ably-capability']);\n                return objectAssign({\n                    decodedToken: decodedToken,\n                    channels: channels\n                }, json);\n            }\n            return json;\n        });\n    };\n}\n/**\n * Returns the hash of a given user key\n */\nexport function hashUserKey(userKey) {\n    return encodeToBase64(hash(userKey, 0).toString());\n}\n","import { isString } from '../../../utils/lang';\nvar VERSION = '1.1';\nvar CONTROL_CHANNEL_REGEX = /^control_/;\n/**\n * Build metadata headers for SSE connection.\n *\n * @param {ISettings} settings Validated settings.\n * @returns {Record<string, string>} Headers object\n */\nfunction buildSSEHeaders(settings) {\n    var headers = {\n        SplitSDKClientKey: isString(settings.core.authorizationKey) ? settings.core.authorizationKey.slice(-4) : '',\n        SplitSDKVersion: settings.version,\n    };\n    // ip and hostname are false if IPAddressesEnabled is false\n    var _a = settings.runtime, ip = _a.ip, hostname = _a.hostname;\n    if (ip)\n        headers['SplitSDKMachineIP'] = ip;\n    if (hostname)\n        headers['SplitSDKMachineName'] = hostname;\n    return headers;\n}\n/**\n * Handles streaming connections with EventSource API\n */\nvar SSEClient = /** @class */ (function () {\n    /**\n     * SSEClient constructor.\n     *\n     * @param settings Validated settings.\n     * @param useHeaders True to send metadata as headers or false to send as query params. If `true`, the provided EventSource must support headers.\n     * @param getEventSource Function to get the EventSource constructor.\n     * @throws 'EventSource API is not available. ' if EventSource is not available.\n     */\n    function SSEClient(settings, useHeaders, getEventSource) {\n        this.eventSource = getEventSource && getEventSource();\n        // if eventSource is not available, throw an exception\n        if (!this.eventSource)\n            throw new Error('EventSource API is not available. ');\n        this.streamingUrl = settings.urls.streaming + '/sse';\n        // @TODO get `useHeaders` flag from `getEventSource`, to use EventSource headers on client-side SDKs when possible.\n        this.useHeaders = useHeaders;\n        this.headers = buildSSEHeaders(settings);\n    }\n    SSEClient.prototype.setEventHandler = function (handler) {\n        this.handler = handler;\n    };\n    /**\n     * Open the connection with a given authToken\n     *\n     * @param {IAuthTokenPushEnabled} authToken\n     * @throws {TypeError} Will throw an error if `authToken` is undefined\n     */\n    SSEClient.prototype.open = function (authToken) {\n        this.close(); // it closes connection if previously opened\n        var channelsQueryParam = Object.keys(authToken.channels).map(function (channel) {\n            var params = CONTROL_CHANNEL_REGEX.test(channel) ? '[?occupancy=metrics.publishers]' : '';\n            return encodeURIComponent(params + channel);\n        }).join(',');\n        var url = this.streamingUrl + \"?channels=\" + channelsQueryParam + \"&accessToken=\" + authToken.token + \"&v=\" + VERSION + \"&heartbeats=true\"; // same results using `&heartbeats=false`\n        this.connection = new this.eventSource(\n        // For client-side SDKs, SplitSDKClientKey and SplitSDKClientKey metadata is passed as query params,\n        // because native EventSource implementations for browser doesn't support headers.\n        this.useHeaders ? url : url + (\"&SplitSDKVersion=\" + this.headers.SplitSDKVersion + \"&SplitSDKClientKey=\" + this.headers.SplitSDKClientKey), \n        // @ts-ignore. For server-side SDKs, metadata is passed via headers. EventSource must support headers, like 'eventsource' package for Node.\n        this.useHeaders ? { headers: this.headers } : undefined);\n        if (this.handler) { // no need to check if SSEClient is used only by PushManager\n            this.connection.addEventListener('open', this.handler.handleOpen);\n            this.connection.addEventListener('message', this.handler.handleMessage);\n            this.connection.addEventListener('error', this.handler.handleError);\n        }\n    };\n    /** Close connection  */\n    SSEClient.prototype.close = function () {\n        if (this.connection)\n            this.connection.close();\n    };\n    return SSEClient;\n}());\nexport { SSEClient };\n","export var Compression;\n(function (Compression) {\n    Compression[Compression[\"None\"] = 0] = \"None\";\n    Compression[Compression[\"Gzip\"] = 1] = \"Gzip\";\n    Compression[Compression[\"Zlib\"] = 2] = \"Zlib\";\n})(Compression || (Compression = {}));\nexport var UpdateStrategy;\n(function (UpdateStrategy) {\n    UpdateStrategy[UpdateStrategy[\"UnboundedFetchRequest\"] = 0] = \"UnboundedFetchRequest\";\n    UpdateStrategy[UpdateStrategy[\"BoundedFetchRequest\"] = 1] = \"BoundedFetchRequest\";\n    UpdateStrategy[UpdateStrategy[\"KeyList\"] = 2] = \"KeyList\";\n    UpdateStrategy[UpdateStrategy[\"SegmentRemoval\"] = 3] = \"SegmentRemoval\";\n})(UpdateStrategy || (UpdateStrategy = {}));\n","import { isObject } from '../lang';\n// function isSplitKeyObject(key: any): key is SplitIO.SplitKeyObject {\n//   return key !== undefined && key !== null && typeof key.matchingKey === 'string';\n// }\n// returns the matchingKey if the Key is defined as an object or the key itself if it is a string\nexport function getMatching(key) {\n    return isObject(key) ? key.matchingKey : key;\n}\n// if the key is a string, there's no bucketingKey (undefined)\nexport function getBucketing(key) {\n    return isObject(key) ? key.bucketingKey : undefined;\n}\n/**\n * Verify type of key and return a valid object key used for get treatment for a\n * specific split.\n */\nexport function keyParser(key) {\n    if (isObject(key)) {\n        return {\n            matchingKey: key.matchingKey,\n            bucketingKey: key.bucketingKey\n        };\n    }\n    else {\n        return {\n            matchingKey: key,\n            bucketingKey: key\n        };\n    }\n}\n","/*\nTrimmed version of \"fflate\" library (https://www.npmjs.com/package/fflate/v/0.7.1)\nused for GZIP/Zlib decompression in JavaScript, with the minimal modules used by the SDK.\n\nMIT License\n\nCopyright (c) 2020 Arjun Barrett\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n*/\n/* eslint-disable */\n// @ts-nocheck\nexport var algorithms = (function iifeDecompress() {\n    // Handle runtimes without typed arrays\n    if ([typeof Uint8Array, typeof Uint16Array, typeof Uint32Array].some(function (v) { return v != 'function'; })) {\n        return 'global Uint8Array object is not available for gzip/zlib decompression';\n    }\n    // DEFLATE is a complex format; to read this code, you should probably check the RFC first:\n    // aliases for shorter compressed code (most minifers don't do this)\n    var u8 = Uint8Array, u16 = Uint16Array, u32 = Uint32Array;\n    // fixed length extra bits\n    var fleb = new u8([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, /* unused */ 0, 0, /* impossible */ 0]);\n    // fixed distance extra bits\n    // see fleb note\n    var fdeb = new u8([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13, /* unused */ 0, 0]);\n    // code length index map\n    var clim = new u8([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]);\n    // get base, reverse index map from extra bits\n    var freb = function (eb, start) {\n        var b = new u16(31);\n        for (var i = 0; i < 31; ++i) {\n            b[i] = start += 1 << eb[i - 1];\n        }\n        // numbers here are at max 18 bits\n        var r = new u32(b[30]);\n        for (var i = 1; i < 30; ++i) {\n            for (var j = b[i]; j < b[i + 1]; ++j) {\n                r[j] = ((j - b[i]) << 5) | i;\n            }\n        }\n        return [b, r];\n    };\n    var _a = freb(fleb, 2), fl = _a[0], revfl = _a[1];\n    // we can ignore the fact that the other numbers are wrong; they never happen anyway\n    fl[28] = 258, revfl[258] = 28;\n    var _b = freb(fdeb, 0), fd = _b[0];\n    // map of value to reverse (assuming 16 bits)\n    var rev = new u16(32768);\n    for (var i = 0; i < 32768; ++i) {\n        // reverse table algorithm from SO\n        var x = ((i & 0xAAAA) >>> 1) | ((i & 0x5555) << 1);\n        x = ((x & 0xCCCC) >>> 2) | ((x & 0x3333) << 2);\n        x = ((x & 0xF0F0) >>> 4) | ((x & 0x0F0F) << 4);\n        rev[i] = (((x & 0xFF00) >>> 8) | ((x & 0x00FF) << 8)) >>> 1;\n    }\n    // create huffman tree from u8 \"map\": index -> code length for code index\n    // mb (max bits) must be at most 15\n    // TODO: optimize/split up?\n    var hMap = (function (cd, mb, r) {\n        var s = cd.length;\n        // index\n        var i = 0;\n        // u16 \"map\": index -> # of codes with bit length = index\n        var l = new u16(mb);\n        // length of cd must be 288 (total # of codes)\n        for (; i < s; ++i)\n            ++l[cd[i] - 1];\n        // u16 \"map\": index -> minimum code for bit length = index\n        var le = new u16(mb);\n        for (i = 0; i < mb; ++i) {\n            le[i] = (le[i - 1] + l[i - 1]) << 1;\n        }\n        var co;\n        if (r) {\n            // u16 \"map\": index -> number of actual bits, symbol for code\n            co = new u16(1 << mb);\n            // bits to remove for reverser\n            var rvb = 15 - mb;\n            for (i = 0; i < s; ++i) {\n                // ignore 0 lengths\n                if (cd[i]) {\n                    // num encoding both symbol and bits read\n                    var sv = (i << 4) | cd[i];\n                    // free bits\n                    var r_1 = mb - cd[i];\n                    // start value\n                    var v = le[cd[i] - 1]++ << r_1;\n                    // m is end value\n                    for (var m = v | ((1 << r_1) - 1); v <= m; ++v) {\n                        // every 16 bit value starting with the code yields the same result\n                        co[rev[v] >>> rvb] = sv;\n                    }\n                }\n            }\n        }\n        else {\n            co = new u16(s);\n            for (i = 0; i < s; ++i) {\n                if (cd[i]) {\n                    co[i] = rev[le[cd[i] - 1]++] >>> (15 - cd[i]);\n                }\n            }\n        }\n        return co;\n    });\n    // fixed length tree\n    var flt = new u8(288);\n    for (var i = 0; i < 144; ++i)\n        flt[i] = 8;\n    for (var i = 144; i < 256; ++i)\n        flt[i] = 9;\n    for (var i = 256; i < 280; ++i)\n        flt[i] = 7;\n    for (var i = 280; i < 288; ++i)\n        flt[i] = 8;\n    // fixed distance tree\n    var fdt = new u8(32);\n    for (var i = 0; i < 32; ++i)\n        fdt[i] = 5;\n    // fixed length map\n    var flrm = /*#__PURE__*/ hMap(flt, 9, 1);\n    // fixed distance map\n    var fdrm = /*#__PURE__*/ hMap(fdt, 5, 1);\n    // find max of array\n    var max = function (a) {\n        var m = a[0];\n        for (var i = 1; i < a.length; ++i) {\n            if (a[i] > m)\n                m = a[i];\n        }\n        return m;\n    };\n    // read d, starting at bit p and mask with m\n    var bits = function (d, p, m) {\n        var o = (p / 8) | 0;\n        return ((d[o] | (d[o + 1] << 8)) >> (p & 7)) & m;\n    };\n    // read d, starting at bit p continuing for at least 16 bits\n    var bits16 = function (d, p) {\n        var o = (p / 8) | 0;\n        return ((d[o] | (d[o + 1] << 8) | (d[o + 2] << 16)) >> (p & 7));\n    };\n    // get end of byte\n    var shft = function (p) { return ((p + 7) / 8) | 0; };\n    // typed array slice - allows garbage collector to free original reference,\n    // while being more compatible than .slice\n    var slc = function (v, s, e) {\n        if (s == null || s < 0)\n            s = 0;\n        if (e == null || e > v.length)\n            e = v.length;\n        // can't use .constructor in case user-supplied\n        var n = new (v instanceof u16 ? u16 : v instanceof u32 ? u32 : u8)(e - s);\n        n.set(v.subarray(s, e));\n        return n;\n    };\n    // error codes\n    var ec = [\n        'unexpected EOF',\n        'invalid block type',\n        'invalid length/literal',\n        'invalid distance',\n        'stream finished',\n        'no stream handler',\n        ,\n        'no callback',\n        'invalid UTF-8 data',\n        'extra field too long',\n        'date not in range 1980-2099',\n        'filename too long',\n        'stream finishing',\n        'invalid zip data'\n        // determined by unknown compression method\n    ];\n    var err = function (ind, msg, nt) {\n        var e = new Error(msg || ec[ind]);\n        e.code = ind;\n        if (Error.captureStackTrace)\n            Error.captureStackTrace(e, err);\n        if (!nt)\n            throw e;\n        return e;\n    };\n    // expands raw DEFLATE data\n    var inflt = function (dat, buf, st) {\n        // source length\n        var sl = dat.length;\n        if (!sl || (st && st.f && !st.l))\n            return buf || new u8(0);\n        // have to estimate size\n        var noBuf = !buf || st;\n        // no state\n        var noSt = !st || st.i;\n        if (!st)\n            st = {};\n        // Assumes roughly 33% compression ratio average\n        if (!buf)\n            buf = new u8(sl * 3);\n        // ensure buffer can fit at least l elements\n        var cbuf = function (l) {\n            var bl = buf.length;\n            // need to increase size to fit\n            if (l > bl) {\n                // Double or set to necessary, whichever is greater\n                var nbuf = new u8(Math.max(bl * 2, l));\n                nbuf.set(buf);\n                buf = nbuf;\n            }\n        };\n        //  last chunk         bitpos           bytes\n        var final = st.f || 0, pos = st.p || 0, bt = st.b || 0, lm = st.l, dm = st.d, lbt = st.m, dbt = st.n;\n        // total bits\n        var tbts = sl * 8;\n        do {\n            if (!lm) {\n                // BFINAL - this is only 1 when last chunk is next\n                final = bits(dat, pos, 1);\n                // type: 0 = no compression, 1 = fixed huffman, 2 = dynamic huffman\n                var type = bits(dat, pos + 1, 3);\n                pos += 3;\n                if (!type) {\n                    // go to end of byte boundary\n                    var s = shft(pos) + 4, l = dat[s - 4] | (dat[s - 3] << 8), t = s + l;\n                    if (t > sl) {\n                        if (noSt)\n                            err(0);\n                        break;\n                    }\n                    // ensure size\n                    if (noBuf)\n                        cbuf(bt + l);\n                    // Copy over uncompressed data\n                    buf.set(dat.subarray(s, t), bt);\n                    // Get new bitpos, update byte count\n                    st.b = bt += l, st.p = pos = t * 8, st.f = final;\n                    continue;\n                }\n                else if (type == 1)\n                    lm = flrm, dm = fdrm, lbt = 9, dbt = 5;\n                else if (type == 2) {\n                    //  literal                            lengths\n                    var hLit = bits(dat, pos, 31) + 257, hcLen = bits(dat, pos + 10, 15) + 4;\n                    var tl = hLit + bits(dat, pos + 5, 31) + 1;\n                    pos += 14;\n                    // length+distance tree\n                    var ldt = new u8(tl);\n                    // code length tree\n                    var clt = new u8(19);\n                    for (var i = 0; i < hcLen; ++i) {\n                        // use index map to get real code\n                        clt[clim[i]] = bits(dat, pos + i * 3, 7);\n                    }\n                    pos += hcLen * 3;\n                    // code lengths bits\n                    var clb = max(clt), clbmsk = (1 << clb) - 1;\n                    // code lengths map\n                    var clm = hMap(clt, clb, 1);\n                    for (var i = 0; i < tl;) {\n                        var r = clm[bits(dat, pos, clbmsk)];\n                        // bits read\n                        pos += r & 15;\n                        // symbol\n                        var s = r >>> 4;\n                        // code length to copy\n                        if (s < 16) {\n                            ldt[i++] = s;\n                        }\n                        else {\n                            //  copy   count\n                            var c = 0, n = 0;\n                            if (s == 16)\n                                n = 3 + bits(dat, pos, 3), pos += 2, c = ldt[i - 1];\n                            else if (s == 17)\n                                n = 3 + bits(dat, pos, 7), pos += 3;\n                            else if (s == 18)\n                                n = 11 + bits(dat, pos, 127), pos += 7;\n                            while (n--)\n                                ldt[i++] = c;\n                        }\n                    }\n                    //    length tree                 distance tree\n                    var lt = ldt.subarray(0, hLit), dt = ldt.subarray(hLit);\n                    // max length bits\n                    lbt = max(lt);\n                    // max dist bits\n                    dbt = max(dt);\n                    lm = hMap(lt, lbt, 1);\n                    dm = hMap(dt, dbt, 1);\n                }\n                else\n                    err(1);\n                if (pos > tbts) {\n                    if (noSt)\n                        err(0);\n                    break;\n                }\n            }\n            // Make sure the buffer can hold this + the largest possible addition\n            // Maximum chunk size (practically, theoretically infinite) is 2^17;\n            if (noBuf)\n                cbuf(bt + 131072);\n            var lms = (1 << lbt) - 1, dms = (1 << dbt) - 1;\n            var lpos = pos;\n            for (;; lpos = pos) {\n                // bits read, code\n                var c = lm[bits16(dat, pos) & lms], sym = c >>> 4;\n                pos += c & 15;\n                if (pos > tbts) {\n                    if (noSt)\n                        err(0);\n                    break;\n                }\n                if (!c)\n                    err(2);\n                if (sym < 256)\n                    buf[bt++] = sym;\n                else if (sym == 256) {\n                    lpos = pos, lm = null;\n                    break;\n                }\n                else {\n                    var add = sym - 254;\n                    // no extra bits needed if less\n                    if (sym > 264) {\n                        // index\n                        var i = sym - 257, b = fleb[i];\n                        add = bits(dat, pos, (1 << b) - 1) + fl[i];\n                        pos += b;\n                    }\n                    // dist\n                    var d = dm[bits16(dat, pos) & dms], dsym = d >>> 4;\n                    if (!d)\n                        err(3);\n                    pos += d & 15;\n                    var dt = fd[dsym];\n                    if (dsym > 3) {\n                        var b = fdeb[dsym];\n                        dt += bits16(dat, pos) & ((1 << b) - 1), pos += b;\n                    }\n                    if (pos > tbts) {\n                        if (noSt)\n                            err(0);\n                        break;\n                    }\n                    if (noBuf)\n                        cbuf(bt + 131072);\n                    var end = bt + add;\n                    for (; bt < end; bt += 4) {\n                        buf[bt] = buf[bt - dt];\n                        buf[bt + 1] = buf[bt + 1 - dt];\n                        buf[bt + 2] = buf[bt + 2 - dt];\n                        buf[bt + 3] = buf[bt + 3 - dt];\n                    }\n                    bt = end;\n                }\n            }\n            st.l = lm, st.p = lpos, st.b = bt, st.f = final;\n            if (lm)\n                final = 1, st.m = lbt, st.d = dm, st.n = dbt;\n        } while (!final);\n        return bt == buf.length ? buf : slc(buf, 0, bt);\n    };\n    // gzip footer: -8 to -4 = CRC, -4 to -0 is length\n    // gzip start\n    var gzs = function (d) {\n        if (d[0] != 31 || d[1] != 139 || d[2] != 8)\n            err(6, 'invalid gzip data');\n        var flg = d[3];\n        var st = 10;\n        if (flg & 4)\n            st += d[10] | (d[11] << 8) + 2;\n        for (var zs = (flg >> 3 & 1) + (flg >> 4 & 1); zs > 0; zs -= !d[st++])\n            ;\n        return st + (flg & 2);\n    };\n    // gzip length\n    var gzl = function (d) {\n        var l = d.length;\n        return ((d[l - 4] | d[l - 3] << 8 | d[l - 2] << 16) | (d[l - 1] << 24)) >>> 0;\n    };\n    // zlib valid\n    var zlv = function (d) {\n        if ((d[0] & 15) != 8 || (d[0] >>> 4) > 7 || ((d[0] << 8 | d[1]) % 31))\n            err(6, 'invalid zlib data');\n        if (d[1] & 32)\n            err(6, 'invalid zlib data: preset dictionaries not supported');\n    };\n    return {\n        /**\n         * Expands GZIP data\n         * @param data The data to decompress\n         * @param out Where to write the data. GZIP already encodes the output size, so providing this doesn't save memory.\n         * @returns The decompressed version of the data\n         */\n        gunzipSync: function (data, out) {\n            return inflt(data.subarray(gzs(data), -8), out || new u8(gzl(data)));\n        },\n        /**\n         * Expands Zlib data\n         * @param data The data to decompress\n         * @param out Where to write the data. Saves memory if you know the decompressed size and provide an output buffer of that length.\n         * @returns The decompressed version of the data\n         */\n        unzlibSync: function (data, out) {\n            return inflt((zlv(data), data.subarray(2, -4)), out);\n        }\n    };\n})();\n","import { algorithms } from '../../utils/decompress';\nimport { decodeFromBase64 } from '../../utils/base64';\nvar GZIP = 1;\nvar ZLIB = 2;\nfunction Uint8ArrayToString(myUint8Arr) {\n    return String.fromCharCode.apply(null, myUint8Arr);\n}\nfunction StringToUint8Array(myString) {\n    var charCodes = myString.split('').map(function (e) { return e.charCodeAt(0); });\n    return new Uint8Array(charCodes);\n}\n/**\n * Decode and decompress 'data' with 'compression' algorithm\n *\n * @param {string} data\n * @param {number} compression 1 GZIP, 2 ZLIB\n * @returns {Uint8Array}\n * @throws if data string cannot be decoded, decompressed or the provided compression value is invalid (not 1 or 2)\n */\nfunction decompress(data, compression) {\n    var compressData = decodeFromBase64(data);\n    var binData = StringToUint8Array(compressData);\n    if (typeof algorithms === 'string')\n        throw new Error(algorithms);\n    if (compression === GZIP)\n        return algorithms.gunzipSync(binData);\n    if (compression === ZLIB)\n        return algorithms.unzlibSync(binData);\n    throw new Error(\"Invalid compression algorithm #\" + compression);\n}\n/**\n * Decode, decompress and parse the provided 'data' into a KeyList object\n *\n * @param {string} data\n * @param {number} compression\n * @returns {{a?: string[], r?: string[] }}\n * @throws if data string cannot be decoded, decompressed or parsed\n */\nexport function parseKeyList(data, compression) {\n    var binKeyList = decompress(data, compression);\n    var strKeyList = Uint8ArrayToString(binKeyList);\n    // replace numbers to strings, to avoid losing precision\n    return JSON.parse(strKeyList.replace(/\\d+/g, '\"$&\"'));\n}\n/**\n * Decode, decompress and parse the provided 'data' into a Bitmap object\n *\n * @param {string} data\n * @param {number} compression\n * @returns {Uint8Array}\n * @throws if data string cannot be decoded or decompressed\n */\nexport function parseBitmap(data, compression) {\n    return decompress(data, compression);\n}\n/**\n * Check if the 'bitmap' bit at 'hash64hex' position is 1\n *\n * @param {Uint8Array} bitmap\n * @param {string} hash64hex 16-chars string, representing a number in hexa\n * @returns {boolean}\n */\nexport function isInBitmap(bitmap, hash64hex) {\n    // using the lowest 32 bits as index, to avoid losing precision when converting to number\n    var index = parseInt(hash64hex.slice(8), 16) % (bitmap.length * 8);\n    var internal = Math.floor(index / 8);\n    var offset = index % 8;\n    return (bitmap[internal] & 1 << offset) > 0;\n}\n","/**\n * Set implementation based on es6-set polyfill (https://github.com/medikoo/es6-set/blob/master/polyfill.js),\n * with the minimal features used by the SDK.\n\nCopyright (C) 2013 Mariusz Nowak (www.medikoo.com)\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n**/\nvar SetPoly = /** @class */ (function () {\n    // unlike ES6 `Set`, it only accepts an array as first argument iterable\n    function SetPoly(values) {\n        var _this = this;\n        this.__setData__ = [];\n        if (Array.isArray(values))\n            values.forEach(function (value) { _this.add(value); });\n    }\n    SetPoly.prototype.clear = function () {\n        if (!this.__setData__.length)\n            return;\n        this.__setData__.length = 0;\n    };\n    SetPoly.prototype.add = function (value) {\n        if (this.has(value))\n            return this;\n        this.__setData__.push(value);\n        return this;\n    };\n    SetPoly.prototype.delete = function (value) {\n        var index = this.__setData__.indexOf(value);\n        if (index === -1)\n            return false;\n        this.__setData__.splice(index, 1);\n        return true;\n    };\n    SetPoly.prototype.has = function (value) {\n        return this.__setData__.indexOf(value) !== -1;\n    };\n    SetPoly.prototype.forEach = function (callbackfn, thisArg) {\n        if (typeof callbackfn !== 'function')\n            throw new TypeError(callbackfn + ' is not a function');\n        for (var i = 0; i < this.__setData__.length; i++) {\n            var value = this.__setData__[i];\n            callbackfn.call(thisArg, value, value, this);\n        }\n    };\n    Object.defineProperty(SetPoly.prototype, \"size\", {\n        get: function () {\n            return this.__setData__.length;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return SetPoly;\n}());\nexport { SetPoly };\n/**\n * return an array containing the items of the given set.\n * @param set Set or SetPoly instance\n */\nexport function setToArray(set) {\n    if (set instanceof SetPoly) {\n        return set.__setData__.slice();\n    }\n    // if not using SetPoly as set, it means Array.from is supported\n    // eslint-disable-next-line compat/compat\n    return Array.from(set);\n}\n/**\n * return the Set constructor to use. If `Array.from` built-in or native Set is not available or it doesn't support the required features,\n * a ponyfill with minimal features is returned instead.\n *\n * Exported for testing purposes only.\n */\nexport function __getSetConstructor() {\n    // eslint-disable-next-line compat/compat\n    if (typeof Array.from === 'function' && typeof Set === 'function' && Set.prototype && Set.prototype.values) {\n        return Set;\n    }\n    return SetPoly;\n}\nexport var _Set = __getSetConstructor();\n","/* eslint-disable no-fallthrough */\nimport { UTF16ToUTF8 } from './common';\n/*\n * +----------------------------------------------------------------------------------+\n * | murmurHash3.js v3.0.0 (http://github.com/karanlyons/murmurHash3.js)              |\n * | A TypeScript/JavaScript implementation of MurmurHash3's hashing algorithms.      |\n * |----------------------------------------------------------------------------------|\n * | Copyright (c) 2012-2020 Karan Lyons. Freely distributable under the MIT license. |\n * +----------------------------------------------------------------------------------+\n */\n// PRIVATE FUNCTIONS\n// -----------------\nfunction _x64Add(m, n) {\n    //\n    // Given two 64bit ints (as an array of two 32bit ints) returns the two\n    // added together as a 64bit int (as an array of two 32bit ints).\n    //\n    m = [m[0] >>> 16, m[0] & 0xffff, m[1] >>> 16, m[1] & 0xffff];\n    n = [n[0] >>> 16, n[0] & 0xffff, n[1] >>> 16, n[1] & 0xffff];\n    var o = [0, 0, 0, 0];\n    o[3] += m[3] + n[3];\n    o[2] += o[3] >>> 16;\n    o[3] &= 0xffff;\n    o[2] += m[2] + n[2];\n    o[1] += o[2] >>> 16;\n    o[2] &= 0xffff;\n    o[1] += m[1] + n[1];\n    o[0] += o[1] >>> 16;\n    o[1] &= 0xffff;\n    o[0] += m[0] + n[0];\n    o[0] &= 0xffff;\n    return [(o[0] << 16) | o[1], (o[2] << 16) | o[3]];\n}\nfunction _x64Multiply(m, n) {\n    //\n    // Given two 64bit ints (as an array of two 32bit ints) returns the two\n    // multiplied together as a 64bit int (as an array of two 32bit ints).\n    //\n    m = [m[0] >>> 16, m[0] & 0xffff, m[1] >>> 16, m[1] & 0xffff];\n    n = [n[0] >>> 16, n[0] & 0xffff, n[1] >>> 16, n[1] & 0xffff];\n    var o = [0, 0, 0, 0];\n    o[3] += m[3] * n[3];\n    o[2] += o[3] >>> 16;\n    o[3] &= 0xffff;\n    o[2] += m[2] * n[3];\n    o[1] += o[2] >>> 16;\n    o[2] &= 0xffff;\n    o[2] += m[3] * n[2];\n    o[1] += o[2] >>> 16;\n    o[2] &= 0xffff;\n    o[1] += m[1] * n[3];\n    o[0] += o[1] >>> 16;\n    o[1] &= 0xffff;\n    o[1] += m[2] * n[2];\n    o[0] += o[1] >>> 16;\n    o[1] &= 0xffff;\n    o[1] += m[3] * n[1];\n    o[0] += o[1] >>> 16;\n    o[1] &= 0xffff;\n    o[0] += (m[0] * n[3]) + (m[1] * n[2]) + (m[2] * n[1]) + (m[3] * n[0]);\n    o[0] &= 0xffff;\n    return [(o[0] << 16) | o[1], (o[2] << 16) | o[3]];\n}\nfunction _x64Rotl(m, n) {\n    //\n    // Given a 64bit int (as an array of two 32bit ints) and an int\n    // representing a number of bit positions, returns the 64bit int (as an\n    // array of two 32bit ints) rotated left by that number of positions.\n    //\n    n %= 64;\n    if (n === 32) {\n        return [m[1], m[0]];\n    }\n    else if (n < 32) {\n        return [(m[0] << n) | (m[1] >>> (32 - n)), (m[1] << n) | (m[0] >>> (32 - n))];\n    }\n    else {\n        n -= 32;\n        return [(m[1] << n) | (m[0] >>> (32 - n)), (m[0] << n) | (m[1] >>> (32 - n))];\n    }\n}\nfunction _x64LeftShift(m, n) {\n    //\n    // Given a 64bit int (as an array of two 32bit ints) and an int\n    // representing a number of bit positions, returns the 64bit int (as an\n    // array of two 32bit ints) shifted left by that number of positions.\n    //\n    n %= 64;\n    if (n === 0) {\n        return m;\n    }\n    else if (n < 32) {\n        return [(m[0] << n) | (m[1] >>> (32 - n)), m[1] << n];\n    }\n    else {\n        return [m[1] << (n - 32), 0];\n    }\n}\nfunction _x64Xor(m, n) {\n    //\n    // Given two 64bit ints (as an array of two 32bit ints) returns the two\n    // xored together as a 64bit int (as an array of two 32bit ints).\n    //\n    return [m[0] ^ n[0], m[1] ^ n[1]];\n}\nfunction _x64Fmix(h) {\n    //\n    // Given a block, returns murmurHash3's final x64 mix of that block.\n    // (`[0, h[0] >>> 1]` is a 33 bit unsigned right shift. This is the\n    // only place where we need to right shift 64bit ints.)\n    //\n    h = _x64Xor(h, [0, h[0] >>> 1]);\n    h = _x64Multiply(h, [0xff51afd7, 0xed558ccd]);\n    h = _x64Xor(h, [0, h[0] >>> 1]);\n    h = _x64Multiply(h, [0xc4ceb9fe, 0x1a85ec53]);\n    h = _x64Xor(h, [0, h[0] >>> 1]);\n    return h;\n}\n// PUBLIC FUNCTIONS\n// ----------------\nfunction hash128x64(key, seed) {\n    //\n    // Given a string and an optional seed as an int, returns a 128 bit\n    // hash using the x64 flavor of MurmurHash3, as an unsigned hex.\n    //\n    key = key || '';\n    seed = seed || 0;\n    var remainder = key.length % 16;\n    var bytes = key.length - remainder;\n    var h1 = [0, seed];\n    var h2 = [0, seed];\n    var k1 = [0, 0];\n    var k2 = [0, 0];\n    var c1 = [0x87c37b91, 0x114253d5];\n    var c2 = [0x4cf5ad43, 0x2745937f];\n    for (var i = 0; i < bytes; i = i + 16) {\n        k1 = [((key.charCodeAt(i + 4) & 0xff)) | ((key.charCodeAt(i + 5) & 0xff) << 8) | ((key.charCodeAt(i + 6) & 0xff) << 16) | ((key.charCodeAt(i + 7) & 0xff) << 24), ((key.charCodeAt(i) & 0xff)) | ((key.charCodeAt(i + 1) &\n                0xff) << 8) | ((key.charCodeAt(i + 2) & 0xff) << 16) | ((key.charCodeAt(i + 3) & 0xff) << 24)];\n        k2 = [((key.charCodeAt(i + 12) & 0xff)) | ((key.charCodeAt(i + 13) & 0xff) << 8) | ((key.charCodeAt(i + 14) & 0xff) << 16) | ((key.charCodeAt(i + 15) & 0xff) << 24), ((key.charCodeAt(i + 8) & 0xff)) | ((key.charCodeAt(i +\n                9) & 0xff) << 8) | ((key.charCodeAt(i + 10) & 0xff) << 16) | ((key.charCodeAt(i + 11) & 0xff) << 24)];\n        k1 = _x64Multiply(k1, c1);\n        k1 = _x64Rotl(k1, 31);\n        k1 = _x64Multiply(k1, c2);\n        h1 = _x64Xor(h1, k1);\n        h1 = _x64Rotl(h1, 27);\n        h1 = _x64Add(h1, h2);\n        h1 = _x64Add(_x64Multiply(h1, [0, 5]), [0, 0x52dce729]);\n        k2 = _x64Multiply(k2, c2);\n        k2 = _x64Rotl(k2, 33);\n        k2 = _x64Multiply(k2, c1);\n        h2 = _x64Xor(h2, k2);\n        h2 = _x64Rotl(h2, 31);\n        h2 = _x64Add(h2, h1);\n        h2 = _x64Add(_x64Multiply(h2, [0, 5]), [0, 0x38495ab5]);\n    }\n    k1 = [0, 0];\n    k2 = [0, 0];\n    switch (remainder) {\n        case 15:\n            k2 = _x64Xor(k2, _x64LeftShift([0, key.charCodeAt(i + 14)], 48));\n        case 14:\n            k2 = _x64Xor(k2, _x64LeftShift([0, key.charCodeAt(i + 13)], 40));\n        case 13:\n            k2 = _x64Xor(k2, _x64LeftShift([0, key.charCodeAt(i + 12)], 32));\n        case 12:\n            k2 = _x64Xor(k2, _x64LeftShift([0, key.charCodeAt(i + 11)], 24));\n        case 11:\n            k2 = _x64Xor(k2, _x64LeftShift([0, key.charCodeAt(i + 10)], 16));\n        case 10:\n            k2 = _x64Xor(k2, _x64LeftShift([0, key.charCodeAt(i + 9)], 8));\n        case 9:\n            k2 = _x64Xor(k2, [0, key.charCodeAt(i + 8)]);\n            k2 = _x64Multiply(k2, c2);\n            k2 = _x64Rotl(k2, 33);\n            k2 = _x64Multiply(k2, c1);\n            h2 = _x64Xor(h2, k2);\n        case 8:\n            k1 = _x64Xor(k1, _x64LeftShift([0, key.charCodeAt(i + 7)], 56));\n        case 7:\n            k1 = _x64Xor(k1, _x64LeftShift([0, key.charCodeAt(i + 6)], 48));\n        case 6:\n            k1 = _x64Xor(k1, _x64LeftShift([0, key.charCodeAt(i + 5)], 40));\n        case 5:\n            k1 = _x64Xor(k1, _x64LeftShift([0, key.charCodeAt(i + 4)], 32));\n        case 4:\n            k1 = _x64Xor(k1, _x64LeftShift([0, key.charCodeAt(i + 3)], 24));\n        case 3:\n            k1 = _x64Xor(k1, _x64LeftShift([0, key.charCodeAt(i + 2)], 16));\n        case 2:\n            k1 = _x64Xor(k1, _x64LeftShift([0, key.charCodeAt(i + 1)], 8));\n        case 1:\n            k1 = _x64Xor(k1, [0, key.charCodeAt(i)]);\n            k1 = _x64Multiply(k1, c1);\n            k1 = _x64Rotl(k1, 31);\n            k1 = _x64Multiply(k1, c2);\n            h1 = _x64Xor(h1, k1);\n    }\n    h1 = _x64Xor(h1, [0, key.length]);\n    h2 = _x64Xor(h2, [0, key.length]);\n    h1 = _x64Add(h1, h2);\n    h2 = _x64Add(h2, h1);\n    h1 = _x64Fmix(h1);\n    h2 = _x64Fmix(h2);\n    h1 = _x64Add(h1, h2);\n    h2 = _x64Add(h2, h1);\n    return ('00000000' + (h1[0] >>> 0).toString(16)).slice(-8) + ('00000000' + (h1[1] >>> 0).toString(16)).slice(-8) + ('00000000' + (h2[0] >>> 0).toString(16)).slice(-8) + ('00000000' + (h2[1] >>> 0).toString(16)).slice(-8);\n}\n/**\n * x64 version of Murmur3 for 128bits.\n *\n * @param {string} str\n */\nexport function hash128(str, seed) {\n    return hash128x64(UTF16ToUTF8(str), seed >>> 0);\n}\n","import { hash128 } from './murmur3_128';\n/**\n * Use instead of parseInt, to not lose precision when converting big integers (greater than 2^53 - 1)\n */\nfunction hex2dec(s) {\n    var i, j, digits = [0], carry;\n    for (i = 0; i < s.length; i += 1) {\n        carry = parseInt(s.charAt(i), 16);\n        for (j = digits.length - 1; j >= 0; j -= 1) {\n            digits[j] = digits[j] * 16 + carry;\n            carry = digits[j] / 10 | 0;\n            digits[j] %= 10;\n        }\n        while (carry > 0) {\n            digits.unshift(carry % 10);\n            carry = carry / 10 | 0;\n        }\n    }\n    return digits.join('');\n}\n/**\n * Gets the higher 64 bits of the x64 version of Murmur3 for 128bits, as decimal and hexadecimal number strings.\n * Used for MySegments channel V2 notifications.\n * @param {string} str\n */\nexport function hash64(str) {\n    var hex = hash128(str).slice(0, 16);\n    return {\n        hex: hex,\n        dec: hex2dec(hex) // KeyList notification\n    };\n}\n","import { objectAssign } from '../../utils/lang/objectAssign';\nimport { Backoff } from '../../utils/Backoff';\nimport { SSEHandlerFactory } from './SSEHandler';\nimport { MySegmentsUpdateWorker } from './UpdateWorkers/MySegmentsUpdateWorker';\nimport { SegmentsUpdateWorker } from './UpdateWorkers/SegmentsUpdateWorker';\nimport { SplitsUpdateWorker } from './UpdateWorkers/SplitsUpdateWorker';\nimport { authenticateFactory, hashUserKey } from './AuthClient';\nimport { forOwn } from '../../utils/lang';\nimport { SSEClient } from './SSEClient';\nimport { getMatching } from '../../utils/key';\nimport { MY_SEGMENTS_UPDATE, MY_SEGMENTS_UPDATE_V2, PUSH_NONRETRYABLE_ERROR, PUSH_SUBSYSTEM_DOWN, SECONDS_BEFORE_EXPIRATION, SEGMENT_UPDATE, SPLIT_KILL, SPLIT_UPDATE, PUSH_RETRYABLE_ERROR, PUSH_SUBSYSTEM_UP, ControlType } from './constants';\nimport { STREAMING_FALLBACK, STREAMING_REFRESH_TOKEN, STREAMING_CONNECTING, STREAMING_DISABLED, ERROR_STREAMING_AUTH, STREAMING_DISCONNECTING, STREAMING_RECONNECT, STREAMING_PARSING_MY_SEGMENTS_UPDATE_V2 } from '../../logger/constants';\nimport { UpdateStrategy } from './SSEHandler/types';\nimport { isInBitmap, parseBitmap, parseKeyList } from './mySegmentsV2utils';\nimport { _Set } from '../../utils/lang/sets';\nimport { hash64 } from '../../utils/murmur3/murmur3_64';\nimport { TOKEN_REFRESH, AUTH_REJECTION } from '../../utils/constants';\n/**\n * PushManager factory:\n * - for server-side if key is not provided in settings.\n * - for client-side, with support for multiple clients, if key is provided in settings\n */\nexport function pushManagerFactory(params, pollingManager) {\n    var settings = params.settings, storage = params.storage, splitApi = params.splitApi, readiness = params.readiness, platform = params.platform, telemetryTracker = params.telemetryTracker;\n    // `userKey` is the matching key of main client in client-side SDK.\n    // It can be used to check if running on client-side or server-side SDK.\n    var userKey = settings.core.key ? getMatching(settings.core.key) : undefined;\n    var log = settings.log;\n    var sseClient;\n    try {\n        // `useHeaders` false for client-side, even if the platform EventSource supports headers (e.g., React Native).\n        sseClient = new SSEClient(settings, userKey ? false : true, platform.getEventSource);\n    }\n    catch (e) {\n        log.warn(STREAMING_FALLBACK, [e]);\n        return;\n    }\n    var authenticate = authenticateFactory(splitApi.fetchAuth);\n    // init feedback loop\n    var pushEmitter = new platform.EventEmitter();\n    var sseHandler = SSEHandlerFactory(log, pushEmitter, telemetryTracker);\n    sseClient.setEventHandler(sseHandler);\n    // init workers\n    // MySegmentsUpdateWorker (client-side) are initiated in `add` method\n    var segmentsUpdateWorker = userKey ? undefined : SegmentsUpdateWorker(log, pollingManager.segmentsSyncTask, storage.segments);\n    // For server-side we pass the segmentsSyncTask, used by SplitsUpdateWorker to fetch new segments\n    var splitsUpdateWorker = SplitsUpdateWorker(log, storage.splits, pollingManager.splitsSyncTask, readiness.splits, userKey ? undefined : pollingManager.segmentsSyncTask);\n    // [Only for client-side] map of hashes to user keys, to dispatch MY_SEGMENTS_UPDATE events to the corresponding MySegmentsUpdateWorker\n    var userKeyHashes = {};\n    // [Only for client-side] map of user keys to their corresponding hash64 and MySegmentsUpdateWorkers.\n    // Hash64 is used to process MY_SEGMENTS_UPDATE_V2 events and dispatch actions to the corresponding MySegmentsUpdateWorker.\n    var clients = {};\n    // [Only for client-side] variable to flag that a new client was added. It is needed to reconnect streaming.\n    var connectForNewClient = false;\n    // flag that indicates if `stop/disconnectPush` was called, either by the SyncManager, when the client is destroyed, or due to a PUSH_NONRETRYABLE_ERROR error.\n    // It is used to halt the `connectPush` process if it was in progress.\n    var disconnected;\n    // flag that indicates a PUSH_NONRETRYABLE_ERROR, condition with which starting pushManager again is ignored.\n    // true if STREAMING_DISABLED control event, or 'pushEnabled: false', or non-recoverable SSE or Auth errors.\n    var disabled; // `disabled` implies `disconnected === true`\n    /** PushManager functions related to initialization */\n    var connectPushRetryBackoff = new Backoff(connectPush, settings.scheduler.pushRetryBackoffBase);\n    var timeoutIdTokenRefresh;\n    var timeoutIdSseOpen;\n    function scheduleTokenRefreshAndSse(authData) {\n        // clear scheduled tasks if exist\n        if (timeoutIdTokenRefresh)\n            clearTimeout(timeoutIdTokenRefresh);\n        if (timeoutIdSseOpen)\n            clearTimeout(timeoutIdSseOpen);\n        // Set token refresh 10 minutes before `expirationTime - issuedAt`\n        var decodedToken = authData.decodedToken;\n        var refreshTokenDelay = decodedToken.exp - decodedToken.iat - SECONDS_BEFORE_EXPIRATION;\n        // Default connDelay of 60 secs\n        var connDelay = typeof authData.connDelay === 'number' && authData.connDelay >= 0 ? authData.connDelay : 60;\n        log.info(STREAMING_REFRESH_TOKEN, [refreshTokenDelay, connDelay]);\n        timeoutIdTokenRefresh = setTimeout(connectPush, refreshTokenDelay * 1000);\n        timeoutIdSseOpen = setTimeout(function () {\n            // halt if disconnected\n            if (disconnected)\n                return;\n            sseClient.open(authData);\n        }, connDelay * 1000);\n        telemetryTracker.streamingEvent(TOKEN_REFRESH, decodedToken.exp);\n    }\n    function connectPush() {\n        // Guard condition in case `stop/disconnectPush` has been called (e.g., calling SDK destroy, or app signal close/background)\n        if (disconnected)\n            return;\n        // @TODO distinguish log for 'Connecting' (1st time) and 'Re-connecting'\n        log.info(STREAMING_CONNECTING);\n        disconnected = false;\n        var userKeys = userKey ? Object.keys(clients) : undefined;\n        authenticate(userKeys).then(function (authData) {\n            if (disconnected)\n                return;\n            // 'pushEnabled: false' is handled as a PUSH_NONRETRYABLE_ERROR instead of PUSH_SUBSYSTEM_DOWN, in order to\n            // close the sseClient in case the org has been bloqued while the instance was connected to streaming\n            if (!authData.pushEnabled) {\n                log.info(STREAMING_DISABLED);\n                pushEmitter.emit(PUSH_NONRETRYABLE_ERROR);\n                return;\n            }\n            // [Only for client-side] don't open SSE connection if a new shared client was added, since it means that a new authentication is taking place\n            if (userKeys && userKeys.length < Object.keys(clients).length)\n                return;\n            // Schedule SSE connection and refresh token\n            scheduleTokenRefreshAndSse(authData);\n        }).catch(function (error) {\n            if (disconnected)\n                return;\n            log.error(ERROR_STREAMING_AUTH, [error.message]);\n            // Handle 4XX HTTP errors: 401 (invalid API Key) or 400 (using incorrect API Key, i.e., client-side API Key on server-side)\n            if (error.statusCode >= 400 && error.statusCode < 500) {\n                telemetryTracker.streamingEvent(AUTH_REJECTION);\n                pushEmitter.emit(PUSH_NONRETRYABLE_ERROR);\n                return;\n            }\n            // Handle other HTTP and network errors as recoverable errors\n            pushEmitter.emit(PUSH_RETRYABLE_ERROR);\n        });\n    }\n    // close SSE connection and cancel scheduled tasks\n    function disconnectPush() {\n        // Halt disconnecting, just to avoid redundant logs if called multiple times\n        if (disconnected)\n            return;\n        disconnected = true;\n        sseClient.close();\n        log.info(STREAMING_DISCONNECTING);\n        if (timeoutIdTokenRefresh)\n            clearTimeout(timeoutIdTokenRefresh);\n        if (timeoutIdSseOpen)\n            clearTimeout(timeoutIdSseOpen);\n        connectPushRetryBackoff.reset();\n        stopWorkers();\n    }\n    // cancel scheduled fetch retries of Splits, Segments, and MySegments Update Workers\n    function stopWorkers() {\n        splitsUpdateWorker.stop();\n        if (userKey)\n            forOwn(clients, function (_a) {\n                var worker = _a.worker;\n                return worker.stop();\n            });\n        else\n            segmentsUpdateWorker.stop();\n    }\n    pushEmitter.on(PUSH_SUBSYSTEM_DOWN, stopWorkers);\n    // Only required when streaming connects after a PUSH_RETRYABLE_ERROR.\n    // Otherwise it is unnecessary (e.g, STREAMING_RESUMED).\n    pushEmitter.on(PUSH_SUBSYSTEM_UP, function () {\n        connectPushRetryBackoff.reset();\n    });\n    /** Fallback to polling without retry due to: STREAMING_DISABLED control event, or 'pushEnabled: false', or non-recoverable SSE and Authentication errors */\n    pushEmitter.on(PUSH_NONRETRYABLE_ERROR, function handleNonRetryableError() {\n        disabled = true;\n        // Note: `stopWorkers` is been called twice, but it is not harmful\n        disconnectPush();\n        pushEmitter.emit(PUSH_SUBSYSTEM_DOWN); // no harm if polling already\n    });\n    /** Fallback to polling with retry due to recoverable SSE and Authentication errors */\n    pushEmitter.on(PUSH_RETRYABLE_ERROR, function handleRetryableError() {\n        // SSE connection is closed to avoid repeated errors due to retries\n        sseClient.close();\n        // retry streaming reconnect with backoff algorithm\n        var delayInMillis = connectPushRetryBackoff.scheduleCall();\n        log.info(STREAMING_RECONNECT, [delayInMillis / 1000]);\n        pushEmitter.emit(PUSH_SUBSYSTEM_DOWN); // no harm if polling already\n    });\n    /** STREAMING_RESET notification. Unlike a PUSH_RETRYABLE_ERROR, it doesn't emit PUSH_SUBSYSTEM_DOWN to fallback polling */\n    pushEmitter.on(ControlType.STREAMING_RESET, function handleStreamingReset() {\n        if (disconnected)\n            return; // should never happen\n        // Minimum required clean-up.\n        // `disconnectPush` cannot be called because it sets `disconnected` and thus `connectPush` will not execute\n        if (timeoutIdTokenRefresh)\n            clearTimeout(timeoutIdTokenRefresh);\n        connectPush();\n    });\n    /** Functions related to synchronization (Queues and Workers in the spec) */\n    pushEmitter.on(SPLIT_KILL, splitsUpdateWorker.killSplit);\n    pushEmitter.on(SPLIT_UPDATE, splitsUpdateWorker.put);\n    if (userKey) {\n        pushEmitter.on(MY_SEGMENTS_UPDATE, function handleMySegmentsUpdate(parsedData, channel) {\n            var userKeyHash = channel.split('_')[2];\n            var userKey = userKeyHashes[userKeyHash];\n            if (userKey && clients[userKey]) { // check existence since it can be undefined if client has been destroyed\n                clients[userKey].worker.put(parsedData.changeNumber, parsedData.includesPayload ? parsedData.segmentList ? parsedData.segmentList : [] : undefined);\n            }\n        });\n        pushEmitter.on(MY_SEGMENTS_UPDATE_V2, function handleMySegmentsUpdate(parsedData) {\n            switch (parsedData.u) {\n                case UpdateStrategy.BoundedFetchRequest: {\n                    var bitmap_1;\n                    try {\n                        bitmap_1 = parseBitmap(parsedData.d, parsedData.c);\n                    }\n                    catch (e) {\n                        log.warn(STREAMING_PARSING_MY_SEGMENTS_UPDATE_V2, ['BoundedFetchRequest', e]);\n                        break;\n                    }\n                    forOwn(clients, function (_a) {\n                        var hash64 = _a.hash64, worker = _a.worker;\n                        if (isInBitmap(bitmap_1, hash64.hex)) {\n                            worker.put(parsedData.changeNumber); // fetch mySegments\n                        }\n                    });\n                    return;\n                }\n                case UpdateStrategy.KeyList: {\n                    var keyList = void 0, added_1, removed_1;\n                    try {\n                        keyList = parseKeyList(parsedData.d, parsedData.c);\n                        added_1 = new _Set(keyList.a);\n                        removed_1 = new _Set(keyList.r);\n                    }\n                    catch (e) {\n                        log.warn(STREAMING_PARSING_MY_SEGMENTS_UPDATE_V2, ['KeyList', e]);\n                        break;\n                    }\n                    forOwn(clients, function (_a) {\n                        var hash64 = _a.hash64, worker = _a.worker;\n                        var add = added_1.has(hash64.dec) ? true : removed_1.has(hash64.dec) ? false : undefined;\n                        if (add !== undefined) {\n                            worker.put(parsedData.changeNumber, {\n                                name: parsedData.segmentName,\n                                add: add\n                            });\n                        }\n                    });\n                    return;\n                }\n                case UpdateStrategy.SegmentRemoval:\n                    if (!parsedData.segmentName) {\n                        log.warn(STREAMING_PARSING_MY_SEGMENTS_UPDATE_V2, ['SegmentRemoval', 'No segment name was provided']);\n                        break;\n                    }\n                    forOwn(clients, function (_a) {\n                        var worker = _a.worker;\n                        return worker.put(parsedData.changeNumber, {\n                            name: parsedData.segmentName,\n                            add: false\n                        });\n                    });\n                    return;\n            }\n            // `UpdateStrategy.UnboundedFetchRequest` and fallbacks of other cases\n            forOwn(clients, function (_a) {\n                var worker = _a.worker;\n                worker.put(parsedData.changeNumber);\n            });\n        });\n    }\n    else {\n        pushEmitter.on(SEGMENT_UPDATE, segmentsUpdateWorker.put);\n    }\n    return objectAssign(\n    // Expose Event Emitter functionality and Event constants\n    Object.create(pushEmitter), {\n        // Stop/pause push mode.\n        // It doesn't emit events. Neither PUSH_SUBSYSTEM_DOWN to start polling.\n        stop: function () {\n            disconnectPush(); // `handleNonRetryableError` cannot be used as `stop`, because it emits PUSH_SUBSYSTEM_DOWN event, which starts polling.\n            if (userKey)\n                this.remove(userKey); // Necessary to properly resume streaming in client-side (e.g., RN SDK transition to foreground).\n        },\n        // Start/resume push mode.\n        // It eventually emits PUSH_SUBSYSTEM_DOWN, that starts polling, or PUSH_SUBSYSTEM_UP, that executes a syncAll\n        start: function () {\n            // Guard condition to avoid calling `connectPush` again if the `start` method is called multiple times or if push has been disabled.\n            if (disabled || disconnected === false)\n                return;\n            disconnected = false;\n            if (userKey)\n                this.add(userKey, pollingManager.segmentsSyncTask); // client-side\n            else\n                setTimeout(connectPush); // server-side runs in next cycle as in client-side, for consistency with client-side\n        },\n        // true/false if start or stop was called last respectively\n        isRunning: function () {\n            return disconnected === false;\n        },\n        // [Only for client-side]\n        add: function (userKey, mySegmentsSyncTask) {\n            var hash = hashUserKey(userKey);\n            if (!userKeyHashes[hash]) {\n                userKeyHashes[hash] = userKey;\n                clients[userKey] = { hash64: hash64(userKey), worker: MySegmentsUpdateWorker(mySegmentsSyncTask) };\n                connectForNewClient = true; // we must reconnect on start, to listen the channel for the new user key\n                // Reconnects in case of a new client.\n                // Run in next event-loop cycle to save authentication calls\n                // in case multiple clients are created in the current cycle.\n                setTimeout(function checkForReconnect() {\n                    if (connectForNewClient) {\n                        connectForNewClient = false;\n                        connectPush();\n                    }\n                }, 0);\n            }\n        },\n        // [Only for client-side]\n        remove: function (userKey) {\n            var hash = hashUserKey(userKey);\n            delete userKeyHashes[hash];\n            delete clients[userKey];\n        }\n    });\n}\n","/**\n * Factory of MySegments fetcher.\n * MySegments fetcher is a wrapper around `mySegments` API service that parses the response and handle errors.\n */\nexport function mySegmentsFetcherFactory(fetchMySegments) {\n    return function mySegmentsFetcher(userMatchingKey, noCache, \n    // Optional decorator for `fetchMySegments` promise, such as timeout or time tracker\n    decorator) {\n        var mySegmentsPromise = fetchMySegments(userMatchingKey, noCache);\n        if (decorator)\n            mySegmentsPromise = decorator(mySegmentsPromise);\n        // Extract segment names\n        return mySegmentsPromise\n            .then(function (resp) { return resp.json(); })\n            .then(function (json) { return json.mySegments.map(function (segment) { return segment.name; }); });\n    };\n}\n","export function timeout(ms, promise) {\n    if (ms < 1)\n        return promise;\n    return new Promise(function (resolve, reject) {\n        var tid = setTimeout(function () {\n            reject(new Error(\"Operation timed out because it exceeded the configured time limit of \" + ms + \" ms.\"));\n        }, ms);\n        promise.then(function (res) {\n            clearTimeout(tid);\n            resolve(res);\n        }, function (err) {\n            clearTimeout(tid);\n            reject(err);\n        });\n    });\n}\n","import { timeout } from '../../../utils/promise/timeout';\nimport { SDK_SEGMENTS_ARRIVED } from '../../../readiness/constants';\nimport { SYNC_MYSEGMENTS_FETCH_RETRY } from '../../../logger/constants';\n/**\n * factory of MySegments updater, a task that:\n *  - fetches mySegments using `mySegmentsFetcher`\n *  - updates `mySegmentsCache`\n *  - uses `segmentsEventEmitter` to emit events related to segments data updates\n */\nexport function mySegmentsUpdaterFactory(log, mySegmentsFetcher, splitsCache, mySegmentsCache, segmentsEventEmitter, requestTimeoutBeforeReady, retriesOnFailureBeforeReady, matchingKey) {\n    var readyOnAlreadyExistentState = true;\n    var startingUp = true;\n    /** timeout and telemetry decorator for `splitChangesFetcher` promise  */\n    function _promiseDecorator(promise) {\n        if (startingUp)\n            promise = timeout(requestTimeoutBeforeReady, promise);\n        return promise;\n    }\n    // @TODO if allowing pluggable storages, handle async execution\n    function updateSegments(segmentsData) {\n        var shouldNotifyUpdate;\n        if (Array.isArray(segmentsData)) {\n            // Update the list of segment names available\n            shouldNotifyUpdate = mySegmentsCache.resetSegments(segmentsData);\n        }\n        else {\n            // Add/Delete the segment\n            var name_1 = segmentsData.name, add = segmentsData.add;\n            if (mySegmentsCache.isInSegment(name_1) !== add) {\n                shouldNotifyUpdate = true;\n                if (add)\n                    mySegmentsCache.addToSegment(name_1);\n                else\n                    mySegmentsCache.removeFromSegment(name_1);\n            }\n            else {\n                shouldNotifyUpdate = false;\n            }\n        }\n        // Notify update if required\n        if (splitsCache.usesSegments() && (shouldNotifyUpdate || readyOnAlreadyExistentState)) {\n            readyOnAlreadyExistentState = false;\n            segmentsEventEmitter.emit(SDK_SEGMENTS_ARRIVED);\n        }\n    }\n    function _mySegmentsUpdater(retry, segmentsData, noCache) {\n        var updaterPromise = segmentsData ?\n            // If segmentsData is provided, there is no need to fetch mySegments\n            new Promise(function (res) { updateSegments(segmentsData); res(true); }) :\n            // If not provided, fetch mySegments\n            mySegmentsFetcher(matchingKey, noCache, _promiseDecorator).then(function (segments) {\n                // Only when we have downloaded segments completely, we should not keep retrying anymore\n                startingUp = false;\n                updateSegments(segments);\n                return true;\n            });\n        return updaterPromise.catch(function (error) {\n            if (startingUp && retriesOnFailureBeforeReady > retry) {\n                retry += 1;\n                log.warn(SYNC_MYSEGMENTS_FETCH_RETRY, [retry, error]);\n                return _mySegmentsUpdater(retry); // no need to forward `segmentList` and `noCache` params\n            }\n            else {\n                startingUp = false;\n            }\n            return false;\n        });\n    }\n    /**\n     * MySegments updater returns a promise that resolves with a `false` boolean value if it fails to fetch mySegments or synchronize them with the storage.\n     * Returned promise will not be rejected.\n     *\n     * @param {SegmentsData | undefined} segmentsData it can be:\n     *  (1) the list of mySegments names to sync in the storage,\n     *  (2) an object with a segment name and action (true: add, or false: delete) to update the storage,\n     *  (3) or `undefined`, for which the updater will fetch mySegments in order to sync the storage.\n     * @param {boolean | undefined} noCache true to revalidate data to fetch\n     */\n    return function mySegmentsUpdater(segmentsData, noCache) {\n        return _mySegmentsUpdater(0, segmentsData, noCache);\n    };\n}\n","import { syncTaskFactory } from '../../syncTask';\nimport { mySegmentsFetcherFactory } from '../fetchers/mySegmentsFetcher';\nimport { mySegmentsUpdaterFactory } from '../updaters/mySegmentsUpdater';\n/**\n * Creates a sync task that periodically executes a `mySegmentsUpdater` task\n */\nexport function mySegmentsSyncTaskFactory(fetchMySegments, storage, readiness, settings, matchingKey) {\n    return syncTaskFactory(settings.log, mySegmentsUpdaterFactory(settings.log, mySegmentsFetcherFactory(fetchMySegments), storage.splits, storage.segments, readiness.segments, settings.startup.requestTimeoutBeforeReady, settings.startup.retriesOnFailureBeforeReady, matchingKey), settings.scheduler.segmentsRefreshRate, 'mySegmentsUpdater');\n}\n","/**\n * Factory of SplitChanges fetcher.\n * SplitChanges fetcher is a wrapper around `splitChanges` API service that parses the response and handle errors.\n */\nexport function splitChangesFetcherFactory(fetchSplitChanges) {\n    return function splitChangesFetcher(since, noCache, till, \n    // Optional decorator for `fetchSplitChanges` promise, such as timeout or time tracker\n    decorator) {\n        var splitsPromise = fetchSplitChanges(since, noCache, till);\n        if (decorator)\n            splitsPromise = decorator(splitsPromise);\n        return splitsPromise.then(function (resp) { return resp.json(); });\n    };\n}\n","import { _Set, setToArray } from '../../../utils/lang/sets';\nimport { timeout } from '../../../utils/promise/timeout';\nimport { SDK_SPLITS_ARRIVED, SDK_SPLITS_CACHE_LOADED } from '../../../readiness/constants';\nimport { SYNC_SPLITS_FETCH, SYNC_SPLITS_NEW, SYNC_SPLITS_REMOVED, SYNC_SPLITS_SEGMENTS, SYNC_SPLITS_FETCH_FAILS, SYNC_SPLITS_FETCH_RETRY } from '../../../logger/constants';\n// Checks that all registered segments have been fetched (changeNumber !== -1 for every segment).\n// Returns a promise that could be rejected.\n// @TODO review together with Segments and MySegments storage APIs\nfunction checkAllSegmentsExist(segments) {\n    var registeredSegments = Promise.resolve(segments.getRegisteredSegments());\n    return registeredSegments.then(function (segmentNames) {\n        return Promise.all(segmentNames.map(function (segmentName) { return segments.getChangeNumber(segmentName); }))\n            .then(function (changeNumbers) { return changeNumbers.every(function (changeNumber) { return changeNumber !== -1; }); });\n    });\n}\n/**\n * Collect segments from a raw split definition.\n * Exported for testing purposes.\n */\nexport function parseSegments(_a) {\n    var conditions = _a.conditions;\n    var segments = new _Set();\n    for (var i = 0; i < conditions.length; i++) {\n        var matchers = conditions[i].matcherGroup.matchers;\n        matchers.forEach(function (matcher) {\n            if (matcher.matcherType === 'IN_SEGMENT')\n                segments.add(matcher.userDefinedSegmentMatcherData.segmentName);\n        });\n    }\n    return segments;\n}\n/**\n * Given the list of splits from /splitChanges endpoint, it returns the mutations,\n * i.e., an object with added splits, removed splits and used segments.\n * Exported for testing purposes.\n */\nexport function computeSplitsMutation(entries) {\n    var segments = new _Set();\n    var computed = entries.reduce(function (accum, split) {\n        if (split.status === 'ACTIVE') {\n            accum.added.push([split.name, JSON.stringify(split)]);\n            parseSegments(split).forEach(function (segmentName) {\n                segments.add(segmentName);\n            });\n        }\n        else {\n            accum.removed.push(split.name);\n        }\n        return accum;\n    }, { added: [], removed: [], segments: [] });\n    computed.segments = setToArray(segments);\n    return computed;\n}\n/**\n * factory of SplitChanges updater, a task that:\n *  - fetches split changes using `splitChangesFetcher`\n *  - updates `splitsCache`\n *  - uses `splitsEventEmitter` to emit events related to split data updates\n *\n * @param log  Logger instance\n * @param splitChangesFetcher  Fetcher of `/splitChanges`\n * @param splits  Splits storage, with sync or async methods\n * @param segments  Segments storage, with sync or async methods\n * @param splitsEventEmitter  Optional readiness manager. Not required for synchronizer or producer mode.\n * @param requestTimeoutBeforeReady  How long the updater will wait for the request to timeout. Default 0, i.e., never timeout.\n * @param retriesOnFailureBeforeReady  How many retries on `/splitChanges` we the updater do in case of failure or timeout. Default 0, i.e., no retries.\n */\nexport function splitChangesUpdaterFactory(log, splitChangesFetcher, splits, segments, splitsEventEmitter, requestTimeoutBeforeReady, retriesOnFailureBeforeReady, isClientSide) {\n    if (requestTimeoutBeforeReady === void 0) { requestTimeoutBeforeReady = 0; }\n    if (retriesOnFailureBeforeReady === void 0) { retriesOnFailureBeforeReady = 0; }\n    var startingUp = true;\n    /** timeout decorator for `splitChangesFetcher` promise  */\n    function _promiseDecorator(promise) {\n        if (startingUp && requestTimeoutBeforeReady)\n            promise = timeout(requestTimeoutBeforeReady, promise);\n        return promise;\n    }\n    /**\n     * SplitChanges updater returns a promise that resolves with a `false` boolean value if it fails to fetch splits or synchronize them with the storage.\n     * Returned promise will not be rejected.\n     *\n     * @param {boolean | undefined} noCache true to revalidate data to fetch\n     * @param {boolean | undefined} till query param to bypass CDN requests\n     */\n    return function splitChangesUpdater(noCache, till) {\n        /**\n         * @param {number} since current changeNumber at splitsCache\n         * @param {number} retry current number of retry attempts\n         */\n        function _splitChangesUpdater(since, retry) {\n            if (retry === void 0) { retry = 0; }\n            log.debug(SYNC_SPLITS_FETCH, [since]);\n            var fetcherPromise = splitChangesFetcher(since, noCache, till, _promiseDecorator)\n                .then(function (splitChanges) {\n                startingUp = false;\n                var mutation = computeSplitsMutation(splitChanges.splits);\n                log.debug(SYNC_SPLITS_NEW, [mutation.added.length]);\n                log.debug(SYNC_SPLITS_REMOVED, [mutation.removed.length]);\n                log.debug(SYNC_SPLITS_SEGMENTS, [mutation.segments.length]);\n                // Write into storage\n                // @TODO call `setChangeNumber` only if the other storage operations have succeeded, in order to keep storage consistency\n                return Promise.all([\n                    // calling first `setChangenumber` method, to perform cache flush if split filter queryString changed\n                    splits.setChangeNumber(splitChanges.till),\n                    splits.addSplits(mutation.added),\n                    splits.removeSplits(mutation.removed),\n                    segments.registerSegments(mutation.segments)\n                ]).then(function () {\n                    if (splitsEventEmitter) {\n                        // To emit SDK_SPLITS_ARRIVED for server-side SDK, we must check that all registered segments have been fetched\n                        return Promise.resolve(!splitsEventEmitter.splitsArrived || (since !== splitChanges.till && (isClientSide || checkAllSegmentsExist(segments))))\n                            .catch(function () { return false; } /** noop. just to handle a possible `checkAllSegmentsExist` rejection, before emitting SDK event */)\n                            .then(function (emitSplitsArrivedEvent) {\n                            // emit SDK events\n                            if (emitSplitsArrivedEvent)\n                                splitsEventEmitter.emit(SDK_SPLITS_ARRIVED);\n                            return true;\n                        });\n                    }\n                    return true;\n                });\n            })\n                .catch(function (error) {\n                log.warn(SYNC_SPLITS_FETCH_FAILS, [error]);\n                if (startingUp && retriesOnFailureBeforeReady > retry) {\n                    retry += 1;\n                    log.info(SYNC_SPLITS_FETCH_RETRY, [retry, error]);\n                    return _splitChangesUpdater(since, retry);\n                }\n                else {\n                    startingUp = false;\n                }\n                return false;\n            });\n            // After triggering the requests, if we have cached splits information let's notify that to emit SDK_READY_FROM_CACHE.\n            // Wrapping in a promise since checkCache can be async.\n            if (splitsEventEmitter && startingUp) {\n                Promise.resolve(splits.checkCache()).then(function (isCacheReady) {\n                    if (isCacheReady)\n                        splitsEventEmitter.emit(SDK_SPLITS_CACHE_LOADED);\n                });\n            }\n            return fetcherPromise;\n        }\n        var sincePromise = Promise.resolve(splits.getChangeNumber()); // `getChangeNumber` never rejects or throws error\n        return sincePromise.then(_splitChangesUpdater);\n    };\n}\n","import { syncTaskFactory } from '../../syncTask';\nimport { splitChangesFetcherFactory } from '../fetchers/splitChangesFetcher';\nimport { splitChangesUpdaterFactory } from '../updaters/splitChangesUpdater';\n/**\n * Creates a sync task that periodically executes a `splitChangesUpdater` task\n */\nexport function splitsSyncTaskFactory(fetchSplitChanges, storage, readiness, settings, isClientSide) {\n    return syncTaskFactory(settings.log, splitChangesUpdaterFactory(settings.log, splitChangesFetcherFactory(fetchSplitChanges), storage.splits, storage.segments, readiness.splits, settings.startup.requestTimeoutBeforeReady, settings.startup.retriesOnFailureBeforeReady, isClientSide), settings.scheduler.featuresRefreshRate, 'splitChangesUpdater');\n}\n","import { forOwn } from '../../utils/lang';\nimport { mySegmentsSyncTaskFactory } from './syncTasks/mySegmentsSyncTask';\nimport { splitsSyncTaskFactory } from './syncTasks/splitsSyncTask';\nimport { getMatching } from '../../utils/key';\nimport { SDK_SPLITS_ARRIVED, SDK_SEGMENTS_ARRIVED } from '../../readiness/constants';\nimport { POLLING_SMART_PAUSING, POLLING_START, POLLING_STOP } from '../../logger/constants';\n/**\n * Expose start / stop mechanism for polling data from services.\n * For client-side API with multiple clients.\n */\nexport function pollingManagerCSFactory(params) {\n    var splitApi = params.splitApi, storage = params.storage, readiness = params.readiness, settings = params.settings;\n    var log = settings.log;\n    var splitsSyncTask = splitsSyncTaskFactory(splitApi.fetchSplitChanges, storage, readiness, settings, true);\n    // Map of matching keys to their corresponding MySegmentsSyncTask.\n    var mySegmentsSyncTasks = {};\n    var matchingKey = getMatching(settings.core.key);\n    var mySegmentsSyncTask = add(matchingKey, readiness, storage);\n    function startMySegmentsSyncTasks() {\n        forOwn(mySegmentsSyncTasks, function (mySegmentsSyncTask) {\n            mySegmentsSyncTask.start();\n        });\n    }\n    function stopMySegmentsSyncTasks() {\n        forOwn(mySegmentsSyncTasks, function (mySegmentsSyncTask) {\n            if (mySegmentsSyncTask.isRunning())\n                mySegmentsSyncTask.stop();\n        });\n    }\n    // smart pausing\n    readiness.splits.on(SDK_SPLITS_ARRIVED, function () {\n        if (!splitsSyncTask.isRunning())\n            return; // noop if not doing polling\n        var splitsHaveSegments = storage.splits.usesSegments();\n        if (splitsHaveSegments !== mySegmentsSyncTask.isRunning()) {\n            log.info(POLLING_SMART_PAUSING, [splitsHaveSegments ? 'ON' : 'OFF']);\n            if (splitsHaveSegments) {\n                startMySegmentsSyncTasks();\n            }\n            else {\n                stopMySegmentsSyncTasks();\n            }\n        }\n    });\n    function add(matchingKey, readiness, storage) {\n        var mySegmentsSyncTask = mySegmentsSyncTaskFactory(splitApi.fetchMySegments, storage, readiness, settings, matchingKey);\n        // smart ready\n        function smartReady() {\n            if (!readiness.isReady() && !storage.splits.usesSegments())\n                readiness.segments.emit(SDK_SEGMENTS_ARRIVED);\n        }\n        if (!storage.splits.usesSegments())\n            setTimeout(smartReady, 0);\n        else\n            readiness.splits.once(SDK_SPLITS_ARRIVED, smartReady);\n        mySegmentsSyncTasks[matchingKey] = mySegmentsSyncTask;\n        return mySegmentsSyncTask;\n    }\n    return {\n        splitsSyncTask: splitsSyncTask,\n        segmentsSyncTask: mySegmentsSyncTask,\n        // Start periodic fetching (polling)\n        start: function () {\n            log.info(POLLING_START);\n            splitsSyncTask.start();\n            if (storage.splits.usesSegments())\n                startMySegmentsSyncTasks();\n        },\n        // Stop periodic fetching (polling)\n        stop: function () {\n            log.info(POLLING_STOP);\n            if (splitsSyncTask.isRunning())\n                splitsSyncTask.stop();\n            stopMySegmentsSyncTasks();\n        },\n        // Used by SyncManager to know if running in polling mode.\n        isRunning: splitsSyncTask.isRunning,\n        // fetch splits and segments\n        syncAll: function () {\n            var promises = [splitsSyncTask.execute()];\n            forOwn(mySegmentsSyncTasks, function (mySegmentsSyncTask) {\n                promises.push(mySegmentsSyncTask.execute());\n            });\n            return Promise.all(promises);\n        },\n        // Support for handling mySegments sync of multiple clients\n        add: add,\n        remove: function (matchingKey) {\n            delete mySegmentsSyncTasks[matchingKey];\n        },\n        get: function (matchingKey) {\n            return mySegmentsSyncTasks[matchingKey];\n        }\n    };\n}\n","var ImpressionsCacheInMemory = /** @class */ (function () {\n    /**\n     *\n     * @param impressionsQueueSize number of queued impressions to call onFullQueueCb.\n     * Default value is 0, that means no maximum value, in case we want to avoid this being triggered.\n     */\n    function ImpressionsCacheInMemory(impressionsQueueSize) {\n        if (impressionsQueueSize === void 0) { impressionsQueueSize = 0; }\n        this.maxQueue = impressionsQueueSize;\n        this.queue = [];\n    }\n    ImpressionsCacheInMemory.prototype.setOnFullQueueCb = function (cb) {\n        this.onFullQueue = cb;\n    };\n    /**\n     * Store impressions in sequential order\n     */\n    ImpressionsCacheInMemory.prototype.track = function (data) {\n        var _a;\n        (_a = this.queue).push.apply(_a, data);\n        // Check if the cache queue is full and we need to flush it.\n        if (this.maxQueue > 0 && this.queue.length >= this.maxQueue && this.onFullQueue) {\n            this.onFullQueue();\n        }\n    };\n    /**\n     * Clear the data stored on the cache.\n     */\n    ImpressionsCacheInMemory.prototype.clear = function () {\n        this.queue = [];\n    };\n    /**\n     * Pop the collected data, used as payload for posting.\n     */\n    ImpressionsCacheInMemory.prototype.pop = function (toMerge) {\n        var data = this.queue;\n        this.clear();\n        return toMerge ? toMerge.concat(data) : data;\n    };\n    /**\n     * Check if the cache is empty.\n     */\n    ImpressionsCacheInMemory.prototype.isEmpty = function () {\n        return this.queue.length === 0;\n    };\n    return ImpressionsCacheInMemory;\n}());\nexport { ImpressionsCacheInMemory };\n","var DEDUP_WINDOW_SIZE_MS = 3600 * 1000;\n/**\n* Truncates de time frame received with the time window.\n*/\nexport function truncateTimeFrame(timestampInMs) {\n    return timestampInMs - (timestampInMs % DEDUP_WINDOW_SIZE_MS);\n}\n","import { truncateTimeFrame } from '../../utils/time';\nvar ImpressionCountsCacheInMemory = /** @class */ (function () {\n    function ImpressionCountsCacheInMemory() {\n        this.cache = {};\n    }\n    /**\n    * Builds key to be stored in the cache with the featureName and the timeFrame truncated.\n    */\n    ImpressionCountsCacheInMemory.prototype._makeKey = function (featureName, timeFrame) {\n        return featureName + \"::\" + truncateTimeFrame(timeFrame);\n    };\n    /**\n    * Increments the quantity of impressions with the passed featureName and timeFrame.\n    */\n    ImpressionCountsCacheInMemory.prototype.track = function (featureName, timeFrame, amount) {\n        var key = this._makeKey(featureName, timeFrame);\n        var currentAmount = this.cache[key];\n        this.cache[key] = currentAmount ? currentAmount + amount : amount;\n    };\n    /**\n     * Pop the collected data, used as payload for posting.\n     */\n    ImpressionCountsCacheInMemory.prototype.pop = function (toMerge) {\n        var data = this.cache;\n        this.clear();\n        if (toMerge) {\n            Object.keys(data).forEach(function (key) {\n                if (toMerge[key])\n                    toMerge[key] += data[key];\n                else\n                    toMerge[key] = data[key];\n            });\n            return toMerge;\n        }\n        return data;\n    };\n    /**\n     * Clear the data stored on the cache.\n     */\n    ImpressionCountsCacheInMemory.prototype.clear = function () {\n        this.cache = {};\n    };\n    /**\n     * Check if the cache is empty.\n     */\n    ImpressionCountsCacheInMemory.prototype.isEmpty = function () {\n        return Object.keys(this.cache).length === 0;\n    };\n    return ImpressionCountsCacheInMemory;\n}());\nexport { ImpressionCountsCacheInMemory };\n","var MAX_QUEUE_BYTE_SIZE = 5 * 1024 * 1024; // 5M\nvar EventsCacheInMemory = /** @class */ (function () {\n    /**\n     *\n     * @param eventsQueueSize number of queued events to call onFullQueueCb.\n     * Default value is 0, that means no maximum value, in case we want to avoid this being triggered.\n     */\n    function EventsCacheInMemory(eventsQueueSize) {\n        if (eventsQueueSize === void 0) { eventsQueueSize = 0; }\n        this.maxQueue = eventsQueueSize;\n        this.queue = [];\n        this.queueByteSize = 0;\n    }\n    EventsCacheInMemory.prototype.setOnFullQueueCb = function (cb) {\n        this.onFullQueue = cb;\n    };\n    /**\n     * Add a new event object at the end of the queue.\n     */\n    EventsCacheInMemory.prototype.track = function (data, size) {\n        if (size === void 0) { size = 0; }\n        this.queueByteSize += size;\n        this.queue.push(data);\n        this._checkForFlush();\n        return true;\n    };\n    /**\n     * Clear the data stored on the cache.\n     */\n    EventsCacheInMemory.prototype.clear = function () {\n        this.queue = [];\n        this.queueByteSize = 0;\n    };\n    /**\n     * Pop the collected data, used as payload for posting.\n     */\n    EventsCacheInMemory.prototype.pop = function (toMerge) {\n        var data = this.queue;\n        this.clear();\n        return toMerge ? toMerge.concat(data) : data;\n    };\n    /**\n     * Check if the cache is empty.\n     */\n    EventsCacheInMemory.prototype.isEmpty = function () {\n        return this.queue.length === 0;\n    };\n    /**\n     * Check if the cache queue is full and we need to flush it.\n     */\n    EventsCacheInMemory.prototype._checkForFlush = function () {\n        if ((this.queueByteSize > MAX_QUEUE_BYTE_SIZE) ||\n            // 0 means no maximum value, in case we want to avoid this being triggered. Size limit is not affected by it.\n            (this.maxQueue > 0 && this.queue.length >= this.maxQueue)) {\n            this.onFullQueue && this.onFullQueue();\n        }\n    };\n    return EventsCacheInMemory;\n}());\nexport { EventsCacheInMemory };\n","import { startsWith } from '../utils/lang';\nvar everythingAtTheEnd = /[^.]+$/;\nvar DEFAULT_PREFIX = 'SPLITIO';\nexport function validatePrefix(prefix) {\n    return prefix ? prefix + '.SPLITIO' : 'SPLITIO';\n}\nvar KeyBuilder = /** @class */ (function () {\n    function KeyBuilder(prefix) {\n        if (prefix === void 0) { prefix = DEFAULT_PREFIX; }\n        this.prefix = prefix;\n    }\n    KeyBuilder.prototype.buildTrafficTypeKey = function (trafficType) {\n        return this.prefix + \".trafficType.\" + trafficType;\n    };\n    KeyBuilder.prototype.buildSplitKey = function (splitName) {\n        return this.prefix + \".split.\" + splitName;\n    };\n    KeyBuilder.prototype.buildSplitsTillKey = function () {\n        return this.prefix + \".splits.till\";\n    };\n    // NOT USED\n    // buildSplitsReady() {\n    //   return `${this.prefix}.splits.ready`;\n    // }\n    KeyBuilder.prototype.isSplitKey = function (key) {\n        return startsWith(key, this.prefix + \".split.\");\n    };\n    KeyBuilder.prototype.buildSplitKeyPrefix = function () {\n        return this.prefix + \".split.\";\n    };\n    // Only used by InLocalStorage.\n    KeyBuilder.prototype.buildSplitsWithSegmentCountKey = function () {\n        return this.prefix + \".splits.usingSegments\";\n    };\n    KeyBuilder.prototype.buildSegmentNameKey = function (segmentName) {\n        return this.prefix + \".segment.\" + segmentName;\n    };\n    KeyBuilder.prototype.buildSegmentTillKey = function (segmentName) {\n        return this.prefix + \".segment.\" + segmentName + \".till\";\n    };\n    // NOT USED\n    // buildSegmentsReady() {\n    //   return `${this.prefix}.segments.ready`;\n    // }\n    KeyBuilder.prototype.extractKey = function (builtKey) {\n        var s = builtKey.match(everythingAtTheEnd);\n        if (s && s.length) {\n            return s[0];\n        }\n        else {\n            throw new Error('Invalid latency key provided');\n        }\n    };\n    return KeyBuilder;\n}());\nexport { KeyBuilder };\n","import { __extends } from \"tslib\";\nimport { startsWith } from '../utils/lang';\nimport { KeyBuilder } from './KeyBuilder';\nvar KeyBuilderCS = /** @class */ (function (_super) {\n    __extends(KeyBuilderCS, _super);\n    function KeyBuilderCS(prefix, matchingKey) {\n        var _this = _super.call(this, prefix) || this;\n        _this.matchingKey = matchingKey;\n        _this.regexSplitsCacheKey = new RegExp(\"^\" + prefix + \"\\\\.(splits?|trafficType)\\\\.\");\n        return _this;\n    }\n    /**\n     * @override\n     */\n    KeyBuilderCS.prototype.buildSegmentNameKey = function (segmentName) {\n        return this.prefix + \".\" + this.matchingKey + \".segment.\" + segmentName;\n    };\n    KeyBuilderCS.prototype.extractSegmentName = function (builtSegmentKeyName) {\n        var prefix = this.prefix + \".\" + this.matchingKey + \".segment.\";\n        if (startsWith(builtSegmentKeyName, prefix))\n            return builtSegmentKeyName.substr(prefix.length);\n    };\n    // @BREAKING: The key used to start with the matching key instead of the prefix, this was changed on version 10.17.3\n    KeyBuilderCS.prototype.buildOldSegmentNameKey = function (segmentName) {\n        return this.matchingKey + \".\" + this.prefix + \".segment.\" + segmentName;\n    };\n    // @BREAKING: The key used to start with the matching key instead of the prefix, this was changed on version 10.17.3\n    KeyBuilderCS.prototype.extractOldSegmentKey = function (builtSegmentKeyName) {\n        var prefix = this.matchingKey + \".\" + this.prefix + \".segment.\";\n        if (startsWith(builtSegmentKeyName, prefix))\n            return builtSegmentKeyName.substr(prefix.length);\n    };\n    KeyBuilderCS.prototype.buildLastUpdatedKey = function () {\n        return this.prefix + \".splits.lastUpdated\";\n    };\n    KeyBuilderCS.prototype.isSplitsCacheKey = function (key) {\n        return this.regexSplitsCacheKey.test(key);\n    };\n    KeyBuilderCS.prototype.buildSplitsFilterQueryKey = function () {\n        return this.prefix + \".splits.filterQuery\";\n    };\n    return KeyBuilderCS;\n}(KeyBuilder));\nexport { KeyBuilderCS };\n","/* eslint-disable no-undef */\nexport function isLocalStorageAvailable() {\n    var mod = '__SPLITSOFTWARE__';\n    try {\n        localStorage.setItem(mod, mod);\n        localStorage.removeItem(mod);\n        return true;\n    }\n    catch (e) {\n        return false;\n    }\n}\n","/**\n * This class provides a skeletal implementation of the ISplitsCacheSync interface\n * to minimize the effort required to implement this interface.\n */\nvar AbstractSplitsCacheSync = /** @class */ (function () {\n    function AbstractSplitsCacheSync() {\n    }\n    AbstractSplitsCacheSync.prototype.addSplits = function (entries) {\n        var _this = this;\n        return entries.map(function (keyValuePair) { return _this.addSplit(keyValuePair[0], keyValuePair[1]); });\n    };\n    AbstractSplitsCacheSync.prototype.removeSplits = function (names) {\n        var _this = this;\n        return names.map(function (name) { return _this.removeSplit(name); });\n    };\n    AbstractSplitsCacheSync.prototype.getSplits = function (names) {\n        var _this = this;\n        var splits = {};\n        names.forEach(function (name) {\n            splits[name] = _this.getSplit(name);\n        });\n        return splits;\n    };\n    AbstractSplitsCacheSync.prototype.getAll = function () {\n        var _this = this;\n        return this.getSplitNames().map(function (key) { return _this.getSplit(key); });\n    };\n    /**\n     * Check if the splits information is already stored in cache. This data can be preloaded.\n     * It is used as condition to emit SDK_SPLITS_CACHE_LOADED, and then SDK_READY_FROM_CACHE.\n     */\n    AbstractSplitsCacheSync.prototype.checkCache = function () {\n        return false;\n    };\n    /**\n     * Kill `name` split and set `defaultTreatment` and `changeNumber`.\n     * Used for SPLIT_KILL push notifications.\n     *\n     * @param {string} name\n     * @param {string} defaultTreatment\n     * @param {number} changeNumber\n     * @returns {Promise} a promise that is resolved once the split kill is performed. The fulfillment value is a boolean: `true` if the kill success updating the split or `false` if no split is updated,\n     * for instance, if the `changeNumber` is old, or if the split is not found (e.g., `/splitchanges` hasn't been fetched yet), or if the storage fails to apply the update.\n     */\n    AbstractSplitsCacheSync.prototype.killLocally = function (name, defaultTreatment, changeNumber) {\n        var split = this.getSplit(name);\n        if (split) {\n            var parsedSplit = JSON.parse(split);\n            if (!parsedSplit.changeNumber || parsedSplit.changeNumber < changeNumber) {\n                parsedSplit.killed = true;\n                parsedSplit.defaultTreatment = defaultTreatment;\n                parsedSplit.changeNumber = changeNumber;\n                var newSplit = JSON.stringify(parsedSplit);\n                return this.addSplit(name, newSplit);\n            }\n        }\n        return false;\n    };\n    return AbstractSplitsCacheSync;\n}());\nexport { AbstractSplitsCacheSync };\n/**\n * Given a parsed split, it returns a boolean flagging if its conditions use segments matchers (rules & whitelists).\n * This util is intended to simplify the implementation of `splitsCache::usesSegments` method\n */\nexport function usesSegments(split) {\n    var conditions = split.conditions || [];\n    for (var i = 0; i < conditions.length; i++) {\n        var matchers = conditions[i].matcherGroup.matchers;\n        for (var j = 0; j < matchers.length; j++) {\n            if (matchers[j].matcherType === 'IN_SEGMENT')\n                return true;\n        }\n    }\n    return false;\n}\n","export var LOG_PREFIX = 'storage:localstorage: ';\nexport var DEFINED = '1';\n","import { __extends } from \"tslib\";\nimport { AbstractSplitsCacheSync, usesSegments } from '../AbstractSplitsCacheSync';\nimport { isFiniteNumber, toNumber, isNaNNumber } from '../../utils/lang';\nimport { LOG_PREFIX } from './constants';\n/**\n * ISplitsCacheSync implementation that stores split definitions in browser LocalStorage.\n */\nvar SplitsCacheInLocal = /** @class */ (function (_super) {\n    __extends(SplitsCacheInLocal, _super);\n    /**\n     * @param {KeyBuilderCS} keys\n     * @param {number | undefined} expirationTimestamp\n     * @param {ISplitFiltersValidation} splitFiltersValidation\n     */\n    function SplitsCacheInLocal(log, keys, expirationTimestamp, splitFiltersValidation) {\n        if (splitFiltersValidation === void 0) { splitFiltersValidation = { queryString: null, groupedFilters: { byName: [], byPrefix: [] }, validFilters: [] }; }\n        var _this = _super.call(this) || this;\n        _this.log = log;\n        _this.cacheReadyButNeedsToFlush = false;\n        _this.keys = keys;\n        _this.splitFiltersValidation = splitFiltersValidation;\n        _this._checkExpiration(expirationTimestamp);\n        _this._checkFilterQuery();\n        return _this;\n    }\n    SplitsCacheInLocal.prototype._decrementCount = function (key) {\n        var count = toNumber(localStorage.getItem(key)) - 1;\n        // @ts-expect-error\n        if (count > 0)\n            localStorage.setItem(key, count);\n        else\n            localStorage.removeItem(key);\n    };\n    SplitsCacheInLocal.prototype._decrementCounts = function (split) {\n        try {\n            if (split) {\n                if (split.trafficTypeName) {\n                    var ttKey = this.keys.buildTrafficTypeKey(split.trafficTypeName);\n                    this._decrementCount(ttKey);\n                }\n                if (usesSegments(split)) {\n                    var segmentsCountKey = this.keys.buildSplitsWithSegmentCountKey();\n                    this._decrementCount(segmentsCountKey);\n                }\n            }\n        }\n        catch (e) {\n            this.log.error(LOG_PREFIX + e);\n        }\n    };\n    SplitsCacheInLocal.prototype._incrementCounts = function (split) {\n        try {\n            if (split) {\n                if (split.trafficTypeName) {\n                    var ttKey = this.keys.buildTrafficTypeKey(split.trafficTypeName);\n                    // @ts-expect-error\n                    localStorage.setItem(ttKey, toNumber(localStorage.getItem(ttKey)) + 1);\n                }\n                if (usesSegments(split)) {\n                    var segmentsCountKey = this.keys.buildSplitsWithSegmentCountKey();\n                    // @ts-expect-error\n                    localStorage.setItem(segmentsCountKey, toNumber(localStorage.getItem(segmentsCountKey)) + 1);\n                }\n            }\n        }\n        catch (e) {\n            this.log.error(LOG_PREFIX + e);\n        }\n    };\n    /**\n     * Removes all splits cache related data from localStorage (splits, counters, changeNumber and lastUpdated).\n     * We cannot simply call `localStorage.clear()` since that implies removing user items from the storage.\n     */\n    SplitsCacheInLocal.prototype.clear = function () {\n        this.log.info(LOG_PREFIX + 'Flushing Splits data from localStorage');\n        // collect item keys\n        var len = localStorage.length;\n        var accum = [];\n        for (var cur = 0; cur < len; cur++) {\n            var key = localStorage.key(cur);\n            if (key != null && this.keys.isSplitsCacheKey(key))\n                accum.push(key);\n        }\n        // remove items\n        accum.forEach(function (key) {\n            localStorage.removeItem(key);\n        });\n        this.hasSync = false;\n    };\n    SplitsCacheInLocal.prototype.addSplit = function (name, split) {\n        try {\n            var splitKey = this.keys.buildSplitKey(name);\n            var splitFromLocalStorage = localStorage.getItem(splitKey);\n            var previousSplit = splitFromLocalStorage ? JSON.parse(splitFromLocalStorage) : null;\n            this._decrementCounts(previousSplit);\n            localStorage.setItem(splitKey, split);\n            var parsedSplit = split ? JSON.parse(split) : null;\n            this._incrementCounts(parsedSplit);\n            return true;\n        }\n        catch (e) {\n            this.log.error(LOG_PREFIX + e);\n            return false;\n        }\n    };\n    SplitsCacheInLocal.prototype.removeSplit = function (name) {\n        try {\n            var split = this.getSplit(name);\n            localStorage.removeItem(this.keys.buildSplitKey(name));\n            var parsedSplit = JSON.parse(split);\n            this._decrementCounts(parsedSplit);\n            return true;\n        }\n        catch (e) {\n            this.log.error(LOG_PREFIX + e);\n            return false;\n        }\n    };\n    SplitsCacheInLocal.prototype.getSplit = function (name) {\n        return localStorage.getItem(this.keys.buildSplitKey(name));\n    };\n    SplitsCacheInLocal.prototype.setChangeNumber = function (changeNumber) {\n        // when cache is ready but using a new split query, we must clear all split data\n        if (this.cacheReadyButNeedsToFlush) {\n            this.clear();\n            this.cacheReadyButNeedsToFlush = false;\n        }\n        // when using a new split query, we must update it at the store\n        if (this.updateNewFilter) {\n            this.log.info(LOG_PREFIX + 'Split filter query was modified. Updating cache.');\n            var queryKey = this.keys.buildSplitsFilterQueryKey();\n            var queryString = this.splitFiltersValidation.queryString;\n            try {\n                if (queryString)\n                    localStorage.setItem(queryKey, queryString);\n                else\n                    localStorage.removeItem(queryKey);\n            }\n            catch (e) {\n                this.log.error(LOG_PREFIX + e);\n            }\n            this.updateNewFilter = false;\n        }\n        try {\n            localStorage.setItem(this.keys.buildSplitsTillKey(), changeNumber + '');\n            // update \"last updated\" timestamp with current time\n            localStorage.setItem(this.keys.buildLastUpdatedKey(), Date.now() + '');\n            this.hasSync = true;\n            return true;\n        }\n        catch (e) {\n            this.log.error(LOG_PREFIX + e);\n            return false;\n        }\n    };\n    SplitsCacheInLocal.prototype.getChangeNumber = function () {\n        var n = -1;\n        var value = localStorage.getItem(this.keys.buildSplitsTillKey());\n        if (value !== null) {\n            value = parseInt(value, 10);\n            return isNaNNumber(value) ? n : value;\n        }\n        return n;\n    };\n    SplitsCacheInLocal.prototype.getSplitNames = function () {\n        var len = localStorage.length;\n        var accum = [];\n        var cur = 0;\n        while (cur < len) {\n            var key = localStorage.key(cur);\n            if (key != null && this.keys.isSplitKey(key))\n                accum.push(this.keys.extractKey(key));\n            cur++;\n        }\n        return accum;\n    };\n    SplitsCacheInLocal.prototype.trafficTypeExists = function (trafficType) {\n        var ttCount = toNumber(localStorage.getItem(this.keys.buildTrafficTypeKey(trafficType)));\n        return isFiniteNumber(ttCount) && ttCount > 0;\n    };\n    SplitsCacheInLocal.prototype.usesSegments = function () {\n        // If cache hasn't been synchronized with the cloud, assume we need them.\n        if (!this.hasSync)\n            return true;\n        var storedCount = localStorage.getItem(this.keys.buildSplitsWithSegmentCountKey());\n        var splitsWithSegmentsCount = storedCount === null ? 0 : toNumber(storedCount);\n        if (isFiniteNumber(splitsWithSegmentsCount)) {\n            return splitsWithSegmentsCount > 0;\n        }\n        else {\n            return true;\n        }\n    };\n    /**\n     * Check if the splits information is already stored in browser LocalStorage.\n     * In this function we could add more code to check if the data is valid.\n     * @override\n     */\n    SplitsCacheInLocal.prototype.checkCache = function () {\n        return this.getChangeNumber() > -1 || this.cacheReadyButNeedsToFlush;\n    };\n    /**\n     * Clean Splits cache if its `lastUpdated` timestamp is older than the given `expirationTimestamp`,\n     * Clean operation (clear) also updates `lastUpdated` timestamp with current time.\n     *\n     * @param {number | undefined} expirationTimestamp if the value is not a number, data will not be cleaned\n     */\n    SplitsCacheInLocal.prototype._checkExpiration = function (expirationTimestamp) {\n        var value = localStorage.getItem(this.keys.buildLastUpdatedKey());\n        if (value !== null) {\n            value = parseInt(value, 10);\n            if (!isNaNNumber(value) && expirationTimestamp && value < expirationTimestamp)\n                this.clear();\n        }\n    };\n    SplitsCacheInLocal.prototype._checkFilterQuery = function () {\n        var _this = this;\n        var _a = this.splitFiltersValidation, queryString = _a.queryString, groupedFilters = _a.groupedFilters;\n        var queryKey = this.keys.buildSplitsFilterQueryKey();\n        var currentQueryString = localStorage.getItem(queryKey);\n        if (currentQueryString !== queryString) {\n            try {\n                // mark cache to update the new query filter on first successful splits fetch\n                this.updateNewFilter = true;\n                // if cache is ready:\n                if (this.checkCache()) {\n                    // * set change number to -1, to fetch splits with -1 `since` value.\n                    localStorage.setItem(this.keys.buildSplitsTillKey(), '-1');\n                    // * remove from cache splits that doesn't match with the new filters\n                    this.getSplitNames().forEach(function (splitName) {\n                        if (queryString && (\n                        // @TODO consider redefining `groupedFilters` to expose a method like `groupedFilters::filter(splitName): boolean`\n                        groupedFilters.byName.indexOf(splitName) > -1 ||\n                            groupedFilters.byPrefix.some(function (prefix) { return splitName.startsWith(prefix + '__'); }))) {\n                            // * set `cacheReadyButNeedsToFlush` so that `checkCache` returns true (the storage is ready to be used) and the data is cleared before updating on first successful splits fetch\n                            _this.cacheReadyButNeedsToFlush = true;\n                            return;\n                        }\n                        _this.removeSplit(splitName);\n                    });\n                }\n            }\n            catch (e) {\n                this.log.error(LOG_PREFIX + e);\n            }\n        }\n        // if the filter didn't change, nothing is done\n    };\n    return SplitsCacheInLocal;\n}(AbstractSplitsCacheSync));\nexport { SplitsCacheInLocal };\n","/**\n * This class provides a skeletal implementation of the ISegmentsCacheSync interface\n * to minimize the effort required to implement this interface.\n */\nvar AbstractSegmentsCacheSync = /** @class */ (function () {\n    function AbstractSegmentsCacheSync() {\n    }\n    /**\n     * For server-side synchronizer: add the given list of segments to the cache, with an empty list of keys. The segments that already exist are not modified.\n     * For client-side synchronizer: the method is not used.\n     */\n    AbstractSegmentsCacheSync.prototype.registerSegments = function (names) { return false; };\n    /**\n     * For server-side synchronizer: set the change number of `name` segment.\n     * For client-side synchronizer: the method is not used.\n     */\n    AbstractSegmentsCacheSync.prototype.setChangeNumber = function (name, changeNumber) { return true; };\n    /**\n     * For server-side synchronizer: get the change number of `name` segment.\n     * For client-side synchronizer: the method is not used.\n     */\n    AbstractSegmentsCacheSync.prototype.getChangeNumber = function (name) { return -1; };\n    /**\n     * For server-side synchronizer: the method is not used.\n     * For client-side synchronizer: reset the cache with the given list of segments.\n     */\n    AbstractSegmentsCacheSync.prototype.resetSegments = function (names) { return true; };\n    return AbstractSegmentsCacheSync;\n}());\nexport { AbstractSegmentsCacheSync };\n","import { __extends } from \"tslib\";\nimport { AbstractSegmentsCacheSync } from '../AbstractSegmentsCacheSync';\nimport { LOG_PREFIX, DEFINED } from './constants';\nvar MySegmentsCacheInLocal = /** @class */ (function (_super) {\n    __extends(MySegmentsCacheInLocal, _super);\n    function MySegmentsCacheInLocal(log, keys) {\n        var _this = _super.call(this) || this;\n        _this.log = log;\n        _this.keys = keys;\n        return _this;\n        // There is not need to flush segments cache like splits cache, since resetSegments receives the up-to-date list of active segments\n    }\n    /**\n     * Removes list of segments from localStorage\n     * @NOTE this method is not being used at the moment.\n     */\n    MySegmentsCacheInLocal.prototype.clear = function () {\n        this.log.info(LOG_PREFIX + 'Flushing MySegments data from localStorage');\n        // We cannot simply call `localStorage.clear()` since that implies removing user items from the storage\n        // We could optimize next sentence, since it implies iterating over all localStorage items\n        this.resetSegments([]);\n    };\n    MySegmentsCacheInLocal.prototype.addToSegment = function (name) {\n        var segmentKey = this.keys.buildSegmentNameKey(name);\n        try {\n            localStorage.setItem(segmentKey, DEFINED);\n            return true;\n        }\n        catch (e) {\n            this.log.error(LOG_PREFIX + e);\n            return false;\n        }\n    };\n    MySegmentsCacheInLocal.prototype.removeFromSegment = function (name) {\n        var segmentKey = this.keys.buildSegmentNameKey(name);\n        try {\n            localStorage.removeItem(segmentKey);\n            return true;\n        }\n        catch (e) {\n            this.log.error(LOG_PREFIX + e);\n            return false;\n        }\n    };\n    MySegmentsCacheInLocal.prototype.isInSegment = function (name) {\n        return localStorage.getItem(this.keys.buildSegmentNameKey(name)) === DEFINED;\n    };\n    /**\n     * Reset (update) the cached list of segments with the given list, removing and adding segments if necessary.\n     *\n     * @param {string[]} segmentNames list of segment names\n     * @returns boolean indicating if the cache was updated (i.e., given list was different from the cached one)\n     */\n    MySegmentsCacheInLocal.prototype.resetSegments = function (names) {\n        var _this = this;\n        var isDiff = false;\n        var index;\n        // Scan current values from localStorage\n        var storedSegmentNames = Object.keys(localStorage).reduce(function (accum, key) {\n            var segmentName = _this.keys.extractSegmentName(key);\n            if (segmentName) {\n                accum.push(segmentName);\n            }\n            else {\n                // @TODO @BREAKING: This is only to clean up \"old\" keys. Remove this whole else code block and reuse `getRegisteredSegments` method.\n                segmentName = _this.keys.extractOldSegmentKey(key);\n                if (segmentName) { // this was an old segment key, let's clean up.\n                    var newSegmentKey = _this.keys.buildSegmentNameKey(segmentName);\n                    try {\n                        // If the new format key is not there, create it.\n                        if (!localStorage.getItem(newSegmentKey) && names.indexOf(segmentName) > -1) {\n                            localStorage.setItem(newSegmentKey, DEFINED);\n                            // we are migrating a segment, let's track it.\n                            accum.push(segmentName);\n                        }\n                        localStorage.removeItem(key); // we migrated the current key, let's delete it.\n                    }\n                    catch (e) {\n                        _this.log.error(e);\n                    }\n                }\n            }\n            return accum;\n        }, []);\n        // Extreme fast => everything is empty\n        if (names.length === 0 && storedSegmentNames.length === names.length)\n            return isDiff;\n        // Quick path\n        if (storedSegmentNames.length !== names.length) {\n            isDiff = true;\n            storedSegmentNames.forEach(function (name) { return _this.removeFromSegment(name); });\n            names.forEach(function (name) { return _this.addToSegment(name); });\n        }\n        else {\n            // Slowest path => we need to find at least 1 difference because\n            for (index = 0; index < names.length && storedSegmentNames.indexOf(names[index]) !== -1; index++) {\n                // TODO: why empty statement?\n            }\n            if (index < names.length) {\n                isDiff = true;\n                storedSegmentNames.forEach(function (name) { return _this.removeFromSegment(name); });\n                names.forEach(function (name) { return _this.addToSegment(name); });\n            }\n        }\n        return isDiff;\n    };\n    MySegmentsCacheInLocal.prototype.getRegisteredSegments = function () {\n        var _this = this;\n        return Object.keys(localStorage).reduce(function (accum, key) {\n            var segmentName = _this.keys.extractSegmentName(key);\n            if (segmentName)\n                accum.push(segmentName);\n            return accum;\n        }, []);\n    };\n    MySegmentsCacheInLocal.prototype.getKeysCount = function () {\n        return 1;\n    };\n    return MySegmentsCacheInLocal;\n}(AbstractSegmentsCacheSync));\nexport { MySegmentsCacheInLocal };\n","import { __extends } from \"tslib\";\nimport { AbstractSegmentsCacheSync } from '../AbstractSegmentsCacheSync';\n/**\n * Default MySegmentsCacheInMemory implementation that stores MySegments in memory.\n * Supported by all JS runtimes.\n */\nvar MySegmentsCacheInMemory = /** @class */ (function (_super) {\n    __extends(MySegmentsCacheInMemory, _super);\n    function MySegmentsCacheInMemory() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.segmentCache = {};\n        return _this;\n    }\n    MySegmentsCacheInMemory.prototype.clear = function () {\n        this.segmentCache = {};\n    };\n    MySegmentsCacheInMemory.prototype.addToSegment = function (name) {\n        this.segmentCache[name] = true;\n        return true;\n    };\n    MySegmentsCacheInMemory.prototype.removeFromSegment = function (name) {\n        delete this.segmentCache[name];\n        return true;\n    };\n    MySegmentsCacheInMemory.prototype.isInSegment = function (name) {\n        return this.segmentCache[name] === true;\n    };\n    /**\n     * Reset (update) the cached list of segments with the given list, removing and adding segments if necessary.\n     * @NOTE based on the way we use segments in the browser, this way is the best option\n     *\n     * @param {string[]} names list of segment names\n     * @returns boolean indicating if the cache was updated (i.e., given list was different from the cached one)\n     */\n    MySegmentsCacheInMemory.prototype.resetSegments = function (names) {\n        var _this = this;\n        var isDiff = false;\n        var index;\n        var storedSegmentKeys = Object.keys(this.segmentCache);\n        // Extreme fast => everything is empty\n        if (names.length === 0 && storedSegmentKeys.length === names.length)\n            return isDiff;\n        // Quick path\n        if (storedSegmentKeys.length !== names.length) {\n            isDiff = true;\n            this.segmentCache = {};\n            names.forEach(function (s) {\n                _this.addToSegment(s);\n            });\n        }\n        else {\n            // Slowest path => we need to find at least 1 difference because\n            for (index = 0; index < names.length && this.isInSegment(names[index]); index++) {\n                // TODO: why empty statement?\n            }\n            if (index < names.length) {\n                isDiff = true;\n                this.segmentCache = {};\n                names.forEach(function (s) {\n                    _this.addToSegment(s);\n                });\n            }\n        }\n        return isDiff;\n    };\n    MySegmentsCacheInMemory.prototype.getRegisteredSegments = function () {\n        return Object.keys(this.segmentCache);\n    };\n    MySegmentsCacheInMemory.prototype.getKeysCount = function () {\n        return 1;\n    };\n    return MySegmentsCacheInMemory;\n}(AbstractSegmentsCacheSync));\nexport { MySegmentsCacheInMemory };\n","import { __extends } from \"tslib\";\nimport { AbstractSplitsCacheSync, usesSegments } from '../AbstractSplitsCacheSync';\nimport { isFiniteNumber } from '../../utils/lang';\n/**\n * Default ISplitsCacheSync implementation that stores split definitions in memory.\n * Supported by all JS runtimes.\n */\nvar SplitsCacheInMemory = /** @class */ (function (_super) {\n    __extends(SplitsCacheInMemory, _super);\n    function SplitsCacheInMemory() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.splitsCache = {};\n        _this.ttCache = {};\n        _this.changeNumber = -1;\n        _this.splitsWithSegmentsCount = 0;\n        return _this;\n    }\n    SplitsCacheInMemory.prototype.clear = function () {\n        this.splitsCache = {};\n        this.ttCache = {};\n        this.changeNumber = -1;\n        this.splitsWithSegmentsCount = 0;\n    };\n    SplitsCacheInMemory.prototype.addSplit = function (name, split) {\n        var splitFromMemory = this.getSplit(name);\n        if (splitFromMemory) { // We had this Split already\n            var previousSplit = JSON.parse(splitFromMemory);\n            if (previousSplit.trafficTypeName) {\n                var previousTtName = previousSplit.trafficTypeName;\n                this.ttCache[previousTtName]--;\n                if (!this.ttCache[previousTtName])\n                    delete this.ttCache[previousTtName];\n            }\n            if (usesSegments(previousSplit)) { // Substract from segments count for the previous version of this Split.\n                this.splitsWithSegmentsCount--;\n            }\n        }\n        var parsedSplit = JSON.parse(split);\n        if (parsedSplit) {\n            // Store the Split.\n            this.splitsCache[name] = split;\n            // Update TT cache\n            var ttName = parsedSplit.trafficTypeName;\n            if (ttName) { // safeguard\n                if (!this.ttCache[ttName])\n                    this.ttCache[ttName] = 0;\n                this.ttCache[ttName]++;\n            }\n            // Add to segments count for the new version of the Split\n            if (usesSegments(parsedSplit))\n                this.splitsWithSegmentsCount++;\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    SplitsCacheInMemory.prototype.removeSplit = function (name) {\n        var split = this.getSplit(name);\n        if (split) {\n            // Delete the Split\n            delete this.splitsCache[name];\n            var parsedSplit = JSON.parse(split);\n            var ttName = parsedSplit.trafficTypeName;\n            if (ttName) { // safeguard\n                this.ttCache[ttName]--; // Update tt cache\n                if (!this.ttCache[ttName])\n                    delete this.ttCache[ttName];\n            }\n            // Update the segments count.\n            if (usesSegments(parsedSplit))\n                this.splitsWithSegmentsCount--;\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    SplitsCacheInMemory.prototype.getSplit = function (name) {\n        return this.splitsCache[name] || null;\n    };\n    SplitsCacheInMemory.prototype.setChangeNumber = function (changeNumber) {\n        this.changeNumber = changeNumber;\n        return true;\n    };\n    SplitsCacheInMemory.prototype.getChangeNumber = function () {\n        return this.changeNumber;\n    };\n    SplitsCacheInMemory.prototype.getSplitNames = function () {\n        return Object.keys(this.splitsCache);\n    };\n    SplitsCacheInMemory.prototype.trafficTypeExists = function (trafficType) {\n        return isFiniteNumber(this.ttCache[trafficType]) && this.ttCache[trafficType] > 0;\n    };\n    SplitsCacheInMemory.prototype.usesSegments = function () {\n        return this.getChangeNumber() === -1 || this.splitsWithSegmentsCount > 0;\n    };\n    return SplitsCacheInMemory;\n}(AbstractSplitsCacheSync));\nexport { SplitsCacheInMemory };\n","// Integration types\nexport var GOOGLE_ANALYTICS_TO_SPLIT = 'GOOGLE_ANALYTICS_TO_SPLIT';\nexport var SPLIT_TO_GOOGLE_ANALYTICS = 'SPLIT_TO_GOOGLE_ANALYTICS';\n// This value might be eventually set via a config parameter\nexport var DEFAULT_CACHE_EXPIRATION_IN_MILLIS = 864000000; // 10 days\n","import { isNaNNumber } from '../utils/lang';\nvar MIN = 0;\nvar MAX = 22;\nvar BASE = 1.5;\n/**\n * Calculates buckets from latency in milliseconds\n *\n * @param latencyInMs\n * @returns a bucket index from 0 to 22 inclusive\n */\nexport function findLatencyIndex(latencyInMs) {\n    var index = Math.min(MAX, Math.max(MIN, Math.ceil(Math.log(latencyInMs) / Math.log(BASE))));\n    return isNaNNumber(index) ? 0 : index; // index is NaN if latency is not a positive number\n}\n","import { findLatencyIndex } from '../findLatencyIndex';\nvar MAX_STREAMING_EVENTS = 20;\nvar MAX_TAGS = 10;\nfunction newBuckets() {\n    // MAX_LATENCY_BUCKET_COUNT (length) is 23;\n    return [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n}\nvar ACCEPTANCE_RANGE = 0.001;\n/**\n * Used on client-side. 0.1% of instances will track telemetry\n */\nexport function shouldRecordTelemetry() {\n    return Math.random() <= ACCEPTANCE_RANGE;\n}\nvar TelemetryCacheInMemory = /** @class */ (function () {\n    function TelemetryCacheInMemory() {\n        this.notReadyUsage = 0;\n        this.impressionStats = [0, 0, 0];\n        this.eventStats = [0, 0];\n        // @ts-expect-error\n        this.lastSync = {};\n        // @ts-expect-error\n        this.httpErrors = {};\n        // @ts-expect-error\n        this.httpLatencies = {};\n        this.authRejections = 0;\n        this.tokenRefreshes = 0;\n        this.streamingEvents = [];\n        this.tags = [];\n        // @ts-expect-error\n        this.exceptions = {};\n        // @ts-expect-error\n        this.latencies = {};\n    }\n    TelemetryCacheInMemory.prototype.getTimeUntilReady = function () {\n        return this.timeUntilReady;\n    };\n    TelemetryCacheInMemory.prototype.recordTimeUntilReady = function (ms) {\n        this.timeUntilReady = ms;\n    };\n    TelemetryCacheInMemory.prototype.getTimeUntilReadyFromCache = function () {\n        return this.timeUntilReadyFromCache;\n    };\n    TelemetryCacheInMemory.prototype.recordTimeUntilReadyFromCache = function (ms) {\n        this.timeUntilReadyFromCache = ms;\n    };\n    TelemetryCacheInMemory.prototype.getNonReadyUsage = function () {\n        return this.notReadyUsage;\n    };\n    TelemetryCacheInMemory.prototype.recordNonReadyUsage = function () {\n        this.notReadyUsage++;\n    };\n    TelemetryCacheInMemory.prototype.getImpressionStats = function (type) {\n        return this.impressionStats[type];\n    };\n    TelemetryCacheInMemory.prototype.recordImpressionStats = function (type, count) {\n        this.impressionStats[type] += count;\n    };\n    TelemetryCacheInMemory.prototype.getEventStats = function (type) {\n        return this.eventStats[type];\n    };\n    TelemetryCacheInMemory.prototype.recordEventStats = function (type, count) {\n        this.eventStats[type] += count;\n    };\n    TelemetryCacheInMemory.prototype.getLastSynchronization = function () {\n        return this.lastSync;\n    };\n    TelemetryCacheInMemory.prototype.recordSuccessfulSync = function (resource, timeMs) {\n        this.lastSync[resource] = timeMs;\n    };\n    TelemetryCacheInMemory.prototype.popHttpErrors = function () {\n        var result = this.httpErrors; // @ts-expect-error\n        this.httpErrors = {};\n        return result;\n    };\n    TelemetryCacheInMemory.prototype.recordHttpError = function (resource, status) {\n        if (!this.httpErrors[resource])\n            this.httpErrors[resource] = {};\n        if (!this.httpErrors[resource][status]) {\n            this.httpErrors[resource][status] = 1;\n        }\n        else {\n            this.httpErrors[resource][status]++;\n        }\n    };\n    TelemetryCacheInMemory.prototype.popHttpLatencies = function () {\n        var result = this.httpLatencies; // @ts-expect-error\n        this.httpLatencies = {};\n        return result;\n    };\n    TelemetryCacheInMemory.prototype.recordHttpLatency = function (resource, latencyMs) {\n        if (!this.httpLatencies[resource]) {\n            this.httpLatencies[resource] = newBuckets();\n        }\n        this.httpLatencies[resource][findLatencyIndex(latencyMs)]++;\n    };\n    TelemetryCacheInMemory.prototype.popAuthRejections = function () {\n        var result = this.authRejections;\n        this.authRejections = 0;\n        return result;\n    };\n    TelemetryCacheInMemory.prototype.recordAuthRejections = function () {\n        this.authRejections++;\n    };\n    TelemetryCacheInMemory.prototype.popTokenRefreshes = function () {\n        var result = this.tokenRefreshes;\n        this.tokenRefreshes = 0;\n        return result;\n    };\n    TelemetryCacheInMemory.prototype.recordTokenRefreshes = function () {\n        this.tokenRefreshes++;\n    };\n    TelemetryCacheInMemory.prototype.popStreamingEvents = function () {\n        return this.streamingEvents.splice(0);\n    };\n    TelemetryCacheInMemory.prototype.recordStreamingEvents = function (streamingEvent) {\n        if (this.streamingEvents.length < MAX_STREAMING_EVENTS) {\n            this.streamingEvents.push(streamingEvent);\n        }\n    };\n    TelemetryCacheInMemory.prototype.popTags = function () {\n        return this.tags.splice(0);\n    };\n    TelemetryCacheInMemory.prototype.addTag = function (tag) {\n        if (this.tags.length < MAX_TAGS) {\n            this.tags.push(tag);\n        }\n    };\n    TelemetryCacheInMemory.prototype.getSessionLength = function () {\n        return this.sessionLength;\n    };\n    TelemetryCacheInMemory.prototype.recordSessionLength = function (ms) {\n        this.sessionLength = ms;\n    };\n    TelemetryCacheInMemory.prototype.popExceptions = function () {\n        var result = this.exceptions; // @ts-expect-error\n        this.exceptions = {};\n        return result;\n    };\n    TelemetryCacheInMemory.prototype.recordException = function (method) {\n        if (!this.exceptions[method]) {\n            this.exceptions[method] = 1;\n        }\n        else {\n            this.exceptions[method]++;\n        }\n    };\n    TelemetryCacheInMemory.prototype.popLatencies = function () {\n        var result = this.latencies; // @ts-expect-error\n        this.latencies = {};\n        return result;\n    };\n    TelemetryCacheInMemory.prototype.recordLatency = function (method, latencyMs) {\n        if (!this.latencies[method]) {\n            this.latencies[method] = newBuckets();\n        }\n        this.latencies[method][findLatencyIndex(latencyMs)]++;\n    };\n    return TelemetryCacheInMemory;\n}());\nexport { TelemetryCacheInMemory };\n","import { SplitsCacheInMemory } from './SplitsCacheInMemory';\nimport { MySegmentsCacheInMemory } from './MySegmentsCacheInMemory';\nimport { ImpressionsCacheInMemory } from './ImpressionsCacheInMemory';\nimport { EventsCacheInMemory } from './EventsCacheInMemory';\nimport { ImpressionCountsCacheInMemory } from './ImpressionCountsCacheInMemory';\nimport { LOCALHOST_MODE, STORAGE_MEMORY } from '../../utils/constants';\nimport { shouldRecordTelemetry, TelemetryCacheInMemory } from './TelemetryCacheInMemory';\n/**\n * InMemory storage factory for standalone client-side SplitFactory\n *\n * @param params parameters required by EventsCacheSync\n */\nexport function InMemoryStorageCSFactory(params) {\n    return {\n        splits: new SplitsCacheInMemory(),\n        segments: new MySegmentsCacheInMemory(),\n        impressions: new ImpressionsCacheInMemory(params.impressionsQueueSize),\n        impressionCounts: params.optimize ? new ImpressionCountsCacheInMemory() : undefined,\n        events: new EventsCacheInMemory(params.eventsQueueSize),\n        telemetry: params.mode !== LOCALHOST_MODE && shouldRecordTelemetry() ? new TelemetryCacheInMemory() : undefined,\n        // When using MEMORY we should clean all the caches to leave them empty\n        destroy: function () {\n            this.splits.clear();\n            this.segments.clear();\n            this.impressions.clear();\n            this.impressionCounts && this.impressionCounts.clear();\n            this.events.clear();\n        },\n        // When using shared instanciation with MEMORY we reuse everything but segments (they are unique per key)\n        shared: function () {\n            return {\n                splits: this.splits,\n                segments: new MySegmentsCacheInMemory(),\n                impressions: this.impressions,\n                impressionCounts: this.impressionCounts,\n                events: this.events,\n                telemetry: this.telemetry,\n                // Set a new splits cache to clean it for the client without affecting other clients\n                destroy: function () {\n                    this.splits = new SplitsCacheInMemory();\n                    this.segments.clear();\n                }\n            };\n        },\n    };\n}\nInMemoryStorageCSFactory.type = STORAGE_MEMORY;\n","import { ImpressionsCacheInMemory } from '../inMemory/ImpressionsCacheInMemory';\nimport { ImpressionCountsCacheInMemory } from '../inMemory/ImpressionCountsCacheInMemory';\nimport { EventsCacheInMemory } from '../inMemory/EventsCacheInMemory';\nimport { validatePrefix } from '../KeyBuilder';\nimport { KeyBuilderCS } from '../KeyBuilderCS';\nimport { isLocalStorageAvailable } from '../../utils/env/isLocalStorageAvailable';\nimport { SplitsCacheInLocal } from './SplitsCacheInLocal';\nimport { MySegmentsCacheInLocal } from './MySegmentsCacheInLocal';\nimport { MySegmentsCacheInMemory } from '../inMemory/MySegmentsCacheInMemory';\nimport { SplitsCacheInMemory } from '../inMemory/SplitsCacheInMemory';\nimport { DEFAULT_CACHE_EXPIRATION_IN_MILLIS } from '../../utils/constants/browser';\nimport { InMemoryStorageCSFactory } from '../inMemory/InMemoryStorageCS';\nimport { LOG_PREFIX } from './constants';\nimport { LOCALHOST_MODE, STORAGE_LOCALSTORAGE } from '../../utils/constants';\nimport { shouldRecordTelemetry, TelemetryCacheInMemory } from '../inMemory/TelemetryCacheInMemory';\n/**\n * InLocal storage factory for standalone client-side SplitFactory\n */\nexport function InLocalStorage(options) {\n    if (options === void 0) { options = {}; }\n    var prefix = validatePrefix(options.prefix);\n    function InLocalStorageCSFactory(params) {\n        // Fallback to InMemoryStorage if LocalStorage API is not available\n        if (!isLocalStorageAvailable()) {\n            params.log.warn(LOG_PREFIX + 'LocalStorage API is unavailable. Falling back to default MEMORY storage');\n            return InMemoryStorageCSFactory(params);\n        }\n        var log = params.log;\n        var keys = new KeyBuilderCS(prefix, params.matchingKey);\n        var expirationTimestamp = Date.now() - DEFAULT_CACHE_EXPIRATION_IN_MILLIS;\n        return {\n            splits: new SplitsCacheInLocal(log, keys, expirationTimestamp, params.splitFiltersValidation),\n            segments: new MySegmentsCacheInLocal(log, keys),\n            impressions: new ImpressionsCacheInMemory(params.impressionsQueueSize),\n            impressionCounts: params.optimize ? new ImpressionCountsCacheInMemory() : undefined,\n            events: new EventsCacheInMemory(params.eventsQueueSize),\n            telemetry: params.mode !== LOCALHOST_MODE && shouldRecordTelemetry() ? new TelemetryCacheInMemory() : undefined,\n            destroy: function () {\n                this.splits = new SplitsCacheInMemory();\n                this.segments = new MySegmentsCacheInMemory();\n                this.impressions.clear();\n                this.impressionCounts && this.impressionCounts.clear();\n                this.events.clear();\n            },\n            // When using shared instanciation with MEMORY we reuse everything but segments (they are customer per key).\n            shared: function (matchingKey) {\n                var childKeysBuilder = new KeyBuilderCS(prefix, matchingKey);\n                return {\n                    splits: this.splits,\n                    segments: new MySegmentsCacheInLocal(log, childKeysBuilder),\n                    impressions: this.impressions,\n                    impressionCounts: this.impressionCounts,\n                    events: this.events,\n                    telemetry: this.telemetry,\n                    destroy: function () {\n                        this.splits = new SplitsCacheInMemory();\n                        this.segments = new MySegmentsCacheInMemory();\n                    }\n                };\n            },\n        };\n    }\n    InLocalStorageCSFactory.type = STORAGE_LOCALSTORAGE;\n    return InLocalStorageCSFactory;\n}\n","// returns true if the given value is a thenable object\nexport function thenable(o) {\n    return o !== undefined && o !== null && typeof o.then === 'function';\n}\n","import { ERROR_CLIENT_DESTROYED, CLIENT_NOT_READY } from '../../logger/constants';\nexport function validateIfNotDestroyed(log, readinessManager, method) {\n    if (!readinessManager.isDestroyed())\n        return true;\n    log.error(ERROR_CLIENT_DESTROYED, [method]);\n    return false;\n}\nexport function validateIfOperational(log, readinessManager, method) {\n    if (readinessManager.isReady() || readinessManager.isReadyFromCache())\n        return true;\n    log.warn(CLIENT_NOT_READY, [method]);\n    return false;\n}\n","export var SPLIT_KILLED = 'killed';\nexport var NO_CONDITION_MATCH = 'default rule';\nexport var SPLIT_NOT_FOUND = 'definition not found';\nexport var SDK_NOT_READY = 'not ready';\nexport var EXCEPTION = 'exception';\nexport var SPLIT_ARCHIVED = 'archived';\nexport var NOT_IN_SPLIT = 'not in split';\n","import { SPLIT_NOT_FOUND } from '../labels';\nimport { WARN_NOT_EXISTENT_SPLIT } from '../../logger/constants';\n/**\n * This is defined here and in this format mostly because of the logger and the fact that it's considered a validation at product level.\n * But it's not going to run on the input validation layer. In any case, the most compeling reason to use it as we do is to avoid going to Redis and get a split twice.\n */\nexport function validateSplitExistance(log, readinessManager, splitName, labelOrSplitObj, method) {\n    if (readinessManager.isReady()) { // Only if it's ready we validate this, otherwise it may just be that the SDK is not ready yet.\n        if (labelOrSplitObj === SPLIT_NOT_FOUND || labelOrSplitObj == null) {\n            log.warn(WARN_NOT_EXISTENT_SPLIT, [method, splitName]);\n            return false;\n        }\n    }\n    return true;\n}\n","import { objectAssign } from '../utils/lang/objectAssign';\nimport { thenable } from '../utils/promise/thenable';\nimport { find } from '../utils/lang';\nimport { validateSplit, validateSplitExistance, validateIfNotDestroyed, validateIfOperational } from '../utils/inputValidation';\nfunction collectTreatments(splitObject) {\n    var conditions = splitObject.conditions;\n    // Rollout conditions are supposed to have the entire partitions list, so we find the first one.\n    var allTreatmentsCondition = find(conditions, function (cond) { return cond.conditionType === 'ROLLOUT'; });\n    // Localstorage mode could fall into a no rollout conditions state. Take the first condition in that case.\n    if (!allTreatmentsCondition)\n        allTreatmentsCondition = conditions[0];\n    // Then extract the treatments from the partitions\n    return allTreatmentsCondition ? allTreatmentsCondition.partitions.map(function (v) { return v.treatment; }) : [];\n}\nfunction objectToView(json) {\n    var splitObject;\n    try {\n        // @ts-expect-error\n        splitObject = JSON.parse(json);\n    }\n    catch (e) {\n        return null;\n    }\n    if (!splitObject)\n        return null;\n    return {\n        name: splitObject.name,\n        trafficType: splitObject.trafficTypeName,\n        killed: splitObject.killed,\n        changeNumber: splitObject.changeNumber || 0,\n        treatments: collectTreatments(splitObject),\n        configs: splitObject.configurations || {}\n    };\n}\nfunction objectsToViews(jsons) {\n    var views = [];\n    jsons.forEach(function (split) {\n        var view = objectToView(split);\n        if (view)\n            views.push(view);\n    });\n    return views;\n}\nexport function sdkManagerFactory(log, splits, _a) {\n    var readinessManager = _a.readinessManager, sdkStatus = _a.sdkStatus;\n    var SPLIT_FN_LABEL = 'split';\n    return objectAssign(\n    // Proto-linkage of the readiness Event Emitter\n    Object.create(sdkStatus), {\n        /**\n         * Get the Split object corresponding to the given split name if valid\n         */\n        split: function (maybeSplitName) {\n            var splitName = validateSplit(log, maybeSplitName, SPLIT_FN_LABEL);\n            if (!validateIfNotDestroyed(log, readinessManager, SPLIT_FN_LABEL) || !validateIfOperational(log, readinessManager, SPLIT_FN_LABEL) || !splitName) {\n                return null;\n            }\n            var split = splits.getSplit(splitName);\n            if (thenable(split)) {\n                return split.catch(function () { return null; }).then(function (result) {\n                    validateSplitExistance(log, readinessManager, splitName, result, SPLIT_FN_LABEL);\n                    return objectToView(result);\n                });\n            }\n            validateSplitExistance(log, readinessManager, splitName, split, SPLIT_FN_LABEL);\n            return objectToView(split);\n        },\n        /**\n         * Get the Split objects present on the factory storage\n         */\n        splits: function () {\n            if (!validateIfNotDestroyed(log, readinessManager, 'splits') || !validateIfOperational(log, readinessManager, 'splits')) {\n                return [];\n            }\n            var currentSplits = splits.getAll();\n            return thenable(currentSplits) ?\n                currentSplits.catch(function () { return []; }).then(objectsToViews) : // handle possible rejections when using pluggable storage\n                objectsToViews(currentSplits);\n        },\n        /**\n         * Get the Split names present on the factory storage\n         */\n        names: function () {\n            if (!validateIfNotDestroyed(log, readinessManager, 'names') || !validateIfOperational(log, readinessManager, 'names')) {\n                return [];\n            }\n            var splitNames = splits.getSplitNames();\n            return thenable(splitNames) ?\n                splitNames.catch(function () { return []; }) : // handle possible rejections when using pluggable storage\n                splitNames;\n        }\n    });\n}\n","import { objectAssign } from '../../utils/lang/objectAssign';\nvar AttributesCacheInMemory = /** @class */ (function () {\n    function AttributesCacheInMemory() {\n        this.attributesCache = {};\n    }\n    /**\n     * Create or update the value for the given attribute\n     *\n     * @param {string} attributeName attribute name\n     * @param {Object} attributeValue attribute value\n     * @returns {boolean} the attribute was stored\n     */\n    AttributesCacheInMemory.prototype.setAttribute = function (attributeName, attributeValue) {\n        this.attributesCache[attributeName] = attributeValue;\n        return true;\n    };\n    /**\n     * Retrieves the value of a given attribute\n     *\n     * @param {string} attributeName attribute name\n     * @returns {Object?} stored attribute value\n     */\n    AttributesCacheInMemory.prototype.getAttribute = function (attributeName) {\n        return this.attributesCache[attributeName];\n    };\n    /**\n     * Create or update all the given attributes\n     *\n     * @param {[string, Object]} attributes attributes to create or update\n     * @returns {boolean} attributes were stored\n     */\n    AttributesCacheInMemory.prototype.setAttributes = function (attributes) {\n        this.attributesCache = objectAssign(this.attributesCache, attributes);\n        return true;\n    };\n    /**\n     * Retrieve the full attributes map\n     *\n     * @returns {Map<string, Object>} stored attributes\n     */\n    AttributesCacheInMemory.prototype.getAll = function () {\n        return this.attributesCache;\n    };\n    /**\n     * Removes a given attribute from the map\n     *\n     * @param {string} attributeName attribute to remove\n     * @returns {boolean} attribute removed\n     */\n    AttributesCacheInMemory.prototype.removeAttribute = function (attributeName) {\n        if (Object.keys(this.attributesCache).indexOf(attributeName) >= 0) {\n            delete this.attributesCache[attributeName];\n            return true;\n        }\n        return false;\n    };\n    /**\n     * Clears all attributes stored in the SDK\n     *\n     */\n    AttributesCacheInMemory.prototype.clear = function () {\n        this.attributesCache = {};\n        return true;\n    };\n    return AttributesCacheInMemory;\n}());\nexport { AttributesCacheInMemory };\n","import { isString, isFiniteNumber, isBoolean } from '../../utils/lang';\nexport function validateAttribute(log, attributeKey, attributeValue, method) {\n    if (!isString(attributeKey) || attributeKey.length === 0) {\n        log.warn(method + \": you passed an invalid attribute name, attribute name must be a non-empty string.\");\n        return false;\n    }\n    var isStringVal = isString(attributeValue);\n    var isFiniteVal = isFiniteNumber(attributeValue);\n    var isBoolVal = isBoolean(attributeValue);\n    var isArrayVal = Array.isArray(attributeValue);\n    if (!(isStringVal || isFiniteVal || isBoolVal || isArrayVal)) { // If it's not of valid type.\n        log.warn(method + \": you passed an invalid attribute value for \" + attributeKey + \". Acceptable types are: string, number, boolean and array of strings.\");\n        return false;\n    }\n    return true;\n}\n","import { isObject } from '../lang';\nimport { validateAttribute } from './attribute';\nimport { ERROR_NOT_PLAIN_OBJECT } from '../../logger/constants';\nexport function validateAttributes(log, maybeAttrs, method) {\n    // Attributes are optional\n    if (maybeAttrs == undefined || isObject(maybeAttrs)) // eslint-disable-line eqeqeq\n        return maybeAttrs;\n    log.error(ERROR_NOT_PLAIN_OBJECT, [method, 'attributes']);\n    return false;\n}\nexport function validateAttributesDeep(log, maybeAttributes, method) {\n    if (!validateAttributes(log, maybeAttributes, method))\n        return false;\n    var result = true;\n    Object.keys(maybeAttributes).forEach(function (attributeKey) {\n        if (!validateAttribute(log, attributeKey, maybeAttributes[attributeKey], method))\n            result = false;\n    });\n    return result;\n}\n","import { AttributesCacheInMemory } from '../storages/inMemory/AttributesCacheInMemory';\nimport { validateAttributesDeep } from '../utils/inputValidation/attributes';\nimport { objectAssign } from '../utils/lang/objectAssign';\n/**\n * Add in memory attributes storage methods and combine them with any attribute received from the getTreatment/s call\n */\nexport function clientAttributesDecoration(log, client) {\n    var attributeStorage = new AttributesCacheInMemory();\n    // Keep a reference to the original methods\n    var clientGetTreatment = client.getTreatment;\n    var clientGetTreatmentWithConfig = client.getTreatmentWithConfig;\n    var clientGetTreatments = client.getTreatments;\n    var clientGetTreatmentsWithConfig = client.getTreatmentsWithConfig;\n    var clientTrack = client.track;\n    function getTreatment(maybeKey, maybeSplit, maybeAttributes) {\n        return clientGetTreatment(maybeKey, maybeSplit, combineAttributes(maybeAttributes));\n    }\n    function getTreatmentWithConfig(maybeKey, maybeSplit, maybeAttributes) {\n        return clientGetTreatmentWithConfig(maybeKey, maybeSplit, combineAttributes(maybeAttributes));\n    }\n    function getTreatments(maybeKey, maybeSplits, maybeAttributes) {\n        return clientGetTreatments(maybeKey, maybeSplits, combineAttributes(maybeAttributes));\n    }\n    function getTreatmentsWithConfig(maybeKey, maybeSplits, maybeAttributes) {\n        return clientGetTreatmentsWithConfig(maybeKey, maybeSplits, combineAttributes(maybeAttributes));\n    }\n    function track(maybeKey, maybeTT, maybeEvent, maybeEventValue, maybeProperties) {\n        return clientTrack(maybeKey, maybeTT, maybeEvent, maybeEventValue, maybeProperties);\n    }\n    function combineAttributes(maybeAttributes) {\n        var storedAttributes = attributeStorage.getAll();\n        if (Object.keys(storedAttributes).length > 0) {\n            return objectAssign({}, storedAttributes, maybeAttributes);\n        }\n        return maybeAttributes;\n    }\n    return objectAssign(client, {\n        getTreatment: getTreatment,\n        getTreatmentWithConfig: getTreatmentWithConfig,\n        getTreatments: getTreatments,\n        getTreatmentsWithConfig: getTreatmentsWithConfig,\n        track: track,\n        /**\n         * Add an attribute to client's in memory attributes storage\n         *\n         * @param {string} attributeName Attrinute name\n         * @param {string, number, boolean, list} attributeValue Attribute value\n         * @returns {boolean} true if the attribute was stored and false otherways\n         */\n        setAttribute: function (attributeName, attributeValue) {\n            var attribute = {};\n            attribute[attributeName] = attributeValue;\n            if (!validateAttributesDeep(log, attribute, 'setAttribute'))\n                return false;\n            log.debug(\"stored \" + attributeValue + \" for attribute \" + attributeName);\n            return attributeStorage.setAttribute(attributeName, attributeValue);\n        },\n        /**\n         * Returns the attribute with the given key\n         *\n         * @param {string} attributeName Attribute name\n         * @returns {Object} Attribute with the given key\n         */\n        getAttribute: function (attributeName) {\n            log.debug(\"retrieved attribute \" + attributeName);\n            return attributeStorage.getAttribute(attributeName + '');\n        },\n        /**\n         * Add to client's in memory attributes storage the attributes in 'attributes'\n         *\n         * @param {Object} attributes Object with attributes to store\n         * @returns true if attributes were stored an false otherways\n         */\n        setAttributes: function (attributes) {\n            if (!validateAttributesDeep(log, attributes, 'setAttributes'))\n                return false;\n            return attributeStorage.setAttributes(attributes);\n        },\n        /**\n         * Return all the attributes stored in client's in memory attributes storage\n         *\n         * @returns {Object} returns all the stored attributes\n         */\n        getAttributes: function () {\n            return attributeStorage.getAll();\n        },\n        /**\n         * Removes from client's in memory attributes storage the attribute with the given key\n         *\n         * @param {string} attributeName\n         * @returns {boolean} true if attribute was removed and false otherways\n         */\n        removeAttribute: function (attributeName) {\n            log.debug(\"removed attribute \" + attributeName);\n            return attributeStorage.removeAttribute(attributeName + '');\n        },\n        /**\n         * Remove all the stored attributes in the client's in memory attribute storage\n         */\n        clearAttributes: function () {\n            return attributeStorage.clear();\n        }\n    });\n}\n","import { objectAssign } from '../utils/lang/objectAssign';\nimport { clientAttributesDecoration } from './clientAttributesDecoration';\n/**\n * Decorator that binds a key and (optionally) a traffic type to client methods\n *\n * @param client sync client instance\n * @param key validated split key\n * @param trafficType validated traffic type\n */\nexport function clientCSDecorator(log, client, key, trafficType) {\n    var clientCS = clientAttributesDecoration(log, client);\n    return objectAssign(clientCS, {\n        // In the client-side API, we bind a key to the client `getTreatment*` methods\n        getTreatment: clientCS.getTreatment.bind(clientCS, key),\n        getTreatmentWithConfig: clientCS.getTreatmentWithConfig.bind(clientCS, key),\n        getTreatments: clientCS.getTreatments.bind(clientCS, key),\n        getTreatmentsWithConfig: clientCS.getTreatmentsWithConfig.bind(clientCS, key),\n        // Key is bound to the `track` method. Same thing happens with trafficType but only if provided\n        track: trafficType ? clientCS.track.bind(clientCS, key, trafficType) : clientCS.track.bind(clientCS, key),\n        isClientSide: true\n    });\n}\n","export var matcherTypes = {\n    UNDEFINED: 0,\n    ALL_KEYS: 1,\n    IN_SEGMENT: 2,\n    WHITELIST: 3,\n    EQUAL_TO: 4,\n    GREATER_THAN_OR_EQUAL_TO: 5,\n    LESS_THAN_OR_EQUAL_TO: 6,\n    BETWEEN: 7,\n    EQUAL_TO_SET: 8,\n    CONTAINS_ANY_OF_SET: 9,\n    CONTAINS_ALL_OF_SET: 10,\n    PART_OF_SET: 11,\n    ENDS_WITH: 12,\n    STARTS_WITH: 13,\n    CONTAINS_STRING: 14,\n    IN_SPLIT_TREATMENT: 15,\n    EQUAL_TO_BOOLEAN: 16,\n    MATCHES_STRING: 17\n};\nexport var matcherDataTypes = {\n    BOOLEAN: 'BOOLEAN',\n    STRING: 'STRING',\n    NUMBER: 'NUMBER',\n    SET: 'SET',\n    DATETIME: 'DATETIME',\n    NOT_SPECIFIED: 'NOT_SPECIFIED'\n};\nexport function matcherTypesMapper(matcherType) {\n    var type = matcherTypes[matcherType];\n    if (type)\n        return type;\n    else\n        return matcherTypes.UNDEFINED;\n}\n","/**\n * Extract segment name as a plain string.\n */\nexport function segmentTransform(segment) {\n    return segment ? segment.segmentName : undefined;\n}\n","import { _Set } from '../../utils/lang/sets';\n/**\n * Extract whitelist as a set. Used by 'WHITELIST' matcher.\n */\nexport function whitelistTransform(whitelistObject) {\n    return new _Set(whitelistObject.whitelist);\n}\n","/**\n * Extract whitelist array. Used by set and string matchers\n */\nexport function setTransform(whitelistObject) {\n    return whitelistObject.whitelist;\n}\n","/**\n * Extract value from unary matcher data.\n */\nexport function numericTransform(unaryNumericObject) {\n    return unaryNumericObject.value;\n}\n","export function zeroSinceHH(millisSinceEpoch) {\n    return new Date(millisSinceEpoch).setUTCHours(0, 0, 0, 0);\n}\nexport function zeroSinceSS(millisSinceEpoch) {\n    return new Date(millisSinceEpoch).setUTCSeconds(0, 0);\n}\n","import { findIndex } from '../../utils/lang';\nimport { matcherTypes, matcherTypesMapper, matcherDataTypes } from '../matchers/matcherTypes';\nimport { segmentTransform } from './segment';\nimport { whitelistTransform } from './whitelist';\nimport { setTransform } from './set';\nimport { numericTransform } from './unaryNumeric';\nimport { zeroSinceHH, zeroSinceSS } from '../convertions';\n/**\n * Flat the complex matcherGroup structure into something handy.\n */\nexport function matchersTransform(matchers) {\n    var parsedMatchers = matchers.map(function (matcher) {\n        var matcherType = matcher.matcherType /* string */, negate = matcher.negate /* boolean */, keySelector = matcher.keySelector /* keySelectorObject */, segmentObject = matcher.userDefinedSegmentMatcherData /* segmentObject */, whitelistObject = matcher.whitelistMatcherData /* whiteListObject, provided by 'WHITELIST', set and string matchers */, unaryNumericObject = matcher.unaryNumericMatcherData /* unaryNumericObject */, betweenObject = matcher.betweenMatcherData /* betweenObject */, dependencyObject = matcher.dependencyMatcherData /* dependencyObject */, booleanMatcherData = matcher.booleanMatcherData, stringMatcherData = matcher.stringMatcherData;\n        var attribute = keySelector && keySelector.attribute;\n        var type = matcherTypesMapper(matcherType);\n        // As default input data type we use string (even for ALL_KEYS)\n        var dataType = matcherDataTypes.STRING;\n        var value = undefined;\n        if (type === matcherTypes.IN_SEGMENT) {\n            value = segmentTransform(segmentObject);\n        }\n        else if (type === matcherTypes.WHITELIST) {\n            value = whitelistTransform(whitelistObject);\n        }\n        else if (type === matcherTypes.EQUAL_TO) {\n            value = numericTransform(unaryNumericObject);\n            dataType = matcherDataTypes.NUMBER;\n            if (unaryNumericObject.dataType === 'DATETIME') {\n                value = zeroSinceHH(value);\n                dataType = matcherDataTypes.DATETIME;\n            }\n        }\n        else if (type === matcherTypes.GREATER_THAN_OR_EQUAL_TO ||\n            type === matcherTypes.LESS_THAN_OR_EQUAL_TO) {\n            value = numericTransform(unaryNumericObject);\n            dataType = matcherDataTypes.NUMBER;\n            if (unaryNumericObject.dataType === 'DATETIME') {\n                value = zeroSinceSS(value);\n                dataType = matcherDataTypes.DATETIME;\n            }\n        }\n        else if (type === matcherTypes.BETWEEN) {\n            value = betweenObject;\n            dataType = matcherDataTypes.NUMBER;\n            if (value.dataType === 'DATETIME') {\n                value.start = zeroSinceSS(value.start);\n                value.end = zeroSinceSS(value.end);\n                dataType = matcherDataTypes.DATETIME;\n            }\n        }\n        else if (type === matcherTypes.EQUAL_TO_SET ||\n            type === matcherTypes.CONTAINS_ANY_OF_SET ||\n            type === matcherTypes.CONTAINS_ALL_OF_SET ||\n            type === matcherTypes.PART_OF_SET) {\n            value = setTransform(whitelistObject);\n            dataType = matcherDataTypes.SET;\n        }\n        else if (type === matcherTypes.STARTS_WITH ||\n            type === matcherTypes.ENDS_WITH ||\n            type === matcherTypes.CONTAINS_STRING) {\n            value = setTransform(whitelistObject);\n        }\n        else if (type === matcherTypes.IN_SPLIT_TREATMENT) {\n            value = dependencyObject;\n            dataType = matcherDataTypes.NOT_SPECIFIED;\n        }\n        else if (type === matcherTypes.EQUAL_TO_BOOLEAN) {\n            dataType = matcherDataTypes.BOOLEAN;\n            value = booleanMatcherData;\n        }\n        else if (type === matcherTypes.MATCHES_STRING) {\n            value = stringMatcherData;\n        }\n        return {\n            attribute: attribute,\n            negate: negate,\n            type: type,\n            value: value,\n            dataType: dataType // runtime input data type\n        };\n    });\n    if (findIndex(parsedMatchers, function (m) { return m.type === matcherTypes.UNDEFINED; }) === -1) {\n        return parsedMatchers;\n    }\n    else {\n        return [];\n    }\n}\n","import { findIndex } from '../../utils/lang';\nvar Treatments = /** @class */ (function () {\n    function Treatments(ranges, treatments) {\n        if (ranges[ranges.length - 1] !== 100) {\n            throw new RangeError('Provided invalid dataset as input');\n        }\n        this._ranges = ranges;\n        this._treatments = treatments;\n    }\n    Treatments.parse = function (data) {\n        var _a = data.reduce(function (accum, value) {\n            var size = value.size, treatment = value.treatment;\n            accum.ranges.push(accum.inc += size);\n            accum.treatments.push(treatment);\n            return accum;\n        }, {\n            inc: 0,\n            ranges: [],\n            treatments: []\n        }), ranges = _a.ranges, treatments = _a.treatments;\n        return new Treatments(ranges, treatments);\n    };\n    Treatments.prototype.getTreatmentFor = function (x) {\n        if (x < 0 || x > 100) {\n            throw new RangeError('Please provide a value between 0 and 100');\n        }\n        // Readme [1]\n        // We need to manually add any dependency which escape of dummy resolution\n        // I'll deal with this in a future release\n        // for (let [k, r] of this._ranges.entries()) {\n        //   if (x <= r) return this._treatments[k];\n        // }\n        var index = findIndex(this._ranges, function (range) { return x <= range; });\n        var treatment = this._treatments[index];\n        return treatment;\n    };\n    return Treatments;\n}());\nexport { Treatments };\n","import { ENGINE_MATCHER_ALL } from '../../logger/constants';\nexport function allMatcherContext(log) {\n    return function allMatcher(runtimeAttr) {\n        log.debug(ENGINE_MATCHER_ALL);\n        return runtimeAttr != null;\n    };\n}\n","import { thenable } from '../../utils/promise/thenable';\nimport { ENGINE_MATCHER_SEGMENT } from '../../logger/constants';\nexport function segmentMatcherContext(log, segmentName, storage) {\n    return function segmentMatcher(key) {\n        var isInSegment = storage.segments.isInSegment(segmentName, key);\n        if (thenable(isInSegment)) {\n            isInSegment.then(function (result) {\n                log.debug(ENGINE_MATCHER_SEGMENT, [segmentName, key, isInSegment]);\n                return result;\n            });\n        }\n        else {\n            log.debug(ENGINE_MATCHER_SEGMENT, [segmentName, key, isInSegment]);\n        }\n        return isInSegment;\n    };\n}\n","import { setToArray } from '../../utils/lang/sets';\nimport { ENGINE_MATCHER_WHITELIST } from '../../logger/constants';\nexport function whitelistMatcherContext(log, ruleAttr) {\n    return function whitelistMatcher(runtimeAttr) {\n        var isInWhitelist = ruleAttr.has(runtimeAttr);\n        log.debug(ENGINE_MATCHER_WHITELIST, [runtimeAttr, setToArray(ruleAttr).join(','), isInWhitelist]);\n        return isInWhitelist;\n    };\n}\n","import { ENGINE_MATCHER_EQUAL } from '../../logger/constants';\nexport function equalToMatcherContext(log, ruleAttr) {\n    return function equalToMatcher(runtimeAttr) {\n        var isEqual = runtimeAttr === ruleAttr;\n        log.debug(ENGINE_MATCHER_EQUAL, [runtimeAttr, ruleAttr, isEqual]);\n        return isEqual;\n    };\n}\n","import { ENGINE_MATCHER_GREATER } from '../../logger/constants';\nexport function greaterThanEqualMatcherContext(log, ruleAttr) {\n    return function greaterThanEqualMatcher(runtimeAttr) {\n        var isGreaterEqualThan = runtimeAttr >= ruleAttr;\n        log.debug(ENGINE_MATCHER_GREATER, [runtimeAttr, ruleAttr, isGreaterEqualThan]);\n        return isGreaterEqualThan;\n    };\n}\n","import { ENGINE_MATCHER_LESS } from '../../logger/constants';\nexport function lessThanEqualMatcherContext(log, ruleAttr) {\n    return function lessThanEqualMatcher(runtimeAttr) {\n        var isLessEqualThan = runtimeAttr <= ruleAttr;\n        log.debug(ENGINE_MATCHER_LESS, [runtimeAttr, ruleAttr, isLessEqualThan]);\n        return isLessEqualThan;\n    };\n}\n","import { ENGINE_MATCHER_BETWEEN } from '../../logger/constants';\nexport function betweenMatcherContext(log, ruleVO) {\n    return function betweenMatcher(runtimeAttr) {\n        var isBetween = runtimeAttr >= ruleVO.start && runtimeAttr <= ruleVO.end;\n        log.debug(ENGINE_MATCHER_BETWEEN, [runtimeAttr, ruleVO.start, ruleVO.end, isBetween]);\n        return isBetween;\n    };\n}\n","import { ENGINE_MATCHER_EQUAL_TO_SET } from '../../logger/constants';\nimport { findIndex } from '../../utils/lang';\nexport function equalToSetMatcherContext(log, ruleAttr) {\n    return function equalToSetMatcher(runtimeAttr) {\n        // Length being the same is the first condition.\n        var isEqual = runtimeAttr.length === ruleAttr.length;\n        var _loop_1 = function (i) {\n            // if length is the same we check that all elements are present in the other collection.\n            if (findIndex(ruleAttr, function (e) { return e === runtimeAttr[i]; }) < 0)\n                isEqual = false;\n        };\n        for (var i = 0; i < runtimeAttr.length && isEqual; i++) {\n            _loop_1(i);\n        }\n        log.debug(ENGINE_MATCHER_EQUAL_TO_SET, [runtimeAttr, ruleAttr, isEqual]);\n        return isEqual;\n    };\n}\n","import { ENGINE_MATCHER_CONTAINS_ANY } from '../../logger/constants';\nimport { findIndex } from '../../utils/lang';\nexport function containsAnySetMatcherContext(log, ruleAttr) {\n    return function containsAnyMatcher(runtimeAttr) {\n        var containsAny = false;\n        var _loop_1 = function (i) {\n            if (findIndex(runtimeAttr, function (e) { return e === ruleAttr[i]; }) >= 0)\n                containsAny = true;\n        };\n        for (var i = 0; i < ruleAttr.length && !containsAny; i++) {\n            _loop_1(i);\n        }\n        log.debug(ENGINE_MATCHER_CONTAINS_ANY, [runtimeAttr, ruleAttr, containsAny]);\n        return containsAny;\n    };\n}\n","import { ENGINE_MATCHER_CONTAINS_ALL } from '../../logger/constants';\nimport { findIndex } from '../../utils/lang';\nexport function containsAllSetMatcherContext(log, ruleAttr) {\n    return function containsAllMatcher(runtimeAttr) {\n        var containsAll = true;\n        if (runtimeAttr.length < ruleAttr.length) {\n            containsAll = false;\n        }\n        else {\n            var _loop_1 = function (i) {\n                if (findIndex(runtimeAttr, function (e) { return e === ruleAttr[i]; }) < 0)\n                    containsAll = false;\n            };\n            for (var i = 0; i < ruleAttr.length && containsAll; i++) {\n                _loop_1(i);\n            }\n        }\n        log.debug(ENGINE_MATCHER_CONTAINS_ALL, [runtimeAttr, ruleAttr, containsAll]);\n        return containsAll;\n    };\n}\n","import { findIndex } from '../../utils/lang';\nimport { ENGINE_MATCHER_PART_OF } from '../../logger/constants';\nexport function partOfSetMatcherContext(log, ruleAttr) {\n    return function partOfMatcher(runtimeAttr) {\n        // To be part of the length should be minor or equal.\n        var isPartOf = runtimeAttr.length <= ruleAttr.length;\n        var _loop_1 = function (i) {\n            // If the length says is possible, we iterate until we prove otherwise or we check all elements.\n            if (findIndex(ruleAttr, function (e) { return e === runtimeAttr[i]; }) < 0)\n                isPartOf = false;\n        };\n        for (var i = 0; i < runtimeAttr.length && isPartOf; i++) {\n            _loop_1(i);\n        }\n        log.debug(ENGINE_MATCHER_PART_OF, [runtimeAttr, ruleAttr, isPartOf]);\n        return isPartOf;\n    };\n}\n","import { ENGINE_MATCHER_ENDS_WITH } from '../../logger/constants';\nimport { endsWith } from '../../utils/lang';\nexport function endsWithMatcherContext(log, ruleAttr) {\n    return function endsWithMatcher(runtimeAttr) {\n        var strEndsWith = ruleAttr.some(function (e) { return endsWith(runtimeAttr, e); });\n        log.debug(ENGINE_MATCHER_ENDS_WITH, [runtimeAttr, ruleAttr, strEndsWith]);\n        return strEndsWith;\n    };\n}\n","import { ENGINE_MATCHER_STARTS_WITH } from '../../logger/constants';\nimport { startsWith } from '../../utils/lang';\nexport function startsWithMatcherContext(log, ruleAttr) {\n    return function startsWithMatcher(runtimeAttr) {\n        var matches = ruleAttr.some(function (e) { return startsWith(runtimeAttr, e); });\n        log.debug(ENGINE_MATCHER_STARTS_WITH, [runtimeAttr, ruleAttr, matches]);\n        return matches;\n    };\n}\n","import { isString } from '../../utils/lang';\nimport { ENGINE_MATCHER_CONTAINS_STRING } from '../../logger/constants';\nexport function containsStringMatcherContext(log, ruleAttr) {\n    return function containsStringMatcher(runtimeAttr) {\n        var contains = ruleAttr.some(function (e) { return isString(runtimeAttr) && runtimeAttr.indexOf(e) > -1; });\n        log.debug(ENGINE_MATCHER_CONTAINS_STRING, [runtimeAttr, ruleAttr, contains]);\n        return contains;\n    };\n}\n","import { thenable } from '../../utils/promise/thenable';\nimport { ENGINE_MATCHER_DEPENDENCY, ENGINE_MATCHER_DEPENDENCY_PRE } from '../../logger/constants';\nexport function dependencyMatcherContext(log, _a, storage) {\n    var split = _a.split, treatments = _a.treatments;\n    function checkTreatment(evaluation, acceptableTreatments, parentName) {\n        var matches = false;\n        if (Array.isArray(acceptableTreatments)) {\n            matches = acceptableTreatments.indexOf(evaluation.treatment) !== -1;\n        }\n        log.debug(ENGINE_MATCHER_DEPENDENCY, [parentName, evaluation.treatment, evaluation.label, parentName, acceptableTreatments, matches]);\n        return matches;\n    }\n    return function dependencyMatcher(_a, splitEvaluator) {\n        var key = _a.key, attributes = _a.attributes;\n        log.debug(ENGINE_MATCHER_DEPENDENCY_PRE, [split, JSON.stringify(key), attributes ? '\\n attributes: ' + JSON.stringify(attributes) : '']);\n        var evaluation = splitEvaluator(log, key, split, attributes, storage);\n        if (thenable(evaluation)) {\n            return evaluation.then(function (ev) { return checkTreatment(ev, treatments, split); });\n        }\n        else {\n            return checkTreatment(evaluation, treatments, split);\n        }\n    };\n}\n","import { ENGINE_MATCHER_BOOLEAN } from '../../logger/constants';\nexport function booleanMatcherContext(log, ruleAttr) {\n    return function booleanMatcher(runtimeAttr) {\n        var booleanMatches = ruleAttr === runtimeAttr;\n        log.debug(ENGINE_MATCHER_BOOLEAN, [ruleAttr, runtimeAttr]);\n        return booleanMatches;\n    };\n}\n","import { ENGINE_MATCHER_STRING_INVALID, ENGINE_MATCHER_STRING } from '../../logger/constants';\nexport function stringMatcherContext(log, ruleAttr) {\n    return function stringMatcher(runtimeAttr) {\n        var re;\n        try {\n            re = new RegExp(ruleAttr);\n        }\n        catch (e) {\n            log.debug(ENGINE_MATCHER_STRING_INVALID, [ruleAttr]);\n            return false;\n        }\n        var regexMatches = re.test(runtimeAttr);\n        log.debug(ENGINE_MATCHER_STRING, [runtimeAttr, ruleAttr, regexMatches ? 'yes' : 'no']);\n        return regexMatches;\n    };\n}\n","import { allMatcherContext } from './all';\nimport { segmentMatcherContext } from './segment';\nimport { whitelistMatcherContext } from './whitelist';\nimport { equalToMatcherContext } from './eq';\nimport { greaterThanEqualMatcherContext } from './gte';\nimport { lessThanEqualMatcherContext } from './lte';\nimport { betweenMatcherContext } from './between';\nimport { equalToSetMatcherContext } from './eq_set';\nimport { containsAnySetMatcherContext } from './cont_any';\nimport { containsAllSetMatcherContext } from './cont_all';\nimport { partOfSetMatcherContext } from './part_of';\nimport { endsWithMatcherContext } from './ew';\nimport { startsWithMatcherContext } from './sw';\nimport { containsStringMatcherContext } from './cont_str';\nimport { dependencyMatcherContext } from './dependency';\nimport { booleanMatcherContext } from './boolean';\nimport { stringMatcherContext } from './string';\nvar matchers = [\n    undefined,\n    allMatcherContext,\n    segmentMatcherContext,\n    whitelistMatcherContext,\n    equalToMatcherContext,\n    greaterThanEqualMatcherContext,\n    lessThanEqualMatcherContext,\n    betweenMatcherContext,\n    equalToSetMatcherContext,\n    containsAnySetMatcherContext,\n    containsAllSetMatcherContext,\n    partOfSetMatcherContext,\n    endsWithMatcherContext,\n    startsWithMatcherContext,\n    containsStringMatcherContext,\n    dependencyMatcherContext,\n    booleanMatcherContext,\n    stringMatcherContext // MATCHES_STRING: 17\n];\n/**\n * Matcher factory.\n */\nexport function matcherFactory(log, matcherDto, storage) {\n    var type = matcherDto.type, value = matcherDto.value;\n    var matcherFn;\n    // @ts-ignore\n    if (matchers[type])\n        matcherFn = matchers[type](log, value, storage); // There is no index-out-of-bound exception in JavaScript\n    return matcherFn;\n}\n","import { isObject, uniq, toString, toNumber } from '../../utils/lang';\nimport { zeroSinceHH, zeroSinceSS } from '../convertions';\nimport { matcherTypes, matcherDataTypes } from '../matchers/matcherTypes';\nimport { ENGINE_SANITIZE } from '../../logger/constants';\nfunction sanitizeNumber(val) {\n    var num = toNumber(val);\n    return isNaN(num) ? undefined : num;\n}\nfunction sanitizeString(val) {\n    var valueToSanitize = val;\n    if (isObject(val)) {\n        // If the value is an object and is not a key, discard it.\n        valueToSanitize = val.matchingKey ? val.matchingKey : undefined;\n    }\n    var str = toString(valueToSanitize);\n    return str ? str : undefined;\n}\nfunction sanitizeArray(val) {\n    var arr = Array.isArray(val) ? uniq(val.map(function (e) { return e + ''; })) : [];\n    return arr.length ? arr : undefined;\n}\nfunction sanitizeBoolean(val) {\n    if (val === true || val === false)\n        return val;\n    if (typeof val === 'string') {\n        var lowerCaseValue = val.toLocaleLowerCase();\n        if (lowerCaseValue === 'true')\n            return true;\n        if (lowerCaseValue === 'false')\n            return false;\n    }\n    return undefined;\n}\nfunction dependencyProcessor(sanitizedValue, attributes) {\n    return {\n        key: sanitizedValue,\n        attributes: attributes\n    };\n}\n/**\n * We can define a pre-processing for the value, to be executed prior to matcher evaluation.\n */\nfunction getProcessingFunction(matcherTypeID, dataType) {\n    switch (matcherTypeID) {\n        case matcherTypes.EQUAL_TO:\n            return dataType === 'DATETIME' ? zeroSinceHH : undefined;\n        case matcherTypes.GREATER_THAN_OR_EQUAL_TO:\n        case matcherTypes.LESS_THAN_OR_EQUAL_TO:\n        case matcherTypes.BETWEEN:\n            return dataType === 'DATETIME' ? zeroSinceSS : undefined;\n        case matcherTypes.IN_SPLIT_TREATMENT:\n            return dependencyProcessor;\n        default:\n            return undefined;\n    }\n}\n/**\n * Sanitize matcher value\n */\nexport function sanitize(log, matcherTypeID, value, dataType, attributes) {\n    var processor = getProcessingFunction(matcherTypeID, dataType);\n    var sanitizedValue;\n    switch (dataType) {\n        case matcherDataTypes.NUMBER:\n        case matcherDataTypes.DATETIME:\n            sanitizedValue = sanitizeNumber(value);\n            break;\n        case matcherDataTypes.STRING:\n            sanitizedValue = sanitizeString(value);\n            break;\n        case matcherDataTypes.SET:\n            sanitizedValue = sanitizeArray(value);\n            break;\n        case matcherDataTypes.BOOLEAN:\n            sanitizedValue = sanitizeBoolean(value);\n            break;\n        case matcherDataTypes.NOT_SPECIFIED:\n            sanitizedValue = value;\n            break;\n        default:\n            sanitizedValue = undefined;\n    }\n    if (processor) {\n        // @ts-ignore\n        sanitizedValue = processor(sanitizedValue, attributes);\n    }\n    log.debug(ENGINE_SANITIZE, [value, dataType, sanitizedValue instanceof Object ? JSON.stringify(sanitizedValue) : sanitizedValue]);\n    return sanitizedValue;\n}\n","import { sanitize } from './sanitize';\nimport { ENGINE_VALUE, ENGINE_VALUE_NO_ATTRIBUTES, ENGINE_VALUE_INVALID } from '../../logger/constants';\nfunction parseValue(log, key, attributeName, attributes) {\n    var value = undefined;\n    if (attributeName) {\n        if (attributes) {\n            value = attributes[attributeName];\n            log.debug(ENGINE_VALUE, [attributeName, value]);\n        }\n        else {\n            log.warn(ENGINE_VALUE_NO_ATTRIBUTES, [attributeName]);\n        }\n    }\n    else {\n        value = key;\n    }\n    return value;\n}\n/**\n * Defines value to be matched (key / attribute).\n */\nexport function sanitizeValue(log, key, matcherDto, attributes) {\n    var attributeName = matcherDto.attribute;\n    var valueToMatch = parseValue(log, key, attributeName, attributes);\n    var sanitizedValue = sanitize(log, matcherDto.type, valueToMatch, matcherDto.dataType, attributes);\n    if (sanitizedValue !== undefined) {\n        return sanitizedValue;\n    }\n    else {\n        log.warn(ENGINE_VALUE_INVALID, [valueToMatch + (attributeName ? ' for attribute ' + attributeName : '')]);\n        return;\n    }\n}\n","import { ENGINE_BUCKET } from '../../logger/constants';\nimport { bucket } from '../../utils/murmur3/murmur3';\n/**\n * Get the treatment name given a key, a seed, and the percentage of each treatment.\n */\nexport function getTreatment(log, key, seed, treatments) {\n    var _bucket = bucket(key, seed);\n    var treatment = treatments.getTreatmentFor(_bucket);\n    log.debug(ENGINE_BUCKET, [_bucket, key, seed, treatment]);\n    return treatment;\n}\n/**\n * Evaluates the traffic allocation to see if we should apply rollout conditions or not.\n */\nexport function shouldApplyRollout(trafficAllocation, key, trafficAllocationSeed) {\n    // For rollout, if traffic allocation for splits is 100%, we don't need to filter it because everything should evaluate the rollout.\n    if (trafficAllocation < 100) {\n        var _bucket = bucket(key, trafficAllocationSeed);\n        if (_bucket > trafficAllocation) {\n            return false;\n        }\n    }\n    return true;\n}\n","import { getTreatment, shouldApplyRollout } from './engineUtils';\nimport { thenable } from '../../utils/promise/thenable';\nimport * as LabelsConstants from '../../utils/labels';\n// Build Evaluation object if and only if matchingResult is true\nfunction match(log, matchingResult, bucketingKey, seed, treatments, label) {\n    if (matchingResult) {\n        var treatment = getTreatment(log, bucketingKey, seed, treatments);\n        return {\n            treatment: treatment,\n            label: label\n        };\n    }\n    // else we should notify the engine to continue evaluating\n    return undefined;\n}\n// Condition factory\nexport function conditionContext(log, matcherEvaluator, treatments, label, conditionType) {\n    return function conditionEvaluator(key, seed, trafficAllocation, trafficAllocationSeed, attributes, splitEvaluator) {\n        // Whitelisting has more priority than traffic allocation, so we don't apply this filtering to those conditions.\n        if (conditionType === 'ROLLOUT' && !shouldApplyRollout(trafficAllocation, key.bucketingKey, trafficAllocationSeed)) {\n            return {\n                treatment: undefined,\n                label: LabelsConstants.NOT_IN_SPLIT\n            };\n        }\n        // matcherEvaluator could be Async, this relays on matchers return value, so we need\n        // to verify for thenable before play with the result.\n        // Also, we pass splitEvaluator function in case we have a matcher that needs to evaluate another split,\n        // as well as the entire key object for the same reason.\n        var matches = matcherEvaluator(key, attributes, splitEvaluator);\n        if (thenable(matches)) {\n            return matches.then(function (result) { return match(log, result, key.bucketingKey, seed, treatments, label); });\n        }\n        return match(log, matches, key.bucketingKey, seed, treatments, label);\n    };\n}\n","import { findIndex } from '../../utils/lang';\nimport { thenable } from '../../utils/promise/thenable';\nimport * as LabelsConstants from '../../utils/labels';\nimport { CONTROL } from '../../utils/constants';\nimport { ENGINE_COMBINER_IFELSEIF, ENGINE_COMBINER_IFELSEIF_NO_TREATMENT, ERROR_ENGINE_COMBINER_IFELSEIF } from '../../logger/constants';\nexport function ifElseIfCombinerContext(log, predicates) {\n    function unexpectedInputHandler() {\n        log.error(ERROR_ENGINE_COMBINER_IFELSEIF);\n        return {\n            treatment: CONTROL,\n            label: LabelsConstants.EXCEPTION\n        };\n    }\n    function computeTreatment(predicateResults) {\n        var len = predicateResults.length;\n        for (var i = 0; i < len; i++) {\n            var evaluation = predicateResults[i];\n            if (evaluation !== undefined) {\n                log.debug(ENGINE_COMBINER_IFELSEIF, [evaluation.treatment]);\n                return evaluation;\n            }\n        }\n        log.debug(ENGINE_COMBINER_IFELSEIF_NO_TREATMENT);\n        return undefined;\n    }\n    function ifElseIfCombiner(key, seed, trafficAllocation, trafficAllocationSeed, attributes, splitEvaluator) {\n        // In Async environments we are going to have async predicates. There is none way to know\n        // before hand so we need to evaluate all the predicates, verify for thenables, and finally,\n        // define how to return the treatment (wrap result into a Promise or not).\n        var predicateResults = predicates.map(function (evaluator) { return evaluator(key, seed, trafficAllocation, trafficAllocationSeed, attributes, splitEvaluator); });\n        // if we find a thenable\n        if (findIndex(predicateResults, thenable) !== -1) {\n            return Promise.all(predicateResults).then(function (results) { return computeTreatment(results); });\n        }\n        return computeTreatment(predicateResults);\n    }\n    // if there is none predicates, then there was an error in parsing phase\n    if (!Array.isArray(predicates) || Array.isArray(predicates) && predicates.length === 0) {\n        return unexpectedInputHandler;\n    }\n    else {\n        return ifElseIfCombiner;\n    }\n}\n","import { findIndex } from '../../utils/lang';\nimport { thenable } from '../../utils/promise/thenable';\nimport { ENGINE_COMBINER_AND } from '../../logger/constants';\nexport function andCombinerContext(log, matchers) {\n    function andResults(results) {\n        // Array.prototype.every is supported by target environments\n        var hasMatchedAll = results.every(function (value) { return value; });\n        log.debug(ENGINE_COMBINER_AND, [hasMatchedAll]);\n        return hasMatchedAll;\n    }\n    return function andCombiner() {\n        var params = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            params[_i] = arguments[_i];\n        }\n        var matcherResults = matchers.map(function (matcher) { return matcher.apply(void 0, params); });\n        // If any matching result is a thenable we should use Promise.all\n        if (findIndex(matcherResults, thenable) !== -1) {\n            return Promise.all(matcherResults).then(andResults);\n        }\n        else {\n            return andResults(matcherResults);\n        }\n    };\n}\n","import { matchersTransform } from '../matchersTransform';\nimport { Treatments } from '../treatments';\nimport { matcherFactory } from '../matchers';\nimport { sanitizeValue } from '../value';\nimport { conditionContext } from '../condition';\nimport { ifElseIfCombinerContext } from '../combiners/ifelseif';\nimport { andCombinerContext } from '../combiners/and';\nimport { thenable } from '../../utils/promise/thenable';\nexport function parser(log, conditions, storage) {\n    var predicates = [];\n    for (var i = 0; i < conditions.length; i++) {\n        var _a = conditions[i], matcherGroup = _a.matcherGroup, partitions = _a.partitions, label = _a.label, conditionType = _a.conditionType;\n        // transform data structure\n        var matchers = matchersTransform(matcherGroup.matchers);\n        // create a set of pure functions from the matcher's dto\n        var expressions = matchers.map(function (matcherDto) {\n            var matcher = matcherFactory(log, matcherDto, storage);\n            // Evaluator function.\n            return function (key, attributes, splitEvaluator) {\n                var value = sanitizeValue(log, key, matcherDto, attributes);\n                var result = value !== undefined && matcher ? matcher(value, splitEvaluator) : false;\n                if (thenable(result)) {\n                    // @ts-ignore\n                    return result.then(function (res) { return Boolean(res ^ matcherDto.negate); });\n                }\n                // @ts-ignore\n                return Boolean(result ^ matcherDto.negate);\n            };\n        });\n        // if matcher's factory can't instanciate the matchers, the expressions array\n        // will be empty\n        if (expressions.length === 0) {\n            // reset any data collected during parsing\n            predicates = [];\n            // and break the loop\n            break;\n        }\n        predicates.push(conditionContext(log, andCombinerContext(log, expressions), Treatments.parse(partitions), label, conditionType));\n    }\n    // Instanciate evaluator given the set of conditions using if else if logic\n    return ifElseIfCombinerContext(log, predicates);\n}\n","import { get } from '../utils/lang';\nimport { parser } from './parser';\nimport { keyParser } from '../utils/key';\nimport { thenable } from '../utils/promise/thenable';\nimport * as LabelsConstants from '../utils/labels';\nimport { CONTROL } from '../utils/constants';\nfunction evaluationResult(result, defaultTreatment) {\n    return {\n        treatment: get(result, 'treatment', defaultTreatment),\n        label: get(result, 'label', LabelsConstants.NO_CONDITION_MATCH)\n    };\n}\nvar Engine = /** @class */ (function () {\n    function Engine(baseInfo, evaluator) {\n        this.baseInfo = baseInfo;\n        this.evaluator = evaluator;\n        // in case we don't have a default treatment in the instanciation, use 'control'\n        if (typeof this.baseInfo.defaultTreatment !== 'string') {\n            this.baseInfo.defaultTreatment = CONTROL;\n        }\n    }\n    Engine.parse = function (log, splitFlatStructure, storage) {\n        var conditions = splitFlatStructure.conditions;\n        var evaluator = parser(log, conditions, storage);\n        return new Engine(splitFlatStructure, evaluator);\n    };\n    Engine.prototype.getKey = function () {\n        return this.baseInfo.name;\n    };\n    Engine.prototype.getTreatment = function (key, attributes, splitEvaluator) {\n        var _a = this.baseInfo, killed = _a.killed, seed = _a.seed, defaultTreatment = _a.defaultTreatment, trafficAllocation = _a.trafficAllocation, trafficAllocationSeed = _a.trafficAllocationSeed;\n        var parsedKey;\n        var treatment;\n        var label;\n        try {\n            parsedKey = keyParser(key);\n        }\n        catch (err) {\n            return {\n                treatment: CONTROL,\n                label: LabelsConstants.EXCEPTION\n            };\n        }\n        if (this.isGarbage()) {\n            treatment = CONTROL;\n            label = LabelsConstants.SPLIT_ARCHIVED;\n        }\n        else if (killed) {\n            treatment = defaultTreatment;\n            label = LabelsConstants.SPLIT_KILLED;\n        }\n        else {\n            var evaluation = this.evaluator(parsedKey, seed, trafficAllocation, trafficAllocationSeed, attributes, splitEvaluator);\n            // Evaluation could be async, so we should handle that case checking for a\n            // thenable object\n            if (thenable(evaluation)) {\n                return evaluation.then(function (result) { return evaluationResult(result, defaultTreatment); });\n            }\n            else {\n                return evaluationResult(evaluation, defaultTreatment);\n            }\n        }\n        return {\n            treatment: treatment,\n            label: label\n        };\n    };\n    Engine.prototype.isGarbage = function () {\n        return this.baseInfo.status === 'ARCHIVED';\n    };\n    Engine.prototype.getChangeNumber = function () {\n        return this.baseInfo.changeNumber;\n    };\n    return Engine;\n}());\nexport { Engine };\n","import { Engine } from './Engine';\nimport { thenable } from '../utils/promise/thenable';\nimport * as LabelsConstants from '../utils/labels';\nimport { CONTROL } from '../utils/constants';\nvar treatmentException = {\n    treatment: CONTROL,\n    label: LabelsConstants.EXCEPTION,\n    config: null\n};\nfunction treatmentsException(splitNames) {\n    var evaluations = {};\n    splitNames.forEach(function (splitName) {\n        evaluations[splitName] = treatmentException;\n    });\n    return evaluations;\n}\nexport function evaluateFeature(log, key, splitName, attributes, storage) {\n    var stringifiedSplit;\n    try {\n        stringifiedSplit = storage.splits.getSplit(splitName);\n    }\n    catch (e) {\n        // Exception on sync `getSplit` storage. Not possible ATM with InMemory and InLocal storages.\n        return treatmentException;\n    }\n    if (thenable(stringifiedSplit)) {\n        return stringifiedSplit.then(function (result) { return getEvaluation(log, result, key, attributes, storage); }).catch(\n        // Exception on async `getSplit` storage. For example, when the storage is redis or\n        // pluggable and there is a connection issue and we can't retrieve the split to be evaluated\n        function () { return treatmentException; });\n    }\n    return getEvaluation(log, stringifiedSplit, key, attributes, storage);\n}\nexport function evaluateFeatures(log, key, splitNames, attributes, storage) {\n    var stringifiedSplits;\n    try {\n        stringifiedSplits = storage.splits.getSplits(splitNames);\n    }\n    catch (e) {\n        // Exception on sync `getSplits` storage. Not possible ATM with InMemory and InLocal storages.\n        return treatmentsException(splitNames);\n    }\n    return (thenable(stringifiedSplits)) ?\n        stringifiedSplits.then(function (splits) { return getEvaluations(log, splitNames, splits, key, attributes, storage); })\n            .catch(function () {\n            // Exception on async `getSplits` storage. For example, when the storage is redis or\n            // pluggable and there is a connection issue and we can't retrieve the split to be evaluated\n            return treatmentsException(splitNames);\n        }) :\n        getEvaluations(log, splitNames, stringifiedSplits, key, attributes, storage);\n}\nfunction getEvaluation(log, stringifiedSplit, key, attributes, storage) {\n    var evaluation = {\n        treatment: CONTROL,\n        label: LabelsConstants.SPLIT_NOT_FOUND,\n        config: null\n    };\n    if (stringifiedSplit) {\n        var splitJSON_1 = JSON.parse(stringifiedSplit);\n        var split_1 = Engine.parse(log, splitJSON_1, storage);\n        evaluation = split_1.getTreatment(key, attributes, evaluateFeature);\n        // If the storage is async and the evaluated split uses segment, evaluation is thenable\n        if (thenable(evaluation)) {\n            return evaluation.then(function (result) {\n                result.changeNumber = split_1.getChangeNumber();\n                result.config = splitJSON_1.configurations && splitJSON_1.configurations[result.treatment] || null;\n                return result;\n            });\n        }\n        else {\n            evaluation.changeNumber = split_1.getChangeNumber(); // Always sync and optional\n            evaluation.config = splitJSON_1.configurations && splitJSON_1.configurations[evaluation.treatment] || null;\n        }\n    }\n    return evaluation;\n}\nfunction getEvaluations(log, splitNames, splits, key, attributes, storage) {\n    var result = {};\n    var thenables = [];\n    splitNames.forEach(function (splitName) {\n        var evaluation = getEvaluation(log, splits[splitName], key, attributes, storage);\n        if (thenable(evaluation)) {\n            thenables.push(evaluation.then(function (res) {\n                result[splitName] = res;\n            }));\n        }\n        else {\n            result[splitName] = evaluation;\n        }\n    });\n    return thenables.length > 0 ? Promise.all(thenables).then(function () { return result; }) : result;\n}\n","import { thenable } from '../promise/thenable';\nimport { LOCALHOST_MODE } from '../constants';\nimport { WARN_NOT_EXISTENT_TT } from '../../logger/constants';\nfunction logTTExistanceWarning(log, maybeTT, method) {\n    log.warn(WARN_NOT_EXISTENT_TT, [method, maybeTT]);\n}\n/**\n * Separated from the previous method since on some cases it'll be async.\n */\nexport function validateTrafficTypeExistance(log, readinessManager, splitsCache, mode, maybeTT, method) {\n    // If not ready or in localhost mode, we won't run the validation\n    if (!readinessManager.isReady() || mode === LOCALHOST_MODE)\n        return true;\n    var res = splitsCache.trafficTypeExists(maybeTT); // never rejects or throws error\n    if (thenable(res)) {\n        return res.then(function (isValid) {\n            if (!isValid)\n                logTTExistanceWarning(log, maybeTT, method);\n            return isValid; // propagate result\n        });\n    }\n    else {\n        if (!res)\n            logTTExistanceWarning(log, maybeTT, method);\n        return res;\n    }\n}\n","import { evaluateFeature, evaluateFeatures } from '../evaluator';\nimport { thenable } from '../utils/promise/thenable';\nimport { getMatching, getBucketing } from '../utils/key';\nimport { validateSplitExistance } from '../utils/inputValidation/splitExistance';\nimport { validateTrafficTypeExistance } from '../utils/inputValidation/trafficTypeExistance';\nimport { SDK_NOT_READY } from '../utils/labels';\nimport { CONTROL, TREATMENT, TREATMENTS, TREATMENT_WITH_CONFIG, TREATMENTS_WITH_CONFIG, TRACK } from '../utils/constants';\nimport { IMPRESSION, IMPRESSION_QUEUEING } from '../logger/constants';\n/**\n * Creator of base client with getTreatments and track methods.\n */\nexport function clientFactory(params) {\n    var readinessManager = params.sdkReadinessManager.readinessManager, storage = params.storage, settings = params.settings, impressionsTracker = params.impressionsTracker, eventTracker = params.eventTracker, telemetryTracker = params.telemetryTracker;\n    var log = settings.log, mode = settings.mode;\n    function getTreatment(key, splitName, attributes, withConfig) {\n        if (withConfig === void 0) { withConfig = false; }\n        var stopTelemetryTracker = telemetryTracker.trackEval(withConfig ? TREATMENT_WITH_CONFIG : TREATMENT);\n        var wrapUp = function (evaluationResult) {\n            var queue = [];\n            var treatment = processEvaluation(evaluationResult, splitName, key, attributes, withConfig, \"getTreatment\" + (withConfig ? 'withConfig' : ''), queue);\n            impressionsTracker.track(queue, attributes);\n            stopTelemetryTracker(queue[0] && queue[0].label);\n            return treatment;\n        };\n        var evaluation = evaluateFeature(log, key, splitName, attributes, storage);\n        return thenable(evaluation) ? evaluation.then(function (res) { return wrapUp(res); }) : wrapUp(evaluation);\n    }\n    function getTreatmentWithConfig(key, splitName, attributes) {\n        return getTreatment(key, splitName, attributes, true);\n    }\n    function getTreatments(key, splitNames, attributes, withConfig) {\n        if (withConfig === void 0) { withConfig = false; }\n        var stopTelemetryTracker = telemetryTracker.trackEval(withConfig ? TREATMENTS_WITH_CONFIG : TREATMENTS);\n        var wrapUp = function (evaluationResults) {\n            var queue = [];\n            var treatments = {};\n            Object.keys(evaluationResults).forEach(function (splitName) {\n                treatments[splitName] = processEvaluation(evaluationResults[splitName], splitName, key, attributes, withConfig, \"getTreatments\" + (withConfig ? 'withConfig' : ''), queue);\n            });\n            impressionsTracker.track(queue, attributes);\n            stopTelemetryTracker(queue[0] && queue[0].label);\n            return treatments;\n        };\n        var evaluations = evaluateFeatures(log, key, splitNames, attributes, storage);\n        return thenable(evaluations) ? evaluations.then(function (res) { return wrapUp(res); }) : wrapUp(evaluations);\n    }\n    function getTreatmentsWithConfig(key, splitNames, attributes) {\n        return getTreatments(key, splitNames, attributes, true);\n    }\n    // Internal function\n    function processEvaluation(evaluation, splitName, key, attributes, withConfig, invokingMethodName, queue) {\n        var isSdkReady = readinessManager.isReady() || readinessManager.isReadyFromCache();\n        var matchingKey = getMatching(key);\n        var bucketingKey = getBucketing(key);\n        // If the SDK was not ready, treatment may be incorrect due to having Splits but not segments data.\n        if (!isSdkReady) {\n            evaluation = { treatment: CONTROL, label: SDK_NOT_READY };\n        }\n        var treatment = evaluation.treatment, label = evaluation.label, changeNumber = evaluation.changeNumber, _a = evaluation.config, config = _a === void 0 ? null : _a;\n        log.info(IMPRESSION, [splitName, matchingKey, treatment, label]);\n        if (validateSplitExistance(log, readinessManager, splitName, label, invokingMethodName)) {\n            log.info(IMPRESSION_QUEUEING);\n            queue.push({\n                feature: splitName,\n                keyName: matchingKey,\n                treatment: treatment,\n                time: Date.now(),\n                bucketingKey: bucketingKey,\n                label: label,\n                changeNumber: changeNumber\n            });\n        }\n        if (withConfig) {\n            return {\n                treatment: treatment,\n                config: config\n            };\n        }\n        return treatment;\n    }\n    function track(key, trafficTypeName, eventTypeId, value, properties, size) {\n        if (size === void 0) { size = 1024; }\n        var stopTelemetryTracker = telemetryTracker.trackEval(TRACK);\n        var matchingKey = getMatching(key);\n        var timestamp = Date.now();\n        var eventData = {\n            eventTypeId: eventTypeId,\n            trafficTypeName: trafficTypeName,\n            value: value,\n            timestamp: timestamp,\n            key: matchingKey,\n            properties: properties\n        };\n        // This may be async but we only warn, we don't actually care if it is valid or not in terms of queueing the event.\n        validateTrafficTypeExistance(log, readinessManager, storage.splits, mode, trafficTypeName, 'track');\n        var result = eventTracker.track(eventData, size);\n        if (thenable(result)) {\n            return result.then(function (result) {\n                stopTelemetryTracker();\n                return result;\n            });\n        }\n        else {\n            stopTelemetryTracker();\n            return result;\n        }\n    }\n    return {\n        getTreatment: getTreatment,\n        getTreatmentWithConfig: getTreatmentWithConfig,\n        getTreatments: getTreatments,\n        getTreatmentsWithConfig: getTreatmentsWithConfig,\n        track: track,\n        isClientSide: false\n    };\n}\n","import { ERROR_EVENT_TYPE_FORMAT, ERROR_NULL, ERROR_INVALID, ERROR_EMPTY } from '../../logger/constants';\nimport { isString } from '../lang';\nvar EVENT_TYPE_REGEX = /^[a-zA-Z0-9][-_.:a-zA-Z0-9]{0,79}$/;\nvar item = 'event_type';\nexport function validateEvent(log, maybeEvent, method) {\n    if (maybeEvent == undefined) { // eslint-disable-line eqeqeq\n        log.error(ERROR_NULL, [method, item]);\n    }\n    else if (!isString(maybeEvent)) {\n        log.error(ERROR_INVALID, [method, item]);\n    }\n    else { // It is a string.\n        if (maybeEvent.length === 0) {\n            log.error(ERROR_EMPTY, [method, item]);\n        }\n        else if (!EVENT_TYPE_REGEX.test(maybeEvent)) {\n            log.error(ERROR_EVENT_TYPE_FORMAT, [method, maybeEvent]);\n        }\n        else {\n            return maybeEvent;\n        }\n    }\n    return false;\n}\n","import { ERROR_NOT_FINITE } from '../../logger/constants';\nimport { isFiniteNumber } from '../lang';\nexport function validateEventValue(log, maybeValue, method) {\n    if (isFiniteNumber(maybeValue) || maybeValue == undefined) // eslint-disable-line eqeqeq\n        return maybeValue;\n    log.error(ERROR_NOT_FINITE, [method]);\n    return false;\n}\n","import { isObject, isString, isFiniteNumber, isBoolean } from '../lang';\nimport { objectAssign } from '../lang/objectAssign';\nimport { ERROR_NOT_PLAIN_OBJECT, ERROR_SIZE_EXCEEDED, WARN_SETTING_NULL, WARN_TRIMMING_PROPERTIES } from '../../logger/constants';\nvar ECMA_SIZES = {\n    NULL: 0,\n    STRING: 2,\n    BOOLEAN: 4,\n    NUMBER: 8\n};\nvar MAX_PROPERTIES_AMOUNT = 300;\nvar MAX_EVENT_SIZE = 1024 * 32;\nvar BASE_EVENT_SIZE = 1024; // We assume 1kb events without properties (avg measured)\nexport function validateEventProperties(log, maybeProperties, method) {\n    if (maybeProperties == undefined)\n        return { properties: null, size: BASE_EVENT_SIZE }; // eslint-disable-line eqeqeq\n    if (!isObject(maybeProperties)) {\n        log.error(ERROR_NOT_PLAIN_OBJECT, [method, 'properties']);\n        return { properties: false, size: BASE_EVENT_SIZE };\n    }\n    var keys = Object.keys(maybeProperties);\n    // Shallow clone\n    var clone = objectAssign({}, maybeProperties);\n    // To avoid calculating the size twice we'll return it from here.\n    var output = {\n        properties: clone,\n        size: BASE_EVENT_SIZE // We assume 1kb events without properties (avg measured)\n    };\n    if (keys.length > MAX_PROPERTIES_AMOUNT) {\n        log.warn(WARN_TRIMMING_PROPERTIES, [method]);\n    }\n    for (var i = 0; i < keys.length; i++) {\n        output.size += keys[i].length * ECMA_SIZES.STRING; // Count the size of the key which is always a string.\n        var val = clone[keys[i]];\n        var isStringVal = isString(val);\n        var isFiniteVal = isFiniteNumber(val);\n        var isBoolVal = isBoolean(val);\n        var isNullVal = val === null;\n        if (!(isStringVal || isFiniteVal || isBoolVal || isNullVal)) { // If it's not of valid type.\n            clone[keys[i]] = null;\n            val = null;\n            isNullVal = true;\n            log.warn(WARN_SETTING_NULL, [method, keys[i]]);\n        }\n        if (isNullVal)\n            output.size += ECMA_SIZES.NULL;\n        else if (isFiniteVal)\n            output.size += ECMA_SIZES.NUMBER;\n        else if (isBoolVal)\n            output.size += ECMA_SIZES.BOOLEAN;\n        else if (isStringVal)\n            output.size += val.length * ECMA_SIZES.STRING;\n        if (output.size > MAX_EVENT_SIZE) {\n            log.error(ERROR_SIZE_EXCEEDED, [method]);\n            output.properties = false;\n            break;\n        }\n    }\n    return output;\n}\n","import { CONSUMER_MODE, CONSUMER_PARTIAL_MODE, OPTIMIZED, PRODUCER_MODE, STANDALONE_MODE } from '../../utils/constants';\n/**\n * Checks if impressions previous time should be added or not.\n */\nexport function shouldAddPt(settings) {\n    return [PRODUCER_MODE, STANDALONE_MODE, CONSUMER_PARTIAL_MODE].indexOf(settings.mode) > -1 ? true : false;\n}\n/**\n * Checks if it should dedupe impressions or not.\n */\nexport function shouldBeOptimized(settings) {\n    if (!shouldAddPt(settings))\n        return false;\n    return settings.sync.impressionsMode === OPTIMIZED ? true : false;\n}\n/**\n * Storage is async if mode is consumer or partial consumer\n */\nexport function isStorageSync(settings) {\n    return [CONSUMER_MODE, CONSUMER_PARTIAL_MODE].indexOf(settings.mode) === -1 ? true : false;\n}\n","import { objectAssign } from '../utils/lang/objectAssign';\nimport { validateAttributes, validateEvent, validateEventValue, validateEventProperties, validateKey, validateSplit, validateSplits, validateTrafficType, validateIfNotDestroyed, validateIfOperational } from '../utils/inputValidation';\nimport { startsWith } from '../utils/lang';\nimport { CONTROL, CONTROL_WITH_CONFIG } from '../utils/constants';\nimport { isStorageSync } from '../trackers/impressionObserver/utils';\n/**\n * Decorator that validates the input before actually executing the client methods.\n * We should \"guard\" the client here, while not polluting the \"real\" implementation of those methods.\n */\nexport function clientInputValidationDecorator(settings, client, readinessManager) {\n    var log = settings.log;\n    var isSync = isStorageSync(settings);\n    /**\n     * Avoid repeating this validations code\n     */\n    function validateEvaluationParams(maybeKey, maybeSplitOrSplits, maybeAttributes, methodName) {\n        var multi = startsWith(methodName, 'getTreatments');\n        var key = validateKey(log, maybeKey, methodName);\n        var splitOrSplits = multi ? validateSplits(log, maybeSplitOrSplits, methodName) : validateSplit(log, maybeSplitOrSplits, methodName);\n        var attributes = validateAttributes(log, maybeAttributes, methodName);\n        var isOperational = validateIfNotDestroyed(log, readinessManager, methodName);\n        validateIfOperational(log, readinessManager, methodName);\n        var valid = isOperational && key && splitOrSplits && attributes !== false;\n        return {\n            valid: valid,\n            key: key,\n            splitOrSplits: splitOrSplits,\n            attributes: attributes\n        };\n    }\n    function wrapResult(value) {\n        return isSync ? value : Promise.resolve(value);\n    }\n    function getTreatment(maybeKey, maybeSplit, maybeAttributes) {\n        var params = validateEvaluationParams(maybeKey, maybeSplit, maybeAttributes, 'getTreatment');\n        if (params.valid) {\n            return client.getTreatment(params.key, params.splitOrSplits, params.attributes);\n        }\n        else {\n            return wrapResult(CONTROL);\n        }\n    }\n    function getTreatmentWithConfig(maybeKey, maybeSplit, maybeAttributes) {\n        var params = validateEvaluationParams(maybeKey, maybeSplit, maybeAttributes, 'getTreatmentWithConfig');\n        if (params.valid) {\n            return client.getTreatmentWithConfig(params.key, params.splitOrSplits, params.attributes);\n        }\n        else {\n            return wrapResult(objectAssign({}, CONTROL_WITH_CONFIG));\n        }\n    }\n    function getTreatments(maybeKey, maybeSplits, maybeAttributes) {\n        var params = validateEvaluationParams(maybeKey, maybeSplits, maybeAttributes, 'getTreatments');\n        if (params.valid) {\n            return client.getTreatments(params.key, params.splitOrSplits, params.attributes);\n        }\n        else {\n            var res_1 = {};\n            if (params.splitOrSplits)\n                params.splitOrSplits.forEach(function (split) { return res_1[split] = CONTROL; });\n            return wrapResult(res_1);\n        }\n    }\n    function getTreatmentsWithConfig(maybeKey, maybeSplits, maybeAttributes) {\n        var params = validateEvaluationParams(maybeKey, maybeSplits, maybeAttributes, 'getTreatmentsWithConfig');\n        if (params.valid) {\n            return client.getTreatmentsWithConfig(params.key, params.splitOrSplits, params.attributes);\n        }\n        else {\n            var res_2 = {};\n            if (params.splitOrSplits)\n                params.splitOrSplits.forEach(function (split) { return res_2[split] = objectAssign({}, CONTROL_WITH_CONFIG); });\n            return wrapResult(res_2);\n        }\n    }\n    function track(maybeKey, maybeTT, maybeEvent, maybeEventValue, maybeProperties) {\n        var key = validateKey(log, maybeKey, 'track');\n        var tt = validateTrafficType(log, maybeTT, 'track');\n        var event = validateEvent(log, maybeEvent, 'track');\n        var eventValue = validateEventValue(log, maybeEventValue, 'track');\n        var _a = validateEventProperties(log, maybeProperties, 'track'), properties = _a.properties, size = _a.size;\n        var isOperational = validateIfNotDestroyed(log, readinessManager, 'track');\n        if (isOperational && key && tt && event && eventValue !== false && properties !== false) { // @ts-expect-error\n            return client.track(key, tt, event, eventValue, properties, size);\n        }\n        else {\n            return isSync ? false : Promise.resolve(false);\n        }\n    }\n    return {\n        getTreatment: getTreatment,\n        getTreatmentWithConfig: getTreatmentWithConfig,\n        getTreatments: getTreatments,\n        getTreatmentsWithConfig: getTreatmentsWithConfig,\n        track: track\n    };\n}\n","import { objectAssign } from '../utils/lang/objectAssign';\nimport { releaseApiKey } from '../utils/inputValidation/apiKey';\nimport { clientFactory } from './client';\nimport { clientInputValidationDecorator } from './clientInputValidation';\n/**\n * Creates an Sdk client, i.e., a base client with status and destroy interface\n */\nexport function sdkClientFactory(params, isSharedClient) {\n    var sdkReadinessManager = params.sdkReadinessManager, syncManager = params.syncManager, storage = params.storage, signalListener = params.signalListener, settings = params.settings, telemetryTracker = params.telemetryTracker;\n    return objectAssign(\n    // Proto-linkage of the readiness Event Emitter\n    Object.create(sdkReadinessManager.sdkStatus), \n    // Client API (getTreatment* & track methods)\n    clientInputValidationDecorator(settings, clientFactory(params), sdkReadinessManager.readinessManager), \n    // Sdk destroy\n    {\n        destroy: function () {\n            // record stat before flushing data\n            if (!isSharedClient)\n                telemetryTracker.sessionLength();\n            // Stop background jobs\n            syncManager && syncManager.stop();\n            var flush = syncManager ? syncManager.flush() : Promise.resolve();\n            return flush.then(function () {\n                // Cleanup event listeners\n                sdkReadinessManager.readinessManager.destroy();\n                signalListener && signalListener.stop();\n                // Release the API Key if it is the main client\n                if (!isSharedClient)\n                    releaseApiKey(settings.core.authorizationKey);\n                // Cleanup storage\n                return storage.destroy();\n            });\n        }\n    });\n}\n","import { clientCSDecorator } from './clientCS';\nimport { validateKey } from '../utils/inputValidation/key';\nimport { validateTrafficType } from '../utils/inputValidation/trafficType';\nimport { getMatching, keyParser } from '../utils/key';\nimport { sdkClientFactory } from './sdkClient';\nimport { objectAssign } from '../utils/lang/objectAssign';\nimport { RETRIEVE_CLIENT_DEFAULT, NEW_SHARED_CLIENT, RETRIEVE_CLIENT_EXISTING } from '../logger/constants';\nimport { SDK_SEGMENTS_ARRIVED } from '../readiness/constants';\nfunction buildInstanceId(key, trafficType) {\n    // @ts-ignore\n    return (key.matchingKey ? key.matchingKey : key) + \"-\" + (key.bucketingKey ? key.bucketingKey : key) + \"-\" + (trafficType !== undefined ? trafficType : '');\n}\nvar method = 'Client instantiation';\n/**\n * Factory of client method for the client-side (browser) variant of the Isomorphic JS SDK,\n * where clients can have a binded TT for the track method, which is provided via the settings\n * (default client) or the client method (shared clients).\n */\nexport function sdkClientMethodCSFactory(params) {\n    var storage = params.storage, syncManager = params.syncManager, sdkReadinessManager = params.sdkReadinessManager, _a = params.settings, _b = _a.core, key = _b.key, trafficType = _b.trafficType, readyTimeout = _a.startup.readyTimeout, log = _a.log;\n    var mainClientInstance = clientCSDecorator(log, sdkClientFactory(params), key, trafficType);\n    var parsedDefaultKey = keyParser(key);\n    var defaultInstanceId = buildInstanceId(parsedDefaultKey, trafficType);\n    // Cache instances created per factory.\n    var clientInstances = {};\n    clientInstances[defaultInstanceId] = mainClientInstance;\n    return function client(key, trafficType) {\n        if (key === undefined) {\n            log.debug(RETRIEVE_CLIENT_DEFAULT);\n            return mainClientInstance;\n        }\n        // Validate the key value\n        var validKey = validateKey(log, key, \"Shared \" + method);\n        if (validKey === false) {\n            throw new Error('Shared Client needs a valid key.');\n        }\n        var validTrafficType;\n        if (trafficType !== undefined) {\n            validTrafficType = validateTrafficType(log, trafficType, \"Shared \" + method);\n            if (validTrafficType === false) {\n                throw new Error('Shared Client needs a valid traffic type or no traffic type at all.');\n            }\n        }\n        var instanceId = buildInstanceId(validKey, validTrafficType);\n        if (!clientInstances[instanceId]) {\n            var matchingKey = getMatching(validKey);\n            var sharedSdkReadiness_1 = sdkReadinessManager.shared(readyTimeout);\n            var sharedStorage = storage.shared && storage.shared(matchingKey, function (err) {\n                if (err)\n                    return;\n                // Emit SDK_READY in consumer mode for shared clients\n                sharedSdkReadiness_1.readinessManager.segments.emit(SDK_SEGMENTS_ARRIVED);\n            });\n            // 3 possibilities:\n            // - Standalone mode: both syncManager and sharedSyncManager are defined\n            // - Consumer mode: both syncManager and sharedSyncManager are undefined\n            // - Consumer partial mode: syncManager is defined (only for submitters) but sharedSyncManager is undefined\n            // @ts-ignore\n            var sharedSyncManager = syncManager && sharedStorage && syncManager.shared(matchingKey, sharedSdkReadiness_1.readinessManager, sharedStorage);\n            // As shared clients reuse all the storage information, we don't need to check here if we\n            // will use offline or online mode. We should stick with the original decision.\n            clientInstances[instanceId] = clientCSDecorator(log, sdkClientFactory(objectAssign({}, params, {\n                sdkReadinessManager: sharedSdkReadiness_1,\n                storage: sharedStorage || storage,\n                syncManager: sharedSyncManager,\n                signalListener: undefined, // only the main client \"destroy\" method stops the signal listener\n            }), true), validKey, validTrafficType);\n            sharedSyncManager && sharedSyncManager.start();\n            log.info(NEW_SHARED_CLIENT);\n        }\n        else {\n            log.debug(RETRIEVE_CLIENT_EXISTING);\n        }\n        return clientInstances[instanceId];\n    };\n}\n","/**\n * Map implementation based on es6-map polyfill (https://github.com/medikoo/es6-map/blob/master/polyfill.js),\n * with the minimal features used by the SDK.\n\nCopyright (C) 2013 Mariusz Nowak (www.medikoo.com)\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n**/\nvar MapPoly = /** @class */ (function () {\n    // unlike ES6 `Map`, it only accepts an array as first argument iterable\n    function MapPoly(entries) {\n        var _this = this;\n        this.__mapKeysData__ = [];\n        this.__mapValuesData__ = [];\n        if (Array.isArray(entries))\n            entries.forEach(function (entry) { _this.set(entry[0], entry[1]); });\n    }\n    MapPoly.prototype.clear = function () {\n        if (!this.__mapKeysData__.length)\n            return;\n        this.__mapKeysData__.length = 0;\n        this.__mapValuesData__.length = 0;\n    };\n    MapPoly.prototype.set = function (key, value) {\n        var index = this.__mapKeysData__.indexOf(key);\n        if (index === -1)\n            index = this.__mapKeysData__.push(key) - 1;\n        this.__mapValuesData__[index] = value;\n        return this;\n    };\n    MapPoly.prototype.delete = function (key) {\n        var index = this.__mapKeysData__.indexOf(key);\n        if (index === -1)\n            return false;\n        this.__mapKeysData__.splice(index, 1);\n        this.__mapValuesData__.splice(index, 1);\n        return true;\n    };\n    MapPoly.prototype.get = function (key) {\n        var index = this.__mapKeysData__.indexOf(key);\n        if (index === -1)\n            return;\n        return this.__mapValuesData__[index];\n    };\n    Object.defineProperty(MapPoly.prototype, \"size\", {\n        get: function () {\n            return this.__mapKeysData__.length;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return MapPoly;\n}());\nexport { MapPoly };\n/**\n * return the Map constructor to use. If native Map is not available or it doesn't support the required features (e.g., IE11),\n * a ponyfill with minimal features is returned instead.\n *\n * Exported for testing purposes only.\n */\nexport function __getMapConstructor() {\n    // eslint-disable-next-line compat/compat\n    if (typeof Array.from === 'function' && typeof Map === 'function' && Map.prototype && Map.prototype.values) {\n        return Map;\n    }\n    return MapPoly;\n}\nexport var _Map = __getMapConstructor();\n","/* eslint-disable no-use-before-define */\n/**\n * yallist implementation based on isaacs/yallist (https://github.com/isaacs/yallist/yallist.js),\n * with the minimal features used by the SDK.\n\nCopyright (c) Isaac Z. Schlueter and Contributors\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted, provided that the above\ncopyright notice and this permission notice appear in all copies.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES\nWITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF\nMERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR\nANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES\nWHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN\nACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR\nIN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\n**/\nvar Node = /** @class */ (function () {\n    function Node(value, prev, next, list) {\n        this.list = list;\n        this.value = value;\n        if (prev) {\n            prev.next = this;\n            this.prev = prev;\n        }\n        else {\n            this.prev = null;\n        }\n        if (next) {\n            next.prev = this;\n            this.next = next;\n        }\n        else {\n            this.next = null;\n        }\n    }\n    return Node;\n}());\nexport { Node };\nvar LinkedList = /** @class */ (function () {\n    function LinkedList() {\n        this.tail = null;\n        this.head = null;\n        this.length = 0;\n    }\n    // removes the given node of `this` list and returns the next node.\n    LinkedList.prototype.removeNode = function (node) {\n        if (!node || !(node instanceof Node))\n            return;\n        if (node.list !== this) {\n            throw new Error('removing node which does not belong to this list');\n        }\n        var next = node.next;\n        var prev = node.prev;\n        if (next) {\n            next.prev = prev;\n        }\n        if (prev) {\n            prev.next = next;\n        }\n        if (node === this.head) {\n            this.head = next;\n        }\n        if (node === this.tail) {\n            this.tail = prev;\n        }\n        node.list.length--;\n        node.next = null;\n        node.prev = null;\n        node.list = null;\n        return next;\n    };\n    // Move a Node object to the front of the list. (That is, pull it out of wherever it lives, and make it the new head.)\n    // If the node belongs to a different list, then that list will remove it first.\n    LinkedList.prototype.unshiftNode = function (node) {\n        if (!node || !(node instanceof Node))\n            return;\n        if (node === this.head) {\n            return;\n        }\n        if (node.list) {\n            node.list.removeNode(node);\n        }\n        var head = this.head;\n        node.list = this;\n        node.next = head;\n        if (head) {\n            head.prev = node;\n        }\n        this.head = node;\n        if (!this.tail) {\n            this.tail = node;\n        }\n        this.length++;\n    };\n    // similar to Array.prototype.unshift, it adds one or more elements to the head of the list and returns the new length of the list.\n    LinkedList.prototype.unshift = function () {\n        for (var i = 0, l = arguments.length; i < l; i++) {\n            this.head = new Node(arguments[i], null, this.head, this);\n            if (!this.tail) {\n                this.tail = this.head;\n            }\n            this.length++;\n        }\n        return this.length;\n    };\n    return LinkedList;\n}());\nexport { LinkedList };\n","import { _Map } from '../lang/maps';\nimport { LinkedList, Node } from './LinkedList';\nvar LRUCache = /** @class */ (function () {\n    function LRUCache(maxSize) {\n        this.maxLen = maxSize || 1;\n        this.items = new _Map();\n        this.lru = new LinkedList();\n    }\n    LRUCache.prototype.get = function (key) {\n        var node = this.items.get(key);\n        if (!node || !(node instanceof Node))\n            return;\n        this.lru.unshiftNode(node); // Move to front\n        return node.value.value;\n    };\n    LRUCache.prototype.set = function (key, value) {\n        var node = this.items.get(key);\n        if (node) {\n            if (!(node instanceof Node))\n                return false;\n            this.lru.unshiftNode(node); // Move to front\n            this.lru.head.value.value = value; // Update value\n        }\n        else {\n            if (this.lru.length === this.maxLen) { // Remove last\n                var last = this.lru.tail;\n                if (!last)\n                    return false;\n                this.items.delete(last.value.key);\n                this.lru.removeNode(this.lru.tail); // Remove node\n            }\n            // @ts-ignore\n            this.lru.unshift({ key: key, value: value }); // Push front\n            this.items.set(key, this.lru.head);\n        }\n        return true;\n    };\n    return LRUCache;\n}());\nexport { LRUCache };\n","import { LRUCache } from '../../utils/LRUCache';\nvar ImpressionObserver = /** @class */ (function () {\n    function ImpressionObserver(size, hasher) {\n        this.cache = new LRUCache(size);\n        this.hasher = hasher;\n    }\n    ImpressionObserver.prototype.testAndSet = function (impression) {\n        var hash = this.hasher(impression);\n        var previous = this.cache.get(hash);\n        this.cache.set(hash, impression.time);\n        return previous;\n    };\n    return ImpressionObserver;\n}());\nexport { ImpressionObserver };\n","export function buildKey(impression) {\n    return impression.keyName + \":\" + impression.feature + \":\" + impression.treatment + \":\" + impression.label + \":\" + impression.changeNumber;\n}\n","import { ImpressionObserver } from './ImpressionObserver';\nimport { hash } from '../../utils/murmur3/murmur3';\nimport { buildKey } from './buildKey';\nexport function hashImpression32(impression) {\n    return hash(buildKey(impression));\n}\nvar LAST_SEEN_CACHE_SIZE = 500; // cache up to 500 impression hashes\nexport function impressionObserverCSFactory() {\n    return new ImpressionObserver(LAST_SEEN_CACHE_SIZE, hashImpression32);\n}\n","import { SPLIT_IMPRESSION, SPLIT_EVENT } from '../utils/constants';\n/**\n * Factory function for IntegrationsManager with pluggable integrations.\n * The integrations manager instantiates integration, and bypass tracked events and impressions to them.\n *\n * @param integrations validated list of integration factories\n * @param params information of the Sdk factory instance that integrations can access to\n *\n * @returns integration manager or undefined if `integrations` are not present in settings.\n */\nexport function pluggableIntegrationsManagerFactory(integrations, params) {\n    var listeners = [];\n    // No need to check if `settings.integrations` is an array of functions. It was already validated\n    integrations.forEach(function (integrationFactory) {\n        var integration = integrationFactory(params);\n        if (integration && integration.queue)\n            listeners.push(integration);\n    });\n    // If `listeners` is empty, not return a integration manager\n    if (listeners.length === 0)\n        return;\n    // Exception safe methods: each integration module is responsable for handling errors\n    return {\n        handleImpression: function (impressionData) {\n            listeners.forEach(function (listener) { return listener.queue({ type: SPLIT_IMPRESSION, payload: impressionData }); });\n        },\n        handleEvent: function (eventData) {\n            listeners.forEach(function (listener) { return listener.queue({ type: SPLIT_EVENT, payload: eventData }); });\n        }\n    };\n}\n","/* eslint-disable no-undef */\nimport { objectAssign } from '../../utils/lang/objectAssign';\nimport { isString, isFiniteNumber, uniqAsStrings } from '../../utils/lang';\nimport { validateEvent, validateEventValue, validateEventProperties, validateKey, validateTrafficType, } from '../../utils/inputValidation';\nvar logPrefix = 'ga-to-split: ';\nvar logNameMapper = 'ga-to-split:mapper';\n/**\n * Provides a plugin to use with analytics.js, accounting for the possibility\n * that the global command queue has been renamed or not yet defined.\n * @param window Reference to global object.\n * @param pluginName The plugin name identifier.\n * @param pluginConstructor The plugin constructor function.\n * @param log Logger instance.\n * @param autoRequire If true, log error when auto-require script is not detected\n */\nfunction providePlugin(window, pluginName, pluginConstructor, log, autoRequire) {\n    // get reference to global command queue. Init it if not defined yet.\n    var gaAlias = window.GoogleAnalyticsObject || 'ga';\n    window[gaAlias] = window[gaAlias] || function () {\n        (window[gaAlias].q = window[gaAlias].q || []).push(arguments);\n    };\n    // provides the plugin for use with analytics.js.\n    window[gaAlias]('provide', pluginName, pluginConstructor);\n    if (autoRequire && (!window[gaAlias].q || window[gaAlias].q.push === [].push)) {\n        // Expecting spy on ga.q push method but not found\n        log.error(logPrefix + 'integration is configured to autorequire the splitTracker plugin, but the necessary script does not seem to have run. Please check the docs.');\n    }\n}\n// Default mapping: object used for building the default mapper from hits to Split events\nvar defaultMapping = {\n    eventTypeId: {\n        event: 'eventAction',\n        social: 'socialAction',\n    },\n    eventValue: {\n        event: 'eventValue',\n        timing: 'timingValue',\n    },\n    eventProperties: {\n        pageview: ['page'],\n        screenview: ['screenName'],\n        event: ['eventCategory', 'eventLabel'],\n        social: ['socialNetwork', 'socialTarget'],\n        timing: ['timingCategory', 'timingVar', 'timingLabel'],\n        exception: ['exDescription', 'exFatal'],\n    }\n};\n/**\n * Build a mapper function based on a mapping object\n *\n * @param {object} mapping\n */\nfunction mapperBuilder(mapping) {\n    return function (model) {\n        var hitType = model.get('hitType');\n        // @ts-expect-error\n        var eventTypeId = model.get(mapping.eventTypeId[hitType] || 'hitType');\n        // @ts-expect-error\n        var value = model.get(mapping.eventValue[hitType]);\n        var properties = {}; // @ts-expect-error\n        var fields = mapping.eventProperties[hitType];\n        if (fields) {\n            for (var i = 0; i < fields.length; i++) {\n                var fieldValue = model.get(fields[i]);\n                if (fieldValue !== undefined)\n                    properties[fields[i]] = fieldValue;\n            }\n        }\n        return {\n            eventTypeId: eventTypeId,\n            value: value,\n            properties: properties,\n            timestamp: Date.now(),\n        };\n    };\n}\n// exposed for unit testing purposses.\nexport var defaultMapper = mapperBuilder(defaultMapping);\nexport var defaultPrefix = 'ga';\n/**\n * Return a new list of identities removing invalid and duplicated ones.\n *\n * @param {Array} identities list of identities\n * @returns list of valid and unique identities. The list might be empty if `identities` is not an array or all its elements are invalid.\n */\nexport function validateIdentities(identities) {\n    if (!Array.isArray(identities))\n        return [];\n    // Remove duplicated identities\n    var uniqueIdentities = uniqAsStrings(identities);\n    // Filter based on rum-agent identities validator\n    return uniqueIdentities.filter(function (identity) {\n        if (!identity)\n            return false;\n        var maybeKey = identity.key;\n        var maybeTT = identity.trafficType;\n        if (!isString(maybeKey) && !isFiniteNumber(maybeKey))\n            return false;\n        if (!isString(maybeTT))\n            return false;\n        return true;\n    });\n}\n/**\n * Checks if EventData fields (except EventTypeId) are valid, and logs corresponding warnings.\n * EventTypeId is validated separately.\n *\n * @param {EventData} data event data instance to validate. Precondition: data != undefined\n * @returns {boolean} Whether the data instance is a valid EventData or not.\n */\nexport function validateEventData(log, eventData) {\n    if (!validateEvent(log, eventData.eventTypeId, logNameMapper))\n        return false;\n    if (validateEventValue(log, eventData.value, logNameMapper) === false)\n        return false;\n    var properties = validateEventProperties(log, eventData.properties, logNameMapper).properties;\n    if (properties === false)\n        return false;\n    if (eventData.timestamp && !isFiniteNumber(eventData.timestamp))\n        return false;\n    if (eventData.key && validateKey(log, eventData.key, logNameMapper) === false)\n        return false;\n    if (eventData.trafficTypeName && validateTrafficType(log, eventData.trafficTypeName, logNameMapper) === false)\n        return false;\n    return true;\n}\nvar INVALID_PREFIX_REGEX = /^[^a-zA-Z0-9]+/;\nvar INVALID_SUBSTRING_REGEX = /[^-_.:a-zA-Z0-9]+/g;\n/**\n * Fixes the passed string value to comply with EventTypeId format, by removing invalid characters and truncating if necessary.\n *\n * @param {object} log factory logger\n * @param {string} eventTypeId string value to fix.\n * @returns {string} Fixed version of `eventTypeId`.\n */\nexport function fixEventTypeId(log, eventTypeId) {\n    // return the input eventTypeId if it cannot be fixed\n    if (!isString(eventTypeId) || eventTypeId.length === 0) {\n        return eventTypeId;\n    }\n    // replace invalid substrings and truncate\n    var fixed = eventTypeId\n        .replace(INVALID_PREFIX_REGEX, '')\n        .replace(INVALID_SUBSTRING_REGEX, '_');\n    var truncated = fixed.slice(0, 80);\n    if (truncated.length < fixed.length)\n        log.warn(logPrefix + 'EventTypeId was truncated because it cannot be more than 80 characters long.');\n    return truncated;\n}\n/**\n * GaToSplit integration.\n * This function provides the SplitTracker plugin to ga command queue.\n *\n * @param {object} sdkOptions options passed at the SDK integrations settings (isomorphic SDK) or the GoogleAnalyticsToSplit plugin (pluggable browser SDK)\n * @param {object} storage SDK storage passed to track events\n * @param {object} coreSettings core settings used to define an identity if no one provided as SDK or plugin options\n * @param {object} log factory logger\n */\nexport function GaToSplit(sdkOptions, params) {\n    var storage = params.storage, _a = params.settings, coreSettings = _a.core, log = _a.log;\n    var defaultOptions = {\n        prefix: defaultPrefix,\n        // We set default identities if key and TT are present in settings.core\n        identities: (coreSettings.key && coreSettings.trafficType) ?\n            [{ key: coreSettings.key, trafficType: coreSettings.trafficType }] :\n            undefined\n    };\n    var SplitTracker = /** @class */ (function () {\n        // Constructor for the SplitTracker plugin.\n        function SplitTracker(tracker, pluginOptions) {\n            // precedence of options: SDK options (config.integrations) overwrite pluginOptions (`ga('require', 'splitTracker', pluginOptions)`)\n            var opts = objectAssign({}, defaultOptions, sdkOptions, pluginOptions);\n            this.tracker = tracker;\n            // Validate identities\n            var validIdentities = validateIdentities(opts.identities);\n            if (validIdentities.length === 0) {\n                log.warn(logPrefix + 'No valid identities were provided. Please check that you are passing a valid list of identities or providing a traffic type at the SDK configuration.');\n                return;\n            }\n            var invalids = validIdentities.length - opts.identities.length;\n            if (invalids) {\n                log.warn(logPrefix + (invalids + \" identities were discarded because they are invalid or duplicated. Identities must be an array of objects with key and trafficType.\"));\n            }\n            opts.identities = validIdentities;\n            // Validate prefix\n            if (!isString(opts.prefix)) {\n                log.warn(logPrefix + 'The provided `prefix` was ignored since it is invalid. Please check that you are passing a string object as `prefix`.');\n                opts.prefix = undefined;\n            }\n            // Overwrite sendHitTask to perform plugin tasks:\n            // 1) filter hits\n            // 2) map hits to Split events\n            // 3) handle events, i.e., validate and send them to Split BE\n            var originalSendHitTask = tracker.get('sendHitTask');\n            tracker.set('sendHitTask', function (model) {\n                originalSendHitTask(model);\n                // filter hit if `hits` flag is false or if it comes from Split-to-GA integration\n                if (opts.hits === false || model.get('splitHit'))\n                    return;\n                try {\n                    if (opts.filter && !opts.filter(model))\n                        return;\n                }\n                catch (err) {\n                    log.warn(logPrefix + (\"custom filter threw: \" + err));\n                    return;\n                }\n                // map hit into an EventData instance\n                var eventData = defaultMapper(model);\n                if (opts.mapper) {\n                    try {\n                        eventData = opts.mapper(model, eventData);\n                    }\n                    catch (err) {\n                        log.warn(logPrefix + (\"custom mapper threw: \" + err));\n                        return;\n                    }\n                    if (!eventData)\n                        return;\n                }\n                // Add prefix. Nothing is appended if the prefix is falsy, e.g. undefined or ''.\n                if (opts.prefix)\n                    eventData.eventTypeId = opts.prefix + \".\" + eventData.eventTypeId;\n                eventData.eventTypeId = fixEventTypeId(log, eventData.eventTypeId);\n                if (!validateEventData(log, eventData))\n                    return;\n                // Store the event\n                if (eventData.key && eventData.trafficTypeName) {\n                    storage.events.track(eventData);\n                }\n                else { // Store the event for each Key-TT pair (identities), if key and TT is not present in eventData\n                    opts.identities.forEach(function (identity) {\n                        var event = objectAssign({\n                            key: identity.key,\n                            trafficTypeName: identity.trafficType,\n                        }, eventData);\n                        storage.events.track(event);\n                    });\n                }\n            });\n            log.info(logPrefix + 'integration started');\n        }\n        return SplitTracker;\n    }());\n    // Register the plugin, even if config is invalid, since, if not provided, it will block `ga` command queue.\n    providePlugin(window, 'splitTracker', SplitTracker, log, sdkOptions.autoRequire === true);\n}\n","import { GaToSplit } from './GaToSplit';\nexport function GoogleAnalyticsToSplit(options) {\n    if (options === void 0) { options = {}; }\n    // GaToSplit integration factory\n    function GoogleAnalyticsToSplitFactory(params) {\n        return GaToSplit(options, params);\n    }\n    GoogleAnalyticsToSplitFactory.type = 'GOOGLE_ANALYTICS_TO_SPLIT';\n    return GoogleAnalyticsToSplitFactory;\n}\n","/* eslint-disable no-undef */\nimport { uniq } from '../../utils/lang';\nimport { SPLIT_IMPRESSION, SPLIT_EVENT } from '../../utils/constants';\nvar logPrefix = 'split-to-ga: ';\nvar noGaWarning = '`ga` command queue not found.';\nvar noHit = 'No hit was sent.';\nvar SplitToGa = /** @class */ (function () {\n    /**\n     * constructor description\n     * @param {object} options options passed at the SDK integrations settings (isomorphic SDK) or the SplitToGoogleAnalytics plugin (pluggable browser SDK)\n     */\n    function SplitToGa(log, options) {\n        this.trackerNames = SplitToGa.defaultTrackerNames;\n        this.log = log;\n        if (options) {\n            if (typeof options.filter === 'function')\n                this.filter = options.filter;\n            if (typeof options.mapper === 'function')\n                this.mapper = options.mapper;\n            // We strip off duplicated values if we received a `trackerNames` param.\n            // We don't warn if a tracker does not exist, since the user might create it after the SDK is initialized.\n            // Note: GA allows to create and get trackers using a string or number as tracker name, and does nothing if other types are used.\n            if (Array.isArray(options.trackerNames))\n                this.trackerNames = uniq(options.trackerNames);\n            // No need to validate `impressions` and `events` flags. Any other value than `false` is ignored (considered true by default).\n            this.impressions = options.impressions;\n            this.events = options.events;\n        }\n        log.info(logPrefix + 'integration started');\n        if (typeof SplitToGa.getGa() !== 'function')\n            log.warn(logPrefix + (noGaWarning + \" No hits will be sent until it is available.\"));\n    }\n    // Default mapper function.\n    SplitToGa.defaultMapper = function (_a) {\n        var type = _a.type, payload = _a.payload;\n        switch (type) {\n            case SPLIT_IMPRESSION:\n                return {\n                    hitType: 'event',\n                    eventCategory: 'split-impression',\n                    eventAction: 'Evaluate ' + payload.impression.feature,\n                    eventLabel: 'Treatment: ' + payload.impression.treatment + '. Targeting rule: ' + payload.impression.label + '.',\n                    nonInteraction: true,\n                };\n            case SPLIT_EVENT:\n                return {\n                    hitType: 'event',\n                    eventCategory: 'split-event',\n                    eventAction: payload.eventTypeId,\n                    eventValue: payload.value,\n                    nonInteraction: true,\n                };\n        }\n    };\n    // Util to access ga command queue, accounting for the possibility that it has been renamed.\n    SplitToGa.getGa = function () {\n        return typeof window !== 'undefined' ? window[window['GoogleAnalyticsObject'] || 'ga'] : undefined;\n    };\n    /**\n     * Validates if a given object is a UniversalAnalytics.FieldsObject instance, and logs a warning if not.\n     * It checks that the object contains a `hitType`, since it is the minimal field required to send the hit\n     * and avoid the GA error `No hit type specified. Aborting hit.`.\n     * Other validations (e.g., an `event` hitType must have a `eventCategory` and `eventAction`) are handled\n     * and logged (as warnings or errors depending the case) by GA debugger, but the hit is sent anyway.\n     *\n     * @param {object} log factory logger\n     * @param {UniversalAnalytics.FieldsObject} fieldsObject object to validate.\n     * @returns {boolean} Whether the data instance is a valid FieldsObject or not.\n     */\n    SplitToGa.validateFieldsObject = function (log, fieldsObject) {\n        if (fieldsObject && fieldsObject.hitType)\n            return true;\n        log.warn(logPrefix + 'your custom mapper returned an invalid FieldsObject instance. It must be an object with at least a `hitType` field.');\n        return false;\n    };\n    SplitToGa.prototype.queue = function (data) {\n        // access ga command queue via `getGa` method, accounting for the possibility that\n        // the global `ga` reference was not yet mutated by analytics.js.\n        var ga = SplitToGa.getGa();\n        if (ga) {\n            if (this.impressions === false && data.type === SPLIT_IMPRESSION)\n                return;\n            if (this.events === false && data.type === SPLIT_EVENT)\n                return;\n            var fieldsObject_1;\n            try { // only try/catch filter and mapper, which might be defined by the user\n                // filter\n                if (this.filter && !this.filter(data))\n                    return;\n                // map data into a FieldsObject instance\n                fieldsObject_1 = SplitToGa.defaultMapper(data);\n                if (this.mapper) {\n                    fieldsObject_1 = this.mapper(data, fieldsObject_1);\n                    // don't send the hit if it is falsy or invalid\n                    if (!fieldsObject_1 || !SplitToGa.validateFieldsObject(this.log, fieldsObject_1))\n                        return;\n                }\n            }\n            catch (err) {\n                this.log.warn(logPrefix + (\"queue method threw: \" + err + \". \" + noHit));\n                return;\n            }\n            // send the hit\n            this.trackerNames.forEach(function (trackerName) {\n                var sendCommand = trackerName ? trackerName + \".send\" : 'send';\n                // mark the hit as a Split one to avoid the loop.\n                fieldsObject_1.splitHit = true;\n                // Send to GA using our reference to the GA object.\n                ga(sendCommand, fieldsObject_1);\n            });\n        }\n        else {\n            this.log.warn(logPrefix + (noGaWarning + \" \" + noHit));\n        }\n    };\n    // A falsy object represents the default tracker\n    SplitToGa.defaultTrackerNames = [''];\n    return SplitToGa;\n}());\nexport { SplitToGa };\n","import { SplitToGa } from './SplitToGa';\nexport function SplitToGoogleAnalytics(options) {\n    if (options === void 0) { options = {}; }\n    // SplitToGa integration factory\n    function SplitToGoogleAnalyticsFactory(params) {\n        return new SplitToGa(params.settings.log, options);\n    }\n    SplitToGoogleAnalyticsFactory.type = 'SPLIT_TO_GOOGLE_ANALYTICS';\n    return SplitToGoogleAnalyticsFactory;\n}\n","import { GOOGLE_ANALYTICS_TO_SPLIT, SPLIT_TO_GOOGLE_ANALYTICS } from '../utils/constants/browser';\nimport { pluggableIntegrationsManagerFactory } from './pluggable';\nimport { GoogleAnalyticsToSplit } from './ga/GoogleAnalyticsToSplit';\nimport { SplitToGoogleAnalytics } from './ga/SplitToGoogleAnalytics';\n/**\n * IntegrationsManager factory for the browser variant of the isomorphic JS SDK.\n * The integrations manager instantiates integration modules, and bypass tracked events and impressions to them.\n *\n * @param integrations valid integration settings object for browser sdk\n * @param params information of the Sdk factory instance that integrations can access to\n *\n * @returns integration manager or undefined if `integrations` are not present in settings.\n */\nexport function integrationsManagerFactory(integrations, params) {\n    // maps integration config items into integration factories to reuse the pluggable integration manager\n    var integrationFactories = integrations\n        .map(function (integrationOptions) {\n        switch (integrationOptions.type) {\n            case GOOGLE_ANALYTICS_TO_SPLIT: return GoogleAnalyticsToSplit(integrationOptions);\n            case SPLIT_TO_GOOGLE_ANALYTICS: return SplitToGoogleAnalytics(integrationOptions);\n        }\n    })\n        .filter(function (integrationFactory) {\n        return integrationFactory && typeof integrationFactory === 'function';\n    });\n    return pluggableIntegrationsManagerFactory(integrationFactories, params);\n}\n","import { InMemoryStorageCSFactory } from '../../../storages/inMemory/InMemoryStorageCS';\nimport { ERROR_STORAGE_INVALID } from '../../../logger/constants';\nimport { LOCALHOST_MODE, STANDALONE_MODE, STORAGE_PLUGGABLE, STORAGE_LOCALSTORAGE, STORAGE_MEMORY } from '../../../utils/constants';\nexport function __InLocalStorageMockFactory(params) {\n    var result = InMemoryStorageCSFactory(params);\n    result.splits.checkCache = function () { return true; }; // to emit SDK_READY_FROM_CACHE\n    return result;\n}\n__InLocalStorageMockFactory.type = STORAGE_MEMORY;\n/**\n * This function validates `settings.storage` object\n *\n * @param {any} settings config object provided by the user to initialize the sdk\n *\n * @returns {Object} valid storage factory. Default to `InMemoryStorageCSFactory` if the provided storage is invalid or not compatible with the sdk mode if mode is standalone or localhost\n *\n * @throws error if mode is consumer and the provided storage is not compatible\n */\nexport function validateStorageCS(settings) {\n    var _a = settings.storage, storage = _a === void 0 ? InMemoryStorageCSFactory : _a, log = settings.log, mode = settings.mode;\n    // If an invalid storage is provided, fallback into MEMORY\n    if (typeof storage !== 'function' || [STORAGE_MEMORY, STORAGE_LOCALSTORAGE, STORAGE_PLUGGABLE].indexOf(storage.type) === -1) {\n        storage = InMemoryStorageCSFactory;\n        log.error(ERROR_STORAGE_INVALID);\n    }\n    // In localhost mode with InLocalStorage, fallback to a mock InLocalStorage to emit SDK_READY_FROM_CACHE\n    if (mode === LOCALHOST_MODE && storage.type === STORAGE_LOCALSTORAGE) {\n        return __InLocalStorageMockFactory;\n    }\n    if ([LOCALHOST_MODE, STANDALONE_MODE].indexOf(mode) === -1) {\n        // Consumer modes require an async storage\n        if (storage.type !== STORAGE_PLUGGABLE)\n            throw new Error('A PluggableStorage instance is required on consumer mode');\n    }\n    else {\n        // Standalone and localhost modes require a sync storage\n        if (storage.type === STORAGE_PLUGGABLE) {\n            storage = InMemoryStorageCSFactory;\n            log.error(ERROR_STORAGE_INVALID, [' It requires consumer mode.']);\n        }\n    }\n    // return default InMemory storage if provided one is not valid\n    return storage;\n}\n","/**\n * wraps a given promise in a new one with a default onRejected function,\n * that handles the promise rejection if not other onRejected handler is provided.\n *\n * Caveats:\n *  - There are some cases where the `defaultOnRejected` handler is not invoked\n * and the promise rejection must be handled by the user (same as the Promise spec):\n *    - using async/await syntax with a transpiler to Promises\n *    - setting an `onFinally` handler as the first handler (e.g. `promiseWrapper(Promise.reject()).finally(...)`)\n *    - setting more than one handler with at least one of them being an onRejected handler\n *  - If the wrapped promise is rejected when using native async/await syntax, the `defaultOnRejected` handler is invoked\n * and neither the catch block nor the remaining try block are executed.\n *\n * @param customPromise promise to wrap\n * @param defaultOnRejected default onRejected function\n * @returns a promise that doesn't need to be handled for rejection (except when using async/await syntax) and\n * includes a method named `hasOnFulfilled` that returns true if the promise has attached an onFulfilled handler.\n */\nexport function promiseWrapper(customPromise, defaultOnRejected) {\n    var hasOnFulfilled = false;\n    var hasOnRejected = false;\n    function chain(promise) {\n        var newPromise = new Promise(function (res, rej) {\n            return promise.then(res, function (value) {\n                if (hasOnRejected) {\n                    rej(value);\n                }\n                else {\n                    defaultOnRejected(value);\n                }\n            });\n        });\n        var originalThen = newPromise.then;\n        // Using `defineProperty` in case Promise.prototype.then property is not writable\n        Object.defineProperty(newPromise, 'then', {\n            value: function (onfulfilled, onrejected) {\n                var result = originalThen.call(newPromise, onfulfilled, onrejected);\n                if (typeof onfulfilled === 'function')\n                    hasOnFulfilled = true;\n                if (typeof onrejected === 'function') {\n                    hasOnRejected = true;\n                    return result;\n                }\n                else {\n                    return chain(result);\n                }\n            }\n        });\n        return newPromise;\n    }\n    var result = chain(customPromise);\n    result.hasOnFulfilled = function () { return hasOnFulfilled; };\n    return result;\n}\n","import { objectAssign } from '../utils/lang/objectAssign';\nimport { SDK_SPLITS_ARRIVED, SDK_SPLITS_CACHE_LOADED, SDK_SEGMENTS_ARRIVED, SDK_READY_TIMED_OUT, SDK_READY_FROM_CACHE, SDK_UPDATE, SDK_READY } from './constants';\nfunction splitsEventEmitterFactory(EventEmitter) {\n    var splitsEventEmitter = objectAssign(new EventEmitter(), {\n        splitsArrived: false,\n        splitsCacheLoaded: false,\n    });\n    // `isSplitKill` condition avoids an edge-case of wrongly emitting SDK_READY if:\n    // - `/mySegments` fetch and SPLIT_KILL occurs before `/splitChanges` fetch, and\n    // - storage has cached splits (for which case `splitsStorage.killLocally` can return true)\n    splitsEventEmitter.on(SDK_SPLITS_ARRIVED, function (isSplitKill) { if (!isSplitKill)\n        splitsEventEmitter.splitsArrived = true; });\n    splitsEventEmitter.once(SDK_SPLITS_CACHE_LOADED, function () { splitsEventEmitter.splitsCacheLoaded = true; });\n    return splitsEventEmitter;\n}\nfunction segmentsEventEmitterFactory(EventEmitter) {\n    var segmentsEventEmitter = objectAssign(new EventEmitter(), {\n        segmentsArrived: false\n    });\n    segmentsEventEmitter.once(SDK_SEGMENTS_ARRIVED, function () { segmentsEventEmitter.segmentsArrived = true; });\n    return segmentsEventEmitter;\n}\n/**\n * Factory of readiness manager, which handles the ready / update event propagation.\n */\nexport function readinessManagerFactory(EventEmitter, readyTimeout, splits) {\n    if (readyTimeout === void 0) { readyTimeout = 0; }\n    if (splits === void 0) { splits = splitsEventEmitterFactory(EventEmitter); }\n    var segments = segmentsEventEmitterFactory(EventEmitter);\n    var gate = new EventEmitter();\n    // emit SDK_READY_FROM_CACHE\n    var isReadyFromCache = false;\n    if (splits.splitsCacheLoaded)\n        isReadyFromCache = true; // ready from cache, but doesn't emit SDK_READY_FROM_CACHE\n    else\n        splits.once(SDK_SPLITS_CACHE_LOADED, checkIsReadyFromCache);\n    // emit SDK_READY_TIMED_OUT\n    var hasTimedout = false;\n    var readyTimeoutId;\n    if (readyTimeout > 0) {\n        readyTimeoutId = setTimeout(function () {\n            hasTimedout = true;\n            gate.emit(SDK_READY_TIMED_OUT, 'Split SDK emitted SDK_READY_TIMED_OUT event.');\n        }, readyTimeout);\n    }\n    // emit SDK_READY and SDK_UPDATE\n    var isReady = false;\n    splits.on(SDK_SPLITS_ARRIVED, checkIsReadyOrUpdate);\n    segments.on(SDK_SEGMENTS_ARRIVED, checkIsReadyOrUpdate);\n    var isDestroyed = false;\n    function checkIsReadyFromCache() {\n        isReadyFromCache = true;\n        // Don't emit SDK_READY_FROM_CACHE if SDK_READY has been emitted\n        if (!isReady) {\n            try {\n                gate.emit(SDK_READY_FROM_CACHE);\n            }\n            catch (e) {\n                // throws user callback exceptions in next tick\n                setTimeout(function () { throw e; }, 0);\n            }\n        }\n    }\n    function checkIsReadyOrUpdate(diff) {\n        if (isReady) {\n            try {\n                gate.emit(SDK_UPDATE, diff);\n            }\n            catch (e) {\n                // throws user callback exceptions in next tick\n                setTimeout(function () { throw e; }, 0);\n            }\n        }\n        else {\n            if (splits.splitsArrived && segments.segmentsArrived) {\n                clearTimeout(readyTimeoutId);\n                isReady = true;\n                try {\n                    gate.emit(SDK_READY);\n                }\n                catch (e) {\n                    // throws user callback exceptions in next tick\n                    setTimeout(function () { throw e; }, 0);\n                }\n            }\n        }\n    }\n    var refCount = 1;\n    return {\n        splits: splits,\n        segments: segments,\n        gate: gate,\n        shared: function (readyTimeout) {\n            if (readyTimeout === void 0) { readyTimeout = 0; }\n            refCount++;\n            return readinessManagerFactory(EventEmitter, readyTimeout, splits);\n        },\n        destroy: function () {\n            isDestroyed = true;\n            segments.removeAllListeners();\n            gate.removeAllListeners();\n            clearTimeout(readyTimeoutId);\n            if (refCount > 0)\n                refCount--;\n            if (refCount === 0)\n                splits.removeAllListeners();\n        },\n        isReady: function () { return isReady; },\n        hasTimedout: function () { return hasTimedout; },\n        isReadyFromCache: function () { return isReadyFromCache; },\n        isDestroyed: function () { return isDestroyed; },\n        isOperational: function () { return (isReady || isReadyFromCache) && !isDestroyed; }\n    };\n}\n","import { objectAssign } from '../utils/lang/objectAssign';\nimport { promiseWrapper } from '../utils/promise/wrapper';\nimport { readinessManagerFactory } from './readinessManager';\nimport { SDK_READY, SDK_READY_TIMED_OUT, SDK_READY_FROM_CACHE, SDK_UPDATE } from './constants';\nimport { ERROR_CLIENT_LISTENER, CLIENT_READY_FROM_CACHE, CLIENT_READY, CLIENT_NO_LISTENER } from '../logger/constants';\nvar NEW_LISTENER_EVENT = 'newListener';\nvar REMOVE_LISTENER_EVENT = 'removeListener';\n/**\n * SdkReadinessManager factory, which provides the public status API of SDK clients and manager: ready promise, readiness event emitter and constants (SDK_READY, etc).\n * It also updates logs related warnings and errors.\n *\n * @param readyTimeout time in millis to emit SDK_READY_TIME_OUT event\n * @param readinessManager optional readinessManager to use. only used internally for `shared` method\n */\nexport function sdkReadinessManagerFactory(log, EventEmitter, readyTimeout, readinessManager) {\n    if (readyTimeout === void 0) { readyTimeout = 0; }\n    if (readinessManager === void 0) { readinessManager = readinessManagerFactory(EventEmitter, readyTimeout); }\n    /** Ready callback warning */\n    var internalReadyCbCount = 0;\n    var readyCbCount = 0;\n    readinessManager.gate.on(REMOVE_LISTENER_EVENT, function (event) {\n        if (event === SDK_READY)\n            readyCbCount--;\n    });\n    readinessManager.gate.on(NEW_LISTENER_EVENT, function (event) {\n        if (event === SDK_READY || event === SDK_READY_TIMED_OUT) {\n            if (readinessManager.isReady()) {\n                log.error(ERROR_CLIENT_LISTENER, [event === SDK_READY ? 'SDK_READY' : 'SDK_READY_TIMED_OUT']);\n            }\n            else if (event === SDK_READY) {\n                readyCbCount++;\n            }\n        }\n    });\n    /** Ready promise */\n    var readyPromise = generateReadyPromise();\n    readinessManager.gate.once(SDK_READY_FROM_CACHE, function () {\n        log.info(CLIENT_READY_FROM_CACHE);\n    });\n    // default onRejected handler, that just logs the error, if ready promise doesn't have one.\n    function defaultOnRejected(err) {\n        log.error(err && err.message);\n    }\n    function generateReadyPromise() {\n        var promise = promiseWrapper(new Promise(function (resolve, reject) {\n            readinessManager.gate.once(SDK_READY, function () {\n                log.info(CLIENT_READY);\n                if (readyCbCount === internalReadyCbCount && !promise.hasOnFulfilled())\n                    log.warn(CLIENT_NO_LISTENER);\n                resolve();\n            });\n            readinessManager.gate.once(SDK_READY_TIMED_OUT, function (message) {\n                reject(new Error(message));\n            });\n        }), defaultOnRejected);\n        return promise;\n    }\n    return {\n        readinessManager: readinessManager,\n        shared: function (readyTimeout) {\n            if (readyTimeout === void 0) { readyTimeout = 0; }\n            return sdkReadinessManagerFactory(log, EventEmitter, readyTimeout, readinessManager.shared(readyTimeout));\n        },\n        incInternalReadyCbCount: function () {\n            internalReadyCbCount++;\n        },\n        sdkStatus: objectAssign(\n        // Expose Event Emitter functionality\n        Object.create(readinessManager.gate), {\n            // Expose the event constants without changing the interface\n            Event: {\n                SDK_READY: SDK_READY,\n                SDK_READY_FROM_CACHE: SDK_READY_FROM_CACHE,\n                SDK_UPDATE: SDK_UPDATE,\n                SDK_READY_TIMED_OUT: SDK_READY_TIMED_OUT,\n            },\n            /**\n             * Returns a promise that will be resolved once the SDK has finished loading (SDK_READY event emitted) or rejected if the SDK has timedout (SDK_READY_TIMED_OUT event emitted).\n             * As it's meant to provide similar flexibility to the event approach, given that the SDK might be eventually ready after a timeout event, calling the `ready` method after the\n             * SDK had timed out will return a new promise that should eventually resolve if the SDK gets ready.\n             *\n             * Caveats: the method was designed to avoid an unhandled Promise rejection if the rejection case is not handled, so that `onRejected` handler is optional when using promises.\n             * However, when using async/await syntax, the rejection should be explicitly propagated like in the following example:\n             * ```\n             * try {\n             *   await client.ready().catch((e) => { throw e; });\n             *   // SDK is ready\n             * } catch(e) {\n             *   // SDK has timedout\n             * }\n             * ```\n             *\n             * @function ready\n             * @returns {Promise<void>}\n             */\n            ready: function () {\n                if (readinessManager.hasTimedout()) {\n                    if (!readinessManager.isReady()) {\n                        return promiseWrapper(Promise.reject(new Error('Split SDK has emitted SDK_READY_TIMED_OUT event.')), defaultOnRejected);\n                    }\n                    else {\n                        return Promise.resolve();\n                    }\n                }\n                return readyPromise;\n            },\n            // Expose status for internal purposes only. Not considered part of the public API, and might be updated eventually.\n            __getStatus: function () {\n                return {\n                    isReady: readinessManager.isReady(),\n                    isReadyFromCache: readinessManager.isReadyFromCache(),\n                    isOperational: readinessManager.isOperational(),\n                    hasTimedout: readinessManager.hasTimedout(),\n                    isDestroyed: readinessManager.isDestroyed(),\n                };\n            },\n        })\n    };\n}\n","import { objectAssign } from '../utils/lang/objectAssign';\nimport { thenable } from '../utils/promise/thenable';\nimport { truncateTimeFrame } from '../utils/time';\nimport { IMPRESSIONS_TRACKER_SUCCESS, ERROR_IMPRESSIONS_TRACKER, ERROR_IMPRESSIONS_LISTENER } from '../logger/constants';\nimport { CONSENT_DECLINED, DEDUPED, QUEUED } from '../utils/constants';\n/**\n * Impressions tracker stores impressions in cache and pass them to the listener and integrations manager if provided.\n *\n * @param impressionsCache cache to save impressions\n * @param metadata runtime metadata (ip, hostname and version)\n * @param impressionListener optional impression listener\n * @param integrationsManager optional integrations manager\n * @param observer optional impression observer. If provided, previous time (pt property) is included in impression instances\n * @param countsCache optional cache to save impressions count. If provided, impressions will be deduped (OPTIMIZED mode)\n */\nexport function impressionsTrackerFactory(settings, impressionsCache, integrationsManager, \n// if observer is provided, it implies `shouldAddPreviousTime` flag (i.e., if impressions previous time should be added or not)\nobserver, \n// if countsCache is provided, it implies `isOptimized` flag (i.e., if impressions should be deduped or not)\ncountsCache, telemetryCache) {\n    var log = settings.log, impressionListener = settings.impressionListener, _a = settings.runtime, ip = _a.ip, hostname = _a.hostname, version = settings.version;\n    return {\n        track: function (impressions, attributes) {\n            if (settings.userConsent === CONSENT_DECLINED)\n                return;\n            var impressionsCount = impressions.length;\n            var impressionsToStore = []; // Track only the impressions that are going to be stored\n            // Wraps impressions to store and adds previousTime if it corresponds\n            impressions.forEach(function (impression) {\n                if (observer) {\n                    // Adds previous time if it is enabled\n                    impression.pt = observer.testAndSet(impression);\n                }\n                var now = Date.now();\n                if (countsCache) {\n                    // Increments impression counter per featureName\n                    countsCache.track(impression.feature, now, 1);\n                }\n                // Checks if the impression should be added in queue to be sent\n                if (!countsCache || !impression.pt || impression.pt < truncateTimeFrame(now)) {\n                    impressionsToStore.push(impression);\n                }\n            });\n            var res = impressionsCache.track(impressionsToStore);\n            // If we're on an async storage, handle error and log it.\n            if (thenable(res)) {\n                res.then(function () {\n                    log.info(IMPRESSIONS_TRACKER_SUCCESS, [impressionsCount]);\n                }).catch(function (err) {\n                    log.error(ERROR_IMPRESSIONS_TRACKER, [impressionsCount, err]);\n                });\n            }\n            else {\n                // Record when impressionsCache is sync only (standalone mode)\n                // @TODO we are not dropping impressions on full queue yet, so DROPPED stats are not recorded\n                if (telemetryCache) {\n                    telemetryCache.recordImpressionStats(QUEUED, impressionsToStore.length);\n                    telemetryCache.recordImpressionStats(DEDUPED, impressions.length - impressionsToStore.length);\n                }\n            }\n            // @TODO next block might be handled by the integration manager. In that case, the metadata object doesn't need to be passed in the constructor\n            if (impressionListener || integrationsManager) {\n                var _loop_1 = function (i) {\n                    var impressionData = {\n                        // copy of impression, to avoid unexpected behaviour if modified by integrations or impressionListener\n                        impression: objectAssign({}, impressions[i]),\n                        attributes: attributes,\n                        ip: ip,\n                        hostname: hostname,\n                        sdkLanguageVersion: version\n                    };\n                    // Wrap in a timeout because we don't want it to be blocking.\n                    setTimeout(function () {\n                        // integrationsManager.handleImpression does not throw errors\n                        if (integrationsManager)\n                            integrationsManager.handleImpression(impressionData);\n                        try { // @ts-ignore. An exception on the listeners should not break the SDK.\n                            if (impressionListener)\n                                impressionListener.logImpression(impressionData);\n                        }\n                        catch (err) {\n                            log.error(ERROR_IMPRESSIONS_LISTENER, [err]);\n                        }\n                    }, 0);\n                };\n                for (var i = 0; i < impressionsCount; i++) {\n                    _loop_1(i);\n                }\n            }\n        }\n    };\n}\n","import { objectAssign } from '../utils/lang/objectAssign';\nimport { thenable } from '../utils/promise/thenable';\nimport { EVENTS_TRACKER_SUCCESS, ERROR_EVENTS_TRACKER } from '../logger/constants';\nimport { CONSENT_DECLINED, DROPPED, QUEUED } from '../utils/constants';\nimport { isStorageSync } from './impressionObserver/utils';\n/**\n * Event tracker stores events in cache and pass them to the integrations manager if provided.\n *\n * @param eventsCache cache to save events\n * @param integrationsManager optional event handler used for integrations\n */\nexport function eventTrackerFactory(settings, eventsCache, integrationsManager, telemetryCache) {\n    var log = settings.log;\n    var isSync = isStorageSync(settings);\n    function queueEventsCallback(eventData, tracked) {\n        var eventTypeId = eventData.eventTypeId, trafficTypeName = eventData.trafficTypeName, key = eventData.key, value = eventData.value, timestamp = eventData.timestamp, properties = eventData.properties;\n        // Logging every prop would be too much.\n        var msg = \"event of type \\\"\" + eventTypeId + \"\\\" for traffic type \\\"\" + trafficTypeName + \"\\\". Key: \" + key + \". Value: \" + value + \". Timestamp: \" + timestamp + \". \" + (properties ? 'With properties.' : 'With no properties.');\n        if (tracked) {\n            log.info(EVENTS_TRACKER_SUCCESS, [msg]);\n            if (integrationsManager) {\n                // Wrap in a timeout because we don't want it to be blocking.\n                setTimeout(function () {\n                    // copy of event, to avoid unexpected behaviour if modified by integrations\n                    var eventDataCopy = objectAssign({}, eventData);\n                    if (eventData.properties)\n                        eventDataCopy.properties = objectAssign({}, eventData.properties);\n                    // integrationsManager does not throw errors (they are internally handled by each integration module)\n                    integrationsManager.handleEvent(eventDataCopy);\n                }, 0);\n            }\n        }\n        else {\n            log.error(ERROR_EVENTS_TRACKER, [msg]);\n        }\n        return tracked;\n    }\n    return {\n        track: function (eventData, size) {\n            if (settings.userConsent === CONSENT_DECLINED) {\n                return isSync ? false : Promise.resolve(false);\n            }\n            var tracked = eventsCache.track(eventData, size);\n            if (thenable(tracked)) {\n                return tracked.then(queueEventsCallback.bind(null, eventData));\n            }\n            else {\n                // Record when eventsCache is sync only (standalone mode)\n                // @TODO we are not dropping events on full queue yet, so `tracked` is always true ATM\n                if (telemetryCache)\n                    telemetryCache.recordEventStats(tracked ? QUEUED : DROPPED, 1);\n                return queueEventsCallback(eventData, tracked);\n            }\n        }\n    };\n}\n","import { EXCEPTION, SDK_NOT_READY } from '../utils/labels';\nimport { timer } from '../utils/timeTracker/timer';\nimport { TOKEN_REFRESH, AUTH_REJECTION } from '../utils/constants';\nexport function telemetryTrackerFactory(telemetryCache, now) {\n    if (telemetryCache && now) {\n        var startTime_1 = timer(now);\n        return {\n            trackEval: function (method) {\n                var evalTime = timer(now);\n                return function (label) {\n                    switch (label) {\n                        case EXCEPTION:\n                            telemetryCache.recordException(method);\n                            return; // Don't track latency on exceptions\n                        case SDK_NOT_READY: // @ts-ignore ITelemetryCacheAsync doesn't implement the method\n                            if (telemetryCache.recordNonReadyUsage)\n                                telemetryCache.recordNonReadyUsage();\n                    }\n                    telemetryCache.recordLatency(method, evalTime());\n                };\n            },\n            trackHttp: function (operation) {\n                var httpTime = timer(now);\n                return function (error) {\n                    telemetryCache.recordHttpLatency(operation, httpTime());\n                    if (error && error.statusCode)\n                        telemetryCache.recordHttpError(operation, error.statusCode);\n                    else\n                        telemetryCache.recordSuccessfulSync(operation, Date.now());\n                };\n            },\n            sessionLength: function () {\n                if (telemetryCache.recordSessionLength)\n                    telemetryCache.recordSessionLength(startTime_1());\n            },\n            streamingEvent: function (e, d) {\n                if (e === AUTH_REJECTION) {\n                    telemetryCache.recordAuthRejections();\n                }\n                else {\n                    telemetryCache.recordStreamingEvents({\n                        e: e,\n                        d: d,\n                        t: Date.now()\n                    });\n                    if (e === TOKEN_REFRESH)\n                        telemetryCache.recordTokenRefreshes();\n                }\n            }\n        };\n    }\n    else { // If there is not `telemetryCache` or `now` time tracker, return a no-op telemetry tracker\n        var noopTrack = function () { return function () { }; };\n        return {\n            trackEval: noopTrack,\n            trackHttp: noopTrack,\n            sessionLength: function () { },\n            streamingEvent: function () { },\n        };\n    }\n}\n","import { objectAssign } from '../utils/lang/objectAssign';\nimport { find } from '../utils/lang';\nimport { _Map } from '../utils/lang/maps';\nexport var LogLevels = {\n    DEBUG: 'DEBUG',\n    INFO: 'INFO',\n    WARN: 'WARN',\n    ERROR: 'ERROR',\n    NONE: 'NONE'\n};\nvar LogLevelIndexes = {\n    DEBUG: 1,\n    INFO: 2,\n    WARN: 3,\n    ERROR: 4,\n    NONE: 5\n};\nexport function isLogLevelString(str) {\n    return !!find(LogLevels, function (lvl) { return str === lvl; });\n}\n// exported for testing purposes only\nexport function _sprintf(format, args) {\n    if (format === void 0) { format = ''; }\n    if (args === void 0) { args = []; }\n    var i = 0;\n    return format.replace(/%s/g, function () {\n        return args[i++];\n    });\n}\nvar defaultOptions = {\n    prefix: 'splitio',\n    logLevel: LogLevels.NONE,\n    showLevel: true,\n};\nvar Logger = /** @class */ (function () {\n    function Logger(options, codes) {\n        this.options = objectAssign({}, defaultOptions, options);\n        this.codes = codes || new _Map();\n        this.logLevel = LogLevelIndexes[this.options.logLevel];\n    }\n    Logger.prototype.setLogLevel = function (logLevel) {\n        this.options.logLevel = logLevel;\n        this.logLevel = LogLevelIndexes[logLevel];\n    };\n    Logger.prototype.debug = function (msg, args) {\n        if (this._shouldLog(LogLevelIndexes.DEBUG))\n            this._log(LogLevels.DEBUG, msg, args);\n    };\n    Logger.prototype.info = function (msg, args) {\n        if (this._shouldLog(LogLevelIndexes.INFO))\n            this._log(LogLevels.INFO, msg, args);\n    };\n    Logger.prototype.warn = function (msg, args) {\n        if (this._shouldLog(LogLevelIndexes.WARN))\n            this._log(LogLevels.WARN, msg, args);\n    };\n    Logger.prototype.error = function (msg, args) {\n        if (this._shouldLog(LogLevelIndexes.ERROR))\n            this._log(LogLevels.ERROR, msg, args);\n    };\n    Logger.prototype._log = function (level, msg, args) {\n        if (typeof msg === 'number') {\n            var format = this.codes.get(msg);\n            msg = format ? _sprintf(format, args) : \"Message code \" + msg + (args ? ', with args: ' + args.toString() : '');\n        }\n        else {\n            if (args)\n                msg = _sprintf(msg, args);\n        }\n        var formattedText = this._generateLogMessage(level, msg);\n        console.log(formattedText);\n    };\n    Logger.prototype._generateLogMessage = function (level, text) {\n        var textPre = ' => ';\n        var result = '';\n        if (this.options.showLevel) {\n            result += '[' + level + ']' + (level === LogLevels.INFO || level === LogLevels.WARN ? ' ' : '') + ' ';\n        }\n        if (this.options.prefix) {\n            result += this.options.prefix + textPre;\n        }\n        return result += text;\n    };\n    Logger.prototype._shouldLog = function (level) {\n        return level >= this.logLevel;\n    };\n    return Logger;\n}());\nexport { Logger };\n","import { LogLevels, isLogLevelString } from './index';\nimport { ERROR_LOGLEVEL_INVALID } from './constants';\n/**\n * The public Logger utility API exposed via SplitFactory, used to update the log level.\n *\n * @param log the factory logger instance to handle\n */\nexport function createLoggerAPI(log) {\n    function setLogLevel(logLevel) {\n        if (isLogLevelString(logLevel)) {\n            log.setLogLevel(logLevel);\n        }\n        else {\n            log.error(ERROR_LOGLEVEL_INVALID);\n        }\n    }\n    return {\n        /**\n         * Enables all the logs.\n         */\n        enable: function () {\n            setLogLevel(LogLevels.DEBUG);\n        },\n        /**\n         * Sets a custom log Level for the SDK.\n         * @param {string} logLevel - Custom LogLevel value.\n         */\n        setLogLevel: setLogLevel,\n        /**\n         * Disables all the log levels.\n         */\n        disable: function () {\n            // Disabling is equal logLevel none\n            setLogLevel(LogLevels.NONE);\n        },\n        /**\n         * Exposed for usage with setLogLevel\n         */\n        LogLevel: LogLevels\n    };\n}\n","import { UNKNOWN } from '../utils/constants';\nexport function metadataBuilder(settings) {\n    return {\n        s: settings.version,\n        i: settings.runtime.ip || UNKNOWN,\n        n: settings.runtime.hostname || UNKNOWN,\n    };\n}\n","import { sdkReadinessManagerFactory } from '../readiness/sdkReadinessManager';\nimport { impressionsTrackerFactory } from '../trackers/impressionsTracker';\nimport { eventTrackerFactory } from '../trackers/eventTracker';\nimport { telemetryTrackerFactory } from '../trackers/telemetryTracker';\nimport { getMatching } from '../utils/key';\nimport { shouldBeOptimized } from '../trackers/impressionObserver/utils';\nimport { validateAndTrackApiKey } from '../utils/inputValidation/apiKey';\nimport { createLoggerAPI } from '../logger/sdkLogger';\nimport { NEW_FACTORY, RETRIEVE_MANAGER } from '../logger/constants';\nimport { metadataBuilder } from '../storages/metadataBuilder';\nimport { SDK_SPLITS_ARRIVED, SDK_SEGMENTS_ARRIVED } from '../readiness/constants';\nimport { objectAssign } from '../utils/lang/objectAssign';\n/**\n * Modular SDK factory\n */\nexport function sdkFactory(params) {\n    var settings = params.settings, platform = params.platform, storageFactory = params.storageFactory, splitApiFactory = params.splitApiFactory, extraProps = params.extraProps, syncManagerFactory = params.syncManagerFactory, SignalListener = params.SignalListener, impressionsObserverFactory = params.impressionsObserverFactory, integrationsManagerFactory = params.integrationsManagerFactory, sdkManagerFactory = params.sdkManagerFactory, sdkClientMethodFactory = params.sdkClientMethodFactory;\n    var log = settings.log;\n    // @TODO handle non-recoverable errors, such as, global `fetch` not available, invalid API Key, etc.\n    // On non-recoverable errors, we should mark the SDK as destroyed and not start synchronization.\n    // We will just log and allow for the SDK to end up throwing an SDK_TIMEOUT event for devs to handle.\n    validateAndTrackApiKey(log, settings.core.authorizationKey);\n    var sdkReadinessManager = sdkReadinessManagerFactory(log, platform.EventEmitter, settings.startup.readyTimeout);\n    var readiness = sdkReadinessManager.readinessManager;\n    // @TODO consider passing the settings object, so that each storage access only what it needs\n    var storageFactoryParams = {\n        impressionsQueueSize: settings.scheduler.impressionsQueueSize,\n        eventsQueueSize: settings.scheduler.eventsQueueSize,\n        optimize: shouldBeOptimized(settings),\n        // ATM, only used by InLocalStorage\n        matchingKey: getMatching(settings.core.key),\n        splitFiltersValidation: settings.sync.__splitFiltersValidation,\n        // ATM, only used by PluggableStorage\n        mode: settings.mode,\n        // Callback used to emit SDK_READY in consumer mode, where `syncManagerFactory` is undefined,\n        // or partial consumer mode, where it only has submitters, and therefore it doesn't emit readiness events.\n        onReadyCb: function (error) {\n            if (error)\n                return; // Don't emit SDK_READY if storage failed to connect. Error message is logged by wrapperAdapter\n            readiness.splits.emit(SDK_SPLITS_ARRIVED);\n            readiness.segments.emit(SDK_SEGMENTS_ARRIVED);\n        },\n        metadata: metadataBuilder(settings),\n        log: log\n    };\n    var storage = storageFactory(storageFactoryParams);\n    // @TODO add support for dataloader: `if (params.dataLoader) params.dataLoader(storage);`\n    var integrationsManager = integrationsManagerFactory && integrationsManagerFactory({ settings: settings, storage: storage });\n    // trackers\n    var observer = impressionsObserverFactory && impressionsObserverFactory();\n    var impressionsTracker = impressionsTrackerFactory(settings, storage.impressions, integrationsManager, observer, storage.impressionCounts, storage.telemetry);\n    var eventTracker = eventTrackerFactory(settings, storage.events, integrationsManager, storage.telemetry);\n    var telemetryTracker = telemetryTrackerFactory(storage.telemetry, platform.now);\n    // splitApi is used by SyncManager and Browser signal listener\n    var splitApi = splitApiFactory && splitApiFactory(settings, platform, telemetryTracker);\n    var ctx = { splitApi: splitApi, eventTracker: eventTracker, impressionsTracker: impressionsTracker, telemetryTracker: telemetryTracker, sdkReadinessManager: sdkReadinessManager, readiness: readiness, settings: settings, storage: storage, platform: platform };\n    var syncManager = syncManagerFactory && syncManagerFactory(ctx);\n    ctx.syncManager = syncManager;\n    var signalListener = SignalListener && new SignalListener(syncManager, settings, storage, splitApi);\n    ctx.signalListener = signalListener;\n    // SDK client and manager\n    var clientMethod = sdkClientMethodFactory(ctx);\n    var managerInstance = sdkManagerFactory(log, storage.splits, sdkReadinessManager);\n    syncManager && syncManager.start();\n    signalListener && signalListener.start();\n    log.info(NEW_FACTORY);\n    // @ts-ignore\n    return objectAssign({\n        // Split evaluation and event tracking engine\n        client: clientMethod,\n        // Manager API to explore available information\n        manager: function () {\n            log.debug(RETRIEVE_MANAGER);\n            return managerInstance;\n        },\n        // Logger wrapper API\n        Logger: createLoggerAPI(settings.log),\n        settings: settings,\n    }, extraProps && extraProps(ctx));\n}\n","import { ERROR_NOT_BOOLEAN, USER_CONSENT_UPDATED, USER_CONSENT_NOT_UPDATED, USER_CONSENT_INITIAL } from '../logger/constants';\nimport { isConsentGranted } from './index';\nimport { CONSENT_GRANTED, CONSENT_DECLINED, CONSENT_UNKNOWN } from '../utils/constants';\nimport { isBoolean } from '../utils/lang';\n// User consent enum\nvar ConsentStatus = {\n    GRANTED: CONSENT_GRANTED,\n    DECLINED: CONSENT_DECLINED,\n    UNKNOWN: CONSENT_UNKNOWN,\n};\n/**\n * The public user consent API exposed via SplitFactory, used to control if the SDK tracks and sends impressions and events or not.\n */\nexport function createUserConsentAPI(params) {\n    var settings = params.settings, log = params.settings.log, syncManager = params.syncManager, _a = params.storage, events = _a.events, impressions = _a.impressions, impressionCounts = _a.impressionCounts;\n    if (!isConsentGranted(settings))\n        log.info(USER_CONSENT_INITIAL, [settings.userConsent]);\n    return {\n        setStatus: function (consent) {\n            var _a, _b;\n            // validate input param\n            if (!isBoolean(consent)) {\n                log.warn(ERROR_NOT_BOOLEAN, ['UserConsent.setStatus']);\n                return false;\n            }\n            var newConsentStatus = consent ? CONSENT_GRANTED : CONSENT_DECLINED;\n            if (settings.userConsent !== newConsentStatus) {\n                log.info(USER_CONSENT_UPDATED, [settings.userConsent, newConsentStatus]); // @ts-ignore, modify readonly prop\n                settings.userConsent = newConsentStatus;\n                if (consent) { // resumes submitters if transitioning to GRANTED\n                    (_a = syncManager === null || syncManager === void 0 ? void 0 : syncManager.submitterManager) === null || _a === void 0 ? void 0 : _a.start();\n                }\n                else { // pauses submitters (except telemetry), and drops tracked data if transitioning to DECLINED\n                    (_b = syncManager === null || syncManager === void 0 ? void 0 : syncManager.submitterManager) === null || _b === void 0 ? void 0 : _b.stop(true);\n                    // @ts-ignore, clear method is present in storage for standalone and partial consumer mode\n                    if (events.clear)\n                        events.clear(); // @ts-ignore\n                    if (impressions.clear)\n                        impressions.clear();\n                    if (impressionCounts)\n                        impressionCounts.clear();\n                }\n            }\n            else {\n                log.info(USER_CONSENT_NOT_UPDATED, [newConsentStatus]);\n            }\n            return true;\n        },\n        getStatus: function () {\n            return settings.userConsent;\n        },\n        Status: ConsentStatus\n    };\n}\n","// For client-side SDKs, machine IP and Hostname are not captured and sent to Split backend.\nexport function validateRuntime() {\n    return {\n        ip: false,\n        hostname: false\n    };\n}\n","import * as c from '../constants';\nexport var codesError = [\n    // evaluator\n    [c.ERROR_ENGINE_COMBINER_IFELSEIF, c.LOG_PREFIX_ENGINE_COMBINER + 'Invalid Split, no valid rules found'],\n    // SDK\n    [c.ERROR_LOGLEVEL_INVALID, 'logger: Invalid Log Level - No changes to the logs will be applied.'],\n    [c.ERROR_CLIENT_CANNOT_GET_READY, 'The SDK will not get ready. Reason: %s'],\n    [c.ERROR_IMPRESSIONS_TRACKER, c.LOG_PREFIX_IMPRESSIONS_TRACKER + 'Could not store impressions bulk with %s impression(s). Error: %s'],\n    [c.ERROR_IMPRESSIONS_LISTENER, c.LOG_PREFIX_IMPRESSIONS_TRACKER + 'Impression listener logImpression method threw: %s.'],\n    [c.ERROR_EVENTS_TRACKER, c.LOG_PREFIX_EVENTS_TRACKER + 'Failed to queue %s'],\n    // synchronizer\n    [c.ERROR_SYNC_OFFLINE_LOADING, c.LOG_PREFIX_SYNC_OFFLINE + 'There was an issue loading the mock Splits data, no changes will be applied to the current cache. %s'],\n    [c.ERROR_STREAMING_SSE, c.LOG_PREFIX_SYNC_STREAMING + 'Failed to connect or error on streaming connection, with error message: %s'],\n    [c.ERROR_STREAMING_AUTH, c.LOG_PREFIX_SYNC_STREAMING + 'Failed to authenticate for streaming. Error: %s.'],\n    [c.ERROR_HTTP, 'Response status is not OK. Status: %s. URL: %s. Message: %s'],\n    // client status\n    [c.ERROR_CLIENT_LISTENER, 'A listener was added for %s on the SDK, which has already fired and won\\'t be emitted again. The callback won\\'t be executed.'],\n    [c.ERROR_CLIENT_DESTROYED, '%s: Client has already been destroyed - no calls possible.'],\n    // input validation\n    [c.ERROR_EVENT_TYPE_FORMAT, '%s: you passed \"%s\", event_type must adhere to the regular expression /^[a-zA-Z0-9][-_.:a-zA-Z0-9]{0,79}$/g. This means an event_type must be alphanumeric, cannot be more than 80 characters long, and can only include a dash, underscore, period, or colon as separators of alphanumeric characters.'],\n    [c.ERROR_NOT_PLAIN_OBJECT, '%s: %s must be a plain object.'],\n    [c.ERROR_SIZE_EXCEEDED, '%s: the maximum size allowed for the properties is 32768 bytes, which was exceeded. Event not queued.'],\n    [c.ERROR_NOT_FINITE, '%s: value must be a finite number.'],\n    [c.ERROR_NULL, '%s: you passed a null or undefined %s. It must be a non-empty string.'],\n    [c.ERROR_TOO_LONG, '%s: %s too long. It must have 250 characters or less.'],\n    [c.ERROR_INVALID_KEY_OBJECT, '%s: Key must be an object with bucketingKey and matchingKey with valid string properties.'],\n    [c.ERROR_INVALID, '%s: you passed an invalid %s. It must be a non-empty string.'],\n    [c.ERROR_EMPTY, '%s: you passed an empty %s. It must be a non-empty string.'],\n    [c.ERROR_EMPTY_ARRAY, '%s: %s must be a non-empty array.'],\n    [c.ERROR_NOT_BOOLEAN, '%s: provided param must be a boolean value.'],\n    // initialization / settings validation\n    [c.ERROR_INVALID_CONFIG_PARAM, c.LOG_PREFIX_SETTINGS + ': you passed an invalid \"%s\" config param. It should be one of the following values: %s. Defaulting to \"%s\".'],\n    [c.ERROR_LOCALHOST_MODULE_REQUIRED, c.LOG_PREFIX_SETTINGS + ': an invalid value was received for \"sync.localhostMode\" config. A valid entity should be provided for localhost mode.'],\n    [c.ERROR_STORAGE_INVALID, c.LOG_PREFIX_SETTINGS + ': the provided storage is invalid.%s Falling back into default MEMORY storage'],\n    [c.ERROR_MIN_CONFIG_PARAM, c.LOG_PREFIX_SETTINGS + ': the provided \"%s\" config param is lower than allowed. Setting to the minimum value %s seconds'],\n];\n","import * as c from '../constants';\nimport { codesError } from './error';\nexport var codesWarn = codesError.concat([\n    // evaluator\n    [c.ENGINE_VALUE_INVALID, c.LOG_PREFIX_ENGINE_VALUE + 'Value %s doesn\\'t match with expected type.'],\n    [c.ENGINE_VALUE_NO_ATTRIBUTES, c.LOG_PREFIX_ENGINE_VALUE + 'Defined attribute [%s], no attributes received.'],\n    // synchronizer\n    [c.SYNC_MYSEGMENTS_FETCH_RETRY, c.LOG_PREFIX_SYNC_MYSEGMENTS + 'Retrying download of segments #%s. Reason: %s'],\n    [c.SYNC_SPLITS_FETCH_FAILS, c.LOG_PREFIX_SYNC_SPLITS + 'Error while doing fetch of Splits. %s'],\n    [c.STREAMING_PARSING_ERROR_FAILS, c.LOG_PREFIX_SYNC_STREAMING + 'Error parsing SSE error notification: %s'],\n    [c.STREAMING_PARSING_MESSAGE_FAILS, c.LOG_PREFIX_SYNC_STREAMING + 'Error parsing SSE message notification: %s'],\n    [c.STREAMING_FALLBACK, c.LOG_PREFIX_SYNC_STREAMING + 'Falling back to polling mode. Reason: %s'],\n    [c.SUBMITTERS_PUSH_FAILS, c.LOG_PREFIX_SYNC_SUBMITTERS + 'Dropping %s after retry. Reason: %s.'],\n    [c.SUBMITTERS_PUSH_RETRY, c.LOG_PREFIX_SYNC_SUBMITTERS + 'Failed to push %s, keeping data to retry on next iteration. Reason: %s.'],\n    // client status\n    [c.CLIENT_NOT_READY, '%s: the SDK is not ready, results may be incorrect. Make sure to wait for SDK readiness before using this method.'],\n    [c.CLIENT_NO_LISTENER, 'No listeners for SDK Readiness detected. Incorrect control treatments could have been logged if you called getTreatment/s while the SDK was not yet ready.'],\n    // input validation\n    [c.WARN_SETTING_NULL, '%s: Property \"%s\" is of invalid type. Setting value to null.'],\n    [c.WARN_TRIMMING_PROPERTIES, '%s: Event has more than 300 properties. Some of them will be trimmed when processed.'],\n    [c.WARN_CONVERTING, '%s: %s \"%s\" is not of type string, converting.'],\n    [c.WARN_TRIMMING, '%s: %s \"%s\" has extra whitespace, trimming.'],\n    [c.WARN_NOT_EXISTENT_SPLIT, '%s: split \"%s\" does not exist in this environment, please double check what splits exist in the Split web console.'],\n    [c.WARN_LOWERCASE_TRAFFIC_TYPE, '%s: traffic_type_name should be all lowercase - converting string to lowercase.'],\n    [c.WARN_NOT_EXISTENT_TT, '%s: traffic type \"%s\" does not have any corresponding split in this environment, make sure you\\'re tracking your events to a valid traffic type defined in the Split web console.'],\n    // initialization / settings validation\n    [c.WARN_INTEGRATION_INVALID, c.LOG_PREFIX_SETTINGS + ': %s integration item(s) at settings is invalid. %s'],\n    [c.WARN_SPLITS_FILTER_IGNORED, c.LOG_PREFIX_SETTINGS + ': split filters have been configured but will have no effect if mode is not \"%s\", since synchronization is being deferred to an external tool.'],\n    [c.WARN_SPLITS_FILTER_INVALID, c.LOG_PREFIX_SETTINGS + ': split filter at position %s is invalid. It must be an object with a valid filter type (\"byName\" or \"byPrefix\") and a list of \"values\".'],\n    [c.WARN_SPLITS_FILTER_EMPTY, c.LOG_PREFIX_SETTINGS + ': splitFilters configuration must be a non-empty array of filter objects.'],\n    [c.WARN_API_KEY, c.LOG_PREFIX_SETTINGS + ': You already have %s. We recommend keeping only one instance of the factory at all times (Singleton pattern) and reusing it throughout your application'],\n    [c.STREAMING_PARSING_MY_SEGMENTS_UPDATE_V2, c.LOG_PREFIX_SYNC_STREAMING + 'Fetching MySegments due to an error processing %s notification: %s'],\n]);\n","import * as c from '../constants';\nimport { codesWarn } from './warn';\nvar READY_MSG = 'Split SDK is ready';\nexport var codesInfo = codesWarn.concat([\n    // client status\n    [c.CLIENT_READY_FROM_CACHE, READY_MSG + ' from cache'],\n    [c.CLIENT_READY, READY_MSG],\n    // SDK\n    [c.IMPRESSION, c.LOG_PREFIX_IMPRESSIONS_TRACKER + 'Split: %s. Key: %s. Evaluation: %s. Label: %s'],\n    [c.IMPRESSION_QUEUEING, c.LOG_PREFIX_IMPRESSIONS_TRACKER + 'Queueing corresponding impression.'],\n    [c.NEW_SHARED_CLIENT, 'New shared client instance created.'],\n    [c.NEW_FACTORY, 'New Split SDK instance created.'],\n    [c.EVENTS_TRACKER_SUCCESS, c.LOG_PREFIX_EVENTS_TRACKER + 'Successfully queued %s'],\n    [c.IMPRESSIONS_TRACKER_SUCCESS, c.LOG_PREFIX_IMPRESSIONS_TRACKER + 'Successfully stored %s impression(s).'],\n    [c.USER_CONSENT_UPDATED, 'UserConsent: consent status changed from %s to %s.'],\n    [c.USER_CONSENT_NOT_UPDATED, 'UserConsent: call had no effect because it was the current consent status (%s).'],\n    [c.USER_CONSENT_INITIAL, 'Starting the SDK with %s user consent. No data will be sent.'],\n    // synchronizer\n    [c.POLLING_SMART_PAUSING, c.LOG_PREFIX_SYNC_POLLING + 'Turning segments data polling %s.'],\n    [c.POLLING_START, c.LOG_PREFIX_SYNC_POLLING + 'Starting polling'],\n    [c.POLLING_STOP, c.LOG_PREFIX_SYNC_POLLING + 'Stopping polling'],\n    [c.SYNC_SPLITS_FETCH_RETRY, c.LOG_PREFIX_SYNC_SPLITS + 'Retrying download of splits #%s. Reason: %s'],\n    [c.SUBMITTERS_PUSH_FULL_QUEUE, c.LOG_PREFIX_SYNC_SUBMITTERS + 'Flushing full %s queue and reseting timer.'],\n    [c.SUBMITTERS_PUSH, c.LOG_PREFIX_SYNC_SUBMITTERS + 'Pushing %s.'],\n    [c.STREAMING_REFRESH_TOKEN, c.LOG_PREFIX_SYNC_STREAMING + 'Refreshing streaming token in %s seconds, and connecting streaming in %s seconds.'],\n    [c.STREAMING_RECONNECT, c.LOG_PREFIX_SYNC_STREAMING + 'Attempting to reconnect streaming in %s seconds.'],\n    [c.STREAMING_CONNECTING, c.LOG_PREFIX_SYNC_STREAMING + 'Connecting streaming.'],\n    [c.STREAMING_DISABLED, c.LOG_PREFIX_SYNC_STREAMING + 'Streaming is disabled for given Api key. Switching to polling mode.'],\n    [c.STREAMING_DISCONNECTING, c.LOG_PREFIX_SYNC_STREAMING + 'Disconnecting streaming.'],\n    [c.SYNC_START_POLLING, c.LOG_PREFIX_SYNC_MANAGER + 'Streaming not available. Starting polling.'],\n    [c.SYNC_CONTINUE_POLLING, c.LOG_PREFIX_SYNC_MANAGER + 'Streaming couldn\\'t connect. Continue polling.'],\n    [c.SYNC_STOP_POLLING, c.LOG_PREFIX_SYNC_MANAGER + 'Streaming connected. Syncing and stopping polling.'],\n]);\n","import * as c from '../constants';\nimport { codesInfo } from './info';\nexport var codesDebug = codesInfo.concat([\n    // evaluator\n    [c.ENGINE_COMBINER_AND, c.LOG_PREFIX_ENGINE_COMBINER + '[andCombiner] evaluates to %s'],\n    [c.ENGINE_COMBINER_IFELSEIF, c.LOG_PREFIX_ENGINE_COMBINER + 'Treatment found: %s'],\n    [c.ENGINE_COMBINER_IFELSEIF_NO_TREATMENT, c.LOG_PREFIX_ENGINE_COMBINER + 'All predicates evaluated, no treatment found.'],\n    [c.ENGINE_BUCKET, c.LOG_PREFIX_ENGINE + ': using algo \"murmur\" bucket %s for key %s using seed %s - treatment %s'],\n    [c.ENGINE_MATCHER_ALL, c.LOG_PREFIX_ENGINE_MATCHER + '[allMatcher] is always true'],\n    [c.ENGINE_MATCHER_BETWEEN, c.LOG_PREFIX_ENGINE_MATCHER + '[betweenMatcher] is %s between %s and %s? %s'],\n    [c.ENGINE_MATCHER_BOOLEAN, c.LOG_PREFIX_ENGINE_MATCHER + '[booleanMatcher] %s === %s'],\n    [c.ENGINE_MATCHER_CONTAINS_ALL, c.LOG_PREFIX_ENGINE_MATCHER + '[containsAllMatcher] %s contains all elements of %s? %s'],\n    [c.ENGINE_MATCHER_CONTAINS_ANY, c.LOG_PREFIX_ENGINE_MATCHER + '[containsAnyMatcher] %s contains at least an element of %s? %s'],\n    [c.ENGINE_MATCHER_CONTAINS_STRING, c.LOG_PREFIX_ENGINE_MATCHER + '[containsStringMatcher] %s contains %s? %s'],\n    [c.ENGINE_MATCHER_DEPENDENCY, c.LOG_PREFIX_ENGINE_MATCHER + '[dependencyMatcher] parent split \"%s\" evaluated to \"%s\" with label \"%s\". %s evaluated treatment is part of [%s] ? %s.'],\n    [c.ENGINE_MATCHER_DEPENDENCY_PRE, c.LOG_PREFIX_ENGINE_MATCHER + '[dependencyMatcher] will evaluate parent split: \"%s\" with key: %s %s'],\n    [c.ENGINE_MATCHER_EQUAL, c.LOG_PREFIX_ENGINE_MATCHER + '[equalToMatcher] is %s equal to %s? %s'],\n    [c.ENGINE_MATCHER_EQUAL_TO_SET, c.LOG_PREFIX_ENGINE_MATCHER + '[equalToSetMatcher] is %s equal to set %s? %s'],\n    [c.ENGINE_MATCHER_ENDS_WITH, c.LOG_PREFIX_ENGINE_MATCHER + '[endsWithMatcher] %s ends with %s? %s'],\n    [c.ENGINE_MATCHER_GREATER, c.LOG_PREFIX_ENGINE_MATCHER + '[greaterThanEqualMatcher] is %s greater than %s? %s'],\n    [c.ENGINE_MATCHER_LESS, c.LOG_PREFIX_ENGINE_MATCHER + '[lessThanEqualMatcher] is %s less than %s? %s'],\n    [c.ENGINE_MATCHER_PART_OF, c.LOG_PREFIX_ENGINE_MATCHER + '[partOfMatcher] %s is part of %s? %s'],\n    [c.ENGINE_MATCHER_SEGMENT, c.LOG_PREFIX_ENGINE_MATCHER + '[segmentMatcher] evaluated %s / %s => %s'],\n    [c.ENGINE_MATCHER_STRING, c.LOG_PREFIX_ENGINE_MATCHER + '[stringMatcher] does %s matches with %s? %s'],\n    [c.ENGINE_MATCHER_STRING_INVALID, c.LOG_PREFIX_ENGINE_MATCHER + '[stringMatcher] %s is an invalid regex'],\n    [c.ENGINE_MATCHER_STARTS_WITH, c.LOG_PREFIX_ENGINE_MATCHER + '[startsWithMatcher] %s starts with %s? %s'],\n    [c.ENGINE_MATCHER_WHITELIST, c.LOG_PREFIX_ENGINE_MATCHER + '[whitelistMatcher] evaluated %s in [%s] => %s'],\n    [c.ENGINE_VALUE, c.LOG_PREFIX_ENGINE_VALUE + 'Extracted attribute [%s], [%s] will be used for matching.'],\n    [c.ENGINE_SANITIZE, c.LOG_PREFIX_ENGINE + ':sanitize: Attempted to sanitize [%s] which should be of type [%s]. Sanitized and processed value => [%s]'],\n    // SDK\n    [c.CLEANUP_REGISTERING, c.LOG_PREFIX_CLEANUP + 'Registering cleanup handler %s'],\n    [c.CLEANUP_DEREGISTERING, c.LOG_PREFIX_CLEANUP + 'Deregistering cleanup handler %s'],\n    [c.RETRIEVE_CLIENT_DEFAULT, 'Retrieving default SDK client.'],\n    [c.RETRIEVE_CLIENT_EXISTING, 'Retrieving existing SDK client.'],\n    [c.RETRIEVE_MANAGER, 'Retrieving manager instance.'],\n    // synchronizer\n    [c.SYNC_OFFLINE_DATA, c.LOG_PREFIX_SYNC_OFFLINE + 'Splits data: \\n%s'],\n    [c.SYNC_SPLITS_FETCH, c.LOG_PREFIX_SYNC_SPLITS + 'Spin up split update using since = %s'],\n    [c.SYNC_SPLITS_NEW, c.LOG_PREFIX_SYNC_SPLITS + 'New splits %s'],\n    [c.SYNC_SPLITS_REMOVED, c.LOG_PREFIX_SYNC_SPLITS + 'Removed splits %s'],\n    [c.SYNC_SPLITS_SEGMENTS, c.LOG_PREFIX_SYNC_SPLITS + 'Segment names collected %s'],\n    [c.STREAMING_NEW_MESSAGE, c.LOG_PREFIX_SYNC_STREAMING + 'New SSE message received, with data: %s.'],\n    [c.SYNC_TASK_START, c.LOG_PREFIX_SYNC + ': Starting %s. Running each %s millis'],\n    [c.SYNC_TASK_EXECUTE, c.LOG_PREFIX_SYNC + ': Running %s'],\n    [c.SYNC_TASK_STOP, c.LOG_PREFIX_SYNC + ': Stopping %s'],\n    // initialization / settings validation\n    [c.SETTINGS_SPLITS_FILTER, c.LOG_PREFIX_SETTINGS + ': splits filtering criteria is \"%s\".']\n]);\n","import { LogLevels, isLogLevelString } from '../../../logger';\n/**\n * Returns the LogLevel for the given debugValue or undefined if it is invalid,\n * i.e., if the debugValue is not a boolean or LogLevel string.\n *\n * @param debugValue debug value at config\n * @returns LogLevel of the given debugValue or undefined if the provided value is invalid\n */\nexport function getLogLevel(debugValue) {\n    if (typeof debugValue === 'boolean') {\n        if (debugValue) {\n            return LogLevels.DEBUG;\n        }\n        else {\n            return LogLevels.NONE;\n        }\n    }\n    else if (typeof debugValue === 'string' && isLogLevelString(debugValue)) {\n        return debugValue;\n    }\n    else {\n        return undefined;\n    }\n}\n","import { isLogLevelString, Logger, LogLevels } from '../../../logger';\nimport { isLocalStorageAvailable } from '../../env/isLocalStorageAvailable';\nimport { isNode } from '../../env/isNode';\nimport { codesDebug } from '../../../logger/messages/debug';\nimport { _Map } from '../../lang/maps';\nimport { getLogLevel } from './commons';\nvar allCodes = new _Map(codesDebug);\n// @TODO set default debug setting instead of initialLogLevel when integrating in JS and Node packages\nvar LS_KEY = 'splitio_debug';\nvar ENV_VAR_KEY = 'SPLITIO_DEBUG';\n/**\n * Logger initial debug level, that is disabled ('NONE') by default.\n * Acceptable values are: 'DEBUG', 'INFO', 'WARN', 'ERROR', 'NONE'.\n * Other acceptable values are 'on', 'enable' and 'enabled', which are equivalent to 'DEBUG'.\n * Any other string value is equivalent to disable.\n */\nvar initialState = String(\n// eslint-disable-next-line no-undef\nisNode ? process.env[ENV_VAR_KEY] : isLocalStorageAvailable() ? localStorage.getItem(LS_KEY) : '');\n// By default it starts disabled.\nvar initialLogLevel = LogLevels.NONE;\n// Kept to avoid a breaking change ('on', 'enable' and 'enabled' are equivalent)\nif (/^(enabled?|on)/i.test(initialState)) {\n    initialLogLevel = LogLevels.DEBUG;\n}\nelse if (isLogLevelString(initialState)) {\n    initialLogLevel = initialState;\n}\n/**\n * Validates the `debug` property at config and use it to set the log level.\n *\n * @param settings user config object, with an optional `debug` property of type boolean or string log level.\n * @returns a logger instance with the log level at `settings.debug`. If `settings.debug` is invalid or not provided, `initialLogLevel` is used.\n */\nexport function validateLogger(settings) {\n    var debug = settings.debug;\n    var logLevel = debug !== undefined ? getLogLevel(debug) : initialLogLevel;\n    var log = new Logger({ logLevel: logLevel || initialLogLevel }, allCodes);\n    // @ts-ignore // if logLevel is undefined at this point, it means that settings `debug` value is invalid\n    if (!logLevel)\n        log._log(LogLevels.ERROR, 'Invalid Log Level - No changes to the logs will be applied.');\n    return log;\n}\n","import { isString } from '../../../utils/lang';\nexport function parseCondition(data) {\n    var treatment = data.treatment;\n    if (data.keys) {\n        return {\n            conditionType: 'WHITELIST',\n            matcherGroup: {\n                combiner: 'AND',\n                matchers: [\n                    {\n                        keySelector: null,\n                        matcherType: 'WHITELIST',\n                        negate: false,\n                        whitelistMatcherData: {\n                            whitelist: isString(data.keys) ? [data.keys] : data.keys\n                        }\n                    }\n                ]\n            },\n            partitions: [\n                {\n                    treatment: treatment,\n                    size: 100\n                }\n            ],\n            label: \"whitelisted \" + treatment\n        };\n    }\n    else {\n        return {\n            conditionType: 'ROLLOUT',\n            matcherGroup: {\n                combiner: 'AND',\n                matchers: [\n                    {\n                        keySelector: null,\n                        matcherType: 'ALL_KEYS',\n                        negate: false\n                    }\n                ]\n            },\n            partitions: [\n                {\n                    treatment: treatment,\n                    size: 100\n                }\n            ],\n            label: 'default rule'\n        };\n    }\n}\n","import { isObject, forOwn } from '../../../utils/lang';\nimport { parseCondition } from './parseCondition';\nfunction hasTreatmentChanged(prev, curr) {\n    if (typeof prev !== typeof curr)\n        return true;\n    if (typeof prev === 'string') { // strings treatments, just compare\n        return prev !== curr;\n    }\n    else { // has treatment and config, compare both\n        return prev.treatment !== curr.treatment || prev.config !== curr.config;\n    }\n}\nexport function splitsParserFromSettingsFactory() {\n    var previousMock = { 'emptyMock': '1' };\n    function mockUpdated(currentData) {\n        var names = Object.keys(currentData);\n        // Different amount of items\n        if (names.length !== Object.keys(previousMock).length) {\n            previousMock = currentData;\n            return true;\n        }\n        return names.some(function (name) {\n            var newSplit = !previousMock[name];\n            var newTreatment = hasTreatmentChanged(previousMock[name], currentData[name]);\n            var changed = newSplit || newTreatment;\n            if (changed)\n                previousMock = currentData;\n            return changed;\n        });\n    }\n    /**\n     *\n     * @param settings validated object with mocked features mapping.\n     */\n    return function splitsParserFromSettings(settings) {\n        var features = settings.features || {};\n        if (!mockUpdated(features))\n            return false;\n        var splitObjects = {};\n        forOwn(features, function (data, splitName) {\n            var treatment = data;\n            var config = null;\n            if (isObject(data)) {\n                treatment = data.treatment;\n                config = data.config || config;\n            }\n            var configurations = {};\n            if (config !== null)\n                configurations[treatment] = config;\n            splitObjects[splitName] = {\n                trafficTypeName: 'localhost',\n                conditions: [parseCondition({ treatment: treatment })],\n                configurations: configurations\n            };\n        });\n        return splitObjects;\n    };\n}\n","import { forOwn } from '../../../utils/lang';\nimport { syncTaskFactory } from '../../syncTask';\nimport { CONTROL } from '../../../utils/constants';\nimport { SDK_SPLITS_ARRIVED, SDK_SEGMENTS_ARRIVED, SDK_SPLITS_CACHE_LOADED } from '../../../readiness/constants';\nimport { SYNC_OFFLINE_DATA, ERROR_SYNC_OFFLINE_LOADING } from '../../../logger/constants';\n/**\n * Offline equivalent of `splitChangesUpdaterFactory`\n */\nexport function fromObjectUpdaterFactory(splitsParser, storage, readiness, settings) {\n    var log = settings.log, splitsCache = storage.splits;\n    var startingUp = true;\n    return function objectUpdater() {\n        var splits = [];\n        var loadError = null;\n        var splitsMock = {};\n        try {\n            splitsMock = splitsParser(settings);\n        }\n        catch (err) {\n            loadError = err;\n            log.error(ERROR_SYNC_OFFLINE_LOADING, [err]);\n        }\n        if (!loadError && splitsMock) {\n            log.debug(SYNC_OFFLINE_DATA, [JSON.stringify(splitsMock)]);\n            forOwn(splitsMock, function (val, name) {\n                splits.push([\n                    name,\n                    JSON.stringify({\n                        name: name,\n                        status: 'ACTIVE',\n                        killed: false,\n                        trafficAllocation: 100,\n                        defaultTreatment: CONTROL,\n                        conditions: val.conditions || [],\n                        configurations: val.configurations,\n                        trafficTypeName: val.trafficTypeName\n                    })\n                ]);\n            });\n            return Promise.all([\n                splitsCache.clear(),\n                splitsCache.addSplits(splits)\n            ]).then(function () {\n                readiness.splits.emit(SDK_SPLITS_ARRIVED);\n                if (startingUp) {\n                    startingUp = false;\n                    Promise.resolve(splitsCache.checkCache()).then(function (cacheReady) {\n                        // Emits SDK_READY_FROM_CACHE\n                        if (cacheReady)\n                            readiness.splits.emit(SDK_SPLITS_CACHE_LOADED);\n                        // Emits SDK_READY\n                        readiness.segments.emit(SDK_SEGMENTS_ARRIVED);\n                    });\n                }\n                return true;\n            });\n        }\n        else {\n            return Promise.resolve(true);\n        }\n    };\n}\n/**\n * PollingManager in Offline mode\n */\nexport function fromObjectSyncTaskFactory(splitsParser, storage, readiness, settings) {\n    return syncTaskFactory(settings.log, fromObjectUpdaterFactory(splitsParser, storage, readiness, settings), settings.scheduler.offlineRefreshRate, 'offlineUpdater');\n}\n","import { fromObjectSyncTaskFactory } from './syncTasks/fromObjectSyncTask';\nimport { objectAssign } from '../../utils/lang/objectAssign';\nimport { SDK_SEGMENTS_ARRIVED } from '../../readiness/constants';\nfunction flush() {\n    return Promise.resolve();\n}\n/**\n * Offline SyncManager factory.\n * Can be used for server-side API, and client-side API with or without multiple clients.\n *\n * @param splitsParser e.g., `splitsParserFromFile`, `splitsParserFromSettings`.\n */\nexport function syncManagerOfflineFactory(splitsParserFactory) {\n    /**\n     * SyncManager factory for modular SDK\n     */\n    return function (_a) {\n        var settings = _a.settings, readiness = _a.readiness, storage = _a.storage;\n        return objectAssign(fromObjectSyncTaskFactory(splitsParserFactory(), storage, readiness, settings), {\n            // fake flush, that resolves immediately\n            flush: flush,\n            // [Only used for client-side]\n            shared: function (matchingKey, readinessManager) {\n                return {\n                    start: function () {\n                        // In LOCALHOST mode, shared clients are ready in the next event-loop cycle than created\n                        // SDK_READY cannot be emitted directly because this will not update the readiness status\n                        setTimeout(function () {\n                            readinessManager.segments.emit(SDK_SEGMENTS_ARRIVED); // SDK_SPLITS_ARRIVED emitted by main SyncManager\n                        }, 0);\n                    },\n                    stop: function () { },\n                    isRunning: function () {\n                        return true;\n                    },\n                    flush: flush,\n                };\n            }\n        });\n    };\n}\n","import { splitsParserFromSettingsFactory } from './splitsParser/splitsParserFromSettings';\nimport { syncManagerOfflineFactory } from './syncManagerOffline';\n// Singleton instance of the factory function for offline SyncManager from object (a.k.a. localhostFromObject)\n// SDK instances instantiate their SyncManagers with the same factory\nvar localhostFromObject = syncManagerOfflineFactory(splitsParserFromSettingsFactory);\nlocalhostFromObject.type = 'LocalhostFromObject';\nexport function LocalhostFromObject() {\n    return localhostFromObject;\n}\n","import { ERROR_INVALID_CONFIG_PARAM } from '../../logger/constants';\nimport { CONSENT_DECLINED, CONSENT_GRANTED, CONSENT_UNKNOWN } from '../constants';\nimport { stringToUpperCase } from '../lang';\nvar userConsentValues = [CONSENT_DECLINED, CONSENT_GRANTED, CONSENT_UNKNOWN];\nexport function validateConsent(_a) {\n    var userConsent = _a.userConsent, log = _a.log;\n    userConsent = stringToUpperCase(userConsent);\n    if (userConsentValues.indexOf(userConsent) > -1)\n        return userConsent;\n    log.error(ERROR_INVALID_CONFIG_PARAM, ['userConsent', userConsentValues, CONSENT_GRANTED]);\n    return CONSENT_GRANTED;\n}\n","export var packageVersion = '10.21.1';\n","import { packageVersion } from './version';\nimport { CONSENT_GRANTED } from '@splitsoftware/splitio-commons/esm/utils/constants';\nexport var defaults = {\n    startup: {\n        // Stress the request time used while starting up the SDK.\n        requestTimeoutBeforeReady: 5,\n        // How many quick retries we will do while starting up the SDK.\n        retriesOnFailureBeforeReady: 1,\n        // Maximum amount of time used before notifies me a timeout.\n        readyTimeout: 10,\n        // Amount of time we will wait before the first push of events.\n        eventsFirstPushWindow: 10\n    },\n    // Consent is considered granted by default\n    userConsent: CONSENT_GRANTED,\n    // Instance version.\n    version: \"javascript-\" + packageVersion,\n};\n","import { isLocalStorageAvailable } from '@splitsoftware/splitio-commons/esm/utils/env/isLocalStorageAvailable';\nimport { LOCALHOST_MODE, STORAGE_MEMORY } from '@splitsoftware/splitio-commons/esm/utils/constants';\nvar STORAGE_LOCALSTORAGE = 'LOCALSTORAGE';\nexport function validateStorage(settings) {\n    var log = settings.log, mode = settings.mode, _a = settings.storage, _b = _a === void 0 ? { type: STORAGE_MEMORY } : _a, type = _b.type, _c = _b.options, options = _c === void 0 ? {} : _c, prefix = _b.prefix;\n    var __originalType;\n    var fallbackToMemory = function () {\n        __originalType = type;\n        type = STORAGE_MEMORY;\n    };\n    // In localhost mode, fallback to Memory storage and track original type to emit SDK_READY_FROM_CACHE if corresponds.\n    // ATM, other mode settings (e.g., 'consumer') are ignored in client-side API, and so treated as standalone.\n    if (mode === LOCALHOST_MODE && type === STORAGE_LOCALSTORAGE) {\n        fallbackToMemory();\n    }\n    // If an invalid storage type is provided OR we want to use LOCALSTORAGE and\n    // it's not available, fallback into MEMORY\n    if (type !== STORAGE_MEMORY && type !== STORAGE_LOCALSTORAGE ||\n        type === STORAGE_LOCALSTORAGE && !isLocalStorageAvailable()) {\n        fallbackToMemory();\n        log.error('Invalid or unavailable storage. Fallbacking into MEMORY storage');\n    }\n    return {\n        type: type,\n        options: options,\n        prefix: prefix,\n        __originalType: __originalType\n    };\n}\n","import { WARN_INTEGRATION_INVALID } from '../../../logger/constants';\n/**\n * This function validates `settings.integrations` object\n *\n * @param {any} settings config object provided by the user to initialize the sdk\n * @param {function} integrationValidator filter used to remove invalid integration items\n * @param {string} extraWarning optional string used to better describe why an item might be invalid\n *\n * @returns {Array} array of valid integration items. The array might be empty if `settings` object does not have valid integrations.\n */\nexport function validateIntegrations(settings, integrationValidator, extraWarning) {\n    var integrations = settings.integrations, log = settings.log;\n    // If integrations is not an array or an empty array, we return an empty array (no integrations).\n    if (!Array.isArray(integrations) || integrations.length === 0)\n        return [];\n    // We remove invalid integration items\n    var validIntegrations = integrations.filter(integrationValidator);\n    // Log a warning if at least one item is invalid\n    var invalids = integrations.length - validIntegrations.length;\n    if (invalids)\n        log.warn(WARN_INTEGRATION_INVALID, [invalids, extraWarning || '']);\n    return validIntegrations;\n}\n","import { validateIntegrations } from './common';\nimport { isString } from '../../lang';\n/**\n * This function validates `settings.integrations` object that consists of a list of configuration items, used by the isomorphic JS SDK.\n *\n * @param {any} settings config object provided by the user to initialize the sdk\n * @param {Array<string>} validIntegrationTypes list of integration types to filter from `settings.integrations`\n *\n * @returns {Array} array of valid integration items. The array might be empty if `settings` object does not have valid integrations.\n */\nexport function validateConfigurableIntegrations(settings, validIntegrationTypes) {\n    if (validIntegrationTypes === void 0) { validIntegrationTypes = []; }\n    return validateIntegrations(settings, function (integration) { return integration && isString(integration.type) && validIntegrationTypes.indexOf(integration.type) > -1; }, 'Integration items must have a valid \"type\" value');\n}\n","import { GOOGLE_ANALYTICS_TO_SPLIT, SPLIT_TO_GOOGLE_ANALYTICS } from '@splitsoftware/splitio-commons/esm/utils/constants/browser';\nimport { validateConfigurableIntegrations } from '@splitsoftware/splitio-commons/esm/utils/settingsValidation/integrations/configurable';\nexport function validateIntegrations(settings) {\n    return validateConfigurableIntegrations(settings, [GOOGLE_ANALYTICS_TO_SPLIT, SPLIT_TO_GOOGLE_ANALYTICS]);\n}\n","import { settingsValidation } from '@splitsoftware/splitio-commons/esm/utils/settingsValidation';\nimport { validateRuntime } from '@splitsoftware/splitio-commons/esm/utils/settingsValidation/runtime';\nimport { validateLogger } from '@splitsoftware/splitio-commons/esm/utils/settingsValidation/logger/builtinLogger';\nimport { LocalhostFromObject } from '@splitsoftware/splitio-commons/esm/sync/offline/LocalhostFromObject';\nimport { validateConsent } from '@splitsoftware/splitio-commons/esm/utils/settingsValidation/consent';\nimport { defaults } from './defaults/browser';\nimport { validateStorage } from './storage/browser';\nimport { validateIntegrations } from './integrations/browser';\nvar params = {\n    defaults: defaults,\n    acceptKey: true, acceptTT: true,\n    runtime: validateRuntime,\n    storage: validateStorage,\n    integrations: validateIntegrations,\n    logger: validateLogger,\n    localhost: function () { return LocalhostFromObject(); },\n    consent: validateConsent,\n};\nexport function settingsFactory(config) {\n    return settingsValidation(config, params);\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// Adaptation of \"events\" library (https://www.npmjs.com/package/events)\n// exported as an ES module instead of CommonJS, to avoid extra configuration steps when using\n// the ESM build of the SDK with tools that doesn't support CommonJS by default (e.g. Rollup).\nvar R = typeof Reflect === 'object' ? Reflect : null;\nvar ReflectApply = R && typeof R.apply === 'function'\n    ? R.apply\n    : function ReflectApply(target, receiver, args) {\n        return Function.prototype.apply.call(target, receiver, args);\n    };\nvar ReflectOwnKeys;\nif (R && typeof R.ownKeys === 'function') {\n    ReflectOwnKeys = R.ownKeys;\n}\nelse if (Object.getOwnPropertySymbols) {\n    ReflectOwnKeys = function ReflectOwnKeys(target) {\n        return Object.getOwnPropertyNames(target)\n            .concat(Object.getOwnPropertySymbols(target));\n    };\n}\nelse {\n    ReflectOwnKeys = function ReflectOwnKeys(target) {\n        return Object.getOwnPropertyNames(target);\n    };\n}\nfunction ProcessEmitWarning(warning) {\n    if (console && console.warn)\n        console.warn(warning);\n}\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n    return value !== value;\n};\nexport function EventEmitter() {\n    EventEmitter.init.call(this);\n}\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\nfunction checkListener(listener) {\n    if (typeof listener !== 'function') {\n        throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n    }\n}\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n    enumerable: true,\n    get: function () {\n        return defaultMaxListeners;\n    },\n    set: function (arg) {\n        if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n            throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n        }\n        defaultMaxListeners = arg;\n    }\n});\nEventEmitter.init = function () {\n    if (this._events === undefined ||\n        this._events === Object.getPrototypeOf(this)._events) {\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n    }\n    this._maxListeners = this._maxListeners || undefined;\n};\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n    if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n        throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n    }\n    this._maxListeners = n;\n    return this;\n};\nfunction _getMaxListeners(that) {\n    if (that._maxListeners === undefined)\n        return EventEmitter.defaultMaxListeners;\n    return that._maxListeners;\n}\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n    return _getMaxListeners(this);\n};\nEventEmitter.prototype.emit = function emit(type) {\n    var args = [];\n    for (var i = 1; i < arguments.length; i++)\n        args.push(arguments[i]);\n    var doError = (type === 'error');\n    var events = this._events;\n    if (events !== undefined)\n        doError = (doError && events.error === undefined);\n    else if (!doError)\n        return false;\n    // If there is no 'error' event listener then throw.\n    if (doError) {\n        var er;\n        if (args.length > 0)\n            er = args[0];\n        if (er instanceof Error) {\n            // Note: The comments on the `throw` lines are intentional, they show\n            // up in Node's output if this results in an unhandled exception.\n            throw er; // Unhandled 'error' event\n        }\n        // At least give some kind of context to the user\n        var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n        err.context = er;\n        throw err; // Unhandled 'error' event\n    }\n    var handler = events[type];\n    if (handler === undefined)\n        return false;\n    if (typeof handler === 'function') {\n        ReflectApply(handler, this, args);\n    }\n    else {\n        var len = handler.length;\n        var listeners = arrayClone(handler, len); // eslint-disable-next-line no-redeclare\n        for (var i = 0; i < len; ++i)\n            ReflectApply(listeners[i], this, args);\n    }\n    return true;\n};\nfunction _addListener(target, type, listener, prepend) {\n    var m;\n    var events;\n    var existing;\n    checkListener(listener);\n    events = target._events;\n    if (events === undefined) {\n        events = target._events = Object.create(null);\n        target._eventsCount = 0;\n    }\n    else {\n        // To avoid recursion in the case that type === \"newListener\"! Before\n        // adding it to the listeners, first emit \"newListener\".\n        if (events.newListener !== undefined) {\n            target.emit('newListener', type, listener.listener ? listener.listener : listener);\n            // Re-assign `events` because a newListener handler could have caused the\n            // this._events to be assigned to a new object\n            events = target._events;\n        }\n        existing = events[type];\n    }\n    if (existing === undefined) {\n        // Optimize the case of one listener. Don't need the extra array object.\n        existing = events[type] = listener;\n        ++target._eventsCount;\n    }\n    else {\n        if (typeof existing === 'function') {\n            // Adding the second element, need to change to array.\n            existing = events[type] =\n                prepend ? [listener, existing] : [existing, listener];\n            // If we've already got an array, just append.\n        }\n        else if (prepend) {\n            existing.unshift(listener);\n        }\n        else {\n            existing.push(listener);\n        }\n        // Check for listener leak\n        m = _getMaxListeners(target);\n        if (m > 0 && existing.length > m && !existing.warned) {\n            existing.warned = true;\n            // No error code for this since it is a Warning\n            // eslint-disable-next-line no-restricted-syntax\n            var w = new Error('Possible EventEmitter memory leak detected. ' +\n                existing.length + ' ' + String(type) + ' listeners ' +\n                'added. Use emitter.setMaxListeners() to ' +\n                'increase limit');\n            w.name = 'MaxListenersExceededWarning';\n            w.emitter = target;\n            w.type = type;\n            w.count = existing.length;\n            ProcessEmitWarning(w);\n        }\n    }\n    return target;\n}\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n    return _addListener(this, type, listener, false);\n};\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n        return _addListener(this, type, listener, true);\n    };\nfunction onceWrapper() {\n    if (!this.fired) {\n        this.target.removeListener(this.type, this.wrapFn);\n        this.fired = true;\n        if (arguments.length === 0)\n            return this.listener.call(this.target);\n        return this.listener.apply(this.target, arguments);\n    }\n}\nfunction _onceWrap(target, type, listener) {\n    var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n    var wrapped = onceWrapper.bind(state);\n    wrapped.listener = listener;\n    state.wrapFn = wrapped;\n    return wrapped;\n}\nEventEmitter.prototype.once = function once(type, listener) {\n    checkListener(listener);\n    this.on(type, _onceWrap(this, type, listener));\n    return this;\n};\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n        checkListener(listener);\n        this.prependListener(type, _onceWrap(this, type, listener));\n        return this;\n    };\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n        var list, events, position, i, originalListener;\n        checkListener(listener);\n        events = this._events;\n        if (events === undefined)\n            return this;\n        list = events[type];\n        if (list === undefined)\n            return this;\n        if (list === listener || list.listener === listener) {\n            if (--this._eventsCount === 0)\n                this._events = Object.create(null);\n            else {\n                delete events[type];\n                if (events.removeListener)\n                    this.emit('removeListener', type, list.listener || listener);\n            }\n        }\n        else if (typeof list !== 'function') {\n            position = -1;\n            for (i = list.length - 1; i >= 0; i--) {\n                if (list[i] === listener || list[i].listener === listener) {\n                    originalListener = list[i].listener;\n                    position = i;\n                    break;\n                }\n            }\n            if (position < 0)\n                return this;\n            if (position === 0)\n                list.shift();\n            else {\n                spliceOne(list, position);\n            }\n            if (list.length === 1)\n                events[type] = list[0];\n            if (events.removeListener !== undefined)\n                this.emit('removeListener', type, originalListener || listener);\n        }\n        return this;\n    };\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n        var listeners, events, i;\n        events = this._events;\n        if (events === undefined)\n            return this;\n        // not listening for removeListener, no need to emit\n        if (events.removeListener === undefined) {\n            if (arguments.length === 0) {\n                this._events = Object.create(null);\n                this._eventsCount = 0;\n            }\n            else if (events[type] !== undefined) {\n                if (--this._eventsCount === 0)\n                    this._events = Object.create(null);\n                else\n                    delete events[type];\n            }\n            return this;\n        }\n        // emit removeListener for all listeners on all events\n        if (arguments.length === 0) {\n            var keys = Object.keys(events);\n            var key;\n            for (i = 0; i < keys.length; ++i) {\n                key = keys[i];\n                if (key === 'removeListener')\n                    continue;\n                this.removeAllListeners(key);\n            }\n            this.removeAllListeners('removeListener');\n            this._events = Object.create(null);\n            this._eventsCount = 0;\n            return this;\n        }\n        listeners = events[type];\n        if (typeof listeners === 'function') {\n            this.removeListener(type, listeners);\n        }\n        else if (listeners !== undefined) {\n            // LIFO order\n            for (i = listeners.length - 1; i >= 0; i--) {\n                this.removeListener(type, listeners[i]);\n            }\n        }\n        return this;\n    };\nfunction _listeners(target, type, unwrap) {\n    var events = target._events;\n    if (events === undefined)\n        return [];\n    var evlistener = events[type];\n    if (evlistener === undefined)\n        return [];\n    if (typeof evlistener === 'function')\n        return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n    return unwrap ?\n        unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\nEventEmitter.prototype.listeners = function listeners(type) {\n    return _listeners(this, type, true);\n};\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n    return _listeners(this, type, false);\n};\nEventEmitter.listenerCount = function (emitter, type) {\n    if (typeof emitter.listenerCount === 'function') {\n        return emitter.listenerCount(type);\n    }\n    else {\n        return listenerCount.call(emitter, type);\n    }\n};\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n    var events = this._events;\n    if (events !== undefined) {\n        var evlistener = events[type];\n        if (typeof evlistener === 'function') {\n            return 1;\n        }\n        else if (evlistener !== undefined) {\n            return evlistener.length;\n        }\n    }\n    return 0;\n}\nEventEmitter.prototype.eventNames = function eventNames() {\n    return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\nfunction arrayClone(arr, n) {\n    var copy = new Array(n);\n    for (var i = 0; i < n; ++i)\n        copy[i] = arr[i];\n    return copy;\n}\nfunction spliceOne(list, index) {\n    for (; index + 1 < list.length; index++)\n        list[index] = list[index + 1];\n    list.pop();\n}\nfunction unwrapListeners(arr) {\n    var ret = new Array(arr.length);\n    for (var i = 0; i < ret.length; ++i) {\n        ret[i] = arr[i].listener || arr[i];\n    }\n    return ret;\n}\n","export default function(e,n){return n=n||{},new Promise(function(t,r){var s=new XMLHttpRequest,o=[],u=[],i={},a=function(){return{ok:2==(s.status/100|0),statusText:s.statusText,status:s.status,url:s.responseURL,text:function(){return Promise.resolve(s.responseText)},json:function(){return Promise.resolve(s.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([s.response]))},clone:a,headers:{keys:function(){return o},entries:function(){return u},get:function(e){return i[e.toLowerCase()]},has:function(e){return e.toLowerCase()in i}}}};for(var l in s.open(n.method||\"get\",e,!0),s.onload=function(){s.getAllResponseHeaders().replace(/^(.*?):[^\\S\\n]*([\\s\\S]*?)$/gm,function(e,n,t){o.push(n=n.toLowerCase()),u.push([n,t]),i[n]=i[n]?i[n]+\",\"+t:t}),t(a())},s.onerror=r,s.withCredentials=\"include\"==n.credentials,n.headers)s.setRequestHeader(l,n.headers[l]);s.send(n.body||null)})}\n//# sourceMappingURL=unfetch.module.js.map\n","import unfetch from 'unfetch';\nexport function getFetch() {\n    return typeof fetch === 'function' ? fetch : unfetch;\n}\n","export function getEventSource() {\n    return typeof EventSource === 'function' ? EventSource : undefined;\n}\n","import { fromImpressionsCollector } from '../sync/submitters/impressionsSubmitter';\nimport { fromImpressionCountsCollector } from '../sync/submitters/impressionCountsSubmitter';\nimport { OPTIMIZED, DEBUG } from '../utils/constants';\nimport { objectAssign } from '../utils/lang/objectAssign';\nimport { CLEANUP_REGISTERING, CLEANUP_DEREGISTERING } from '../logger/constants';\nimport { isConsentGranted } from '../consent';\nimport { telemetryCacheStatsAdapter } from '../sync/submitters/telemetrySubmitter';\nvar VISIBILITYCHANGE_EVENT = 'visibilitychange';\nvar PAGEHIDE_EVENT = 'pagehide';\nvar UNLOAD_EVENT = 'unload';\nvar EVENT_NAME = 'for unload page event.';\n/**\n * We'll listen for events over the window object.\n */\nvar BrowserSignalListener = /** @class */ (function () {\n    function BrowserSignalListener(syncManager, settings, storage, serviceApi) {\n        this.syncManager = syncManager;\n        this.settings = settings;\n        this.storage = storage;\n        this.serviceApi = serviceApi;\n        this.flushData = this.flushData.bind(this);\n        this.flushDataIfHidden = this.flushDataIfHidden.bind(this);\n        this.stopSync = this.stopSync.bind(this);\n        this.fromImpressionsCollector = fromImpressionsCollector.bind(undefined, settings.core.labelsEnabled);\n    }\n    /**\n     * start method.\n     * Called when SplitFactory is initialized, it adds event listeners to close streaming and flush impressions and events.\n     */\n    BrowserSignalListener.prototype.start = function () {\n        this.settings.log.debug(CLEANUP_REGISTERING, [EVENT_NAME]);\n        if (typeof document !== 'undefined' && document.addEventListener) {\n            // Flush data whenever the page is hidden or unloaded.\n            document.addEventListener(VISIBILITYCHANGE_EVENT, this.flushDataIfHidden);\n        }\n        if (typeof window !== 'undefined' && window.addEventListener) {\n            // Some browsers like Safari does not fire the `visibilitychange` event when the page is being unloaded. So we also flush data in the `pagehide` event.\n            // If both events are triggered, the last one will find the storage empty, so no duplicated data will be submitted.\n            window.addEventListener(PAGEHIDE_EVENT, this.flushData);\n            // Stop streaming on 'unload' event. Used instead of 'beforeunload', because 'unload' is not a cancelable event, so no other listeners can stop the event from occurring.\n            window.addEventListener(UNLOAD_EVENT, this.stopSync);\n        }\n    };\n    /**\n     * stop method.\n     * Called when client is destroyed, it removes event listeners.\n     */\n    BrowserSignalListener.prototype.stop = function () {\n        this.settings.log.debug(CLEANUP_DEREGISTERING, [EVENT_NAME]);\n        if (typeof document !== 'undefined' && document.removeEventListener) {\n            document.removeEventListener(VISIBILITYCHANGE_EVENT, this.flushDataIfHidden);\n        }\n        if (typeof window !== 'undefined' && window.removeEventListener) {\n            window.removeEventListener(PAGEHIDE_EVENT, this.flushData);\n            window.removeEventListener(UNLOAD_EVENT, this.stopSync);\n        }\n    };\n    BrowserSignalListener.prototype.stopSync = function () {\n        // Close streaming connection\n        if (this.syncManager && this.syncManager.pushManager)\n            this.syncManager.pushManager.stop();\n    };\n    /**\n     * flushData method.\n     * Called when pagehide event is triggered. It flushed remaining impressions and events to the backend,\n     * using beacon API if possible, or falling back to regular post transport.\n     */\n    BrowserSignalListener.prototype.flushData = function () {\n        if (!this.syncManager)\n            return; // In consumer mode there is not sync manager and data to flush\n        // Flush impressions & events data if there is user consent\n        if (isConsentGranted(this.settings)) {\n            var eventsUrl = this.settings.urls.events;\n            var extraMetadata = {\n                // sim stands for Sync/Split Impressions Mode\n                sim: this.settings.sync.impressionsMode === OPTIMIZED ? OPTIMIZED : DEBUG\n            };\n            this._flushData(eventsUrl + '/testImpressions/beacon', this.storage.impressions, this.serviceApi.postTestImpressionsBulk, this.fromImpressionsCollector, extraMetadata);\n            this._flushData(eventsUrl + '/events/beacon', this.storage.events, this.serviceApi.postEventsBulk);\n            if (this.storage.impressionCounts)\n                this._flushData(eventsUrl + '/testImpressions/count/beacon', this.storage.impressionCounts, this.serviceApi.postTestImpressionsCount, fromImpressionCountsCollector);\n        }\n        // Flush telemetry data\n        if (this.storage.telemetry) {\n            var telemetryUrl = this.settings.urls.telemetry;\n            var telemetryCacheAdapter = telemetryCacheStatsAdapter(this.storage.telemetry, this.storage.splits, this.storage.segments);\n            this._flushData(telemetryUrl + '/v1/metrics/usage/beacon', telemetryCacheAdapter, this.serviceApi.postMetricsUsage);\n        }\n    };\n    BrowserSignalListener.prototype.flushDataIfHidden = function () {\n        // Precondition: document defined\n        if (document.visibilityState === 'hidden')\n            this.flushData(); // On a 'visibilitychange' event, flush data if state is hidden\n    };\n    BrowserSignalListener.prototype._flushData = function (url, cache, postService, fromCacheToPayload, extraMetadata) {\n        // if there is data in cache, send it to backend\n        if (!cache.isEmpty()) {\n            var dataPayload = fromCacheToPayload ? fromCacheToPayload(cache.pop()) : cache.pop();\n            if (!this._sendBeacon(url, dataPayload, extraMetadata)) {\n                postService(JSON.stringify(dataPayload)).catch(function () { }); // no-op just to catch a possible exception\n            }\n            cache.clear();\n        }\n    };\n    /**\n     * _sendBeacon method.\n     * Util method that check if beacon API is available, build the payload and send it.\n     */\n    BrowserSignalListener.prototype._sendBeacon = function (url, data, extraMetadata) {\n        // eslint-disable-next-line compat/compat\n        if (typeof navigator !== 'undefined' && navigator.sendBeacon) {\n            var json = {\n                entries: data,\n                token: this.settings.core.authorizationKey,\n                sdk: this.settings.version\n            };\n            // Extend with endpoint specific metadata where needed\n            if (extraMetadata)\n                objectAssign(json, extraMetadata);\n            // Stringify the payload\n            var payload = JSON.stringify(json);\n            // eslint-disable-next-line compat/compat\n            return navigator.sendBeacon(url, payload);\n        }\n        return false;\n    };\n    return BrowserSignalListener;\n}());\nexport { BrowserSignalListener };\n","// Can be used on any runtime, since it fallbacks to `Date.now` if `performance.now` is not available\nfunction nowFactory() {\n    // eslint-disable-next-line\n    if (typeof performance === 'object' && typeof performance.now === 'function') {\n        // eslint-disable-next-line\n        return performance.now.bind(performance);\n    }\n    else {\n        return Date.now;\n    }\n}\nexport var now = nowFactory();\n","import { EventEmitter } from './EventEmitter';\nimport { getFetch } from '../platform/getFetch/browser';\nimport { getEventSource } from '../platform/getEventSource/browser';\nimport { BrowserSignalListener } from '@splitsoftware/splitio-commons/esm/listeners/browser';\nimport { now } from '@splitsoftware/splitio-commons/esm/utils/timeTracker/now/browser';\nexport var platform = {\n    getFetch: getFetch,\n    getEventSource: getEventSource,\n    EventEmitter: EventEmitter,\n    now: now\n};\nexport var SignalListener = BrowserSignalListener;\n","import { splitApiFactory } from '@splitsoftware/splitio-commons/esm/services/splitApi';\nimport { syncManagerOnlineFactory } from '@splitsoftware/splitio-commons/esm/sync/syncManagerOnline';\nimport { pushManagerFactory } from '@splitsoftware/splitio-commons/esm/sync/streaming/pushManager';\nimport { pollingManagerCSFactory } from '@splitsoftware/splitio-commons/esm/sync/polling/pollingManagerCS';\nimport { InLocalStorage } from '@splitsoftware/splitio-commons/esm/storages/inLocalStorage';\nimport { InMemoryStorageCSFactory } from '@splitsoftware/splitio-commons/esm/storages/inMemory/InMemoryStorageCS';\nimport { sdkManagerFactory } from '@splitsoftware/splitio-commons/esm/sdkManager';\nimport { sdkClientMethodCSFactory } from '@splitsoftware/splitio-commons/esm/sdkClient/sdkClientMethodCSWithTT';\nimport { impressionObserverCSFactory } from '@splitsoftware/splitio-commons/esm/trackers/impressionObserver/impressionObserverCS';\nimport { integrationsManagerFactory } from '@splitsoftware/splitio-commons/esm/integrations/browser';\nimport { __InLocalStorageMockFactory } from '@splitsoftware/splitio-commons/esm/utils/settingsValidation/storage/storageCS';\nimport { sdkFactory } from '@splitsoftware/splitio-commons/esm/sdkFactory';\nimport { LOCALHOST_MODE, STORAGE_LOCALSTORAGE } from '@splitsoftware/splitio-commons/esm/utils/constants';\nimport { shouldAddPt } from '@splitsoftware/splitio-commons/esm/trackers/impressionObserver/utils';\nimport { createUserConsentAPI } from '@splitsoftware/splitio-commons/esm/consent/sdkUserConsent';\nimport { settingsFactory } from '../settings/browser';\nimport { platform, SignalListener } from '../platform';\nvar syncManagerOnlineCSFactory = syncManagerOnlineFactory(pollingManagerCSFactory, pushManagerFactory);\nfunction getStorage(settings) {\n    return settings.storage.type === STORAGE_LOCALSTORAGE ?\n        InLocalStorage(settings.storage)\n        : settings.storage.__originalType === STORAGE_LOCALSTORAGE ?\n            __InLocalStorageMockFactory\n            : InMemoryStorageCSFactory;\n}\n/**\n *\n * @param {import(\"@splitsoftware/splitio-commons/types/types\").ISettings} settings\n */\nfunction getModules(settings) {\n    var modules = {\n        settings: settings,\n        platform: platform,\n        storageFactory: getStorage(settings),\n        splitApiFactory: splitApiFactory,\n        syncManagerFactory: syncManagerOnlineCSFactory,\n        sdkManagerFactory: sdkManagerFactory,\n        sdkClientMethodFactory: sdkClientMethodCSFactory,\n        SignalListener: SignalListener,\n        integrationsManagerFactory: settings.integrations && settings.integrations.length > 0 ? integrationsManagerFactory.bind(null, settings.integrations) : undefined,\n        impressionsObserverFactory: shouldAddPt(settings) ? impressionObserverCSFactory : undefined,\n        extraProps: function (params) {\n            return {\n                UserConsent: createUserConsentAPI(params)\n            };\n        }\n    };\n    switch (settings.mode) {\n        case LOCALHOST_MODE:\n            modules.splitApiFactory = undefined;\n            modules.syncManagerFactory = settings.sync.localhostMode;\n            modules.SignalListener = undefined;\n            break;\n    }\n    return modules;\n}\n/**\n * SplitFactory for client-side.\n *\n * @param {SplitIO.IBrowserSettings} config configuration object used to instantiate the SDK\n * @param {Function=} __updateModules optional function that lets redefine internal SDK modules. Use with\n * caution since, unlike `config`, this param is not validated neither considered part of the public API.\n * @throws Will throw an error if the provided config is invalid.\n */\nexport function SplitFactory(config, __updateModules) {\n    var settings = settingsFactory(config);\n    var modules = getModules(settings);\n    if (__updateModules)\n        __updateModules(modules);\n    return sdkFactory(modules);\n}\n","/* eslint-disable es-x/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  && !Symbol.sham\n  && typeof Symbol.iterator == 'symbol';\n","var call = require('../internals/function-call');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\n\nvar $TypeError = TypeError;\n\n// `OrdinaryToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-ordinarytoprimitive\nmodule.exports = function (input, pref) {\n  var fn, val;\n  if (pref === 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  if (isCallable(fn = input.valueOf) && !isObject(val = call(fn, input))) return val;\n  if (pref !== 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  throw $TypeError(\"Can't convert object to primitive value\");\n};\n","import { __assign, __extends } from \"tslib\";\nimport { invariant } from \"../utilities/globals/index.js\";\nimport { equal } from '@wry/equality';\nimport { NetworkStatus, isNetworkRequestInFlight } from \"./networkStatus.js\";\nimport { cloneDeep, compact, getOperationDefinition, Observable, iterateObserversSafely, isNonEmptyArray, fixObservableSubclass, getQueryDefinition, } from \"../utilities/index.js\";\nvar assign = Object.assign, hasOwnProperty = Object.hasOwnProperty;\nvar ObservableQuery = (function (_super) {\n    __extends(ObservableQuery, _super);\n    function ObservableQuery(_a) {\n        var queryManager = _a.queryManager, queryInfo = _a.queryInfo, options = _a.options;\n        var _this = _super.call(this, function (observer) {\n            try {\n                var subObserver = observer._subscription._observer;\n                if (subObserver && !subObserver.error) {\n                    subObserver.error = defaultSubscriptionObserverErrorCallback;\n                }\n            }\n            catch (_a) { }\n            var first = !_this.observers.size;\n            _this.observers.add(observer);\n            var last = _this.last;\n            if (last && last.error) {\n                observer.error && observer.error(last.error);\n            }\n            else if (last && last.result) {\n                observer.next && observer.next(last.result);\n            }\n            if (first) {\n                _this.reobserve().catch(function () { });\n            }\n            return function () {\n                if (_this.observers.delete(observer) && !_this.observers.size) {\n                    _this.tearDownQuery();\n                }\n            };\n        }) || this;\n        _this.observers = new Set();\n        _this.subscriptions = new Set();\n        _this.queryInfo = queryInfo;\n        _this.queryManager = queryManager;\n        _this.isTornDown = false;\n        var _b = queryManager.defaultOptions.watchQuery, _c = _b === void 0 ? {} : _b, _d = _c.fetchPolicy, defaultFetchPolicy = _d === void 0 ? \"cache-first\" : _d;\n        var _e = options.fetchPolicy, fetchPolicy = _e === void 0 ? defaultFetchPolicy : _e, _f = options.initialFetchPolicy, initialFetchPolicy = _f === void 0 ? (fetchPolicy === \"standby\" ? defaultFetchPolicy : fetchPolicy) : _f;\n        _this.options = __assign(__assign({}, options), { initialFetchPolicy: initialFetchPolicy, fetchPolicy: fetchPolicy });\n        _this.queryId = queryInfo.queryId || queryManager.generateQueryId();\n        var opDef = getOperationDefinition(_this.query);\n        _this.queryName = opDef && opDef.name && opDef.name.value;\n        return _this;\n    }\n    Object.defineProperty(ObservableQuery.prototype, \"query\", {\n        get: function () {\n            return this.queryManager.transform(this.options.query).document;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ObservableQuery.prototype, \"variables\", {\n        get: function () {\n            return this.options.variables;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ObservableQuery.prototype.result = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var observer = {\n                next: function (result) {\n                    resolve(result);\n                    _this.observers.delete(observer);\n                    if (!_this.observers.size) {\n                        _this.queryManager.removeQuery(_this.queryId);\n                    }\n                    setTimeout(function () {\n                        subscription.unsubscribe();\n                    }, 0);\n                },\n                error: reject,\n            };\n            var subscription = _this.subscribe(observer);\n        });\n    };\n    ObservableQuery.prototype.getCurrentResult = function (saveAsLastResult) {\n        if (saveAsLastResult === void 0) { saveAsLastResult = true; }\n        var lastResult = this.getLastResult(true);\n        var networkStatus = this.queryInfo.networkStatus ||\n            (lastResult && lastResult.networkStatus) ||\n            NetworkStatus.ready;\n        var result = __assign(__assign({}, lastResult), { loading: isNetworkRequestInFlight(networkStatus), networkStatus: networkStatus });\n        var _a = this.options.fetchPolicy, fetchPolicy = _a === void 0 ? \"cache-first\" : _a;\n        if (fetchPolicy === 'network-only' ||\n            fetchPolicy === 'no-cache' ||\n            fetchPolicy === 'standby' ||\n            this.queryManager.transform(this.options.query).hasForcedResolvers) {\n        }\n        else {\n            var diff = this.queryInfo.getDiff();\n            if (diff.complete || this.options.returnPartialData) {\n                result.data = diff.result;\n            }\n            if (equal(result.data, {})) {\n                result.data = void 0;\n            }\n            if (diff.complete) {\n                delete result.partial;\n                if (diff.complete &&\n                    result.networkStatus === NetworkStatus.loading &&\n                    (fetchPolicy === 'cache-first' ||\n                        fetchPolicy === 'cache-only')) {\n                    result.networkStatus = NetworkStatus.ready;\n                    result.loading = false;\n                }\n            }\n            else {\n                result.partial = true;\n            }\n            if (__DEV__ &&\n                !diff.complete &&\n                !this.options.partialRefetch &&\n                !result.loading &&\n                !result.data &&\n                !result.error) {\n                logMissingFieldErrors(diff.missing);\n            }\n        }\n        if (saveAsLastResult) {\n            this.updateLastResult(result);\n        }\n        return result;\n    };\n    ObservableQuery.prototype.isDifferentFromLastResult = function (newResult) {\n        return !this.last || !equal(this.last.result, newResult);\n    };\n    ObservableQuery.prototype.getLast = function (key, variablesMustMatch) {\n        var last = this.last;\n        if (last &&\n            last[key] &&\n            (!variablesMustMatch || equal(last.variables, this.variables))) {\n            return last[key];\n        }\n    };\n    ObservableQuery.prototype.getLastResult = function (variablesMustMatch) {\n        return this.getLast(\"result\", variablesMustMatch);\n    };\n    ObservableQuery.prototype.getLastError = function (variablesMustMatch) {\n        return this.getLast(\"error\", variablesMustMatch);\n    };\n    ObservableQuery.prototype.resetLastResults = function () {\n        delete this.last;\n        this.isTornDown = false;\n    };\n    ObservableQuery.prototype.resetQueryStoreErrors = function () {\n        this.queryManager.resetErrors(this.queryId);\n    };\n    ObservableQuery.prototype.refetch = function (variables) {\n        var _a;\n        var reobserveOptions = {\n            pollInterval: 0,\n        };\n        var fetchPolicy = this.options.fetchPolicy;\n        if (fetchPolicy === 'cache-and-network') {\n            reobserveOptions.fetchPolicy = fetchPolicy;\n        }\n        else if (fetchPolicy === 'no-cache') {\n            reobserveOptions.fetchPolicy = 'no-cache';\n        }\n        else {\n            reobserveOptions.fetchPolicy = 'network-only';\n        }\n        if (__DEV__ && variables && hasOwnProperty.call(variables, \"variables\")) {\n            var queryDef = getQueryDefinition(this.query);\n            var vars = queryDef.variableDefinitions;\n            if (!vars || !vars.some(function (v) { return v.variable.name.value === \"variables\"; })) {\n                __DEV__ && invariant.warn(\"Called refetch(\".concat(JSON.stringify(variables), \") for query \").concat(((_a = queryDef.name) === null || _a === void 0 ? void 0 : _a.value) || JSON.stringify(queryDef), \", which does not declare a $variables variable.\\nDid you mean to call refetch(variables) instead of refetch({ variables })?\"));\n            }\n        }\n        if (variables && !equal(this.options.variables, variables)) {\n            reobserveOptions.variables = this.options.variables = __assign(__assign({}, this.options.variables), variables);\n        }\n        this.queryInfo.resetLastWrite();\n        return this.reobserve(reobserveOptions, NetworkStatus.refetch);\n    };\n    ObservableQuery.prototype.fetchMore = function (fetchMoreOptions) {\n        var _this = this;\n        var combinedOptions = __assign(__assign({}, (fetchMoreOptions.query ? fetchMoreOptions : __assign(__assign(__assign(__assign({}, this.options), { query: this.query }), fetchMoreOptions), { variables: __assign(__assign({}, this.options.variables), fetchMoreOptions.variables) }))), { fetchPolicy: \"no-cache\" });\n        var qid = this.queryManager.generateQueryId();\n        var queryInfo = this.queryInfo;\n        var originalNetworkStatus = queryInfo.networkStatus;\n        queryInfo.networkStatus = NetworkStatus.fetchMore;\n        if (combinedOptions.notifyOnNetworkStatusChange) {\n            this.observe();\n        }\n        var updatedQuerySet = new Set();\n        return this.queryManager.fetchQuery(qid, combinedOptions, NetworkStatus.fetchMore).then(function (fetchMoreResult) {\n            _this.queryManager.removeQuery(qid);\n            if (queryInfo.networkStatus === NetworkStatus.fetchMore) {\n                queryInfo.networkStatus = originalNetworkStatus;\n            }\n            _this.queryManager.cache.batch({\n                update: function (cache) {\n                    var updateQuery = fetchMoreOptions.updateQuery;\n                    if (updateQuery) {\n                        cache.updateQuery({\n                            query: _this.query,\n                            variables: _this.variables,\n                            returnPartialData: true,\n                            optimistic: false,\n                        }, function (previous) { return updateQuery(previous, {\n                            fetchMoreResult: fetchMoreResult.data,\n                            variables: combinedOptions.variables,\n                        }); });\n                    }\n                    else {\n                        cache.writeQuery({\n                            query: combinedOptions.query,\n                            variables: combinedOptions.variables,\n                            data: fetchMoreResult.data,\n                        });\n                    }\n                },\n                onWatchUpdated: function (watch) {\n                    updatedQuerySet.add(watch.query);\n                },\n            });\n            return fetchMoreResult;\n        }).finally(function () {\n            if (!updatedQuerySet.has(_this.query)) {\n                reobserveCacheFirst(_this);\n            }\n        });\n    };\n    ObservableQuery.prototype.subscribeToMore = function (options) {\n        var _this = this;\n        var subscription = this.queryManager\n            .startGraphQLSubscription({\n            query: options.document,\n            variables: options.variables,\n            context: options.context,\n        })\n            .subscribe({\n            next: function (subscriptionData) {\n                var updateQuery = options.updateQuery;\n                if (updateQuery) {\n                    _this.updateQuery(function (previous, _a) {\n                        var variables = _a.variables;\n                        return updateQuery(previous, {\n                            subscriptionData: subscriptionData,\n                            variables: variables,\n                        });\n                    });\n                }\n            },\n            error: function (err) {\n                if (options.onError) {\n                    options.onError(err);\n                    return;\n                }\n                __DEV__ && invariant.error('Unhandled GraphQL subscription error', err);\n            },\n        });\n        this.subscriptions.add(subscription);\n        return function () {\n            if (_this.subscriptions.delete(subscription)) {\n                subscription.unsubscribe();\n            }\n        };\n    };\n    ObservableQuery.prototype.setOptions = function (newOptions) {\n        return this.reobserve(newOptions);\n    };\n    ObservableQuery.prototype.setVariables = function (variables) {\n        if (equal(this.variables, variables)) {\n            return this.observers.size\n                ? this.result()\n                : Promise.resolve();\n        }\n        this.options.variables = variables;\n        if (!this.observers.size) {\n            return Promise.resolve();\n        }\n        return this.reobserve({\n            fetchPolicy: this.options.initialFetchPolicy,\n            variables: variables,\n        }, NetworkStatus.setVariables);\n    };\n    ObservableQuery.prototype.updateQuery = function (mapFn) {\n        var queryManager = this.queryManager;\n        var result = queryManager.cache.diff({\n            query: this.options.query,\n            variables: this.variables,\n            returnPartialData: true,\n            optimistic: false,\n        }).result;\n        var newResult = mapFn(result, {\n            variables: this.variables,\n        });\n        if (newResult) {\n            queryManager.cache.writeQuery({\n                query: this.options.query,\n                data: newResult,\n                variables: this.variables,\n            });\n            queryManager.broadcastQueries();\n        }\n    };\n    ObservableQuery.prototype.startPolling = function (pollInterval) {\n        this.options.pollInterval = pollInterval;\n        this.updatePolling();\n    };\n    ObservableQuery.prototype.stopPolling = function () {\n        this.options.pollInterval = 0;\n        this.updatePolling();\n    };\n    ObservableQuery.prototype.applyNextFetchPolicy = function (reason, options) {\n        if (options.nextFetchPolicy) {\n            var _a = options.fetchPolicy, fetchPolicy = _a === void 0 ? \"cache-first\" : _a, _b = options.initialFetchPolicy, initialFetchPolicy = _b === void 0 ? fetchPolicy : _b;\n            if (typeof options.nextFetchPolicy === \"function\") {\n                options.fetchPolicy = options.nextFetchPolicy(fetchPolicy, {\n                    reason: reason,\n                    options: options,\n                    observable: this,\n                    initialFetchPolicy: initialFetchPolicy,\n                });\n            }\n            else if (reason === \"variables-changed\") {\n                options.fetchPolicy = initialFetchPolicy;\n            }\n            else {\n                options.fetchPolicy = options.nextFetchPolicy;\n            }\n        }\n        return options.fetchPolicy;\n    };\n    ObservableQuery.prototype.fetch = function (options, newNetworkStatus) {\n        this.queryManager.setObservableQuery(this);\n        return this.queryManager.fetchQueryObservable(this.queryId, options, newNetworkStatus);\n    };\n    ObservableQuery.prototype.updatePolling = function () {\n        var _this = this;\n        if (this.queryManager.ssrMode) {\n            return;\n        }\n        var _a = this, pollingInfo = _a.pollingInfo, pollInterval = _a.options.pollInterval;\n        if (!pollInterval) {\n            if (pollingInfo) {\n                clearTimeout(pollingInfo.timeout);\n                delete this.pollingInfo;\n            }\n            return;\n        }\n        if (pollingInfo &&\n            pollingInfo.interval === pollInterval) {\n            return;\n        }\n        __DEV__ ? invariant(pollInterval, 'Attempted to start a polling query without a polling interval.') : invariant(pollInterval, 10);\n        var info = pollingInfo || (this.pollingInfo = {});\n        info.interval = pollInterval;\n        var maybeFetch = function () {\n            if (_this.pollingInfo) {\n                if (!isNetworkRequestInFlight(_this.queryInfo.networkStatus)) {\n                    _this.reobserve({\n                        fetchPolicy: \"network-only\",\n                    }, NetworkStatus.poll).then(poll, poll);\n                }\n                else {\n                    poll();\n                }\n            }\n            ;\n        };\n        var poll = function () {\n            var info = _this.pollingInfo;\n            if (info) {\n                clearTimeout(info.timeout);\n                info.timeout = setTimeout(maybeFetch, info.interval);\n            }\n        };\n        poll();\n    };\n    ObservableQuery.prototype.updateLastResult = function (newResult, variables) {\n        if (variables === void 0) { variables = this.variables; }\n        this.last = __assign(__assign({}, this.last), { result: this.queryManager.assumeImmutableResults\n                ? newResult\n                : cloneDeep(newResult), variables: variables });\n        if (!isNonEmptyArray(newResult.errors)) {\n            delete this.last.error;\n        }\n        return this.last;\n    };\n    ObservableQuery.prototype.reobserve = function (newOptions, newNetworkStatus) {\n        var _this = this;\n        this.isTornDown = false;\n        var useDisposableConcast = newNetworkStatus === NetworkStatus.refetch ||\n            newNetworkStatus === NetworkStatus.fetchMore ||\n            newNetworkStatus === NetworkStatus.poll;\n        var oldVariables = this.options.variables;\n        var oldFetchPolicy = this.options.fetchPolicy;\n        var mergedOptions = compact(this.options, newOptions || {});\n        var options = useDisposableConcast\n            ? mergedOptions\n            : assign(this.options, mergedOptions);\n        if (!useDisposableConcast) {\n            this.updatePolling();\n            if (newOptions &&\n                newOptions.variables &&\n                !equal(newOptions.variables, oldVariables) &&\n                (!newOptions.fetchPolicy || newOptions.fetchPolicy === oldFetchPolicy)) {\n                this.applyNextFetchPolicy(\"variables-changed\", options);\n                if (newNetworkStatus === void 0) {\n                    newNetworkStatus = NetworkStatus.setVariables;\n                }\n            }\n        }\n        var variables = options.variables && __assign({}, options.variables);\n        var concast = this.fetch(options, newNetworkStatus);\n        var observer = {\n            next: function (result) {\n                _this.reportResult(result, variables);\n            },\n            error: function (error) {\n                _this.reportError(error, variables);\n            },\n        };\n        if (!useDisposableConcast) {\n            if (this.concast && this.observer) {\n                this.concast.removeObserver(this.observer, true);\n            }\n            this.concast = concast;\n            this.observer = observer;\n        }\n        concast.addObserver(observer);\n        return concast.promise;\n    };\n    ObservableQuery.prototype.observe = function () {\n        this.reportResult(this.getCurrentResult(false), this.variables);\n    };\n    ObservableQuery.prototype.reportResult = function (result, variables) {\n        var lastError = this.getLastError();\n        if (lastError || this.isDifferentFromLastResult(result)) {\n            if (lastError || !result.partial || this.options.returnPartialData) {\n                this.updateLastResult(result, variables);\n            }\n            iterateObserversSafely(this.observers, 'next', result);\n        }\n    };\n    ObservableQuery.prototype.reportError = function (error, variables) {\n        var errorResult = __assign(__assign({}, this.getLastResult()), { error: error, errors: error.graphQLErrors, networkStatus: NetworkStatus.error, loading: false });\n        this.updateLastResult(errorResult, variables);\n        iterateObserversSafely(this.observers, 'error', this.last.error = error);\n    };\n    ObservableQuery.prototype.hasObservers = function () {\n        return this.observers.size > 0;\n    };\n    ObservableQuery.prototype.tearDownQuery = function () {\n        if (this.isTornDown)\n            return;\n        if (this.concast && this.observer) {\n            this.concast.removeObserver(this.observer);\n            delete this.concast;\n            delete this.observer;\n        }\n        this.stopPolling();\n        this.subscriptions.forEach(function (sub) { return sub.unsubscribe(); });\n        this.subscriptions.clear();\n        this.queryManager.stopQuery(this.queryId);\n        this.observers.clear();\n        this.isTornDown = true;\n    };\n    return ObservableQuery;\n}(Observable));\nexport { ObservableQuery };\nfixObservableSubclass(ObservableQuery);\nexport function reobserveCacheFirst(obsQuery) {\n    var _a = obsQuery.options, fetchPolicy = _a.fetchPolicy, nextFetchPolicy = _a.nextFetchPolicy;\n    if (fetchPolicy === \"cache-and-network\" ||\n        fetchPolicy === \"network-only\") {\n        return obsQuery.reobserve({\n            fetchPolicy: \"cache-first\",\n            nextFetchPolicy: function () {\n                this.nextFetchPolicy = nextFetchPolicy;\n                if (typeof nextFetchPolicy === \"function\") {\n                    return nextFetchPolicy.apply(this, arguments);\n                }\n                return fetchPolicy;\n            },\n        });\n    }\n    return obsQuery.reobserve();\n}\nfunction defaultSubscriptionObserverErrorCallback(error) {\n    __DEV__ && invariant.error('Unhandled error', error.message, error.stack);\n}\nexport function logMissingFieldErrors(missing) {\n    if (__DEV__ && missing) {\n        __DEV__ && invariant.debug(\"Missing cache result fields: \".concat(JSON.stringify(missing)), missing);\n    }\n}\n//# sourceMappingURL=ObservableQuery.js.map","export const HOOK_SETUP = 'devtools-plugin:setup';\nexport const HOOK_PLUGIN_SETTINGS_SET = 'plugin:settings:set';\n","import { HOOK_PLUGIN_SETTINGS_SET } from './const.js';\nimport { now } from './time.js';\nexport class ApiProxy {\n    constructor(plugin, hook) {\n        this.target = null;\n        this.targetQueue = [];\n        this.onQueue = [];\n        this.plugin = plugin;\n        this.hook = hook;\n        const defaultSettings = {};\n        if (plugin.settings) {\n            for (const id in plugin.settings) {\n                const item = plugin.settings[id];\n                defaultSettings[id] = item.defaultValue;\n            }\n        }\n        const localSettingsSaveId = `__vue-devtools-plugin-settings__${plugin.id}`;\n        let currentSettings = Object.assign({}, defaultSettings);\n        try {\n            const raw = localStorage.getItem(localSettingsSaveId);\n            const data = JSON.parse(raw);\n            Object.assign(currentSettings, data);\n        }\n        catch (e) {\n            // noop\n        }\n        this.fallbacks = {\n            getSettings() {\n                return currentSettings;\n            },\n            setSettings(value) {\n                try {\n                    localStorage.setItem(localSettingsSaveId, JSON.stringify(value));\n                }\n                catch (e) {\n                    // noop\n                }\n                currentSettings = value;\n            },\n            now() {\n                return now();\n            },\n        };\n        if (hook) {\n            hook.on(HOOK_PLUGIN_SETTINGS_SET, (pluginId, value) => {\n                if (pluginId === this.plugin.id) {\n                    this.fallbacks.setSettings(value);\n                }\n            });\n        }\n        this.proxiedOn = new Proxy({}, {\n            get: (_target, prop) => {\n                if (this.target) {\n                    return this.target.on[prop];\n                }\n                else {\n                    return (...args) => {\n                        this.onQueue.push({\n                            method: prop,\n                            args,\n                        });\n                    };\n                }\n            },\n        });\n        this.proxiedTarget = new Proxy({}, {\n            get: (_target, prop) => {\n                if (this.target) {\n                    return this.target[prop];\n                }\n                else if (prop === 'on') {\n                    return this.proxiedOn;\n                }\n                else if (Object.keys(this.fallbacks).includes(prop)) {\n                    return (...args) => {\n                        this.targetQueue.push({\n                            method: prop,\n                            args,\n                            resolve: () => { },\n                        });\n                        return this.fallbacks[prop](...args);\n                    };\n                }\n                else {\n                    return (...args) => {\n                        return new Promise(resolve => {\n                            this.targetQueue.push({\n                                method: prop,\n                                args,\n                                resolve,\n                            });\n                        });\n                    };\n                }\n            },\n        });\n    }\n    async setRealTarget(target) {\n        this.target = target;\n        for (const item of this.onQueue) {\n            this.target.on[item.method](...item.args);\n        }\n        for (const item of this.targetQueue) {\n            item.resolve(await this.target[item.method](...item.args));\n        }\n    }\n}\n","import { getTarget, getDevtoolsGlobalHook, isProxyAvailable } from './env.js';\nimport { HOOK_SETUP } from './const.js';\nimport { ApiProxy } from './proxy.js';\nexport * from './api/index.js';\nexport * from './plugin.js';\nexport * from './time.js';\nexport function setupDevtoolsPlugin(pluginDescriptor, setupFn) {\n    const descriptor = pluginDescriptor;\n    const target = getTarget();\n    const hook = getDevtoolsGlobalHook();\n    const enableProxy = isProxyAvailable && descriptor.enableEarlyProxy;\n    if (hook && (target.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__ || !enableProxy)) {\n        hook.emit(HOOK_SETUP, pluginDescriptor, setupFn);\n    }\n    else {\n        const proxy = enableProxy ? new ApiProxy(descriptor, hook) : null;\n        const list = target.__VUE_DEVTOOLS_PLUGINS__ = target.__VUE_DEVTOOLS_PLUGINS__ || [];\n        list.push({\n            pluginDescriptor: descriptor,\n            setupFn,\n            proxy,\n        });\n        if (proxy)\n            setupFn(proxy.proxiedTarget);\n    }\n}\n","const MAX_ARRAY_LENGTH = 10;\nconst MAX_RECURSIVE_DEPTH = 2;\n/**\n * Used to print values in error messages.\n */\n\nexport function inspect(value) {\n  return formatValue(value, []);\n}\n\nfunction formatValue(value, seenValues) {\n  switch (typeof value) {\n    case 'string':\n      return JSON.stringify(value);\n\n    case 'function':\n      return value.name ? `[function ${value.name}]` : '[function]';\n\n    case 'object':\n      return formatObjectValue(value, seenValues);\n\n    default:\n      return String(value);\n  }\n}\n\nfunction formatObjectValue(value, previouslySeenValues) {\n  if (value === null) {\n    return 'null';\n  }\n\n  if (previouslySeenValues.includes(value)) {\n    return '[Circular]';\n  }\n\n  const seenValues = [...previouslySeenValues, value];\n\n  if (isJSONable(value)) {\n    const jsonValue = value.toJSON(); // check for infinite recursion\n\n    if (jsonValue !== value) {\n      return typeof jsonValue === 'string'\n        ? jsonValue\n        : formatValue(jsonValue, seenValues);\n    }\n  } else if (Array.isArray(value)) {\n    return formatArray(value, seenValues);\n  }\n\n  return formatObject(value, seenValues);\n}\n\nfunction isJSONable(value) {\n  return typeof value.toJSON === 'function';\n}\n\nfunction formatObject(object, seenValues) {\n  const entries = Object.entries(object);\n\n  if (entries.length === 0) {\n    return '{}';\n  }\n\n  if (seenValues.length > MAX_RECURSIVE_DEPTH) {\n    return '[' + getObjectTag(object) + ']';\n  }\n\n  const properties = entries.map(\n    ([key, value]) => key + ': ' + formatValue(value, seenValues),\n  );\n  return '{ ' + properties.join(', ') + ' }';\n}\n\nfunction formatArray(array, seenValues) {\n  if (array.length === 0) {\n    return '[]';\n  }\n\n  if (seenValues.length > MAX_RECURSIVE_DEPTH) {\n    return '[Array]';\n  }\n\n  const len = Math.min(MAX_ARRAY_LENGTH, array.length);\n  const remaining = array.length - len;\n  const items = [];\n\n  for (let i = 0; i < len; ++i) {\n    items.push(formatValue(array[i], seenValues));\n  }\n\n  if (remaining === 1) {\n    items.push('... 1 more item');\n  } else if (remaining > 1) {\n    items.push(`... ${remaining} more items`);\n  }\n\n  return '[' + items.join(', ') + ']';\n}\n\nfunction getObjectTag(object) {\n  const tag = Object.prototype.toString\n    .call(object)\n    .replace(/^\\[object /, '')\n    .replace(/]$/, '');\n\n  if (tag === 'Object' && typeof object.constructor === 'function') {\n    const name = object.constructor.name;\n\n    if (typeof name === 'string' && name !== '') {\n      return name;\n    }\n  }\n\n  return tag;\n}\n","var isCallable = require('../internals/is-callable');\nvar definePropertyModule = require('../internals/object-define-property');\nvar makeBuiltIn = require('../internals/make-built-in');\nvar defineGlobalProperty = require('../internals/define-global-property');\n\nmodule.exports = function (O, key, value, options) {\n  if (!options) options = {};\n  var simple = options.enumerable;\n  var name = options.name !== undefined ? options.name : key;\n  if (isCallable(value)) makeBuiltIn(value, name, options);\n  if (options.global) {\n    if (simple) O[key] = value;\n    else defineGlobalProperty(key, value);\n  } else {\n    try {\n      if (!options.unsafe) delete O[key];\n      else if (O[key]) simple = true;\n    } catch (error) { /* empty */ }\n    if (simple) O[key] = value;\n    else definePropertyModule.f(O, key, {\n      value: value,\n      enumerable: false,\n      configurable: !options.nonConfigurable,\n      writable: !options.nonWritable\n    });\n  } return O;\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.withoutGraphQLFetch = exports.excludeGraphQLFetch = exports.SentryLink = void 0;\nvar SentryLink_1 = require(\"./SentryLink\");\nObject.defineProperty(exports, \"SentryLink\", { enumerable: true, get: function () { return SentryLink_1.SentryLink; } });\nvar excludeGraphQLFetch_1 = require(\"./excludeGraphQLFetch\");\nObject.defineProperty(exports, \"excludeGraphQLFetch\", { enumerable: true, get: function () { return excludeGraphQLFetch_1.excludeGraphQLFetch; } });\nObject.defineProperty(exports, \"withoutGraphQLFetch\", { enumerable: true, get: function () { return excludeGraphQLFetch_1.withoutGraphQLFetch; } });\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar $Object = Object;\nvar split = uncurryThis(''.split);\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !$Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split(it, '') : $Object(it);\n} : $Object;\n","export function devAssert(condition, message) {\n  const booleanCondition = Boolean(condition);\n\n  if (!booleanCondition) {\n    throw new Error(message);\n  }\n}\n","import { Trie } from '@wry/trie';\nexport { Trie as KeyTrie } from '@wry/trie';\nimport { Slot } from '@wry/context';\nexport { asyncFromGen, bind as bindContext, noContext, setTimeout } from '@wry/context';\n\nfunction defaultDispose() { }\r\nvar Cache = /** @class */ (function () {\r\n    function Cache(max, dispose) {\r\n        if (max === void 0) { max = Infinity; }\r\n        if (dispose === void 0) { dispose = defaultDispose; }\r\n        this.max = max;\r\n        this.dispose = dispose;\r\n        this.map = new Map();\r\n        this.newest = null;\r\n        this.oldest = null;\r\n    }\r\n    Cache.prototype.has = function (key) {\r\n        return this.map.has(key);\r\n    };\r\n    Cache.prototype.get = function (key) {\r\n        var node = this.getNode(key);\r\n        return node && node.value;\r\n    };\r\n    Cache.prototype.getNode = function (key) {\r\n        var node = this.map.get(key);\r\n        if (node && node !== this.newest) {\r\n            var older = node.older, newer = node.newer;\r\n            if (newer) {\r\n                newer.older = older;\r\n            }\r\n            if (older) {\r\n                older.newer = newer;\r\n            }\r\n            node.older = this.newest;\r\n            node.older.newer = node;\r\n            node.newer = null;\r\n            this.newest = node;\r\n            if (node === this.oldest) {\r\n                this.oldest = newer;\r\n            }\r\n        }\r\n        return node;\r\n    };\r\n    Cache.prototype.set = function (key, value) {\r\n        var node = this.getNode(key);\r\n        if (node) {\r\n            return node.value = value;\r\n        }\r\n        node = {\r\n            key: key,\r\n            value: value,\r\n            newer: null,\r\n            older: this.newest\r\n        };\r\n        if (this.newest) {\r\n            this.newest.newer = node;\r\n        }\r\n        this.newest = node;\r\n        this.oldest = this.oldest || node;\r\n        this.map.set(key, node);\r\n        return node.value;\r\n    };\r\n    Cache.prototype.clean = function () {\r\n        while (this.oldest && this.map.size > this.max) {\r\n            this.delete(this.oldest.key);\r\n        }\r\n    };\r\n    Cache.prototype.delete = function (key) {\r\n        var node = this.map.get(key);\r\n        if (node) {\r\n            if (node === this.newest) {\r\n                this.newest = node.older;\r\n            }\r\n            if (node === this.oldest) {\r\n                this.oldest = node.newer;\r\n            }\r\n            if (node.newer) {\r\n                node.newer.older = node.older;\r\n            }\r\n            if (node.older) {\r\n                node.older.newer = node.newer;\r\n            }\r\n            this.map.delete(key);\r\n            this.dispose(node.value, key);\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    return Cache;\r\n}());\n\nvar parentEntrySlot = new Slot();\n\nvar _a;\r\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\r\nvar \r\n// This Array.from polyfill is restricted to working with Set<any> for now,\r\n// but we can improve the polyfill and add other input types, as needed. Note\r\n// that this fallback implementation will only be used if the host environment\r\n// does not support a native Array.from function. In most modern JS runtimes,\r\n// the toArray function exported here will be === Array.from.\r\ntoArray = (_a = Array.from, _a === void 0 ? function (collection) {\r\n    var array = [];\r\n    collection.forEach(function (item) { return array.push(item); });\r\n    return array;\r\n} : _a);\r\nfunction maybeUnsubscribe(entryOrDep) {\r\n    var unsubscribe = entryOrDep.unsubscribe;\r\n    if (typeof unsubscribe === \"function\") {\r\n        entryOrDep.unsubscribe = void 0;\r\n        unsubscribe();\r\n    }\r\n}\n\nvar emptySetPool = [];\r\nvar POOL_TARGET_SIZE = 100;\r\n// Since this package might be used browsers, we should avoid using the\r\n// Node built-in assert module.\r\nfunction assert(condition, optionalMessage) {\r\n    if (!condition) {\r\n        throw new Error(optionalMessage || \"assertion failure\");\r\n    }\r\n}\r\nfunction valueIs(a, b) {\r\n    var len = a.length;\r\n    return (\r\n    // Unknown values are not equal to each other.\r\n    len > 0 &&\r\n        // Both values must be ordinary (or both exceptional) to be equal.\r\n        len === b.length &&\r\n        // The underlying value or exception must be the same.\r\n        a[len - 1] === b[len - 1]);\r\n}\r\nfunction valueGet(value) {\r\n    switch (value.length) {\r\n        case 0: throw new Error(\"unknown value\");\r\n        case 1: return value[0];\r\n        case 2: throw value[1];\r\n    }\r\n}\r\nfunction valueCopy(value) {\r\n    return value.slice(0);\r\n}\r\nvar Entry = /** @class */ (function () {\r\n    function Entry(fn) {\r\n        this.fn = fn;\r\n        this.parents = new Set();\r\n        this.childValues = new Map();\r\n        // When this Entry has children that are dirty, this property becomes\r\n        // a Set containing other Entry objects, borrowed from emptySetPool.\r\n        // When the set becomes empty, it gets recycled back to emptySetPool.\r\n        this.dirtyChildren = null;\r\n        this.dirty = true;\r\n        this.recomputing = false;\r\n        this.value = [];\r\n        this.deps = null;\r\n        ++Entry.count;\r\n    }\r\n    Entry.prototype.peek = function () {\r\n        if (this.value.length === 1 && !mightBeDirty(this)) {\r\n            rememberParent(this);\r\n            return this.value[0];\r\n        }\r\n    };\r\n    // This is the most important method of the Entry API, because it\r\n    // determines whether the cached this.value can be returned immediately,\r\n    // or must be recomputed. The overall performance of the caching system\r\n    // depends on the truth of the following observations: (1) this.dirty is\r\n    // usually false, (2) this.dirtyChildren is usually null/empty, and thus\r\n    // (3) valueGet(this.value) is usually returned without recomputation.\r\n    Entry.prototype.recompute = function (args) {\r\n        assert(!this.recomputing, \"already recomputing\");\r\n        rememberParent(this);\r\n        return mightBeDirty(this)\r\n            ? reallyRecompute(this, args)\r\n            : valueGet(this.value);\r\n    };\r\n    Entry.prototype.setDirty = function () {\r\n        if (this.dirty)\r\n            return;\r\n        this.dirty = true;\r\n        this.value.length = 0;\r\n        reportDirty(this);\r\n        // We can go ahead and unsubscribe here, since any further dirty\r\n        // notifications we receive will be redundant, and unsubscribing may\r\n        // free up some resources, e.g. file watchers.\r\n        maybeUnsubscribe(this);\r\n    };\r\n    Entry.prototype.dispose = function () {\r\n        var _this = this;\r\n        this.setDirty();\r\n        // Sever any dependency relationships with our own children, so those\r\n        // children don't retain this parent Entry in their child.parents sets,\r\n        // thereby preventing it from being fully garbage collected.\r\n        forgetChildren(this);\r\n        // Because this entry has been kicked out of the cache (in index.js),\r\n        // we've lost the ability to find out if/when this entry becomes dirty,\r\n        // whether that happens through a subscription, because of a direct call\r\n        // to entry.setDirty(), or because one of its children becomes dirty.\r\n        // Because of this loss of future information, we have to assume the\r\n        // worst (that this entry might have become dirty very soon), so we must\r\n        // immediately mark this entry's parents as dirty. Normally we could\r\n        // just call entry.setDirty() rather than calling parent.setDirty() for\r\n        // each parent, but that would leave this entry in parent.childValues\r\n        // and parent.dirtyChildren, which would prevent the child from being\r\n        // truly forgotten.\r\n        eachParent(this, function (parent, child) {\r\n            parent.setDirty();\r\n            forgetChild(parent, _this);\r\n        });\r\n    };\r\n    Entry.prototype.forget = function () {\r\n        // The code that creates Entry objects in index.ts will replace this method\r\n        // with one that actually removes the Entry from the cache, which will also\r\n        // trigger the entry.dispose method.\r\n        this.dispose();\r\n    };\r\n    Entry.prototype.dependOn = function (dep) {\r\n        dep.add(this);\r\n        if (!this.deps) {\r\n            this.deps = emptySetPool.pop() || new Set();\r\n        }\r\n        this.deps.add(dep);\r\n    };\r\n    Entry.prototype.forgetDeps = function () {\r\n        var _this = this;\r\n        if (this.deps) {\r\n            toArray(this.deps).forEach(function (dep) { return dep.delete(_this); });\r\n            this.deps.clear();\r\n            emptySetPool.push(this.deps);\r\n            this.deps = null;\r\n        }\r\n    };\r\n    Entry.count = 0;\r\n    return Entry;\r\n}());\r\nfunction rememberParent(child) {\r\n    var parent = parentEntrySlot.getValue();\r\n    if (parent) {\r\n        child.parents.add(parent);\r\n        if (!parent.childValues.has(child)) {\r\n            parent.childValues.set(child, []);\r\n        }\r\n        if (mightBeDirty(child)) {\r\n            reportDirtyChild(parent, child);\r\n        }\r\n        else {\r\n            reportCleanChild(parent, child);\r\n        }\r\n        return parent;\r\n    }\r\n}\r\nfunction reallyRecompute(entry, args) {\r\n    forgetChildren(entry);\r\n    // Set entry as the parent entry while calling recomputeNewValue(entry).\r\n    parentEntrySlot.withValue(entry, recomputeNewValue, [entry, args]);\r\n    if (maybeSubscribe(entry, args)) {\r\n        // If we successfully recomputed entry.value and did not fail to\r\n        // (re)subscribe, then this Entry is no longer explicitly dirty.\r\n        setClean(entry);\r\n    }\r\n    return valueGet(entry.value);\r\n}\r\nfunction recomputeNewValue(entry, args) {\r\n    entry.recomputing = true;\r\n    // Set entry.value as unknown.\r\n    entry.value.length = 0;\r\n    try {\r\n        // If entry.fn succeeds, entry.value will become a normal Value.\r\n        entry.value[0] = entry.fn.apply(null, args);\r\n    }\r\n    catch (e) {\r\n        // If entry.fn throws, entry.value will become exceptional.\r\n        entry.value[1] = e;\r\n    }\r\n    // Either way, this line is always reached.\r\n    entry.recomputing = false;\r\n}\r\nfunction mightBeDirty(entry) {\r\n    return entry.dirty || !!(entry.dirtyChildren && entry.dirtyChildren.size);\r\n}\r\nfunction setClean(entry) {\r\n    entry.dirty = false;\r\n    if (mightBeDirty(entry)) {\r\n        // This Entry may still have dirty children, in which case we can't\r\n        // let our parents know we're clean just yet.\r\n        return;\r\n    }\r\n    reportClean(entry);\r\n}\r\nfunction reportDirty(child) {\r\n    eachParent(child, reportDirtyChild);\r\n}\r\nfunction reportClean(child) {\r\n    eachParent(child, reportCleanChild);\r\n}\r\nfunction eachParent(child, callback) {\r\n    var parentCount = child.parents.size;\r\n    if (parentCount) {\r\n        var parents = toArray(child.parents);\r\n        for (var i = 0; i < parentCount; ++i) {\r\n            callback(parents[i], child);\r\n        }\r\n    }\r\n}\r\n// Let a parent Entry know that one of its children may be dirty.\r\nfunction reportDirtyChild(parent, child) {\r\n    // Must have called rememberParent(child) before calling\r\n    // reportDirtyChild(parent, child).\r\n    assert(parent.childValues.has(child));\r\n    assert(mightBeDirty(child));\r\n    var parentWasClean = !mightBeDirty(parent);\r\n    if (!parent.dirtyChildren) {\r\n        parent.dirtyChildren = emptySetPool.pop() || new Set;\r\n    }\r\n    else if (parent.dirtyChildren.has(child)) {\r\n        // If we already know this child is dirty, then we must have already\r\n        // informed our own parents that we are dirty, so we can terminate\r\n        // the recursion early.\r\n        return;\r\n    }\r\n    parent.dirtyChildren.add(child);\r\n    // If parent was clean before, it just became (possibly) dirty (according to\r\n    // mightBeDirty), since we just added child to parent.dirtyChildren.\r\n    if (parentWasClean) {\r\n        reportDirty(parent);\r\n    }\r\n}\r\n// Let a parent Entry know that one of its children is no longer dirty.\r\nfunction reportCleanChild(parent, child) {\r\n    // Must have called rememberChild(child) before calling\r\n    // reportCleanChild(parent, child).\r\n    assert(parent.childValues.has(child));\r\n    assert(!mightBeDirty(child));\r\n    var childValue = parent.childValues.get(child);\r\n    if (childValue.length === 0) {\r\n        parent.childValues.set(child, valueCopy(child.value));\r\n    }\r\n    else if (!valueIs(childValue, child.value)) {\r\n        parent.setDirty();\r\n    }\r\n    removeDirtyChild(parent, child);\r\n    if (mightBeDirty(parent)) {\r\n        return;\r\n    }\r\n    reportClean(parent);\r\n}\r\nfunction removeDirtyChild(parent, child) {\r\n    var dc = parent.dirtyChildren;\r\n    if (dc) {\r\n        dc.delete(child);\r\n        if (dc.size === 0) {\r\n            if (emptySetPool.length < POOL_TARGET_SIZE) {\r\n                emptySetPool.push(dc);\r\n            }\r\n            parent.dirtyChildren = null;\r\n        }\r\n    }\r\n}\r\n// Removes all children from this entry and returns an array of the\r\n// removed children.\r\nfunction forgetChildren(parent) {\r\n    if (parent.childValues.size > 0) {\r\n        parent.childValues.forEach(function (_value, child) {\r\n            forgetChild(parent, child);\r\n        });\r\n    }\r\n    // Remove this parent Entry from any sets to which it was added by the\r\n    // addToSet method.\r\n    parent.forgetDeps();\r\n    // After we forget all our children, this.dirtyChildren must be empty\r\n    // and therefore must have been reset to null.\r\n    assert(parent.dirtyChildren === null);\r\n}\r\nfunction forgetChild(parent, child) {\r\n    child.parents.delete(parent);\r\n    parent.childValues.delete(child);\r\n    removeDirtyChild(parent, child);\r\n}\r\nfunction maybeSubscribe(entry, args) {\r\n    if (typeof entry.subscribe === \"function\") {\r\n        try {\r\n            maybeUnsubscribe(entry); // Prevent double subscriptions.\r\n            entry.unsubscribe = entry.subscribe.apply(null, args);\r\n        }\r\n        catch (e) {\r\n            // If this Entry has a subscribe function and it threw an exception\r\n            // (or an unsubscribe function it previously returned now throws),\r\n            // return false to indicate that we were not able to subscribe (or\r\n            // unsubscribe), and this Entry should remain dirty.\r\n            entry.setDirty();\r\n            return false;\r\n        }\r\n    }\r\n    // Returning true indicates either that there was no entry.subscribe\r\n    // function or that it succeeded.\r\n    return true;\r\n}\n\nvar EntryMethods = {\r\n    setDirty: true,\r\n    dispose: true,\r\n    forget: true,\r\n};\r\nfunction dep(options) {\r\n    var depsByKey = new Map();\r\n    var subscribe = options && options.subscribe;\r\n    function depend(key) {\r\n        var parent = parentEntrySlot.getValue();\r\n        if (parent) {\r\n            var dep_1 = depsByKey.get(key);\r\n            if (!dep_1) {\r\n                depsByKey.set(key, dep_1 = new Set);\r\n            }\r\n            parent.dependOn(dep_1);\r\n            if (typeof subscribe === \"function\") {\r\n                maybeUnsubscribe(dep_1);\r\n                dep_1.unsubscribe = subscribe(key);\r\n            }\r\n        }\r\n    }\r\n    depend.dirty = function dirty(key, entryMethodName) {\r\n        var dep = depsByKey.get(key);\r\n        if (dep) {\r\n            var m_1 = (entryMethodName &&\r\n                hasOwnProperty.call(EntryMethods, entryMethodName)) ? entryMethodName : \"setDirty\";\r\n            // We have to use toArray(dep).forEach instead of dep.forEach, because\r\n            // modifying a Set while iterating over it can cause elements in the Set\r\n            // to be removed from the Set before they've been iterated over.\r\n            toArray(dep).forEach(function (entry) { return entry[m_1](); });\r\n            depsByKey.delete(key);\r\n            maybeUnsubscribe(dep);\r\n        }\r\n    };\r\n    return depend;\r\n}\n\nfunction makeDefaultMakeCacheKeyFunction() {\r\n    var keyTrie = new Trie(typeof WeakMap === \"function\");\r\n    return function () {\r\n        return keyTrie.lookupArray(arguments);\r\n    };\r\n}\r\n// The defaultMakeCacheKey function is remarkably powerful, because it gives\r\n// a unique object for any shallow-identical list of arguments. If you need\r\n// to implement a custom makeCacheKey function, you may find it helpful to\r\n// delegate the final work to defaultMakeCacheKey, which is why we export it\r\n// here. However, you may want to avoid defaultMakeCacheKey if your runtime\r\n// does not support WeakMap, or you have the ability to return a string key.\r\n// In those cases, just write your own custom makeCacheKey functions.\r\nvar defaultMakeCacheKey = makeDefaultMakeCacheKeyFunction();\r\nvar caches = new Set();\r\nfunction wrap(originalFunction, options) {\r\n    if (options === void 0) { options = Object.create(null); }\r\n    var cache = new Cache(options.max || Math.pow(2, 16), function (entry) { return entry.dispose(); });\r\n    var keyArgs = options.keyArgs;\r\n    var makeCacheKey = options.makeCacheKey ||\r\n        makeDefaultMakeCacheKeyFunction();\r\n    var optimistic = function () {\r\n        var key = makeCacheKey.apply(null, keyArgs ? keyArgs.apply(null, arguments) : arguments);\r\n        if (key === void 0) {\r\n            return originalFunction.apply(null, arguments);\r\n        }\r\n        var entry = cache.get(key);\r\n        if (!entry) {\r\n            cache.set(key, entry = new Entry(originalFunction));\r\n            entry.subscribe = options.subscribe;\r\n            // Give the Entry the ability to trigger cache.delete(key), even though\r\n            // the Entry itself does not know about key or cache.\r\n            entry.forget = function () { return cache.delete(key); };\r\n        }\r\n        var value = entry.recompute(Array.prototype.slice.call(arguments));\r\n        // Move this entry to the front of the least-recently used queue,\r\n        // since we just finished computing its value.\r\n        cache.set(key, entry);\r\n        caches.add(cache);\r\n        // Clean up any excess entries in the cache, but only if there is no\r\n        // active parent entry, meaning we're not in the middle of a larger\r\n        // computation that might be flummoxed by the cleaning.\r\n        if (!parentEntrySlot.hasValue()) {\r\n            caches.forEach(function (cache) { return cache.clean(); });\r\n            caches.clear();\r\n        }\r\n        return value;\r\n    };\r\n    Object.defineProperty(optimistic, \"size\", {\r\n        get: function () {\r\n            return cache[\"map\"].size;\r\n        },\r\n        configurable: false,\r\n        enumerable: false,\r\n    });\r\n    function dirtyKey(key) {\r\n        var entry = cache.get(key);\r\n        if (entry) {\r\n            entry.setDirty();\r\n        }\r\n    }\r\n    optimistic.dirtyKey = dirtyKey;\r\n    optimistic.dirty = function dirty() {\r\n        dirtyKey(makeCacheKey.apply(null, arguments));\r\n    };\r\n    function peekKey(key) {\r\n        var entry = cache.get(key);\r\n        if (entry) {\r\n            return entry.peek();\r\n        }\r\n    }\r\n    optimistic.peekKey = peekKey;\r\n    optimistic.peek = function peek() {\r\n        return peekKey(makeCacheKey.apply(null, arguments));\r\n    };\r\n    function forgetKey(key) {\r\n        return cache.delete(key);\r\n    }\r\n    optimistic.forgetKey = forgetKey;\r\n    optimistic.forget = function forget() {\r\n        return forgetKey(makeCacheKey.apply(null, arguments));\r\n    };\r\n    optimistic.makeCacheKey = makeCacheKey;\r\n    optimistic.getKey = keyArgs ? function getKey() {\r\n        return makeCacheKey.apply(null, keyArgs.apply(null, arguments));\r\n    } : makeCacheKey;\r\n    return Object.freeze(optimistic);\r\n}\n\nexport { defaultMakeCacheKey, dep, wrap };\n//# sourceMappingURL=bundle.esm.js.map\n","import { __assign, __rest } from \"tslib\";\nimport { wrap } from 'optimism';\nimport { getFragmentQueryDocument, } from \"../../utilities/index.js\";\nvar ApolloCache = (function () {\n    function ApolloCache() {\n        this.getFragmentDoc = wrap(getFragmentQueryDocument);\n    }\n    ApolloCache.prototype.batch = function (options) {\n        var _this = this;\n        var optimisticId = typeof options.optimistic === \"string\" ? options.optimistic :\n            options.optimistic === false ? null : void 0;\n        var updateResult;\n        this.performTransaction(function () { return updateResult = options.update(_this); }, optimisticId);\n        return updateResult;\n    };\n    ApolloCache.prototype.recordOptimisticTransaction = function (transaction, optimisticId) {\n        this.performTransaction(transaction, optimisticId);\n    };\n    ApolloCache.prototype.transformDocument = function (document) {\n        return document;\n    };\n    ApolloCache.prototype.identify = function (object) {\n        return;\n    };\n    ApolloCache.prototype.gc = function () {\n        return [];\n    };\n    ApolloCache.prototype.modify = function (options) {\n        return false;\n    };\n    ApolloCache.prototype.transformForLink = function (document) {\n        return document;\n    };\n    ApolloCache.prototype.readQuery = function (options, optimistic) {\n        if (optimistic === void 0) { optimistic = !!options.optimistic; }\n        return this.read(__assign(__assign({}, options), { rootId: options.id || 'ROOT_QUERY', optimistic: optimistic }));\n    };\n    ApolloCache.prototype.readFragment = function (options, optimistic) {\n        if (optimistic === void 0) { optimistic = !!options.optimistic; }\n        return this.read(__assign(__assign({}, options), { query: this.getFragmentDoc(options.fragment, options.fragmentName), rootId: options.id, optimistic: optimistic }));\n    };\n    ApolloCache.prototype.writeQuery = function (_a) {\n        var id = _a.id, data = _a.data, options = __rest(_a, [\"id\", \"data\"]);\n        return this.write(Object.assign(options, {\n            dataId: id || 'ROOT_QUERY',\n            result: data,\n        }));\n    };\n    ApolloCache.prototype.writeFragment = function (_a) {\n        var id = _a.id, data = _a.data, fragment = _a.fragment, fragmentName = _a.fragmentName, options = __rest(_a, [\"id\", \"data\", \"fragment\", \"fragmentName\"]);\n        return this.write(Object.assign(options, {\n            query: this.getFragmentDoc(fragment, fragmentName),\n            dataId: id,\n            result: data,\n        }));\n    };\n    ApolloCache.prototype.updateQuery = function (options, update) {\n        return this.batch({\n            update: function (cache) {\n                var value = cache.readQuery(options);\n                var data = update(value);\n                if (data === void 0 || data === null)\n                    return value;\n                cache.writeQuery(__assign(__assign({}, options), { data: data }));\n                return data;\n            },\n        });\n    };\n    ApolloCache.prototype.updateFragment = function (options, update) {\n        return this.batch({\n            update: function (cache) {\n                var value = cache.readFragment(options);\n                var data = update(value);\n                if (data === void 0 || data === null)\n                    return value;\n                cache.writeFragment(__assign(__assign({}, options), { data: data }));\n                return data;\n            },\n        });\n    };\n    return ApolloCache;\n}());\nexport { ApolloCache };\n//# sourceMappingURL=cache.js.map","import { createEnvelope } from './envelope.js';\nimport { dateTimestampInSeconds } from './time.js';\n\n/**\n * Creates client report envelope\n * @param discarded_events An array of discard events\n * @param dsn A DSN that can be set on the header. Optional.\n */\nfunction createClientReportEnvelope(\n  discarded_events,\n  dsn,\n  timestamp,\n) {\n  const clientReportItem = [\n    { type: 'client_report' },\n    {\n      timestamp: timestamp || dateTimestampInSeconds(),\n      discarded_events,\n    },\n  ];\n  return createEnvelope(dsn ? { dsn } : {}, [clientReportItem]);\n}\n\nexport { createClientReportEnvelope };\n//# sourceMappingURL=clientreport.js.map\n","import { BaseClient, SDK_VERSION, getCurrentHub, getEnvelopeEndpointWithUrlEncodedAuth } from '@sentry/core';\nimport { getEventDescription, logger, createClientReportEnvelope, dsnToString, serializeEnvelope } from '@sentry/utils';\nimport { eventFromException, eventFromMessage } from './eventbuilder.js';\nimport { WINDOW } from './helpers.js';\nimport { BREADCRUMB_INTEGRATION_ID } from './integrations/breadcrumbs.js';\n\n/**\n * The Sentry Browser SDK Client.\n *\n * @see BrowserOptions for documentation on configuration options.\n * @see SentryClient for usage documentation.\n */\nclass BrowserClient extends BaseClient {\n  /**\n   * Creates a new Browser SDK instance.\n   *\n   * @param options Configuration options for this SDK.\n   */\n   constructor(options) {\n    options._metadata = options._metadata || {};\n    options._metadata.sdk = options._metadata.sdk || {\n      name: 'sentry.javascript.browser',\n      packages: [\n        {\n          name: 'npm:@sentry/browser',\n          version: SDK_VERSION,\n        },\n      ],\n      version: SDK_VERSION,\n    };\n\n    super(options);\n\n    if (options.sendClientReports && WINDOW.document) {\n      WINDOW.document.addEventListener('visibilitychange', () => {\n        if (WINDOW.document.visibilityState === 'hidden') {\n          this._flushOutcomes();\n        }\n      });\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n   eventFromException(exception, hint) {\n    return eventFromException(this._options.stackParser, exception, hint, this._options.attachStacktrace);\n  }\n\n  /**\n   * @inheritDoc\n   */\n   eventFromMessage(\n    message,\n    // eslint-disable-next-line deprecation/deprecation\n    level = 'info',\n    hint,\n  ) {\n    return eventFromMessage(this._options.stackParser, message, level, hint, this._options.attachStacktrace);\n  }\n\n  /**\n   * @inheritDoc\n   */\n   sendEvent(event, hint) {\n    // We only want to add the sentry event breadcrumb when the user has the breadcrumb integration installed and\n    // activated its `sentry` option.\n    // We also do not want to use the `Breadcrumbs` class here directly, because we do not want it to be included in\n    // bundles, if it is not used by the SDK.\n    // This all sadly is a bit ugly, but we currently don't have a \"pre-send\" hook on the integrations so we do it this\n    // way for now.\n    const breadcrumbIntegration = this.getIntegrationById(BREADCRUMB_INTEGRATION_ID) ;\n    if (\n      breadcrumbIntegration &&\n      // We check for definedness of `options`, even though it is not strictly necessary, because that access to\n      // `.sentry` below does not throw, in case users provided their own integration with id \"Breadcrumbs\" that does\n      // not have an`options` field\n      breadcrumbIntegration.options &&\n      breadcrumbIntegration.options.sentry\n    ) {\n      getCurrentHub().addBreadcrumb(\n        {\n          category: `sentry.${event.type === 'transaction' ? 'transaction' : 'event'}`,\n          event_id: event.event_id,\n          level: event.level,\n          message: getEventDescription(event),\n        },\n        {\n          event,\n        },\n      );\n    }\n\n    super.sendEvent(event, hint);\n  }\n\n  /**\n   * @inheritDoc\n   */\n   _prepareEvent(event, hint, scope) {\n    event.platform = event.platform || 'javascript';\n    return super._prepareEvent(event, hint, scope);\n  }\n\n  /**\n   * Sends client reports as an envelope.\n   */\n   _flushOutcomes() {\n    const outcomes = this._clearOutcomes();\n\n    if (outcomes.length === 0) {\n      (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.log('No outcomes to send');\n      return;\n    }\n\n    if (!this._dsn) {\n      (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.log('No dsn provided, will not send outcomes');\n      return;\n    }\n\n    (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.log('Sending outcomes:', outcomes);\n\n    const url = getEnvelopeEndpointWithUrlEncodedAuth(this._dsn, this._options);\n    const envelope = createClientReportEnvelope(outcomes, this._options.tunnel && dsnToString(this._dsn));\n\n    try {\n      const isRealNavigator = Object.prototype.toString.call(WINDOW && WINDOW.navigator) === '[object Navigator]';\n      const hasSendBeacon = isRealNavigator && typeof WINDOW.navigator.sendBeacon === 'function';\n      // Make sure beacon is not used if user configures custom transport options\n      if (hasSendBeacon && !this._options.transportOptions) {\n        // Prevent illegal invocations - https://xgwang.me/posts/you-may-not-know-beacon/#it-may-throw-error%2C-be-sure-to-catch\n        const sendBeacon = WINDOW.navigator.sendBeacon.bind(WINDOW.navigator);\n        sendBeacon(url, serializeEnvelope(envelope));\n      } else {\n        // If beacon is not supported or if they are using the tunnel option\n        // use our regular transport to send client reports to Sentry.\n        this._sendEnvelope(envelope);\n      }\n    } catch (e) {\n      (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.error(e);\n    }\n  }\n}\n\nexport { BrowserClient };\n//# sourceMappingURL=client.js.map\n","var global = require('../internals/global');\n\n// eslint-disable-next-line es-x/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\n\nmodule.exports = function (key, value) {\n  try {\n    defineProperty(global, key, { value: value, configurable: true, writable: true });\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","// eslint-disable-next-line @typescript-eslint/unbound-method\nconst objectToString = Object.prototype.toString;\n\n/**\n * Checks whether given value's type is one of a few Error or Error-like\n * {@link isError}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nfunction isError(wat) {\n  switch (objectToString.call(wat)) {\n    case '[object Error]':\n    case '[object Exception]':\n    case '[object DOMException]':\n      return true;\n    default:\n      return isInstanceOf(wat, Error);\n  }\n}\n/**\n * Checks whether given value is an instance of the given built-in class.\n *\n * @param wat The value to be checked\n * @param className\n * @returns A boolean representing the result.\n */\nfunction isBuiltin(wat, className) {\n  return objectToString.call(wat) === `[object ${className}]`;\n}\n\n/**\n * Checks whether given value's type is ErrorEvent\n * {@link isErrorEvent}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nfunction isErrorEvent(wat) {\n  return isBuiltin(wat, 'ErrorEvent');\n}\n\n/**\n * Checks whether given value's type is DOMError\n * {@link isDOMError}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nfunction isDOMError(wat) {\n  return isBuiltin(wat, 'DOMError');\n}\n\n/**\n * Checks whether given value's type is DOMException\n * {@link isDOMException}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nfunction isDOMException(wat) {\n  return isBuiltin(wat, 'DOMException');\n}\n\n/**\n * Checks whether given value's type is a string\n * {@link isString}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nfunction isString(wat) {\n  return isBuiltin(wat, 'String');\n}\n\n/**\n * Checks whether given value is a primitive (undefined, null, number, boolean, string, bigint, symbol)\n * {@link isPrimitive}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nfunction isPrimitive(wat) {\n  return wat === null || (typeof wat !== 'object' && typeof wat !== 'function');\n}\n\n/**\n * Checks whether given value's type is an object literal\n * {@link isPlainObject}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nfunction isPlainObject(wat) {\n  return isBuiltin(wat, 'Object');\n}\n\n/**\n * Checks whether given value's type is an Event instance\n * {@link isEvent}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nfunction isEvent(wat) {\n  return typeof Event !== 'undefined' && isInstanceOf(wat, Event);\n}\n\n/**\n * Checks whether given value's type is an Element instance\n * {@link isElement}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nfunction isElement(wat) {\n  return typeof Element !== 'undefined' && isInstanceOf(wat, Element);\n}\n\n/**\n * Checks whether given value's type is an regexp\n * {@link isRegExp}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nfunction isRegExp(wat) {\n  return isBuiltin(wat, 'RegExp');\n}\n\n/**\n * Checks whether given value has a then function.\n * @param wat A value to be checked.\n */\nfunction isThenable(wat) {\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n  return Boolean(wat && wat.then && typeof wat.then === 'function');\n}\n\n/**\n * Checks whether given value's type is a SyntheticEvent\n * {@link isSyntheticEvent}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nfunction isSyntheticEvent(wat) {\n  return isPlainObject(wat) && 'nativeEvent' in wat && 'preventDefault' in wat && 'stopPropagation' in wat;\n}\n\n/**\n * Checks whether given value is NaN\n * {@link isNaN}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nfunction isNaN(wat) {\n  return typeof wat === 'number' && wat !== wat;\n}\n\n/**\n * Checks whether given value's type is an instance of provided constructor.\n * {@link isInstanceOf}.\n *\n * @param wat A value to be checked.\n * @param base A constructor to be used in a check.\n * @returns A boolean representing the result.\n */\nfunction isInstanceOf(wat, base) {\n  try {\n    return wat instanceof base;\n  } catch (_e) {\n    return false;\n  }\n}\n\nexport { isDOMError, isDOMException, isElement, isError, isErrorEvent, isEvent, isInstanceOf, isNaN, isPlainObject, isPrimitive, isRegExp, isString, isSyntheticEvent, isThenable };\n//# sourceMappingURL=is.js.map\n","import { timestampInSeconds, uuid4, dropUndefinedKeys } from '@sentry/utils';\n\n/**\n * Creates a new `Session` object by setting certain default parameters. If optional @param context\n * is passed, the passed properties are applied to the session object.\n *\n * @param context (optional) additional properties to be applied to the returned session object\n *\n * @returns a new `Session` object\n */\nfunction makeSession(context) {\n  // Both timestamp and started are in seconds since the UNIX epoch.\n  const startingTime = timestampInSeconds();\n\n  const session = {\n    sid: uuid4(),\n    init: true,\n    timestamp: startingTime,\n    started: startingTime,\n    duration: 0,\n    status: 'ok',\n    errors: 0,\n    ignoreDuration: false,\n    toJSON: () => sessionToJSON(session),\n  };\n\n  if (context) {\n    updateSession(session, context);\n  }\n\n  return session;\n}\n\n/**\n * Updates a session object with the properties passed in the context.\n *\n * Note that this function mutates the passed object and returns void.\n * (Had to do this instead of returning a new and updated session because closing and sending a session\n * makes an update to the session after it was passed to the sending logic.\n * @see BaseClient.captureSession )\n *\n * @param session the `Session` to update\n * @param context the `SessionContext` holding the properties that should be updated in @param session\n */\n// eslint-disable-next-line complexity\nfunction updateSession(session, context = {}) {\n  if (context.user) {\n    if (!session.ipAddress && context.user.ip_address) {\n      session.ipAddress = context.user.ip_address;\n    }\n\n    if (!session.did && !context.did) {\n      session.did = context.user.id || context.user.email || context.user.username;\n    }\n  }\n\n  session.timestamp = context.timestamp || timestampInSeconds();\n\n  if (context.ignoreDuration) {\n    session.ignoreDuration = context.ignoreDuration;\n  }\n  if (context.sid) {\n    // Good enough uuid validation.  Kamil\n    session.sid = context.sid.length === 32 ? context.sid : uuid4();\n  }\n  if (context.init !== undefined) {\n    session.init = context.init;\n  }\n  if (!session.did && context.did) {\n    session.did = `${context.did}`;\n  }\n  if (typeof context.started === 'number') {\n    session.started = context.started;\n  }\n  if (session.ignoreDuration) {\n    session.duration = undefined;\n  } else if (typeof context.duration === 'number') {\n    session.duration = context.duration;\n  } else {\n    const duration = session.timestamp - session.started;\n    session.duration = duration >= 0 ? duration : 0;\n  }\n  if (context.release) {\n    session.release = context.release;\n  }\n  if (context.environment) {\n    session.environment = context.environment;\n  }\n  if (!session.ipAddress && context.ipAddress) {\n    session.ipAddress = context.ipAddress;\n  }\n  if (!session.userAgent && context.userAgent) {\n    session.userAgent = context.userAgent;\n  }\n  if (typeof context.errors === 'number') {\n    session.errors = context.errors;\n  }\n  if (context.status) {\n    session.status = context.status;\n  }\n}\n\n/**\n * Closes a session by setting its status and updating the session object with it.\n * Internally calls `updateSession` to update the passed session object.\n *\n * Note that this function mutates the passed session (@see updateSession for explanation).\n *\n * @param session the `Session` object to be closed\n * @param status the `SessionStatus` with which the session was closed. If you don't pass a status,\n *               this function will keep the previously set status, unless it was `'ok'` in which case\n *               it is changed to `'exited'`.\n */\nfunction closeSession(session, status) {\n  let context = {};\n  if (status) {\n    context = { status };\n  } else if (session.status === 'ok') {\n    context = { status: 'exited' };\n  }\n\n  updateSession(session, context);\n}\n\n/**\n * Serializes a passed session object to a JSON object with a slightly different structure.\n * This is necessary because the Sentry backend requires a slightly different schema of a session\n * than the one the JS SDKs use internally.\n *\n * @param session the session to be converted\n *\n * @returns a JSON object of the passed session\n */\nfunction sessionToJSON(session) {\n  return dropUndefinedKeys({\n    sid: `${session.sid}`,\n    init: session.init,\n    // Make sure that sec is converted to ms for date constructor\n    started: new Date(session.started * 1000).toISOString(),\n    timestamp: new Date(session.timestamp * 1000).toISOString(),\n    status: session.status,\n    errors: session.errors,\n    did: typeof session.did === 'number' || typeof session.did === 'string' ? `${session.did}` : undefined,\n    duration: session.duration,\n    attrs: {\n      release: session.release,\n      environment: session.environment,\n      ip_address: session.ipAddress,\n      user_agent: session.userAgent,\n    },\n  });\n}\n\nexport { closeSession, makeSession, updateSession };\n//# sourceMappingURL=session.js.map\n","var DESCRIPTORS = require('../internals/descriptors');\nvar call = require('../internals/function-call');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPropertyKey = require('../internals/to-property-key');\nvar hasOwn = require('../internals/has-own-property');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\n// eslint-disable-next-line es-x/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPropertyKey(P);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (hasOwn(O, P)) return createPropertyDescriptor(!call(propertyIsEnumerableModule.f, O, P), O[P]);\n};\n","// Register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\nvar isLocalhost = function () { return Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n); }\n\nvar waitWindowLoad\n// https://github.com/yyx990803/register-service-worker/pull/33#discussion_r394181861\nif (typeof window !== 'undefined') {\n  // Typically, a browser that supports `serviceWorker` should also have supported\n  // `Promise`. But as this package can be used in environments without service\n  // worker support (in that case it would do nothing), there's a chance that\n  // `Promise` does not exist. So we must check for its existence first.\n  if (typeof Promise !== 'undefined') {\n    waitWindowLoad = new Promise(function (resolve) { return window.addEventListener('load', resolve); })\n  } else {\n    waitWindowLoad = { then: function (cb) { return window.addEventListener('load', cb); } }\n  }\n}\n\nexport function register (swUrl, hooks) {\n  if ( hooks === void 0 ) hooks = {};\n\n  var registrationOptions = hooks.registrationOptions; if ( registrationOptions === void 0 ) registrationOptions = {};\n  delete hooks.registrationOptions\n\n  var emit = function (hook) {\n    var args = [], len = arguments.length - 1;\n    while ( len-- > 0 ) args[ len ] = arguments[ len + 1 ];\n\n    if (hooks && hooks[hook]) {\n      hooks[hook].apply(hooks, args)\n    }\n  }\n\n  if ('serviceWorker' in navigator) {\n    waitWindowLoad.then(function () {\n      if (isLocalhost()) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, emit, registrationOptions)\n        navigator.serviceWorker.ready.then(function (registration) {\n          emit('ready', registration)\n        }).catch(function (error) { return handleError(emit, error); })\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl, emit, registrationOptions)\n        navigator.serviceWorker.ready.then(function (registration) {\n          emit('ready', registration)\n        }).catch(function (error) { return handleError(emit, error); })\n      }\n    })\n  }\n}\n\nfunction handleError (emit, error) {\n  if (!navigator.onLine) {\n    emit('offline')\n  }\n  emit('error', error)\n}\n\nfunction registerValidSW (swUrl, emit, registrationOptions) {\n  navigator.serviceWorker\n    .register(swUrl, registrationOptions)\n    .then(function (registration) {\n      emit('registered', registration)\n      if (registration.waiting) {\n        emit('updated', registration)\n        return\n      }\n      registration.onupdatefound = function () {\n        emit('updatefound', registration)\n        var installingWorker = registration.installing\n        installingWorker.onstatechange = function () {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              emit('updated', registration)\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              emit('cached', registration)\n            }\n          }\n        }\n      }\n    })\n    .catch(function (error) { return handleError(emit, error); })\n}\n\nfunction checkValidServiceWorker (swUrl, emit, registrationOptions) {\n  // Check if the service worker can be found.\n  fetch(swUrl)\n    .then(function (response) {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (response.status === 404) {\n        // No service worker found.\n        emit('error', new Error((\"Service worker not found at \" + swUrl)))\n        unregister()\n      } else if (response.headers.get('content-type').indexOf('javascript') === -1) {\n        emit('error', new Error(\n          \"Expected \" + swUrl + \" to have javascript content-type, \" +\n          \"but received \" + (response.headers.get('content-type'))))\n        unregister()\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, emit, registrationOptions)\n      }\n    })\n    .catch(function (error) { return handleError(emit, error); })\n}\n\nexport function unregister () {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(function (registration) {\n      registration.unregister()\n    }).catch(function (error) { return handleError(emit, error); })\n  }\n}\n","export var Cache;\n(function (Cache) {\n})(Cache || (Cache = {}));\n//# sourceMappingURL=Cache.js.map","import { invariant } from \"../../utilities/globals/index.js\";\nexport function toPromise(observable) {\n    var completed = false;\n    return new Promise(function (resolve, reject) {\n        observable.subscribe({\n            next: function (data) {\n                if (completed) {\n                    __DEV__ && invariant.warn(\"Promise Wrapper does not support multiple results from Observable\");\n                }\n                else {\n                    completed = true;\n                    resolve(data);\n                }\n            },\n            error: reject,\n        });\n    });\n}\n//# sourceMappingURL=toPromise.js.map","import { __assign } from \"tslib\";\nimport { parse } from 'graphql';\nvar docCache = new Map();\nvar fragmentSourceMap = new Map();\nvar printFragmentWarnings = true;\nvar experimentalFragmentVariables = false;\nfunction normalize(string) {\n    return string.replace(/[\\s,]+/g, ' ').trim();\n}\nfunction cacheKeyFromLoc(loc) {\n    return normalize(loc.source.body.substring(loc.start, loc.end));\n}\nfunction processFragments(ast) {\n    var seenKeys = new Set();\n    var definitions = [];\n    ast.definitions.forEach(function (fragmentDefinition) {\n        if (fragmentDefinition.kind === 'FragmentDefinition') {\n            var fragmentName = fragmentDefinition.name.value;\n            var sourceKey = cacheKeyFromLoc(fragmentDefinition.loc);\n            var sourceKeySet = fragmentSourceMap.get(fragmentName);\n            if (sourceKeySet && !sourceKeySet.has(sourceKey)) {\n                if (printFragmentWarnings) {\n                    console.warn(\"Warning: fragment with name \" + fragmentName + \" already exists.\\n\"\n                        + \"graphql-tag enforces all fragment names across your application to be unique; read more about\\n\"\n                        + \"this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names\");\n                }\n            }\n            else if (!sourceKeySet) {\n                fragmentSourceMap.set(fragmentName, sourceKeySet = new Set);\n            }\n            sourceKeySet.add(sourceKey);\n            if (!seenKeys.has(sourceKey)) {\n                seenKeys.add(sourceKey);\n                definitions.push(fragmentDefinition);\n            }\n        }\n        else {\n            definitions.push(fragmentDefinition);\n        }\n    });\n    return __assign(__assign({}, ast), { definitions: definitions });\n}\nfunction stripLoc(doc) {\n    var workSet = new Set(doc.definitions);\n    workSet.forEach(function (node) {\n        if (node.loc)\n            delete node.loc;\n        Object.keys(node).forEach(function (key) {\n            var value = node[key];\n            if (value && typeof value === 'object') {\n                workSet.add(value);\n            }\n        });\n    });\n    var loc = doc.loc;\n    if (loc) {\n        delete loc.startToken;\n        delete loc.endToken;\n    }\n    return doc;\n}\nfunction parseDocument(source) {\n    var cacheKey = normalize(source);\n    if (!docCache.has(cacheKey)) {\n        var parsed = parse(source, {\n            experimentalFragmentVariables: experimentalFragmentVariables,\n            allowLegacyFragmentVariables: experimentalFragmentVariables\n        });\n        if (!parsed || parsed.kind !== 'Document') {\n            throw new Error('Not a valid GraphQL document.');\n        }\n        docCache.set(cacheKey, stripLoc(processFragments(parsed)));\n    }\n    return docCache.get(cacheKey);\n}\nexport function gql(literals) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    if (typeof literals === 'string') {\n        literals = [literals];\n    }\n    var result = literals[0];\n    args.forEach(function (arg, i) {\n        if (arg && arg.kind === 'Document') {\n            result += arg.loc.source.body;\n        }\n        else {\n            result += arg;\n        }\n        result += literals[i + 1];\n    });\n    return parseDocument(result);\n}\nexport function resetCaches() {\n    docCache.clear();\n    fragmentSourceMap.clear();\n}\nexport function disableFragmentWarnings() {\n    printFragmentWarnings = false;\n}\nexport function enableExperimentalFragmentVariables() {\n    experimentalFragmentVariables = true;\n}\nexport function disableExperimentalFragmentVariables() {\n    experimentalFragmentVariables = false;\n}\nvar extras = {\n    gql: gql,\n    resetCaches: resetCaches,\n    disableFragmentWarnings: disableFragmentWarnings,\n    enableExperimentalFragmentVariables: enableExperimentalFragmentVariables,\n    disableExperimentalFragmentVariables: disableExperimentalFragmentVariables\n};\n(function (gql_1) {\n    gql_1.gql = extras.gql, gql_1.resetCaches = extras.resetCaches, gql_1.disableFragmentWarnings = extras.disableFragmentWarnings, gql_1.enableExperimentalFragmentVariables = extras.enableExperimentalFragmentVariables, gql_1.disableExperimentalFragmentVariables = extras.disableExperimentalFragmentVariables;\n})(gql || (gql = {}));\ngql[\"default\"] = gql;\nexport default gql;\n//# sourceMappingURL=index.js.map","import { DEV } from \"../utilities/globals/index.js\";\nexport { ApolloClient, mergeOptions, } from \"./ApolloClient.js\";\nexport { ObservableQuery, } from \"./ObservableQuery.js\";\nexport { NetworkStatus } from \"./networkStatus.js\";\nexport * from \"./types.js\";\nexport { isApolloError, ApolloError } from \"../errors/index.js\";\nexport { Cache, ApolloCache, InMemoryCache, MissingFieldError, defaultDataIdFromObject, makeVar, } from \"../cache/index.js\";\nexport * from \"../cache/inmemory/types.js\";\nexport * from \"../link/core/index.js\";\nexport * from \"../link/http/index.js\";\nexport { fromError, toPromise, fromPromise, throwServerError, } from \"../link/utils/index.js\";\nexport { Observable, isReference, makeReference, } from \"../utilities/index.js\";\nimport { setVerbosity } from \"ts-invariant\";\nexport { setVerbosity as setLogVerbosity };\nsetVerbosity(DEV ? \"log\" : \"silent\");\nexport { gql, resetCaches, disableFragmentWarnings, enableExperimentalFragmentVariables, disableExperimentalFragmentVariables, } from 'graphql-tag';\n//# sourceMappingURL=index.js.map","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar hasOwn = require('../internals/has-own-property');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar symbolFor = Symbol && Symbol['for'];\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!hasOwn(WellKnownSymbolsStore, name) || !(NATIVE_SYMBOL || typeof WellKnownSymbolsStore[name] == 'string')) {\n    var description = 'Symbol.' + name;\n    if (NATIVE_SYMBOL && hasOwn(Symbol, name)) {\n      WellKnownSymbolsStore[name] = Symbol[name];\n    } else if (USE_SYMBOL_AS_UID && symbolFor) {\n      WellKnownSymbolsStore[name] = symbolFor(description);\n    } else {\n      WellKnownSymbolsStore[name] = createWellKnownSymbol(description);\n    }\n  } return WellKnownSymbolsStore[name];\n};\n","import { __assign, __extends, __rest } from \"tslib\";\nimport { invariant } from \"../../utilities/globals/index.js\";\nimport { dep } from 'optimism';\nimport { equal } from '@wry/equality';\nimport { Trie } from '@wry/trie';\nimport { isReference, makeReference, DeepMerger, maybeDeepFreeze, canUseWeakMap, isNonNullObject, } from \"../../utilities/index.js\";\nimport { hasOwn, fieldNameFromStoreName } from \"./helpers.js\";\nvar DELETE = Object.create(null);\nvar delModifier = function () { return DELETE; };\nvar INVALIDATE = Object.create(null);\nvar EntityStore = (function () {\n    function EntityStore(policies, group) {\n        var _this = this;\n        this.policies = policies;\n        this.group = group;\n        this.data = Object.create(null);\n        this.rootIds = Object.create(null);\n        this.refs = Object.create(null);\n        this.getFieldValue = function (objectOrReference, storeFieldName) { return maybeDeepFreeze(isReference(objectOrReference)\n            ? _this.get(objectOrReference.__ref, storeFieldName)\n            : objectOrReference && objectOrReference[storeFieldName]); };\n        this.canRead = function (objOrRef) {\n            return isReference(objOrRef)\n                ? _this.has(objOrRef.__ref)\n                : typeof objOrRef === \"object\";\n        };\n        this.toReference = function (objOrIdOrRef, mergeIntoStore) {\n            if (typeof objOrIdOrRef === \"string\") {\n                return makeReference(objOrIdOrRef);\n            }\n            if (isReference(objOrIdOrRef)) {\n                return objOrIdOrRef;\n            }\n            var id = _this.policies.identify(objOrIdOrRef)[0];\n            if (id) {\n                var ref = makeReference(id);\n                if (mergeIntoStore) {\n                    _this.merge(id, objOrIdOrRef);\n                }\n                return ref;\n            }\n        };\n    }\n    EntityStore.prototype.toObject = function () {\n        return __assign({}, this.data);\n    };\n    EntityStore.prototype.has = function (dataId) {\n        return this.lookup(dataId, true) !== void 0;\n    };\n    EntityStore.prototype.get = function (dataId, fieldName) {\n        this.group.depend(dataId, fieldName);\n        if (hasOwn.call(this.data, dataId)) {\n            var storeObject = this.data[dataId];\n            if (storeObject && hasOwn.call(storeObject, fieldName)) {\n                return storeObject[fieldName];\n            }\n        }\n        if (fieldName === \"__typename\" &&\n            hasOwn.call(this.policies.rootTypenamesById, dataId)) {\n            return this.policies.rootTypenamesById[dataId];\n        }\n        if (this instanceof Layer) {\n            return this.parent.get(dataId, fieldName);\n        }\n    };\n    EntityStore.prototype.lookup = function (dataId, dependOnExistence) {\n        if (dependOnExistence)\n            this.group.depend(dataId, \"__exists\");\n        if (hasOwn.call(this.data, dataId)) {\n            return this.data[dataId];\n        }\n        if (this instanceof Layer) {\n            return this.parent.lookup(dataId, dependOnExistence);\n        }\n        if (this.policies.rootTypenamesById[dataId]) {\n            return Object.create(null);\n        }\n    };\n    EntityStore.prototype.merge = function (older, newer) {\n        var _this = this;\n        var dataId;\n        if (isReference(older))\n            older = older.__ref;\n        if (isReference(newer))\n            newer = newer.__ref;\n        var existing = typeof older === \"string\"\n            ? this.lookup(dataId = older)\n            : older;\n        var incoming = typeof newer === \"string\"\n            ? this.lookup(dataId = newer)\n            : newer;\n        if (!incoming)\n            return;\n        __DEV__ ? invariant(typeof dataId === \"string\", \"store.merge expects a string ID\") : invariant(typeof dataId === \"string\", 1);\n        var merged = new DeepMerger(storeObjectReconciler).merge(existing, incoming);\n        this.data[dataId] = merged;\n        if (merged !== existing) {\n            delete this.refs[dataId];\n            if (this.group.caching) {\n                var fieldsToDirty_1 = Object.create(null);\n                if (!existing)\n                    fieldsToDirty_1.__exists = 1;\n                Object.keys(incoming).forEach(function (storeFieldName) {\n                    if (!existing || existing[storeFieldName] !== merged[storeFieldName]) {\n                        fieldsToDirty_1[storeFieldName] = 1;\n                        var fieldName = fieldNameFromStoreName(storeFieldName);\n                        if (fieldName !== storeFieldName &&\n                            !_this.policies.hasKeyArgs(merged.__typename, fieldName)) {\n                            fieldsToDirty_1[fieldName] = 1;\n                        }\n                        if (merged[storeFieldName] === void 0 && !(_this instanceof Layer)) {\n                            delete merged[storeFieldName];\n                        }\n                    }\n                });\n                if (fieldsToDirty_1.__typename &&\n                    !(existing && existing.__typename) &&\n                    this.policies.rootTypenamesById[dataId] === merged.__typename) {\n                    delete fieldsToDirty_1.__typename;\n                }\n                Object.keys(fieldsToDirty_1).forEach(function (fieldName) { return _this.group.dirty(dataId, fieldName); });\n            }\n        }\n    };\n    EntityStore.prototype.modify = function (dataId, fields) {\n        var _this = this;\n        var storeObject = this.lookup(dataId);\n        if (storeObject) {\n            var changedFields_1 = Object.create(null);\n            var needToMerge_1 = false;\n            var allDeleted_1 = true;\n            var sharedDetails_1 = {\n                DELETE: DELETE,\n                INVALIDATE: INVALIDATE,\n                isReference: isReference,\n                toReference: this.toReference,\n                canRead: this.canRead,\n                readField: function (fieldNameOrOptions, from) { return _this.policies.readField(typeof fieldNameOrOptions === \"string\" ? {\n                    fieldName: fieldNameOrOptions,\n                    from: from || makeReference(dataId),\n                } : fieldNameOrOptions, { store: _this }); },\n            };\n            Object.keys(storeObject).forEach(function (storeFieldName) {\n                var fieldName = fieldNameFromStoreName(storeFieldName);\n                var fieldValue = storeObject[storeFieldName];\n                if (fieldValue === void 0)\n                    return;\n                var modify = typeof fields === \"function\"\n                    ? fields\n                    : fields[storeFieldName] || fields[fieldName];\n                if (modify) {\n                    var newValue = modify === delModifier ? DELETE :\n                        modify(maybeDeepFreeze(fieldValue), __assign(__assign({}, sharedDetails_1), { fieldName: fieldName, storeFieldName: storeFieldName, storage: _this.getStorage(dataId, storeFieldName) }));\n                    if (newValue === INVALIDATE) {\n                        _this.group.dirty(dataId, storeFieldName);\n                    }\n                    else {\n                        if (newValue === DELETE)\n                            newValue = void 0;\n                        if (newValue !== fieldValue) {\n                            changedFields_1[storeFieldName] = newValue;\n                            needToMerge_1 = true;\n                            fieldValue = newValue;\n                        }\n                    }\n                }\n                if (fieldValue !== void 0) {\n                    allDeleted_1 = false;\n                }\n            });\n            if (needToMerge_1) {\n                this.merge(dataId, changedFields_1);\n                if (allDeleted_1) {\n                    if (this instanceof Layer) {\n                        this.data[dataId] = void 0;\n                    }\n                    else {\n                        delete this.data[dataId];\n                    }\n                    this.group.dirty(dataId, \"__exists\");\n                }\n                return true;\n            }\n        }\n        return false;\n    };\n    EntityStore.prototype.delete = function (dataId, fieldName, args) {\n        var _a;\n        var storeObject = this.lookup(dataId);\n        if (storeObject) {\n            var typename = this.getFieldValue(storeObject, \"__typename\");\n            var storeFieldName = fieldName && args\n                ? this.policies.getStoreFieldName({ typename: typename, fieldName: fieldName, args: args })\n                : fieldName;\n            return this.modify(dataId, storeFieldName ? (_a = {},\n                _a[storeFieldName] = delModifier,\n                _a) : delModifier);\n        }\n        return false;\n    };\n    EntityStore.prototype.evict = function (options, limit) {\n        var evicted = false;\n        if (options.id) {\n            if (hasOwn.call(this.data, options.id)) {\n                evicted = this.delete(options.id, options.fieldName, options.args);\n            }\n            if (this instanceof Layer && this !== limit) {\n                evicted = this.parent.evict(options, limit) || evicted;\n            }\n            if (options.fieldName || evicted) {\n                this.group.dirty(options.id, options.fieldName || \"__exists\");\n            }\n        }\n        return evicted;\n    };\n    EntityStore.prototype.clear = function () {\n        this.replace(null);\n    };\n    EntityStore.prototype.extract = function () {\n        var _this = this;\n        var obj = this.toObject();\n        var extraRootIds = [];\n        this.getRootIdSet().forEach(function (id) {\n            if (!hasOwn.call(_this.policies.rootTypenamesById, id)) {\n                extraRootIds.push(id);\n            }\n        });\n        if (extraRootIds.length) {\n            obj.__META = { extraRootIds: extraRootIds.sort() };\n        }\n        return obj;\n    };\n    EntityStore.prototype.replace = function (newData) {\n        var _this = this;\n        Object.keys(this.data).forEach(function (dataId) {\n            if (!(newData && hasOwn.call(newData, dataId))) {\n                _this.delete(dataId);\n            }\n        });\n        if (newData) {\n            var __META = newData.__META, rest_1 = __rest(newData, [\"__META\"]);\n            Object.keys(rest_1).forEach(function (dataId) {\n                _this.merge(dataId, rest_1[dataId]);\n            });\n            if (__META) {\n                __META.extraRootIds.forEach(this.retain, this);\n            }\n        }\n    };\n    EntityStore.prototype.retain = function (rootId) {\n        return this.rootIds[rootId] = (this.rootIds[rootId] || 0) + 1;\n    };\n    EntityStore.prototype.release = function (rootId) {\n        if (this.rootIds[rootId] > 0) {\n            var count = --this.rootIds[rootId];\n            if (!count)\n                delete this.rootIds[rootId];\n            return count;\n        }\n        return 0;\n    };\n    EntityStore.prototype.getRootIdSet = function (ids) {\n        if (ids === void 0) { ids = new Set(); }\n        Object.keys(this.rootIds).forEach(ids.add, ids);\n        if (this instanceof Layer) {\n            this.parent.getRootIdSet(ids);\n        }\n        else {\n            Object.keys(this.policies.rootTypenamesById).forEach(ids.add, ids);\n        }\n        return ids;\n    };\n    EntityStore.prototype.gc = function () {\n        var _this = this;\n        var ids = this.getRootIdSet();\n        var snapshot = this.toObject();\n        ids.forEach(function (id) {\n            if (hasOwn.call(snapshot, id)) {\n                Object.keys(_this.findChildRefIds(id)).forEach(ids.add, ids);\n                delete snapshot[id];\n            }\n        });\n        var idsToRemove = Object.keys(snapshot);\n        if (idsToRemove.length) {\n            var root_1 = this;\n            while (root_1 instanceof Layer)\n                root_1 = root_1.parent;\n            idsToRemove.forEach(function (id) { return root_1.delete(id); });\n        }\n        return idsToRemove;\n    };\n    EntityStore.prototype.findChildRefIds = function (dataId) {\n        if (!hasOwn.call(this.refs, dataId)) {\n            var found_1 = this.refs[dataId] = Object.create(null);\n            var root = this.data[dataId];\n            if (!root)\n                return found_1;\n            var workSet_1 = new Set([root]);\n            workSet_1.forEach(function (obj) {\n                if (isReference(obj)) {\n                    found_1[obj.__ref] = true;\n                }\n                if (isNonNullObject(obj)) {\n                    Object.keys(obj).forEach(function (key) {\n                        var child = obj[key];\n                        if (isNonNullObject(child)) {\n                            workSet_1.add(child);\n                        }\n                    });\n                }\n            });\n        }\n        return this.refs[dataId];\n    };\n    EntityStore.prototype.makeCacheKey = function () {\n        return this.group.keyMaker.lookupArray(arguments);\n    };\n    return EntityStore;\n}());\nexport { EntityStore };\nvar CacheGroup = (function () {\n    function CacheGroup(caching, parent) {\n        if (parent === void 0) { parent = null; }\n        this.caching = caching;\n        this.parent = parent;\n        this.d = null;\n        this.resetCaching();\n    }\n    CacheGroup.prototype.resetCaching = function () {\n        this.d = this.caching ? dep() : null;\n        this.keyMaker = new Trie(canUseWeakMap);\n    };\n    CacheGroup.prototype.depend = function (dataId, storeFieldName) {\n        if (this.d) {\n            this.d(makeDepKey(dataId, storeFieldName));\n            var fieldName = fieldNameFromStoreName(storeFieldName);\n            if (fieldName !== storeFieldName) {\n                this.d(makeDepKey(dataId, fieldName));\n            }\n            if (this.parent) {\n                this.parent.depend(dataId, storeFieldName);\n            }\n        }\n    };\n    CacheGroup.prototype.dirty = function (dataId, storeFieldName) {\n        if (this.d) {\n            this.d.dirty(makeDepKey(dataId, storeFieldName), storeFieldName === \"__exists\" ? \"forget\" : \"setDirty\");\n        }\n    };\n    return CacheGroup;\n}());\nfunction makeDepKey(dataId, storeFieldName) {\n    return storeFieldName + '#' + dataId;\n}\nexport function maybeDependOnExistenceOfEntity(store, entityId) {\n    if (supportsResultCaching(store)) {\n        store.group.depend(entityId, \"__exists\");\n    }\n}\n(function (EntityStore) {\n    var Root = (function (_super) {\n        __extends(Root, _super);\n        function Root(_a) {\n            var policies = _a.policies, _b = _a.resultCaching, resultCaching = _b === void 0 ? true : _b, seed = _a.seed;\n            var _this = _super.call(this, policies, new CacheGroup(resultCaching)) || this;\n            _this.stump = new Stump(_this);\n            _this.storageTrie = new Trie(canUseWeakMap);\n            if (seed)\n                _this.replace(seed);\n            return _this;\n        }\n        Root.prototype.addLayer = function (layerId, replay) {\n            return this.stump.addLayer(layerId, replay);\n        };\n        Root.prototype.removeLayer = function () {\n            return this;\n        };\n        Root.prototype.getStorage = function () {\n            return this.storageTrie.lookupArray(arguments);\n        };\n        return Root;\n    }(EntityStore));\n    EntityStore.Root = Root;\n})(EntityStore || (EntityStore = {}));\nvar Layer = (function (_super) {\n    __extends(Layer, _super);\n    function Layer(id, parent, replay, group) {\n        var _this = _super.call(this, parent.policies, group) || this;\n        _this.id = id;\n        _this.parent = parent;\n        _this.replay = replay;\n        _this.group = group;\n        replay(_this);\n        return _this;\n    }\n    Layer.prototype.addLayer = function (layerId, replay) {\n        return new Layer(layerId, this, replay, this.group);\n    };\n    Layer.prototype.removeLayer = function (layerId) {\n        var _this = this;\n        var parent = this.parent.removeLayer(layerId);\n        if (layerId === this.id) {\n            if (this.group.caching) {\n                Object.keys(this.data).forEach(function (dataId) {\n                    var ownStoreObject = _this.data[dataId];\n                    var parentStoreObject = parent[\"lookup\"](dataId);\n                    if (!parentStoreObject) {\n                        _this.delete(dataId);\n                    }\n                    else if (!ownStoreObject) {\n                        _this.group.dirty(dataId, \"__exists\");\n                        Object.keys(parentStoreObject).forEach(function (storeFieldName) {\n                            _this.group.dirty(dataId, storeFieldName);\n                        });\n                    }\n                    else if (ownStoreObject !== parentStoreObject) {\n                        Object.keys(ownStoreObject).forEach(function (storeFieldName) {\n                            if (!equal(ownStoreObject[storeFieldName], parentStoreObject[storeFieldName])) {\n                                _this.group.dirty(dataId, storeFieldName);\n                            }\n                        });\n                    }\n                });\n            }\n            return parent;\n        }\n        if (parent === this.parent)\n            return this;\n        return parent.addLayer(this.id, this.replay);\n    };\n    Layer.prototype.toObject = function () {\n        return __assign(__assign({}, this.parent.toObject()), this.data);\n    };\n    Layer.prototype.findChildRefIds = function (dataId) {\n        var fromParent = this.parent.findChildRefIds(dataId);\n        return hasOwn.call(this.data, dataId) ? __assign(__assign({}, fromParent), _super.prototype.findChildRefIds.call(this, dataId)) : fromParent;\n    };\n    Layer.prototype.getStorage = function () {\n        var p = this.parent;\n        while (p.parent)\n            p = p.parent;\n        return p.getStorage.apply(p, arguments);\n    };\n    return Layer;\n}(EntityStore));\nvar Stump = (function (_super) {\n    __extends(Stump, _super);\n    function Stump(root) {\n        return _super.call(this, \"EntityStore.Stump\", root, function () { }, new CacheGroup(root.group.caching, root.group)) || this;\n    }\n    Stump.prototype.removeLayer = function () {\n        return this;\n    };\n    Stump.prototype.merge = function () {\n        return this.parent.merge.apply(this.parent, arguments);\n    };\n    return Stump;\n}(Layer));\nfunction storeObjectReconciler(existingObject, incomingObject, property) {\n    var existingValue = existingObject[property];\n    var incomingValue = incomingObject[property];\n    return equal(existingValue, incomingValue) ? existingValue : incomingValue;\n}\nexport function supportsResultCaching(store) {\n    return !!(store instanceof EntityStore && store.group.caching);\n}\n//# sourceMappingURL=entityStore.js.map","import { __assign } from \"tslib\";\nimport { invariant } from \"../../utilities/globals/index.js\";\nimport { wrap } from 'optimism';\nimport { isField, resultKeyNameFromField, isReference, makeReference, createFragmentMap, shouldInclude, addTypenameToDocument, getDefaultValues, getFragmentDefinitions, getMainDefinition, getQueryDefinition, getFragmentFromSelection, maybeDeepFreeze, mergeDeepArray, DeepMerger, isNonNullObject, canUseWeakMap, compact, } from \"../../utilities/index.js\";\nimport { maybeDependOnExistenceOfEntity, supportsResultCaching } from \"./entityStore.js\";\nimport { getTypenameFromStoreObject, isArray, shouldCanonizeResults } from \"./helpers.js\";\nimport { MissingFieldError } from \"../core/types/common.js\";\nimport { canonicalStringify, ObjectCanon } from \"./object-canon.js\";\n;\nfunction execSelectionSetKeyArgs(options) {\n    return [\n        options.selectionSet,\n        options.objectOrReference,\n        options.context,\n        options.context.canonizeResults,\n    ];\n}\nvar StoreReader = (function () {\n    function StoreReader(config) {\n        var _this = this;\n        this.knownResults = new (canUseWeakMap ? WeakMap : Map)();\n        this.config = compact(config, {\n            addTypename: config.addTypename !== false,\n            canonizeResults: shouldCanonizeResults(config),\n        });\n        this.canon = config.canon || new ObjectCanon;\n        this.executeSelectionSet = wrap(function (options) {\n            var _a;\n            var canonizeResults = options.context.canonizeResults;\n            var peekArgs = execSelectionSetKeyArgs(options);\n            peekArgs[3] = !canonizeResults;\n            var other = (_a = _this.executeSelectionSet).peek.apply(_a, peekArgs);\n            if (other) {\n                if (canonizeResults) {\n                    return __assign(__assign({}, other), { result: _this.canon.admit(other.result) });\n                }\n                return other;\n            }\n            maybeDependOnExistenceOfEntity(options.context.store, options.enclosingRef.__ref);\n            return _this.execSelectionSetImpl(options);\n        }, {\n            max: this.config.resultCacheMaxSize,\n            keyArgs: execSelectionSetKeyArgs,\n            makeCacheKey: function (selectionSet, parent, context, canonizeResults) {\n                if (supportsResultCaching(context.store)) {\n                    return context.store.makeCacheKey(selectionSet, isReference(parent) ? parent.__ref : parent, context.varString, canonizeResults);\n                }\n            }\n        });\n        this.executeSubSelectedArray = wrap(function (options) {\n            maybeDependOnExistenceOfEntity(options.context.store, options.enclosingRef.__ref);\n            return _this.execSubSelectedArrayImpl(options);\n        }, {\n            max: this.config.resultCacheMaxSize,\n            makeCacheKey: function (_a) {\n                var field = _a.field, array = _a.array, context = _a.context;\n                if (supportsResultCaching(context.store)) {\n                    return context.store.makeCacheKey(field, array, context.varString);\n                }\n            }\n        });\n    }\n    StoreReader.prototype.resetCanon = function () {\n        this.canon = new ObjectCanon;\n    };\n    StoreReader.prototype.diffQueryAgainstStore = function (_a) {\n        var store = _a.store, query = _a.query, _b = _a.rootId, rootId = _b === void 0 ? 'ROOT_QUERY' : _b, variables = _a.variables, _c = _a.returnPartialData, returnPartialData = _c === void 0 ? true : _c, _d = _a.canonizeResults, canonizeResults = _d === void 0 ? this.config.canonizeResults : _d;\n        var policies = this.config.cache.policies;\n        variables = __assign(__assign({}, getDefaultValues(getQueryDefinition(query))), variables);\n        var rootRef = makeReference(rootId);\n        var execResult = this.executeSelectionSet({\n            selectionSet: getMainDefinition(query).selectionSet,\n            objectOrReference: rootRef,\n            enclosingRef: rootRef,\n            context: {\n                store: store,\n                query: query,\n                policies: policies,\n                variables: variables,\n                varString: canonicalStringify(variables),\n                canonizeResults: canonizeResults,\n                fragmentMap: createFragmentMap(getFragmentDefinitions(query)),\n            },\n        });\n        var missing;\n        if (execResult.missing) {\n            missing = [new MissingFieldError(firstMissing(execResult.missing), execResult.missing, query, variables)];\n            if (!returnPartialData) {\n                throw missing[0];\n            }\n        }\n        return {\n            result: execResult.result,\n            complete: !missing,\n            missing: missing,\n        };\n    };\n    StoreReader.prototype.isFresh = function (result, parent, selectionSet, context) {\n        if (supportsResultCaching(context.store) &&\n            this.knownResults.get(result) === selectionSet) {\n            var latest = this.executeSelectionSet.peek(selectionSet, parent, context, this.canon.isKnown(result));\n            if (latest && result === latest.result) {\n                return true;\n            }\n        }\n        return false;\n    };\n    StoreReader.prototype.execSelectionSetImpl = function (_a) {\n        var _this = this;\n        var selectionSet = _a.selectionSet, objectOrReference = _a.objectOrReference, enclosingRef = _a.enclosingRef, context = _a.context;\n        if (isReference(objectOrReference) &&\n            !context.policies.rootTypenamesById[objectOrReference.__ref] &&\n            !context.store.has(objectOrReference.__ref)) {\n            return {\n                result: this.canon.empty,\n                missing: \"Dangling reference to missing \".concat(objectOrReference.__ref, \" object\"),\n            };\n        }\n        var variables = context.variables, policies = context.policies, store = context.store;\n        var typename = store.getFieldValue(objectOrReference, \"__typename\");\n        var objectsToMerge = [];\n        var missing;\n        var missingMerger = new DeepMerger();\n        if (this.config.addTypename &&\n            typeof typename === \"string\" &&\n            !policies.rootIdsByTypename[typename]) {\n            objectsToMerge.push({ __typename: typename });\n        }\n        function handleMissing(result, resultName) {\n            var _a;\n            if (result.missing) {\n                missing = missingMerger.merge(missing, (_a = {}, _a[resultName] = result.missing, _a));\n            }\n            return result.result;\n        }\n        var workSet = new Set(selectionSet.selections);\n        workSet.forEach(function (selection) {\n            var _a, _b;\n            if (!shouldInclude(selection, variables))\n                return;\n            if (isField(selection)) {\n                var fieldValue = policies.readField({\n                    fieldName: selection.name.value,\n                    field: selection,\n                    variables: context.variables,\n                    from: objectOrReference,\n                }, context);\n                var resultName = resultKeyNameFromField(selection);\n                if (fieldValue === void 0) {\n                    if (!addTypenameToDocument.added(selection)) {\n                        missing = missingMerger.merge(missing, (_a = {},\n                            _a[resultName] = \"Can't find field '\".concat(selection.name.value, \"' on \").concat(isReference(objectOrReference)\n                                ? objectOrReference.__ref + \" object\"\n                                : \"object \" + JSON.stringify(objectOrReference, null, 2)),\n                            _a));\n                    }\n                }\n                else if (isArray(fieldValue)) {\n                    fieldValue = handleMissing(_this.executeSubSelectedArray({\n                        field: selection,\n                        array: fieldValue,\n                        enclosingRef: enclosingRef,\n                        context: context,\n                    }), resultName);\n                }\n                else if (!selection.selectionSet) {\n                    if (context.canonizeResults) {\n                        fieldValue = _this.canon.pass(fieldValue);\n                    }\n                }\n                else if (fieldValue != null) {\n                    fieldValue = handleMissing(_this.executeSelectionSet({\n                        selectionSet: selection.selectionSet,\n                        objectOrReference: fieldValue,\n                        enclosingRef: isReference(fieldValue) ? fieldValue : enclosingRef,\n                        context: context,\n                    }), resultName);\n                }\n                if (fieldValue !== void 0) {\n                    objectsToMerge.push((_b = {}, _b[resultName] = fieldValue, _b));\n                }\n            }\n            else {\n                var fragment = getFragmentFromSelection(selection, context.fragmentMap);\n                if (fragment && policies.fragmentMatches(fragment, typename)) {\n                    fragment.selectionSet.selections.forEach(workSet.add, workSet);\n                }\n            }\n        });\n        var result = mergeDeepArray(objectsToMerge);\n        var finalResult = { result: result, missing: missing };\n        var frozen = context.canonizeResults\n            ? this.canon.admit(finalResult)\n            : maybeDeepFreeze(finalResult);\n        if (frozen.result) {\n            this.knownResults.set(frozen.result, selectionSet);\n        }\n        return frozen;\n    };\n    StoreReader.prototype.execSubSelectedArrayImpl = function (_a) {\n        var _this = this;\n        var field = _a.field, array = _a.array, enclosingRef = _a.enclosingRef, context = _a.context;\n        var missing;\n        var missingMerger = new DeepMerger();\n        function handleMissing(childResult, i) {\n            var _a;\n            if (childResult.missing) {\n                missing = missingMerger.merge(missing, (_a = {}, _a[i] = childResult.missing, _a));\n            }\n            return childResult.result;\n        }\n        if (field.selectionSet) {\n            array = array.filter(context.store.canRead);\n        }\n        array = array.map(function (item, i) {\n            if (item === null) {\n                return null;\n            }\n            if (isArray(item)) {\n                return handleMissing(_this.executeSubSelectedArray({\n                    field: field,\n                    array: item,\n                    enclosingRef: enclosingRef,\n                    context: context,\n                }), i);\n            }\n            if (field.selectionSet) {\n                return handleMissing(_this.executeSelectionSet({\n                    selectionSet: field.selectionSet,\n                    objectOrReference: item,\n                    enclosingRef: isReference(item) ? item : enclosingRef,\n                    context: context,\n                }), i);\n            }\n            if (__DEV__) {\n                assertSelectionSetForIdValue(context.store, field, item);\n            }\n            return item;\n        });\n        return {\n            result: context.canonizeResults ? this.canon.admit(array) : array,\n            missing: missing,\n        };\n    };\n    return StoreReader;\n}());\nexport { StoreReader };\nfunction firstMissing(tree) {\n    try {\n        JSON.stringify(tree, function (_, value) {\n            if (typeof value === \"string\")\n                throw value;\n            return value;\n        });\n    }\n    catch (result) {\n        return result;\n    }\n}\nfunction assertSelectionSetForIdValue(store, field, fieldValue) {\n    if (!field.selectionSet) {\n        var workSet_1 = new Set([fieldValue]);\n        workSet_1.forEach(function (value) {\n            if (isNonNullObject(value)) {\n                __DEV__ ? invariant(!isReference(value), \"Missing selection set for object of type \".concat(getTypenameFromStoreObject(store, value), \" returned for query field \").concat(field.name.value)) : invariant(!isReference(value), 5);\n                Object.values(value).forEach(workSet_1.add, workSet_1);\n            }\n        });\n    }\n}\n//# sourceMappingURL=readFromStore.js.map","import { makeUniqueId } from \"./makeUniqueId.js\";\nexport function stringifyForDisplay(value) {\n    var undefId = makeUniqueId(\"stringifyForDisplay\");\n    return JSON.stringify(value, function (key, value) {\n        return value === void 0 ? undefId : value;\n    }).split(JSON.stringify(undefId)).join(\"<undefined>\");\n}\n//# sourceMappingURL=stringifyForDisplay.js.map","import { invariant } from \"../../utilities/globals/index.js\";\nimport { argumentsObjectFromField, DeepMerger, isNonEmptyArray, isNonNullObject, } from \"../../utilities/index.js\";\nimport { hasOwn, isArray } from \"./helpers.js\";\nvar specifierInfoCache = Object.create(null);\nfunction lookupSpecifierInfo(spec) {\n    var cacheKey = JSON.stringify(spec);\n    return specifierInfoCache[cacheKey] ||\n        (specifierInfoCache[cacheKey] = Object.create(null));\n}\nexport function keyFieldsFnFromSpecifier(specifier) {\n    var info = lookupSpecifierInfo(specifier);\n    return info.keyFieldsFn || (info.keyFieldsFn = function (object, context) {\n        var extract = function (from, key) { return context.readField(key, from); };\n        var keyObject = context.keyObject = collectSpecifierPaths(specifier, function (schemaKeyPath) {\n            var extracted = extractKeyPath(context.storeObject, schemaKeyPath, extract);\n            if (extracted === void 0 &&\n                object !== context.storeObject &&\n                hasOwn.call(object, schemaKeyPath[0])) {\n                extracted = extractKeyPath(object, schemaKeyPath, extractKey);\n            }\n            __DEV__ ? invariant(extracted !== void 0, \"Missing field '\".concat(schemaKeyPath.join('.'), \"' while extracting keyFields from \").concat(JSON.stringify(object))) : invariant(extracted !== void 0, 2);\n            return extracted;\n        });\n        return \"\".concat(context.typename, \":\").concat(JSON.stringify(keyObject));\n    });\n}\nexport function keyArgsFnFromSpecifier(specifier) {\n    var info = lookupSpecifierInfo(specifier);\n    return info.keyArgsFn || (info.keyArgsFn = function (args, _a) {\n        var field = _a.field, variables = _a.variables, fieldName = _a.fieldName;\n        var collected = collectSpecifierPaths(specifier, function (keyPath) {\n            var firstKey = keyPath[0];\n            var firstChar = firstKey.charAt(0);\n            if (firstChar === \"@\") {\n                if (field && isNonEmptyArray(field.directives)) {\n                    var directiveName_1 = firstKey.slice(1);\n                    var d = field.directives.find(function (d) { return d.name.value === directiveName_1; });\n                    var directiveArgs = d && argumentsObjectFromField(d, variables);\n                    return directiveArgs && extractKeyPath(directiveArgs, keyPath.slice(1));\n                }\n                return;\n            }\n            if (firstChar === \"$\") {\n                var variableName = firstKey.slice(1);\n                if (variables && hasOwn.call(variables, variableName)) {\n                    var varKeyPath = keyPath.slice(0);\n                    varKeyPath[0] = variableName;\n                    return extractKeyPath(variables, varKeyPath);\n                }\n                return;\n            }\n            if (args) {\n                return extractKeyPath(args, keyPath);\n            }\n        });\n        var suffix = JSON.stringify(collected);\n        if (args || suffix !== \"{}\") {\n            fieldName += \":\" + suffix;\n        }\n        return fieldName;\n    });\n}\nexport function collectSpecifierPaths(specifier, extractor) {\n    var merger = new DeepMerger;\n    return getSpecifierPaths(specifier).reduce(function (collected, path) {\n        var _a;\n        var toMerge = extractor(path);\n        if (toMerge !== void 0) {\n            for (var i = path.length - 1; i >= 0; --i) {\n                toMerge = (_a = {}, _a[path[i]] = toMerge, _a);\n            }\n            collected = merger.merge(collected, toMerge);\n        }\n        return collected;\n    }, Object.create(null));\n}\nexport function getSpecifierPaths(spec) {\n    var info = lookupSpecifierInfo(spec);\n    if (!info.paths) {\n        var paths_1 = info.paths = [];\n        var currentPath_1 = [];\n        spec.forEach(function (s, i) {\n            if (isArray(s)) {\n                getSpecifierPaths(s).forEach(function (p) { return paths_1.push(currentPath_1.concat(p)); });\n                currentPath_1.length = 0;\n            }\n            else {\n                currentPath_1.push(s);\n                if (!isArray(spec[i + 1])) {\n                    paths_1.push(currentPath_1.slice(0));\n                    currentPath_1.length = 0;\n                }\n            }\n        });\n    }\n    return info.paths;\n}\nfunction extractKey(object, key) {\n    return object[key];\n}\nexport function extractKeyPath(object, path, extract) {\n    extract = extract || extractKey;\n    return normalize(path.reduce(function reducer(obj, key) {\n        return isArray(obj)\n            ? obj.map(function (child) { return reducer(child, key); })\n            : obj && extract(obj, key);\n    }, object));\n}\nfunction normalize(value) {\n    if (isNonNullObject(value)) {\n        if (isArray(value)) {\n            return value.map(normalize);\n        }\n        return collectSpecifierPaths(Object.keys(value).sort(), function (path) { return extractKeyPath(value, path); });\n    }\n    return value;\n}\n//# sourceMappingURL=key-extractor.js.map","import { __assign, __rest } from \"tslib\";\nimport { invariant, InvariantError } from \"../../utilities/globals/index.js\";\nimport { storeKeyNameFromField, argumentsObjectFromField, isReference, getStoreKeyName, isNonNullObject, stringifyForDisplay, } from \"../../utilities/index.js\";\nimport { hasOwn, fieldNameFromStoreName, storeValueIsStoreObject, selectionSetMatchesResult, TypeOrFieldNameRegExp, defaultDataIdFromObject, isArray, } from \"./helpers.js\";\nimport { cacheSlot } from \"./reactiveVars.js\";\nimport { canonicalStringify } from \"./object-canon.js\";\nimport { keyArgsFnFromSpecifier, keyFieldsFnFromSpecifier } from \"./key-extractor.js\";\ngetStoreKeyName.setStringify(canonicalStringify);\nfunction argsFromFieldSpecifier(spec) {\n    return spec.args !== void 0 ? spec.args :\n        spec.field ? argumentsObjectFromField(spec.field, spec.variables) : null;\n}\nvar nullKeyFieldsFn = function () { return void 0; };\nvar simpleKeyArgsFn = function (_args, context) { return context.fieldName; };\nvar mergeTrueFn = function (existing, incoming, _a) {\n    var mergeObjects = _a.mergeObjects;\n    return mergeObjects(existing, incoming);\n};\nvar mergeFalseFn = function (_, incoming) { return incoming; };\nvar Policies = (function () {\n    function Policies(config) {\n        this.config = config;\n        this.typePolicies = Object.create(null);\n        this.toBeAdded = Object.create(null);\n        this.supertypeMap = new Map();\n        this.fuzzySubtypes = new Map();\n        this.rootIdsByTypename = Object.create(null);\n        this.rootTypenamesById = Object.create(null);\n        this.usingPossibleTypes = false;\n        this.config = __assign({ dataIdFromObject: defaultDataIdFromObject }, config);\n        this.cache = this.config.cache;\n        this.setRootTypename(\"Query\");\n        this.setRootTypename(\"Mutation\");\n        this.setRootTypename(\"Subscription\");\n        if (config.possibleTypes) {\n            this.addPossibleTypes(config.possibleTypes);\n        }\n        if (config.typePolicies) {\n            this.addTypePolicies(config.typePolicies);\n        }\n    }\n    Policies.prototype.identify = function (object, partialContext) {\n        var _a;\n        var policies = this;\n        var typename = partialContext && (partialContext.typename ||\n            ((_a = partialContext.storeObject) === null || _a === void 0 ? void 0 : _a.__typename)) || object.__typename;\n        if (typename === this.rootTypenamesById.ROOT_QUERY) {\n            return [\"ROOT_QUERY\"];\n        }\n        var storeObject = partialContext && partialContext.storeObject || object;\n        var context = __assign(__assign({}, partialContext), { typename: typename, storeObject: storeObject, readField: partialContext && partialContext.readField || function () {\n                var options = normalizeReadFieldOptions(arguments, storeObject);\n                return policies.readField(options, {\n                    store: policies.cache[\"data\"],\n                    variables: options.variables,\n                });\n            } });\n        var id;\n        var policy = typename && this.getTypePolicy(typename);\n        var keyFn = policy && policy.keyFn || this.config.dataIdFromObject;\n        while (keyFn) {\n            var specifierOrId = keyFn(object, context);\n            if (isArray(specifierOrId)) {\n                keyFn = keyFieldsFnFromSpecifier(specifierOrId);\n            }\n            else {\n                id = specifierOrId;\n                break;\n            }\n        }\n        id = id ? String(id) : void 0;\n        return context.keyObject ? [id, context.keyObject] : [id];\n    };\n    Policies.prototype.addTypePolicies = function (typePolicies) {\n        var _this = this;\n        Object.keys(typePolicies).forEach(function (typename) {\n            var _a = typePolicies[typename], queryType = _a.queryType, mutationType = _a.mutationType, subscriptionType = _a.subscriptionType, incoming = __rest(_a, [\"queryType\", \"mutationType\", \"subscriptionType\"]);\n            if (queryType)\n                _this.setRootTypename(\"Query\", typename);\n            if (mutationType)\n                _this.setRootTypename(\"Mutation\", typename);\n            if (subscriptionType)\n                _this.setRootTypename(\"Subscription\", typename);\n            if (hasOwn.call(_this.toBeAdded, typename)) {\n                _this.toBeAdded[typename].push(incoming);\n            }\n            else {\n                _this.toBeAdded[typename] = [incoming];\n            }\n        });\n    };\n    Policies.prototype.updateTypePolicy = function (typename, incoming) {\n        var _this = this;\n        var existing = this.getTypePolicy(typename);\n        var keyFields = incoming.keyFields, fields = incoming.fields;\n        function setMerge(existing, merge) {\n            existing.merge =\n                typeof merge === \"function\" ? merge :\n                    merge === true ? mergeTrueFn :\n                        merge === false ? mergeFalseFn :\n                            existing.merge;\n        }\n        setMerge(existing, incoming.merge);\n        existing.keyFn =\n            keyFields === false ? nullKeyFieldsFn :\n                isArray(keyFields) ? keyFieldsFnFromSpecifier(keyFields) :\n                    typeof keyFields === \"function\" ? keyFields :\n                        existing.keyFn;\n        if (fields) {\n            Object.keys(fields).forEach(function (fieldName) {\n                var existing = _this.getFieldPolicy(typename, fieldName, true);\n                var incoming = fields[fieldName];\n                if (typeof incoming === \"function\") {\n                    existing.read = incoming;\n                }\n                else {\n                    var keyArgs = incoming.keyArgs, read = incoming.read, merge = incoming.merge;\n                    existing.keyFn =\n                        keyArgs === false ? simpleKeyArgsFn :\n                            isArray(keyArgs) ? keyArgsFnFromSpecifier(keyArgs) :\n                                typeof keyArgs === \"function\" ? keyArgs :\n                                    existing.keyFn;\n                    if (typeof read === \"function\") {\n                        existing.read = read;\n                    }\n                    setMerge(existing, merge);\n                }\n                if (existing.read && existing.merge) {\n                    existing.keyFn = existing.keyFn || simpleKeyArgsFn;\n                }\n            });\n        }\n    };\n    Policies.prototype.setRootTypename = function (which, typename) {\n        if (typename === void 0) { typename = which; }\n        var rootId = \"ROOT_\" + which.toUpperCase();\n        var old = this.rootTypenamesById[rootId];\n        if (typename !== old) {\n            __DEV__ ? invariant(!old || old === which, \"Cannot change root \".concat(which, \" __typename more than once\")) : invariant(!old || old === which, 3);\n            if (old)\n                delete this.rootIdsByTypename[old];\n            this.rootIdsByTypename[typename] = rootId;\n            this.rootTypenamesById[rootId] = typename;\n        }\n    };\n    Policies.prototype.addPossibleTypes = function (possibleTypes) {\n        var _this = this;\n        this.usingPossibleTypes = true;\n        Object.keys(possibleTypes).forEach(function (supertype) {\n            _this.getSupertypeSet(supertype, true);\n            possibleTypes[supertype].forEach(function (subtype) {\n                _this.getSupertypeSet(subtype, true).add(supertype);\n                var match = subtype.match(TypeOrFieldNameRegExp);\n                if (!match || match[0] !== subtype) {\n                    _this.fuzzySubtypes.set(subtype, new RegExp(subtype));\n                }\n            });\n        });\n    };\n    Policies.prototype.getTypePolicy = function (typename) {\n        var _this = this;\n        if (!hasOwn.call(this.typePolicies, typename)) {\n            var policy_1 = this.typePolicies[typename] = Object.create(null);\n            policy_1.fields = Object.create(null);\n            var supertypes = this.supertypeMap.get(typename);\n            if (supertypes && supertypes.size) {\n                supertypes.forEach(function (supertype) {\n                    var _a = _this.getTypePolicy(supertype), fields = _a.fields, rest = __rest(_a, [\"fields\"]);\n                    Object.assign(policy_1, rest);\n                    Object.assign(policy_1.fields, fields);\n                });\n            }\n        }\n        var inbox = this.toBeAdded[typename];\n        if (inbox && inbox.length) {\n            inbox.splice(0).forEach(function (policy) {\n                _this.updateTypePolicy(typename, policy);\n            });\n        }\n        return this.typePolicies[typename];\n    };\n    Policies.prototype.getFieldPolicy = function (typename, fieldName, createIfMissing) {\n        if (typename) {\n            var fieldPolicies = this.getTypePolicy(typename).fields;\n            return fieldPolicies[fieldName] || (createIfMissing && (fieldPolicies[fieldName] = Object.create(null)));\n        }\n    };\n    Policies.prototype.getSupertypeSet = function (subtype, createIfMissing) {\n        var supertypeSet = this.supertypeMap.get(subtype);\n        if (!supertypeSet && createIfMissing) {\n            this.supertypeMap.set(subtype, supertypeSet = new Set());\n        }\n        return supertypeSet;\n    };\n    Policies.prototype.fragmentMatches = function (fragment, typename, result, variables) {\n        var _this = this;\n        if (!fragment.typeCondition)\n            return true;\n        if (!typename)\n            return false;\n        var supertype = fragment.typeCondition.name.value;\n        if (typename === supertype)\n            return true;\n        if (this.usingPossibleTypes &&\n            this.supertypeMap.has(supertype)) {\n            var typenameSupertypeSet = this.getSupertypeSet(typename, true);\n            var workQueue_1 = [typenameSupertypeSet];\n            var maybeEnqueue_1 = function (subtype) {\n                var supertypeSet = _this.getSupertypeSet(subtype, false);\n                if (supertypeSet &&\n                    supertypeSet.size &&\n                    workQueue_1.indexOf(supertypeSet) < 0) {\n                    workQueue_1.push(supertypeSet);\n                }\n            };\n            var needToCheckFuzzySubtypes = !!(result && this.fuzzySubtypes.size);\n            var checkingFuzzySubtypes = false;\n            for (var i = 0; i < workQueue_1.length; ++i) {\n                var supertypeSet = workQueue_1[i];\n                if (supertypeSet.has(supertype)) {\n                    if (!typenameSupertypeSet.has(supertype)) {\n                        if (checkingFuzzySubtypes) {\n                            __DEV__ && invariant.warn(\"Inferring subtype \".concat(typename, \" of supertype \").concat(supertype));\n                        }\n                        typenameSupertypeSet.add(supertype);\n                    }\n                    return true;\n                }\n                supertypeSet.forEach(maybeEnqueue_1);\n                if (needToCheckFuzzySubtypes &&\n                    i === workQueue_1.length - 1 &&\n                    selectionSetMatchesResult(fragment.selectionSet, result, variables)) {\n                    needToCheckFuzzySubtypes = false;\n                    checkingFuzzySubtypes = true;\n                    this.fuzzySubtypes.forEach(function (regExp, fuzzyString) {\n                        var match = typename.match(regExp);\n                        if (match && match[0] === typename) {\n                            maybeEnqueue_1(fuzzyString);\n                        }\n                    });\n                }\n            }\n        }\n        return false;\n    };\n    Policies.prototype.hasKeyArgs = function (typename, fieldName) {\n        var policy = this.getFieldPolicy(typename, fieldName, false);\n        return !!(policy && policy.keyFn);\n    };\n    Policies.prototype.getStoreFieldName = function (fieldSpec) {\n        var typename = fieldSpec.typename, fieldName = fieldSpec.fieldName;\n        var policy = this.getFieldPolicy(typename, fieldName, false);\n        var storeFieldName;\n        var keyFn = policy && policy.keyFn;\n        if (keyFn && typename) {\n            var context = {\n                typename: typename,\n                fieldName: fieldName,\n                field: fieldSpec.field || null,\n                variables: fieldSpec.variables,\n            };\n            var args = argsFromFieldSpecifier(fieldSpec);\n            while (keyFn) {\n                var specifierOrString = keyFn(args, context);\n                if (isArray(specifierOrString)) {\n                    keyFn = keyArgsFnFromSpecifier(specifierOrString);\n                }\n                else {\n                    storeFieldName = specifierOrString || fieldName;\n                    break;\n                }\n            }\n        }\n        if (storeFieldName === void 0) {\n            storeFieldName = fieldSpec.field\n                ? storeKeyNameFromField(fieldSpec.field, fieldSpec.variables)\n                : getStoreKeyName(fieldName, argsFromFieldSpecifier(fieldSpec));\n        }\n        if (storeFieldName === false) {\n            return fieldName;\n        }\n        return fieldName === fieldNameFromStoreName(storeFieldName)\n            ? storeFieldName\n            : fieldName + \":\" + storeFieldName;\n    };\n    Policies.prototype.readField = function (options, context) {\n        var objectOrReference = options.from;\n        if (!objectOrReference)\n            return;\n        var nameOrField = options.field || options.fieldName;\n        if (!nameOrField)\n            return;\n        if (options.typename === void 0) {\n            var typename = context.store.getFieldValue(objectOrReference, \"__typename\");\n            if (typename)\n                options.typename = typename;\n        }\n        var storeFieldName = this.getStoreFieldName(options);\n        var fieldName = fieldNameFromStoreName(storeFieldName);\n        var existing = context.store.getFieldValue(objectOrReference, storeFieldName);\n        var policy = this.getFieldPolicy(options.typename, fieldName, false);\n        var read = policy && policy.read;\n        if (read) {\n            var readOptions = makeFieldFunctionOptions(this, objectOrReference, options, context, context.store.getStorage(isReference(objectOrReference)\n                ? objectOrReference.__ref\n                : objectOrReference, storeFieldName));\n            return cacheSlot.withValue(this.cache, read, [existing, readOptions]);\n        }\n        return existing;\n    };\n    Policies.prototype.getReadFunction = function (typename, fieldName) {\n        var policy = this.getFieldPolicy(typename, fieldName, false);\n        return policy && policy.read;\n    };\n    Policies.prototype.getMergeFunction = function (parentTypename, fieldName, childTypename) {\n        var policy = this.getFieldPolicy(parentTypename, fieldName, false);\n        var merge = policy && policy.merge;\n        if (!merge && childTypename) {\n            policy = this.getTypePolicy(childTypename);\n            merge = policy && policy.merge;\n        }\n        return merge;\n    };\n    Policies.prototype.runMergeFunction = function (existing, incoming, _a, context, storage) {\n        var field = _a.field, typename = _a.typename, merge = _a.merge;\n        if (merge === mergeTrueFn) {\n            return makeMergeObjectsFunction(context.store)(existing, incoming);\n        }\n        if (merge === mergeFalseFn) {\n            return incoming;\n        }\n        if (context.overwrite) {\n            existing = void 0;\n        }\n        return merge(existing, incoming, makeFieldFunctionOptions(this, void 0, { typename: typename, fieldName: field.name.value, field: field, variables: context.variables }, context, storage || Object.create(null)));\n    };\n    return Policies;\n}());\nexport { Policies };\nfunction makeFieldFunctionOptions(policies, objectOrReference, fieldSpec, context, storage) {\n    var storeFieldName = policies.getStoreFieldName(fieldSpec);\n    var fieldName = fieldNameFromStoreName(storeFieldName);\n    var variables = fieldSpec.variables || context.variables;\n    var _a = context.store, toReference = _a.toReference, canRead = _a.canRead;\n    return {\n        args: argsFromFieldSpecifier(fieldSpec),\n        field: fieldSpec.field || null,\n        fieldName: fieldName,\n        storeFieldName: storeFieldName,\n        variables: variables,\n        isReference: isReference,\n        toReference: toReference,\n        storage: storage,\n        cache: policies.cache,\n        canRead: canRead,\n        readField: function () {\n            return policies.readField(normalizeReadFieldOptions(arguments, objectOrReference, context), context);\n        },\n        mergeObjects: makeMergeObjectsFunction(context.store),\n    };\n}\nexport function normalizeReadFieldOptions(readFieldArgs, objectOrReference, variables) {\n    var fieldNameOrOptions = readFieldArgs[0], from = readFieldArgs[1], argc = readFieldArgs.length;\n    var options;\n    if (typeof fieldNameOrOptions === \"string\") {\n        options = {\n            fieldName: fieldNameOrOptions,\n            from: argc > 1 ? from : objectOrReference,\n        };\n    }\n    else {\n        options = __assign({}, fieldNameOrOptions);\n        if (!hasOwn.call(options, \"from\")) {\n            options.from = objectOrReference;\n        }\n    }\n    if (__DEV__ && options.from === void 0) {\n        __DEV__ && invariant.warn(\"Undefined 'from' passed to readField with arguments \".concat(stringifyForDisplay(Array.from(readFieldArgs))));\n    }\n    if (void 0 === options.variables) {\n        options.variables = variables;\n    }\n    return options;\n}\nfunction makeMergeObjectsFunction(store) {\n    return function mergeObjects(existing, incoming) {\n        if (isArray(existing) || isArray(incoming)) {\n            throw __DEV__ ? new InvariantError(\"Cannot automatically merge arrays\") : new InvariantError(4);\n        }\n        if (isNonNullObject(existing) &&\n            isNonNullObject(incoming)) {\n            var eType = store.getFieldValue(existing, \"__typename\");\n            var iType = store.getFieldValue(incoming, \"__typename\");\n            var typesDiffer = eType && iType && eType !== iType;\n            if (typesDiffer) {\n                return incoming;\n            }\n            if (isReference(existing) &&\n                storeValueIsStoreObject(incoming)) {\n                store.merge(existing.__ref, incoming);\n                return existing;\n            }\n            if (storeValueIsStoreObject(existing) &&\n                isReference(incoming)) {\n                store.merge(existing, incoming.__ref);\n                return incoming;\n            }\n            if (storeValueIsStoreObject(existing) &&\n                storeValueIsStoreObject(incoming)) {\n                return __assign(__assign({}, existing), incoming);\n            }\n        }\n        return incoming;\n    };\n}\n//# sourceMappingURL=policies.js.map","import { __assign } from \"tslib\";\nimport { invariant, InvariantError } from \"../../utilities/globals/index.js\";\nimport { equal } from '@wry/equality';\nimport { Trie } from '@wry/trie';\nimport { createFragmentMap, getFragmentFromSelection, getDefaultValues, getFragmentDefinitions, getOperationDefinition, getTypenameFromResult, makeReference, isField, resultKeyNameFromField, isReference, shouldInclude, cloneDeep, addTypenameToDocument, isNonEmptyArray, argumentsObjectFromField, } from \"../../utilities/index.js\";\nimport { makeProcessedFieldsMerger, fieldNameFromStoreName, storeValueIsStoreObject, isArray } from \"./helpers.js\";\nimport { canonicalStringify } from \"./object-canon.js\";\nimport { normalizeReadFieldOptions } from \"./policies.js\";\n;\nfunction getContextFlavor(context, clientOnly, deferred) {\n    var key = \"\".concat(clientOnly).concat(deferred);\n    var flavored = context.flavors.get(key);\n    if (!flavored) {\n        context.flavors.set(key, flavored = (context.clientOnly === clientOnly &&\n            context.deferred === deferred) ? context : __assign(__assign({}, context), { clientOnly: clientOnly, deferred: deferred }));\n    }\n    return flavored;\n}\nvar StoreWriter = (function () {\n    function StoreWriter(cache, reader) {\n        this.cache = cache;\n        this.reader = reader;\n    }\n    StoreWriter.prototype.writeToStore = function (store, _a) {\n        var _this = this;\n        var query = _a.query, result = _a.result, dataId = _a.dataId, variables = _a.variables, overwrite = _a.overwrite;\n        var operationDefinition = getOperationDefinition(query);\n        var merger = makeProcessedFieldsMerger();\n        variables = __assign(__assign({}, getDefaultValues(operationDefinition)), variables);\n        var context = {\n            store: store,\n            written: Object.create(null),\n            merge: function (existing, incoming) {\n                return merger.merge(existing, incoming);\n            },\n            variables: variables,\n            varString: canonicalStringify(variables),\n            fragmentMap: createFragmentMap(getFragmentDefinitions(query)),\n            overwrite: !!overwrite,\n            incomingById: new Map,\n            clientOnly: false,\n            deferred: false,\n            flavors: new Map,\n        };\n        var ref = this.processSelectionSet({\n            result: result || Object.create(null),\n            dataId: dataId,\n            selectionSet: operationDefinition.selectionSet,\n            mergeTree: { map: new Map },\n            context: context,\n        });\n        if (!isReference(ref)) {\n            throw __DEV__ ? new InvariantError(\"Could not identify object \".concat(JSON.stringify(result))) : new InvariantError(6);\n        }\n        context.incomingById.forEach(function (_a, dataId) {\n            var storeObject = _a.storeObject, mergeTree = _a.mergeTree, fieldNodeSet = _a.fieldNodeSet;\n            var entityRef = makeReference(dataId);\n            if (mergeTree && mergeTree.map.size) {\n                var applied = _this.applyMerges(mergeTree, entityRef, storeObject, context);\n                if (isReference(applied)) {\n                    return;\n                }\n                storeObject = applied;\n            }\n            if (__DEV__ && !context.overwrite) {\n                var fieldsWithSelectionSets_1 = Object.create(null);\n                fieldNodeSet.forEach(function (field) {\n                    if (field.selectionSet) {\n                        fieldsWithSelectionSets_1[field.name.value] = true;\n                    }\n                });\n                var hasSelectionSet_1 = function (storeFieldName) {\n                    return fieldsWithSelectionSets_1[fieldNameFromStoreName(storeFieldName)] === true;\n                };\n                var hasMergeFunction_1 = function (storeFieldName) {\n                    var childTree = mergeTree && mergeTree.map.get(storeFieldName);\n                    return Boolean(childTree && childTree.info && childTree.info.merge);\n                };\n                Object.keys(storeObject).forEach(function (storeFieldName) {\n                    if (hasSelectionSet_1(storeFieldName) &&\n                        !hasMergeFunction_1(storeFieldName)) {\n                        warnAboutDataLoss(entityRef, storeObject, storeFieldName, context.store);\n                    }\n                });\n            }\n            store.merge(dataId, storeObject);\n        });\n        store.retain(ref.__ref);\n        return ref;\n    };\n    StoreWriter.prototype.processSelectionSet = function (_a) {\n        var _this = this;\n        var dataId = _a.dataId, result = _a.result, selectionSet = _a.selectionSet, context = _a.context, mergeTree = _a.mergeTree;\n        var policies = this.cache.policies;\n        var incoming = Object.create(null);\n        var typename = (dataId && policies.rootTypenamesById[dataId]) ||\n            getTypenameFromResult(result, selectionSet, context.fragmentMap) ||\n            (dataId && context.store.get(dataId, \"__typename\"));\n        if (\"string\" === typeof typename) {\n            incoming.__typename = typename;\n        }\n        var readField = function () {\n            var options = normalizeReadFieldOptions(arguments, incoming, context.variables);\n            if (isReference(options.from)) {\n                var info = context.incomingById.get(options.from.__ref);\n                if (info) {\n                    var result_1 = policies.readField(__assign(__assign({}, options), { from: info.storeObject }), context);\n                    if (result_1 !== void 0) {\n                        return result_1;\n                    }\n                }\n            }\n            return policies.readField(options, context);\n        };\n        var fieldNodeSet = new Set();\n        this.flattenFields(selectionSet, result, context, typename).forEach(function (context, field) {\n            var _a;\n            var resultFieldKey = resultKeyNameFromField(field);\n            var value = result[resultFieldKey];\n            fieldNodeSet.add(field);\n            if (value !== void 0) {\n                var storeFieldName = policies.getStoreFieldName({\n                    typename: typename,\n                    fieldName: field.name.value,\n                    field: field,\n                    variables: context.variables,\n                });\n                var childTree = getChildMergeTree(mergeTree, storeFieldName);\n                var incomingValue = _this.processFieldValue(value, field, field.selectionSet\n                    ? getContextFlavor(context, false, false)\n                    : context, childTree);\n                var childTypename = void 0;\n                if (field.selectionSet &&\n                    (isReference(incomingValue) ||\n                        storeValueIsStoreObject(incomingValue))) {\n                    childTypename = readField(\"__typename\", incomingValue);\n                }\n                var merge = policies.getMergeFunction(typename, field.name.value, childTypename);\n                if (merge) {\n                    childTree.info = {\n                        field: field,\n                        typename: typename,\n                        merge: merge,\n                    };\n                }\n                else {\n                    maybeRecycleChildMergeTree(mergeTree, storeFieldName);\n                }\n                incoming = context.merge(incoming, (_a = {},\n                    _a[storeFieldName] = incomingValue,\n                    _a));\n            }\n            else if (__DEV__ &&\n                !context.clientOnly &&\n                !context.deferred &&\n                !addTypenameToDocument.added(field) &&\n                !policies.getReadFunction(typename, field.name.value)) {\n                __DEV__ && invariant.error(\"Missing field '\".concat(resultKeyNameFromField(field), \"' while writing result \").concat(JSON.stringify(result, null, 2)).substring(0, 1000));\n            }\n        });\n        try {\n            var _b = policies.identify(result, {\n                typename: typename,\n                selectionSet: selectionSet,\n                fragmentMap: context.fragmentMap,\n                storeObject: incoming,\n                readField: readField,\n            }), id = _b[0], keyObject = _b[1];\n            dataId = dataId || id;\n            if (keyObject) {\n                incoming = context.merge(incoming, keyObject);\n            }\n        }\n        catch (e) {\n            if (!dataId)\n                throw e;\n        }\n        if (\"string\" === typeof dataId) {\n            var dataRef = makeReference(dataId);\n            var sets = context.written[dataId] || (context.written[dataId] = []);\n            if (sets.indexOf(selectionSet) >= 0)\n                return dataRef;\n            sets.push(selectionSet);\n            if (this.reader && this.reader.isFresh(result, dataRef, selectionSet, context)) {\n                return dataRef;\n            }\n            var previous_1 = context.incomingById.get(dataId);\n            if (previous_1) {\n                previous_1.storeObject = context.merge(previous_1.storeObject, incoming);\n                previous_1.mergeTree = mergeMergeTrees(previous_1.mergeTree, mergeTree);\n                fieldNodeSet.forEach(function (field) { return previous_1.fieldNodeSet.add(field); });\n            }\n            else {\n                context.incomingById.set(dataId, {\n                    storeObject: incoming,\n                    mergeTree: mergeTreeIsEmpty(mergeTree) ? void 0 : mergeTree,\n                    fieldNodeSet: fieldNodeSet,\n                });\n            }\n            return dataRef;\n        }\n        return incoming;\n    };\n    StoreWriter.prototype.processFieldValue = function (value, field, context, mergeTree) {\n        var _this = this;\n        if (!field.selectionSet || value === null) {\n            return __DEV__ ? cloneDeep(value) : value;\n        }\n        if (isArray(value)) {\n            return value.map(function (item, i) {\n                var value = _this.processFieldValue(item, field, context, getChildMergeTree(mergeTree, i));\n                maybeRecycleChildMergeTree(mergeTree, i);\n                return value;\n            });\n        }\n        return this.processSelectionSet({\n            result: value,\n            selectionSet: field.selectionSet,\n            context: context,\n            mergeTree: mergeTree,\n        });\n    };\n    StoreWriter.prototype.flattenFields = function (selectionSet, result, context, typename) {\n        if (typename === void 0) { typename = getTypenameFromResult(result, selectionSet, context.fragmentMap); }\n        var fieldMap = new Map();\n        var policies = this.cache.policies;\n        var limitingTrie = new Trie(false);\n        (function flatten(selectionSet, inheritedContext) {\n            var visitedNode = limitingTrie.lookup(selectionSet, inheritedContext.clientOnly, inheritedContext.deferred);\n            if (visitedNode.visited)\n                return;\n            visitedNode.visited = true;\n            selectionSet.selections.forEach(function (selection) {\n                if (!shouldInclude(selection, context.variables))\n                    return;\n                var clientOnly = inheritedContext.clientOnly, deferred = inheritedContext.deferred;\n                if (!(clientOnly && deferred) &&\n                    isNonEmptyArray(selection.directives)) {\n                    selection.directives.forEach(function (dir) {\n                        var name = dir.name.value;\n                        if (name === \"client\")\n                            clientOnly = true;\n                        if (name === \"defer\") {\n                            var args = argumentsObjectFromField(dir, context.variables);\n                            if (!args || args.if !== false) {\n                                deferred = true;\n                            }\n                        }\n                    });\n                }\n                if (isField(selection)) {\n                    var existing = fieldMap.get(selection);\n                    if (existing) {\n                        clientOnly = clientOnly && existing.clientOnly;\n                        deferred = deferred && existing.deferred;\n                    }\n                    fieldMap.set(selection, getContextFlavor(context, clientOnly, deferred));\n                }\n                else {\n                    var fragment = getFragmentFromSelection(selection, context.fragmentMap);\n                    if (fragment &&\n                        policies.fragmentMatches(fragment, typename, result, context.variables)) {\n                        flatten(fragment.selectionSet, getContextFlavor(context, clientOnly, deferred));\n                    }\n                }\n            });\n        })(selectionSet, context);\n        return fieldMap;\n    };\n    StoreWriter.prototype.applyMerges = function (mergeTree, existing, incoming, context, getStorageArgs) {\n        var _a;\n        var _this = this;\n        if (mergeTree.map.size && !isReference(incoming)) {\n            var e_1 = (!isArray(incoming) &&\n                (isReference(existing) || storeValueIsStoreObject(existing))) ? existing : void 0;\n            var i_1 = incoming;\n            if (e_1 && !getStorageArgs) {\n                getStorageArgs = [isReference(e_1) ? e_1.__ref : e_1];\n            }\n            var changedFields_1;\n            var getValue_1 = function (from, name) {\n                return isArray(from)\n                    ? (typeof name === \"number\" ? from[name] : void 0)\n                    : context.store.getFieldValue(from, String(name));\n            };\n            mergeTree.map.forEach(function (childTree, storeFieldName) {\n                var eVal = getValue_1(e_1, storeFieldName);\n                var iVal = getValue_1(i_1, storeFieldName);\n                if (void 0 === iVal)\n                    return;\n                if (getStorageArgs) {\n                    getStorageArgs.push(storeFieldName);\n                }\n                var aVal = _this.applyMerges(childTree, eVal, iVal, context, getStorageArgs);\n                if (aVal !== iVal) {\n                    changedFields_1 = changedFields_1 || new Map;\n                    changedFields_1.set(storeFieldName, aVal);\n                }\n                if (getStorageArgs) {\n                    invariant(getStorageArgs.pop() === storeFieldName);\n                }\n            });\n            if (changedFields_1) {\n                incoming = (isArray(i_1) ? i_1.slice(0) : __assign({}, i_1));\n                changedFields_1.forEach(function (value, name) {\n                    incoming[name] = value;\n                });\n            }\n        }\n        if (mergeTree.info) {\n            return this.cache.policies.runMergeFunction(existing, incoming, mergeTree.info, context, getStorageArgs && (_a = context.store).getStorage.apply(_a, getStorageArgs));\n        }\n        return incoming;\n    };\n    return StoreWriter;\n}());\nexport { StoreWriter };\nvar emptyMergeTreePool = [];\nfunction getChildMergeTree(_a, name) {\n    var map = _a.map;\n    if (!map.has(name)) {\n        map.set(name, emptyMergeTreePool.pop() || { map: new Map });\n    }\n    return map.get(name);\n}\nfunction mergeMergeTrees(left, right) {\n    if (left === right || !right || mergeTreeIsEmpty(right))\n        return left;\n    if (!left || mergeTreeIsEmpty(left))\n        return right;\n    var info = left.info && right.info ? __assign(__assign({}, left.info), right.info) : left.info || right.info;\n    var needToMergeMaps = left.map.size && right.map.size;\n    var map = needToMergeMaps ? new Map :\n        left.map.size ? left.map : right.map;\n    var merged = { info: info, map: map };\n    if (needToMergeMaps) {\n        var remainingRightKeys_1 = new Set(right.map.keys());\n        left.map.forEach(function (leftTree, key) {\n            merged.map.set(key, mergeMergeTrees(leftTree, right.map.get(key)));\n            remainingRightKeys_1.delete(key);\n        });\n        remainingRightKeys_1.forEach(function (key) {\n            merged.map.set(key, mergeMergeTrees(right.map.get(key), left.map.get(key)));\n        });\n    }\n    return merged;\n}\nfunction mergeTreeIsEmpty(tree) {\n    return !tree || !(tree.info || tree.map.size);\n}\nfunction maybeRecycleChildMergeTree(_a, name) {\n    var map = _a.map;\n    var childTree = map.get(name);\n    if (childTree && mergeTreeIsEmpty(childTree)) {\n        emptyMergeTreePool.push(childTree);\n        map.delete(name);\n    }\n}\nvar warnings = new Set();\nfunction warnAboutDataLoss(existingRef, incomingObj, storeFieldName, store) {\n    var getChild = function (objOrRef) {\n        var child = store.getFieldValue(objOrRef, storeFieldName);\n        return typeof child === \"object\" && child;\n    };\n    var existing = getChild(existingRef);\n    if (!existing)\n        return;\n    var incoming = getChild(incomingObj);\n    if (!incoming)\n        return;\n    if (isReference(existing))\n        return;\n    if (equal(existing, incoming))\n        return;\n    if (Object.keys(existing).every(function (key) { return store.getFieldValue(incoming, key) !== void 0; })) {\n        return;\n    }\n    var parentType = store.getFieldValue(existingRef, \"__typename\") ||\n        store.getFieldValue(incomingObj, \"__typename\");\n    var fieldName = fieldNameFromStoreName(storeFieldName);\n    var typeDotName = \"\".concat(parentType, \".\").concat(fieldName);\n    if (warnings.has(typeDotName))\n        return;\n    warnings.add(typeDotName);\n    var childTypenames = [];\n    if (!isArray(existing) &&\n        !isArray(incoming)) {\n        [existing, incoming].forEach(function (child) {\n            var typename = store.getFieldValue(child, \"__typename\");\n            if (typeof typename === \"string\" &&\n                !childTypenames.includes(typename)) {\n                childTypenames.push(typename);\n            }\n        });\n    }\n    __DEV__ && invariant.warn(\"Cache data may be lost when replacing the \".concat(fieldName, \" field of a \").concat(parentType, \" object.\\n\\nTo address this problem (which is not a bug in Apollo Client), \").concat(childTypenames.length\n        ? \"either ensure all objects of type \" +\n            childTypenames.join(\" and \") + \" have an ID or a custom merge function, or \"\n        : \"\", \"define a custom merge function for the \").concat(typeDotName, \" field, so InMemoryCache can safely merge these objects:\\n\\n  existing: \").concat(JSON.stringify(existing).slice(0, 1000), \"\\n  incoming: \").concat(JSON.stringify(incoming).slice(0, 1000), \"\\n\\nFor more information about these options, please refer to the documentation:\\n\\n  * Ensuring entity objects have IDs: https://go.apollo.dev/c/generating-unique-identifiers\\n  * Defining custom merge functions: https://go.apollo.dev/c/merging-non-normalized-objects\\n\"));\n}\n//# sourceMappingURL=writeToStore.js.map","import { __assign, __extends } from \"tslib\";\nimport { invariant } from \"../../utilities/globals/index.js\";\nimport \"./fixPolyfills.js\";\nimport { wrap } from 'optimism';\nimport { equal } from '@wry/equality';\nimport { ApolloCache } from \"../core/cache.js\";\nimport { MissingFieldError } from \"../core/types/common.js\";\nimport { addTypenameToDocument, isReference, } from \"../../utilities/index.js\";\nimport { StoreReader } from \"./readFromStore.js\";\nimport { StoreWriter } from \"./writeToStore.js\";\nimport { EntityStore, supportsResultCaching } from \"./entityStore.js\";\nimport { makeVar, forgetCache, recallCache } from \"./reactiveVars.js\";\nimport { Policies } from \"./policies.js\";\nimport { hasOwn, normalizeConfig, shouldCanonizeResults } from \"./helpers.js\";\nimport { canonicalStringify } from \"./object-canon.js\";\nvar InMemoryCache = (function (_super) {\n    __extends(InMemoryCache, _super);\n    function InMemoryCache(config) {\n        if (config === void 0) { config = {}; }\n        var _this = _super.call(this) || this;\n        _this.watches = new Set();\n        _this.typenameDocumentCache = new Map();\n        _this.makeVar = makeVar;\n        _this.txCount = 0;\n        _this.config = normalizeConfig(config);\n        _this.addTypename = !!_this.config.addTypename;\n        _this.policies = new Policies({\n            cache: _this,\n            dataIdFromObject: _this.config.dataIdFromObject,\n            possibleTypes: _this.config.possibleTypes,\n            typePolicies: _this.config.typePolicies,\n        });\n        _this.init();\n        return _this;\n    }\n    InMemoryCache.prototype.init = function () {\n        var rootStore = this.data = new EntityStore.Root({\n            policies: this.policies,\n            resultCaching: this.config.resultCaching,\n        });\n        this.optimisticData = rootStore.stump;\n        this.resetResultCache();\n    };\n    InMemoryCache.prototype.resetResultCache = function (resetResultIdentities) {\n        var _this = this;\n        var previousReader = this.storeReader;\n        this.storeWriter = new StoreWriter(this, this.storeReader = new StoreReader({\n            cache: this,\n            addTypename: this.addTypename,\n            resultCacheMaxSize: this.config.resultCacheMaxSize,\n            canonizeResults: shouldCanonizeResults(this.config),\n            canon: resetResultIdentities\n                ? void 0\n                : previousReader && previousReader.canon,\n        }));\n        this.maybeBroadcastWatch = wrap(function (c, options) {\n            return _this.broadcastWatch(c, options);\n        }, {\n            max: this.config.resultCacheMaxSize,\n            makeCacheKey: function (c) {\n                var store = c.optimistic ? _this.optimisticData : _this.data;\n                if (supportsResultCaching(store)) {\n                    var optimistic = c.optimistic, rootId = c.rootId, variables = c.variables;\n                    return store.makeCacheKey(c.query, c.callback, canonicalStringify({ optimistic: optimistic, rootId: rootId, variables: variables }));\n                }\n            }\n        });\n        new Set([\n            this.data.group,\n            this.optimisticData.group,\n        ]).forEach(function (group) { return group.resetCaching(); });\n    };\n    InMemoryCache.prototype.restore = function (data) {\n        this.init();\n        if (data)\n            this.data.replace(data);\n        return this;\n    };\n    InMemoryCache.prototype.extract = function (optimistic) {\n        if (optimistic === void 0) { optimistic = false; }\n        return (optimistic ? this.optimisticData : this.data).extract();\n    };\n    InMemoryCache.prototype.read = function (options) {\n        var _a = options.returnPartialData, returnPartialData = _a === void 0 ? false : _a;\n        try {\n            return this.storeReader.diffQueryAgainstStore(__assign(__assign({}, options), { store: options.optimistic ? this.optimisticData : this.data, config: this.config, returnPartialData: returnPartialData })).result || null;\n        }\n        catch (e) {\n            if (e instanceof MissingFieldError) {\n                return null;\n            }\n            throw e;\n        }\n    };\n    InMemoryCache.prototype.write = function (options) {\n        try {\n            ++this.txCount;\n            return this.storeWriter.writeToStore(this.data, options);\n        }\n        finally {\n            if (!--this.txCount && options.broadcast !== false) {\n                this.broadcastWatches();\n            }\n        }\n    };\n    InMemoryCache.prototype.modify = function (options) {\n        if (hasOwn.call(options, \"id\") && !options.id) {\n            return false;\n        }\n        var store = options.optimistic\n            ? this.optimisticData\n            : this.data;\n        try {\n            ++this.txCount;\n            return store.modify(options.id || \"ROOT_QUERY\", options.fields);\n        }\n        finally {\n            if (!--this.txCount && options.broadcast !== false) {\n                this.broadcastWatches();\n            }\n        }\n    };\n    InMemoryCache.prototype.diff = function (options) {\n        return this.storeReader.diffQueryAgainstStore(__assign(__assign({}, options), { store: options.optimistic ? this.optimisticData : this.data, rootId: options.id || \"ROOT_QUERY\", config: this.config }));\n    };\n    InMemoryCache.prototype.watch = function (watch) {\n        var _this = this;\n        if (!this.watches.size) {\n            recallCache(this);\n        }\n        this.watches.add(watch);\n        if (watch.immediate) {\n            this.maybeBroadcastWatch(watch);\n        }\n        return function () {\n            if (_this.watches.delete(watch) && !_this.watches.size) {\n                forgetCache(_this);\n            }\n            _this.maybeBroadcastWatch.forget(watch);\n        };\n    };\n    InMemoryCache.prototype.gc = function (options) {\n        canonicalStringify.reset();\n        var ids = this.optimisticData.gc();\n        if (options && !this.txCount) {\n            if (options.resetResultCache) {\n                this.resetResultCache(options.resetResultIdentities);\n            }\n            else if (options.resetResultIdentities) {\n                this.storeReader.resetCanon();\n            }\n        }\n        return ids;\n    };\n    InMemoryCache.prototype.retain = function (rootId, optimistic) {\n        return (optimistic ? this.optimisticData : this.data).retain(rootId);\n    };\n    InMemoryCache.prototype.release = function (rootId, optimistic) {\n        return (optimistic ? this.optimisticData : this.data).release(rootId);\n    };\n    InMemoryCache.prototype.identify = function (object) {\n        if (isReference(object))\n            return object.__ref;\n        try {\n            return this.policies.identify(object)[0];\n        }\n        catch (e) {\n            __DEV__ && invariant.warn(e);\n        }\n    };\n    InMemoryCache.prototype.evict = function (options) {\n        if (!options.id) {\n            if (hasOwn.call(options, \"id\")) {\n                return false;\n            }\n            options = __assign(__assign({}, options), { id: \"ROOT_QUERY\" });\n        }\n        try {\n            ++this.txCount;\n            return this.optimisticData.evict(options, this.data);\n        }\n        finally {\n            if (!--this.txCount && options.broadcast !== false) {\n                this.broadcastWatches();\n            }\n        }\n    };\n    InMemoryCache.prototype.reset = function (options) {\n        var _this = this;\n        this.init();\n        canonicalStringify.reset();\n        if (options && options.discardWatches) {\n            this.watches.forEach(function (watch) { return _this.maybeBroadcastWatch.forget(watch); });\n            this.watches.clear();\n            forgetCache(this);\n        }\n        else {\n            this.broadcastWatches();\n        }\n        return Promise.resolve();\n    };\n    InMemoryCache.prototype.removeOptimistic = function (idToRemove) {\n        var newOptimisticData = this.optimisticData.removeLayer(idToRemove);\n        if (newOptimisticData !== this.optimisticData) {\n            this.optimisticData = newOptimisticData;\n            this.broadcastWatches();\n        }\n    };\n    InMemoryCache.prototype.batch = function (options) {\n        var _this = this;\n        var update = options.update, _a = options.optimistic, optimistic = _a === void 0 ? true : _a, removeOptimistic = options.removeOptimistic, onWatchUpdated = options.onWatchUpdated;\n        var updateResult;\n        var perform = function (layer) {\n            var _a = _this, data = _a.data, optimisticData = _a.optimisticData;\n            ++_this.txCount;\n            if (layer) {\n                _this.data = _this.optimisticData = layer;\n            }\n            try {\n                return updateResult = update(_this);\n            }\n            finally {\n                --_this.txCount;\n                _this.data = data;\n                _this.optimisticData = optimisticData;\n            }\n        };\n        var alreadyDirty = new Set();\n        if (onWatchUpdated && !this.txCount) {\n            this.broadcastWatches(__assign(__assign({}, options), { onWatchUpdated: function (watch) {\n                    alreadyDirty.add(watch);\n                    return false;\n                } }));\n        }\n        if (typeof optimistic === 'string') {\n            this.optimisticData = this.optimisticData.addLayer(optimistic, perform);\n        }\n        else if (optimistic === false) {\n            perform(this.data);\n        }\n        else {\n            perform();\n        }\n        if (typeof removeOptimistic === \"string\") {\n            this.optimisticData = this.optimisticData.removeLayer(removeOptimistic);\n        }\n        if (onWatchUpdated && alreadyDirty.size) {\n            this.broadcastWatches(__assign(__assign({}, options), { onWatchUpdated: function (watch, diff) {\n                    var result = onWatchUpdated.call(this, watch, diff);\n                    if (result !== false) {\n                        alreadyDirty.delete(watch);\n                    }\n                    return result;\n                } }));\n            if (alreadyDirty.size) {\n                alreadyDirty.forEach(function (watch) { return _this.maybeBroadcastWatch.dirty(watch); });\n            }\n        }\n        else {\n            this.broadcastWatches(options);\n        }\n        return updateResult;\n    };\n    InMemoryCache.prototype.performTransaction = function (update, optimisticId) {\n        return this.batch({\n            update: update,\n            optimistic: optimisticId || (optimisticId !== null),\n        });\n    };\n    InMemoryCache.prototype.transformDocument = function (document) {\n        if (this.addTypename) {\n            var result = this.typenameDocumentCache.get(document);\n            if (!result) {\n                result = addTypenameToDocument(document);\n                this.typenameDocumentCache.set(document, result);\n                this.typenameDocumentCache.set(result, result);\n            }\n            return result;\n        }\n        return document;\n    };\n    InMemoryCache.prototype.broadcastWatches = function (options) {\n        var _this = this;\n        if (!this.txCount) {\n            this.watches.forEach(function (c) { return _this.maybeBroadcastWatch(c, options); });\n        }\n    };\n    InMemoryCache.prototype.broadcastWatch = function (c, options) {\n        var lastDiff = c.lastDiff;\n        var diff = this.diff(c);\n        if (options) {\n            if (c.optimistic &&\n                typeof options.optimistic === \"string\") {\n                diff.fromOptimisticTransaction = true;\n            }\n            if (options.onWatchUpdated &&\n                options.onWatchUpdated.call(this, c, diff, lastDiff) === false) {\n                return;\n            }\n        }\n        if (!lastDiff || !equal(lastDiff.result, diff.result)) {\n            c.callback(c.lastDiff = diff, lastDiff);\n        }\n    };\n    return InMemoryCache;\n}(ApolloCache));\nexport { InMemoryCache };\n//# sourceMappingURL=inMemoryCache.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.stringify = exports.stringifyObjectKeys = void 0;\nfunction stringifyObjectKeys(object) {\n    var stringified = {};\n    for (var _i = 0, _a = Object.entries(object); _i < _a.length; _i++) {\n        var _b = _a[_i], key = _b[0], value = _b[1];\n        stringified[key] = typeof value === 'object' ? stringify(value) : value;\n    }\n    return stringified;\n}\nexports.stringifyObjectKeys = stringifyObjectKeys;\nfunction stringify(value) {\n    return JSON.stringify(value, null, 2);\n}\nexports.stringify = stringify;\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar Deno = global.Deno;\nvar versions = process && process.versions || Deno && Deno.version;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  // in old Chrome, versions of V8 isn't V8 = Chrome / 10\n  // but their correct versions are not interesting for us\n  version = match[0] > 0 && match[0] < 4 ? 1 : +(match[0] + match[1]);\n}\n\n// BrowserFS NodeJS `process` polyfill incorrectly set `.v8` to `0.0`\n// so check `userAgent` even if `.v8` exists, but 0\nif (!version && userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = +match[1];\n  }\n}\n\nmodule.exports = version;\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\n\n// V8 ~ Chrome 36-\n// https://bugs.chromium.org/p/v8/issues/detail?id=3334\nmodule.exports = DESCRIPTORS && fails(function () {\n  // eslint-disable-next-line es-x/no-object-defineproperty -- required for testing\n  return Object.defineProperty(function () { /* empty */ }, 'prototype', {\n    value: 42,\n    writable: false\n  }).prototype != 42;\n});\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","/**\n * Generic method to test regex\n *\n * @private\n * @param {string} regex - regex to test\n *                           with password\n */\nvar regex = require('./constants').regex;\n\nfunction _process(regexp, repeat) {\n  if (repeat && repeat > 1) {\n    const parsedRepeat = parseInt(repeat, 10);\n    return new RegExp(regexp + '{' + parsedRepeat + ',}').test(this.password) === this.positive;\n  }\n  return new RegExp(regexp).test(this.password) === this.positive;\n}\n\nmodule.exports = {\n\n  /**\n   * Method to invert the next validations\n   *\n   * @param {RegExp} [symbol] - custom Regex which should not be present\n   */\n  not: function not(symbol) {\n    this.positive = false;\n    if (symbol) {\n      return _process.call(this, symbol);\n    }\n    return true;\n  },\n\n  /**\n   * Method to invert the effects of not()\n   *\n   * @param {RegExp} [symbol] - custom Regex which should be present\n   */\n  has: function has(symbol) {\n    this.positive = true;\n    if (symbol) {\n      return _process.call(this, symbol);\n    }\n    return true;\n  },\n\n  /**\n   * Method to invert the effects of not() and\n   * to make the api readable and chainable\n   *\n   */\n  is: function is() {\n    this.positive = true;\n    return true;\n  },\n\n  /**\n   * Method to specify a minimum length\n   *\n   * @param {number} num - minimum length\n   */\n  min: function min(num) {\n    return this.password.length >= num;\n  },\n\n  /**\n   * Method to specify a maximum length\n   *\n   * @param {number} num - maximum length\n   */\n  max: function max(num) {\n    return this.password.length <= num;\n  },\n\n  /**\n   * Method to validate the presence of digits\n   *\n   * @param {number} repeat - count of required digits\n   */\n  digits: function digits(repeat) {\n    return _process.call(this, regex.digits, repeat);\n  },\n\n  /**\n   * Method to validate the presence of letters\n   *\n   * @param {number} repeat - count of required letters\n   */\n  letters: function letters(repeat) {\n    return _process.call(this, regex.letters, repeat);\n  },\n\n  /**\n   * Method to validate the presence of uppercase letters\n   *\n   * @param {number} repeat - count of required uppercase letters\n   */\n  uppercase: function uppercase(repeat) {\n    if (repeat && repeat > 1) {\n      let characterIndex = 0;\n      let upperCaseLetters = 0;\n\n      while ((upperCaseLetters < repeat) && (characterIndex < this.password.length)) {\n        const currentLetter = this.password.charAt(characterIndex);\n        if (currentLetter !== currentLetter.toLowerCase()) {\n          upperCaseLetters++;\n        }\n        characterIndex++;\n      }\n\n      return (upperCaseLetters === repeat) === this.positive;\n    }\n    return (this.password !== this.password.toLowerCase()) === this.positive;\n  },\n\n  /**\n   * Method to validate the presence of lowercase letters\n   *\n   * @param {number} repeat - count of required lowercase letters\n   */\n  lowercase: function lowercase(repeat) {\n    if (repeat && repeat > 1) {\n      let characterIndex = 0;\n      let lowerCaseLetters = 0;\n\n      while ((lowerCaseLetters < repeat) && (characterIndex < this.password.length)) {\n        const currentLetter = this.password.charAt(characterIndex);\n        if (currentLetter !== currentLetter.toUpperCase()) {\n          lowerCaseLetters++;\n        }\n        characterIndex++;\n      }\n\n      return (lowerCaseLetters === repeat) === this.positive;\n    }\n    return (this.password !== this.password.toUpperCase()) === this.positive;\n  },\n\n  /**\n   * Method to validate the presence of symbols\n   *\n   * @param {number} repeat - count of required symbols\n   */\n  symbols: function symbols(repeat) {\n    return _process.call(this, regex.symbols, repeat);\n  },\n\n  /**\n   * Method to validate the presence of space\n   *\n   * @param {number} repeat - count of required spaces\n   */\n  spaces: function spaces(repeat) {\n    return _process.call(this, regex.spaces, repeat);\n  },\n\n  /**\n   * Method to provide pre-defined values for password\n   *\n   * @param {array} list - list of values allowed\n   */\n  oneOf: function oneOf(list) {\n    return list.indexOf(this.password) >= 0 === this.positive;\n  }\n};\n","import \"../../utilities/globals/index.js\";\nexport { parseAndCheckHttpResponse } from \"./parseAndCheckHttpResponse.js\";\nexport { serializeFetchParameter } from \"./serializeFetchParameter.js\";\nexport { fallbackHttpConfig, defaultPrinter, selectHttpOptionsAndBody, selectHttpOptionsAndBodyInternal } from \"./selectHttpOptionsAndBody.js\";\nexport { checkFetcher } from \"./checkFetcher.js\";\nexport { createSignalIfSupported } from \"./createSignalIfSupported.js\";\nexport { selectURI } from \"./selectURI.js\";\nexport { createHttpLink } from \"./createHttpLink.js\";\nexport { HttpLink } from \"./HttpLink.js\";\nexport { rewriteURIForGET } from \"./rewriteURIForGET.js\";\n//# sourceMappingURL=index.js.map","import { Observable } from \"../../utilities/index.js\";\nexport function fromPromise(promise) {\n    return new Observable(function (observer) {\n        promise\n            .then(function (value) {\n            observer.next(value);\n            observer.complete();\n        })\n            .catch(observer.error.bind(observer));\n    });\n}\n//# sourceMappingURL=fromPromise.js.map","import { GLOBAL_OBJ, getGlobalSingleton } from './worldwide.js';\n\n/** Prefix for logging strings */\nconst PREFIX = 'Sentry Logger ';\n\nconst CONSOLE_LEVELS = ['debug', 'info', 'warn', 'error', 'log', 'assert', 'trace'] ;\n\n/**\n * Temporarily disable sentry console instrumentations.\n *\n * @param callback The function to run against the original `console` messages\n * @returns The results of the callback\n */\nfunction consoleSandbox(callback) {\n  if (!('console' in GLOBAL_OBJ)) {\n    return callback();\n  }\n\n  const originalConsole = GLOBAL_OBJ.console ;\n  const wrappedLevels = {};\n\n  // Restore all wrapped console methods\n  CONSOLE_LEVELS.forEach(level => {\n    // TODO(v7): Remove this check as it's only needed for Node 6\n    const originalWrappedFunc =\n      originalConsole[level] && (originalConsole[level] ).__sentry_original__;\n    if (level in originalConsole && originalWrappedFunc) {\n      wrappedLevels[level] = originalConsole[level] ;\n      originalConsole[level] = originalWrappedFunc ;\n    }\n  });\n\n  try {\n    return callback();\n  } finally {\n    // Revert restoration to wrapped state\n    Object.keys(wrappedLevels).forEach(level => {\n      originalConsole[level] = wrappedLevels[level ];\n    });\n  }\n}\n\nfunction makeLogger() {\n  let enabled = false;\n  const logger = {\n    enable: () => {\n      enabled = true;\n    },\n    disable: () => {\n      enabled = false;\n    },\n  };\n\n  if ((typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__)) {\n    CONSOLE_LEVELS.forEach(name => {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      logger[name] = (...args) => {\n        if (enabled) {\n          consoleSandbox(() => {\n            GLOBAL_OBJ.console[name](`${PREFIX}[${name}]:`, ...args);\n          });\n        }\n      };\n    });\n  } else {\n    CONSOLE_LEVELS.forEach(name => {\n      logger[name] = () => undefined;\n    });\n  }\n\n  return logger ;\n}\n\n// Ensure we only have a single logger instance, even if multiple versions of @sentry/utils are being used\nlet logger;\nif ((typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__)) {\n  logger = getGlobalSingleton('logger', makeLogger);\n} else {\n  logger = makeLogger();\n}\n\nexport { CONSOLE_LEVELS, consoleSandbox, logger };\n//# sourceMappingURL=logger.js.map\n","import { isWhiteSpace } from './characterClasses.mjs';\n/**\n * Produces the value of a block string from its parsed raw value, similar to\n * CoffeeScript's block string, Python's docstring trim or Ruby's strip_heredoc.\n *\n * This implements the GraphQL spec's BlockStringValue() static algorithm.\n *\n * @internal\n */\n\nexport function dedentBlockStringLines(lines) {\n  var _firstNonEmptyLine2;\n\n  let commonIndent = Number.MAX_SAFE_INTEGER;\n  let firstNonEmptyLine = null;\n  let lastNonEmptyLine = -1;\n\n  for (let i = 0; i < lines.length; ++i) {\n    var _firstNonEmptyLine;\n\n    const line = lines[i];\n    const indent = leadingWhitespace(line);\n\n    if (indent === line.length) {\n      continue; // skip empty lines\n    }\n\n    firstNonEmptyLine =\n      (_firstNonEmptyLine = firstNonEmptyLine) !== null &&\n      _firstNonEmptyLine !== void 0\n        ? _firstNonEmptyLine\n        : i;\n    lastNonEmptyLine = i;\n\n    if (i !== 0 && indent < commonIndent) {\n      commonIndent = indent;\n    }\n  }\n\n  return lines // Remove common indentation from all lines but first.\n    .map((line, i) => (i === 0 ? line : line.slice(commonIndent))) // Remove leading and trailing blank lines.\n    .slice(\n      (_firstNonEmptyLine2 = firstNonEmptyLine) !== null &&\n        _firstNonEmptyLine2 !== void 0\n        ? _firstNonEmptyLine2\n        : 0,\n      lastNonEmptyLine + 1,\n    );\n}\n\nfunction leadingWhitespace(str) {\n  let i = 0;\n\n  while (i < str.length && isWhiteSpace(str.charCodeAt(i))) {\n    ++i;\n  }\n\n  return i;\n}\n/**\n * @internal\n */\n\nexport function isPrintableAsBlockString(value) {\n  if (value === '') {\n    return true; // empty string is printable\n  }\n\n  let isEmptyLine = true;\n  let hasIndent = false;\n  let hasCommonIndent = true;\n  let seenNonEmptyLine = false;\n\n  for (let i = 0; i < value.length; ++i) {\n    switch (value.codePointAt(i)) {\n      case 0x0000:\n      case 0x0001:\n      case 0x0002:\n      case 0x0003:\n      case 0x0004:\n      case 0x0005:\n      case 0x0006:\n      case 0x0007:\n      case 0x0008:\n      case 0x000b:\n      case 0x000c:\n      case 0x000e:\n      case 0x000f:\n        return false;\n      // Has non-printable characters\n\n      case 0x000d:\n        //  \\r\n        return false;\n      // Has \\r or \\r\\n which will be replaced as \\n\n\n      case 10:\n        //  \\n\n        if (isEmptyLine && !seenNonEmptyLine) {\n          return false; // Has leading new line\n        }\n\n        seenNonEmptyLine = true;\n        isEmptyLine = true;\n        hasIndent = false;\n        break;\n\n      case 9: //   \\t\n\n      case 32:\n        //  <space>\n        hasIndent || (hasIndent = isEmptyLine);\n        break;\n\n      default:\n        hasCommonIndent && (hasCommonIndent = hasIndent);\n        isEmptyLine = false;\n    }\n  }\n\n  if (isEmptyLine) {\n    return false; // Has trailing empty lines\n  }\n\n  if (hasCommonIndent && seenNonEmptyLine) {\n    return false; // Has internal indent\n  }\n\n  return true;\n}\n/**\n * Print a block string in the indented block form by adding a leading and\n * trailing blank line. However, if a block string starts with whitespace and is\n * a single-line, adding a leading blank line would strip that whitespace.\n *\n * @internal\n */\n\nexport function printBlockString(value, options) {\n  const escapedValue = value.replace(/\"\"\"/g, '\\\\\"\"\"'); // Expand a block string's raw value into independent lines.\n\n  const lines = escapedValue.split(/\\r\\n|[\\n\\r]/g);\n  const isSingleLine = lines.length === 1; // If common indentation is found we can fix some of those cases by adding leading new line\n\n  const forceLeadingNewLine =\n    lines.length > 1 &&\n    lines\n      .slice(1)\n      .every((line) => line.length === 0 || isWhiteSpace(line.charCodeAt(0))); // Trailing triple quotes just looks confusing but doesn't force trailing new line\n\n  const hasTrailingTripleQuotes = escapedValue.endsWith('\\\\\"\"\"'); // Trailing quote (single or double) or slash forces trailing new line\n\n  const hasTrailingQuote = value.endsWith('\"') && !hasTrailingTripleQuotes;\n  const hasTrailingSlash = value.endsWith('\\\\');\n  const forceTrailingNewline = hasTrailingQuote || hasTrailingSlash;\n  const printAsMultipleLines =\n    !(options !== null && options !== void 0 && options.minimize) && // add leading and trailing new lines only if it improves readability\n    (!isSingleLine ||\n      value.length > 70 ||\n      forceTrailingNewline ||\n      forceLeadingNewLine ||\n      hasTrailingTripleQuotes);\n  let result = ''; // Format a multi-line block quote to account for leading space.\n\n  const skipLeadingNewLine = isSingleLine && isWhiteSpace(value.charCodeAt(0));\n\n  if ((printAsMultipleLines && !skipLeadingNewLine) || forceLeadingNewLine) {\n    result += '\\n';\n  }\n\n  result += escapedValue;\n\n  if (printAsMultipleLines || forceTrailingNewline) {\n    result += '\\n';\n  }\n\n  return '\"\"\"' + result + '\"\"\"';\n}\n","var fails = require('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es-x/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","export function maybe(thunk) {\n    try {\n        return thunk();\n    }\n    catch (_a) { }\n}\n//# sourceMappingURL=maybe.js.map","// Note: Ideally the `SeverityLevel` type would be derived from `validSeverityLevels`, but that would mean either\n//\n// a) moving `validSeverityLevels` to `@sentry/types`,\n// b) moving the`SeverityLevel` type here, or\n// c) importing `validSeverityLevels` from here into `@sentry/types`.\n//\n// Option A would make `@sentry/types` a runtime dependency of `@sentry/utils` (not good), and options B and C would\n// create a circular dependency between `@sentry/types` and `@sentry/utils` (also not good). So a TODO accompanying the\n// type, reminding anyone who changes it to change this list also, will have to do.\n\nconst validSeverityLevels = ['fatal', 'error', 'warning', 'log', 'info', 'debug'];\n\n/**\n * Converts a string-based level into a member of the deprecated {@link Severity} enum.\n *\n * @deprecated `severityFromString` is deprecated. Please use `severityLevelFromString` instead.\n *\n * @param level String representation of Severity\n * @returns Severity\n */\nfunction severityFromString(level) {\n  return severityLevelFromString(level) ;\n}\n\n/**\n * Converts a string-based level into a `SeverityLevel`, normalizing it along the way.\n *\n * @param level String representation of desired `SeverityLevel`.\n * @returns The `SeverityLevel` corresponding to the given string, or 'log' if the string isn't a valid level.\n */\nfunction severityLevelFromString(level) {\n  return (level === 'warn' ? 'warning' : validSeverityLevels.includes(level) ? level : 'log') ;\n}\n\nexport { severityFromString, severityLevelFromString, validSeverityLevels };\n//# sourceMappingURL=severity.js.map\n","/**\n * Parses string form of URL into an object\n * // borrowed from https://tools.ietf.org/html/rfc3986#appendix-B\n * // intentionally using regex and not <a/> href parsing trick because React Native and other\n * // environments where DOM might not be available\n * @returns parsed URL object\n */\nfunction parseUrl(url)\n\n {\n  if (!url) {\n    return {};\n  }\n\n  const match = url.match(/^(([^:/?#]+):)?(\\/\\/([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$/);\n\n  if (!match) {\n    return {};\n  }\n\n  // coerce to undefined values to empty string so we don't get 'undefined'\n  const query = match[6] || '';\n  const fragment = match[8] || '';\n  return {\n    host: match[4],\n    path: match[5],\n    protocol: match[2],\n    relative: match[5] + query + fragment, // everything minus origin\n  };\n}\n\n/**\n * Strip the query string and fragment off of a given URL or path (if present)\n *\n * @param urlPath Full URL or path, including possible query string and/or fragment\n * @returns URL or path without query string or fragment\n */\nfunction stripUrlQueryAndFragment(urlPath) {\n  // eslint-disable-next-line no-useless-escape\n  return urlPath.split(/[\\?#]/, 1)[0];\n}\n\n/**\n * Returns number of URL segments of a passed string URL.\n */\nfunction getNumberOfUrlSegments(url) {\n  // split at '/' or at '\\/' to split regex urls correctly\n  return url.split(/\\\\?\\//).filter(s => s.length > 0 && s !== ',').length;\n}\n\nexport { getNumberOfUrlSegments, parseUrl, stripUrlQueryAndFragment };\n//# sourceMappingURL=url.js.map\n","import { getCurrentHub } from '@sentry/core';\nimport { addInstrumentationHandler, htmlTreeAsString, severityLevelFromString, safeJoin, parseUrl } from '@sentry/utils';\nimport { WINDOW } from '../helpers.js';\n\n/* eslint-disable @typescript-eslint/no-unsafe-member-access */\n\n/** JSDoc */\n\nconst BREADCRUMB_INTEGRATION_ID = 'Breadcrumbs';\n\n/**\n * Default Breadcrumbs instrumentations\n * TODO: Deprecated - with v6, this will be renamed to `Instrument`\n */\nclass Breadcrumbs  {\n  /**\n   * @inheritDoc\n   */\n   static __initStatic() {this.id = BREADCRUMB_INTEGRATION_ID;}\n\n  /**\n   * @inheritDoc\n   */\n   __init() {this.name = Breadcrumbs.id;}\n\n  /**\n   * Options of the breadcrumbs integration.\n   */\n  // This field is public, because we use it in the browser client to check if the `sentry` option is enabled.\n\n  /**\n   * @inheritDoc\n   */\n   constructor(options) {;Breadcrumbs.prototype.__init.call(this);\n    this.options = {\n      console: true,\n      dom: true,\n      fetch: true,\n      history: true,\n      sentry: true,\n      xhr: true,\n      ...options,\n    };\n  }\n\n  /**\n   * Instrument browser built-ins w/ breadcrumb capturing\n   *  - Console API\n   *  - DOM API (click/typing)\n   *  - XMLHttpRequest API\n   *  - Fetch API\n   *  - History API\n   */\n   setupOnce() {\n    if (this.options.console) {\n      addInstrumentationHandler('console', _consoleBreadcrumb);\n    }\n    if (this.options.dom) {\n      addInstrumentationHandler('dom', _domBreadcrumb(this.options.dom));\n    }\n    if (this.options.xhr) {\n      addInstrumentationHandler('xhr', _xhrBreadcrumb);\n    }\n    if (this.options.fetch) {\n      addInstrumentationHandler('fetch', _fetchBreadcrumb);\n    }\n    if (this.options.history) {\n      addInstrumentationHandler('history', _historyBreadcrumb);\n    }\n  }\n} Breadcrumbs.__initStatic();\n\n/**\n * A HOC that creaes a function that creates breadcrumbs from DOM API calls.\n * This is a HOC so that we get access to dom options in the closure.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction _domBreadcrumb(dom) {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  function _innerDomBreadcrumb(handlerData) {\n    let target;\n    let keyAttrs = typeof dom === 'object' ? dom.serializeAttribute : undefined;\n\n    if (typeof keyAttrs === 'string') {\n      keyAttrs = [keyAttrs];\n    }\n\n    // Accessing event.target can throw (see getsentry/raven-js#838, #768)\n    try {\n      target = handlerData.event.target\n        ? htmlTreeAsString(handlerData.event.target , keyAttrs)\n        : htmlTreeAsString(handlerData.event , keyAttrs);\n    } catch (e) {\n      target = '<unknown>';\n    }\n\n    if (target.length === 0) {\n      return;\n    }\n\n    getCurrentHub().addBreadcrumb(\n      {\n        category: `ui.${handlerData.name}`,\n        message: target,\n      },\n      {\n        event: handlerData.event,\n        name: handlerData.name,\n        global: handlerData.global,\n      },\n    );\n  }\n\n  return _innerDomBreadcrumb;\n}\n\n/**\n * Creates breadcrumbs from console API calls\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction _consoleBreadcrumb(handlerData) {\n  // This is a hack to fix a Vue3-specific bug that causes an infinite loop of\n  // console warnings. This happens when a Vue template is rendered with\n  // an undeclared variable, which we try to stringify, ultimately causing\n  // Vue to issue another warning which repeats indefinitely.\n  // see: https://github.com/getsentry/sentry-javascript/pull/6010\n  // see: https://github.com/getsentry/sentry-javascript/issues/5916\n  for (let i = 0; i < handlerData.args.length; i++) {\n    if (handlerData.args[i] === 'ref=Ref<') {\n      handlerData.args[i + 1] = 'viewRef';\n      break;\n    }\n  }\n  const breadcrumb = {\n    category: 'console',\n    data: {\n      arguments: handlerData.args,\n      logger: 'console',\n    },\n    level: severityLevelFromString(handlerData.level),\n    message: safeJoin(handlerData.args, ' '),\n  };\n\n  if (handlerData.level === 'assert') {\n    if (handlerData.args[0] === false) {\n      breadcrumb.message = `Assertion failed: ${safeJoin(handlerData.args.slice(1), ' ') || 'console.assert'}`;\n      breadcrumb.data.arguments = handlerData.args.slice(1);\n    } else {\n      // Don't capture a breadcrumb for passed assertions\n      return;\n    }\n  }\n\n  getCurrentHub().addBreadcrumb(breadcrumb, {\n    input: handlerData.args,\n    level: handlerData.level,\n  });\n}\n\n/**\n * Creates breadcrumbs from XHR API calls\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction _xhrBreadcrumb(handlerData) {\n  if (handlerData.endTimestamp) {\n    // We only capture complete, non-sentry requests\n    if (handlerData.xhr.__sentry_own_request__) {\n      return;\n    }\n\n    const { method, url, status_code, body } = handlerData.xhr.__sentry_xhr__ || {};\n\n    getCurrentHub().addBreadcrumb(\n      {\n        category: 'xhr',\n        data: {\n          method,\n          url,\n          status_code,\n        },\n        type: 'http',\n      },\n      {\n        xhr: handlerData.xhr,\n        input: body,\n      },\n    );\n\n    return;\n  }\n}\n\n/**\n * Creates breadcrumbs from fetch API calls\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction _fetchBreadcrumb(handlerData) {\n  // We only capture complete fetch requests\n  if (!handlerData.endTimestamp) {\n    return;\n  }\n\n  if (handlerData.fetchData.url.match(/sentry_key/) && handlerData.fetchData.method === 'POST') {\n    // We will not create breadcrumbs for fetch requests that contain `sentry_key` (internal sentry requests)\n    return;\n  }\n\n  if (handlerData.error) {\n    getCurrentHub().addBreadcrumb(\n      {\n        category: 'fetch',\n        data: handlerData.fetchData,\n        level: 'error',\n        type: 'http',\n      },\n      {\n        data: handlerData.error,\n        input: handlerData.args,\n      },\n    );\n  } else {\n    getCurrentHub().addBreadcrumb(\n      {\n        category: 'fetch',\n        data: {\n          ...handlerData.fetchData,\n          status_code: handlerData.response.status,\n        },\n        type: 'http',\n      },\n      {\n        input: handlerData.args,\n        response: handlerData.response,\n      },\n    );\n  }\n}\n\n/**\n * Creates breadcrumbs from history API calls\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction _historyBreadcrumb(handlerData) {\n  let from = handlerData.from;\n  let to = handlerData.to;\n  const parsedLoc = parseUrl(WINDOW.location.href);\n  let parsedFrom = parseUrl(from);\n  const parsedTo = parseUrl(to);\n\n  // Initial pushState doesn't provide `from` information\n  if (!parsedFrom.path) {\n    parsedFrom = parsedLoc;\n  }\n\n  // Use only the path component of the URL if the URL matches the current\n  // document (almost all the time when using pushState)\n  if (parsedLoc.protocol === parsedTo.protocol && parsedLoc.host === parsedTo.host) {\n    to = parsedTo.relative;\n  }\n  if (parsedLoc.protocol === parsedFrom.protocol && parsedLoc.host === parsedFrom.host) {\n    from = parsedFrom.relative;\n  }\n\n  getCurrentHub().addBreadcrumb({\n    category: 'navigation',\n    data: {\n      from,\n      to,\n    },\n  });\n}\n\nexport { BREADCRUMB_INTEGRATION_ID, Breadcrumbs };\n//# sourceMappingURL=breadcrumbs.js.map\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar fails = require('../internals/fails');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// FF99+ bug\nvar BROKEN_ON_SPARSE = fails(function () {\n  return !Array(1).includes();\n});\n\n// `Array.prototype.includes` method\n// https://tc39.es/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true, forced: BROKEN_ON_SPARSE }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validatePhoneISO3166 = exports.findCountryPhoneDataByPhoneNumber = exports.findPossibleCountryPhoneData = exports.findExactCountryPhoneData = exports.findCountryPhoneDataByCountry = void 0;\nconst country_phone_data_1 = __importDefault(require(\"../data/country_phone_data\"));\n/**\n * @param {string=} country - country code alpha 2 or 3\n * @returns {{country_code: string, alpha2: string, country_name: string, alpha3: string, mobile_begin_with, phone_number_lengths: [number]}|{country_code: string, alpha2: string, country_name: string, alpha3: string, mobile_begin_with: [string, string, string, string], phone_number_lengths: [number]}|{country_code: string, alpha2: string, country_name: string, alpha3: string, mobile_begin_with: [string], phone_number_lengths: [number]}|{country_code: string, alpha2: string, country_name: string, alpha3: string, mobile_begin_with: [string], phone_number_lengths: [number]}|{country_code: string, alpha2: string, country_name: string, alpha3: string, mobile_begin_with: [string, string], phone_number_lengths: [number]}|null}\n */\nfunction findCountryPhoneDataByCountry(country) {\n    // if no country provided, assume it's USA\n    if (!country) {\n        return country_phone_data_1.default.find(countryPhoneDatum => countryPhoneDatum.alpha3 === 'USA') || null;\n    }\n    if (country.length === 2) {\n        return country_phone_data_1.default.find(countryPhoneDatum => country.toUpperCase() === countryPhoneDatum.alpha2) || null;\n    }\n    if (country.length === 3) {\n        return country_phone_data_1.default.find(countryPhoneDatum => country.toUpperCase() === countryPhoneDatum.alpha3) || null;\n    }\n    return country_phone_data_1.default.find(countryPhoneDatum => country.toUpperCase() === countryPhoneDatum.country_name.toUpperCase()) || null;\n}\nexports.findCountryPhoneDataByCountry = findCountryPhoneDataByCountry;\nfunction findExactCountryPhoneData(phoneNumber, validateMobilePrefix, countryPhoneDatum) {\n    // check if the phone number length match any one of the length config\n    const phoneNumberLengthMatched = countryPhoneDatum.phone_number_lengths.some(length => {\n        // as the phone number must include the country code,\n        // but countryPhoneDatum.phone_number_lengths is the length without country code\n        // therefore need to add back countryPhoneDatum.country_code.length to length\n        return (countryPhoneDatum.country_code.length + length === phoneNumber.length);\n    });\n    if (!phoneNumberLengthMatched) {\n        return null;\n    }\n    // if no need to validate mobile prefix or the country data does not have mobile begin with\n    // pick the current one as the answer directly\n    if (!countryPhoneDatum.mobile_begin_with.length || !validateMobilePrefix) {\n        return countryPhoneDatum;\n    }\n    // if the mobile begin with is correct, pick as the correct answer\n    if (countryPhoneDatum.mobile_begin_with.some(beginWith => {\n        return phoneNumber.match(new RegExp('^' + countryPhoneDatum.country_code + beginWith));\n    })) {\n        return countryPhoneDatum;\n    }\n    return null;\n}\nexports.findExactCountryPhoneData = findExactCountryPhoneData;\nfunction findPossibleCountryPhoneData(phoneNumber, validateMobilePrefix, countryPhoneDatum) {\n    // check if the phone number length match any one of the length config\n    const phoneNumberLengthMatched = countryPhoneDatum.phone_number_lengths.some(length => {\n        // the phone number must include the country code\n        // countryPhoneDatum.phone_number_lengths is the length without country code\n        // + 1 is assuming there is an unwanted trunk code prepended to the phone number\n        return (countryPhoneDatum.country_code.length + length + 1 === phoneNumber.length);\n    });\n    if (!phoneNumberLengthMatched) {\n        return null;\n    }\n    // if no need to validate mobile prefix or the country data does not have mobile begin with\n    // pick the current one as the answer directly\n    if (!countryPhoneDatum.mobile_begin_with.length || !validateMobilePrefix) {\n        return countryPhoneDatum;\n    }\n    // if the mobile begin with is correct, pick as the correct answer\n    // match another \\d for the unwanted trunk code prepended to the phone number\n    if (countryPhoneDatum.mobile_begin_with.some(beginWith => {\n        return phoneNumber.match(new RegExp('^' + countryPhoneDatum.country_code + '\\\\d?' + beginWith));\n    })) {\n        return countryPhoneDatum;\n    }\n}\nexports.findPossibleCountryPhoneData = findPossibleCountryPhoneData;\n/**\n * get country phone data by phone number\n * the phone number must include country code as the complete phone number includes the plus sign\n * @param phoneNumber\n * @param validateMobilePrefix\n * @returns {{exactCountryPhoneData: (*), possibleCountryPhoneData: (*)}}\n */\nfunction findCountryPhoneDataByPhoneNumber(phoneNumber, validateMobilePrefix) {\n    let exactCountryPhoneData;\n    let possibleCountryPhoneData;\n    for (const countryPhoneDatum of country_phone_data_1.default) {\n        // if the country code is wrong, skip directly\n        if (!phoneNumber.match(new RegExp('^' + countryPhoneDatum.country_code))) {\n            continue;\n        }\n        // process only if exact match not found yet\n        if (!exactCountryPhoneData) {\n            exactCountryPhoneData = findExactCountryPhoneData(phoneNumber, validateMobilePrefix, countryPhoneDatum);\n        }\n        if (!possibleCountryPhoneData) {\n            possibleCountryPhoneData = findPossibleCountryPhoneData(phoneNumber, validateMobilePrefix, countryPhoneDatum);\n        }\n    }\n    return {\n        exactCountryPhoneData,\n        possibleCountryPhoneData\n    };\n}\nexports.findCountryPhoneDataByPhoneNumber = findCountryPhoneDataByPhoneNumber;\n/**\n *\n * @param {string} phone - phone number without plus sign, with or without country calling code\n * @param {Object} countryPhoneDatum - iso 3166 data\n * @param {String} countryPhoneDatum.country_code - country calling codes\n * @param {Array} countryPhoneDatum.phone_number_lengths - all available phone number lengths for this country\n * @param {Array} countryPhoneDatum.mobile_begin_with - mobile begin with number\n * @param {boolean} validateMobilePrefix - true if we skip mobile begin with checking\n * @param {boolean} plusSign - true if the input contains a plus sign\n * @returns {*|boolean}\n */\nfunction validatePhoneISO3166(phone, countryPhoneDatum, validateMobilePrefix, plusSign) {\n    if (!countryPhoneDatum.phone_number_lengths) {\n        return false;\n    }\n    // remove country calling code from the phone number\n    const phoneWithoutCountry = phone.replace(new RegExp('^' + countryPhoneDatum.country_code), '');\n    // if the phone number have +, countryPhoneDatum detected,\n    // but the phone number does not have country calling code\n    // then should consider the phone number as invalid\n    if (plusSign && countryPhoneDatum && phoneWithoutCountry.length === phone.length) {\n        return false;\n    }\n    const phone_number_lengths = countryPhoneDatum.phone_number_lengths;\n    const mobile_begin_with = countryPhoneDatum.mobile_begin_with;\n    const isLengthValid = phone_number_lengths.some(length => phoneWithoutCountry.length === length);\n    // some country doesn't have mobile_begin_with\n    const isBeginWithValid = mobile_begin_with.length ?\n        mobile_begin_with.some(beginWith => phoneWithoutCountry.match(new RegExp('^' + beginWith))) :\n        true;\n    return isLengthValid && (!validateMobilePrefix || isBeginWithValid);\n}\nexports.validatePhoneISO3166 = validatePhoneISO3166;\n","module.exports = require('./lib/Observable.js').Observable;\n","export function filterInPlace(array, test, context) {\n    var target = 0;\n    array.forEach(function (elem, i) {\n        if (test.call(this, elem, i, array)) {\n            array[target++] = elem;\n        }\n    }, context);\n    array.length = target;\n    return array;\n}\n//# sourceMappingURL=filterInPlace.js.map","import { __assign, __spreadArray } from \"tslib\";\nimport { invariant } from \"../globals/index.js\";\nimport { visit, } from 'graphql';\nimport { checkDocument, getOperationDefinition, getFragmentDefinition, getFragmentDefinitions, getMainDefinition, } from \"./getFromAST.js\";\nimport { filterInPlace } from \"../common/filterInPlace.js\";\nimport { isField, isInlineFragment } from \"./storeUtils.js\";\nimport { createFragmentMap, } from \"./fragments.js\";\nvar TYPENAME_FIELD = {\n    kind: 'Field',\n    name: {\n        kind: 'Name',\n        value: '__typename',\n    },\n};\nfunction isEmpty(op, fragments) {\n    return op.selectionSet.selections.every(function (selection) {\n        return selection.kind === 'FragmentSpread' &&\n            isEmpty(fragments[selection.name.value], fragments);\n    });\n}\nfunction nullIfDocIsEmpty(doc) {\n    return isEmpty(getOperationDefinition(doc) || getFragmentDefinition(doc), createFragmentMap(getFragmentDefinitions(doc)))\n        ? null\n        : doc;\n}\nfunction getDirectiveMatcher(directives) {\n    return function directiveMatcher(directive) {\n        return directives.some(function (dir) {\n            return (dir.name && dir.name === directive.name.value) ||\n                (dir.test && dir.test(directive));\n        });\n    };\n}\nexport function removeDirectivesFromDocument(directives, doc) {\n    var variablesInUse = Object.create(null);\n    var variablesToRemove = [];\n    var fragmentSpreadsInUse = Object.create(null);\n    var fragmentSpreadsToRemove = [];\n    var modifiedDoc = nullIfDocIsEmpty(visit(doc, {\n        Variable: {\n            enter: function (node, _key, parent) {\n                if (parent.kind !== 'VariableDefinition') {\n                    variablesInUse[node.name.value] = true;\n                }\n            },\n        },\n        Field: {\n            enter: function (node) {\n                if (directives && node.directives) {\n                    var shouldRemoveField = directives.some(function (directive) { return directive.remove; });\n                    if (shouldRemoveField &&\n                        node.directives &&\n                        node.directives.some(getDirectiveMatcher(directives))) {\n                        if (node.arguments) {\n                            node.arguments.forEach(function (arg) {\n                                if (arg.value.kind === 'Variable') {\n                                    variablesToRemove.push({\n                                        name: arg.value.name.value,\n                                    });\n                                }\n                            });\n                        }\n                        if (node.selectionSet) {\n                            getAllFragmentSpreadsFromSelectionSet(node.selectionSet).forEach(function (frag) {\n                                fragmentSpreadsToRemove.push({\n                                    name: frag.name.value,\n                                });\n                            });\n                        }\n                        return null;\n                    }\n                }\n            },\n        },\n        FragmentSpread: {\n            enter: function (node) {\n                fragmentSpreadsInUse[node.name.value] = true;\n            },\n        },\n        Directive: {\n            enter: function (node) {\n                if (getDirectiveMatcher(directives)(node)) {\n                    return null;\n                }\n            },\n        },\n    }));\n    if (modifiedDoc &&\n        filterInPlace(variablesToRemove, function (v) { return !!v.name && !variablesInUse[v.name]; }).length) {\n        modifiedDoc = removeArgumentsFromDocument(variablesToRemove, modifiedDoc);\n    }\n    if (modifiedDoc &&\n        filterInPlace(fragmentSpreadsToRemove, function (fs) { return !!fs.name && !fragmentSpreadsInUse[fs.name]; })\n            .length) {\n        modifiedDoc = removeFragmentSpreadFromDocument(fragmentSpreadsToRemove, modifiedDoc);\n    }\n    return modifiedDoc;\n}\nexport var addTypenameToDocument = Object.assign(function (doc) {\n    return visit(doc, {\n        SelectionSet: {\n            enter: function (node, _key, parent) {\n                if (parent &&\n                    parent.kind === 'OperationDefinition') {\n                    return;\n                }\n                var selections = node.selections;\n                if (!selections) {\n                    return;\n                }\n                var skip = selections.some(function (selection) {\n                    return (isField(selection) &&\n                        (selection.name.value === '__typename' ||\n                            selection.name.value.lastIndexOf('__', 0) === 0));\n                });\n                if (skip) {\n                    return;\n                }\n                var field = parent;\n                if (isField(field) &&\n                    field.directives &&\n                    field.directives.some(function (d) { return d.name.value === 'export'; })) {\n                    return;\n                }\n                return __assign(__assign({}, node), { selections: __spreadArray(__spreadArray([], selections, true), [TYPENAME_FIELD], false) });\n            },\n        },\n    });\n}, {\n    added: function (field) {\n        return field === TYPENAME_FIELD;\n    },\n});\nvar connectionRemoveConfig = {\n    test: function (directive) {\n        var willRemove = directive.name.value === 'connection';\n        if (willRemove) {\n            if (!directive.arguments ||\n                !directive.arguments.some(function (arg) { return arg.name.value === 'key'; })) {\n                __DEV__ && invariant.warn('Removing an @connection directive even though it does not have a key. ' +\n                    'You may want to use the key parameter to specify a store key.');\n            }\n        }\n        return willRemove;\n    },\n};\nexport function removeConnectionDirectiveFromDocument(doc) {\n    return removeDirectivesFromDocument([connectionRemoveConfig], checkDocument(doc));\n}\nfunction hasDirectivesInSelectionSet(directives, selectionSet, nestedCheck) {\n    if (nestedCheck === void 0) { nestedCheck = true; }\n    return (!!selectionSet &&\n        selectionSet.selections &&\n        selectionSet.selections.some(function (selection) {\n            return hasDirectivesInSelection(directives, selection, nestedCheck);\n        }));\n}\nfunction hasDirectivesInSelection(directives, selection, nestedCheck) {\n    if (nestedCheck === void 0) { nestedCheck = true; }\n    if (!isField(selection)) {\n        return true;\n    }\n    if (!selection.directives) {\n        return false;\n    }\n    return (selection.directives.some(getDirectiveMatcher(directives)) ||\n        (nestedCheck &&\n            hasDirectivesInSelectionSet(directives, selection.selectionSet, nestedCheck)));\n}\nfunction getArgumentMatcher(config) {\n    return function argumentMatcher(argument) {\n        return config.some(function (aConfig) {\n            return argument.value &&\n                argument.value.kind === 'Variable' &&\n                argument.value.name &&\n                (aConfig.name === argument.value.name.value ||\n                    (aConfig.test && aConfig.test(argument)));\n        });\n    };\n}\nexport function removeArgumentsFromDocument(config, doc) {\n    var argMatcher = getArgumentMatcher(config);\n    return nullIfDocIsEmpty(visit(doc, {\n        OperationDefinition: {\n            enter: function (node) {\n                return __assign(__assign({}, node), { variableDefinitions: node.variableDefinitions ? node.variableDefinitions.filter(function (varDef) {\n                        return !config.some(function (arg) { return arg.name === varDef.variable.name.value; });\n                    }) : [] });\n            },\n        },\n        Field: {\n            enter: function (node) {\n                var shouldRemoveField = config.some(function (argConfig) { return argConfig.remove; });\n                if (shouldRemoveField) {\n                    var argMatchCount_1 = 0;\n                    if (node.arguments) {\n                        node.arguments.forEach(function (arg) {\n                            if (argMatcher(arg)) {\n                                argMatchCount_1 += 1;\n                            }\n                        });\n                    }\n                    if (argMatchCount_1 === 1) {\n                        return null;\n                    }\n                }\n            },\n        },\n        Argument: {\n            enter: function (node) {\n                if (argMatcher(node)) {\n                    return null;\n                }\n            },\n        },\n    }));\n}\nexport function removeFragmentSpreadFromDocument(config, doc) {\n    function enter(node) {\n        if (config.some(function (def) { return def.name === node.name.value; })) {\n            return null;\n        }\n    }\n    return nullIfDocIsEmpty(visit(doc, {\n        FragmentSpread: { enter: enter },\n        FragmentDefinition: { enter: enter },\n    }));\n}\nfunction getAllFragmentSpreadsFromSelectionSet(selectionSet) {\n    var allFragments = [];\n    selectionSet.selections.forEach(function (selection) {\n        if ((isField(selection) || isInlineFragment(selection)) &&\n            selection.selectionSet) {\n            getAllFragmentSpreadsFromSelectionSet(selection.selectionSet).forEach(function (frag) { return allFragments.push(frag); });\n        }\n        else if (selection.kind === 'FragmentSpread') {\n            allFragments.push(selection);\n        }\n    });\n    return allFragments;\n}\nexport function buildQueryFromSelectionSet(document) {\n    var definition = getMainDefinition(document);\n    var definitionOperation = definition.operation;\n    if (definitionOperation === 'query') {\n        return document;\n    }\n    var modifiedDoc = visit(document, {\n        OperationDefinition: {\n            enter: function (node) {\n                return __assign(__assign({}, node), { operation: 'query' });\n            },\n        },\n    });\n    return modifiedDoc;\n}\nexport function removeClientSetsFromDocument(document) {\n    checkDocument(document);\n    var modifiedDoc = removeDirectivesFromDocument([\n        {\n            test: function (directive) { return directive.name.value === 'client'; },\n            remove: true,\n        },\n    ], document);\n    if (modifiedDoc) {\n        modifiedDoc = visit(modifiedDoc, {\n            FragmentDefinition: {\n                enter: function (node) {\n                    if (node.selectionSet) {\n                        var isTypenameOnly = node.selectionSet.selections.every(function (selection) {\n                            return isField(selection) && selection.name.value === '__typename';\n                        });\n                        if (isTypenameOnly) {\n                            return null;\n                        }\n                    }\n                },\n            },\n        });\n    }\n    return modifiedDoc;\n}\n//# sourceMappingURL=transform.js.map","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar defineGlobalProperty = require('../internals/define-global-property');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target         - name of the target object\n  options.global         - target is the global object\n  options.stat           - export as static methods of target\n  options.proto          - export as prototype methods of target\n  options.real           - real prototype method for the `pure` version\n  options.forced         - export even if the native feature is available\n  options.bind           - bind methods to the target, required for the `pure` version\n  options.wrap           - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe         - use the simple assignment of property instead of delete + defineProperty\n  options.sham           - add a flag to not completely full polyfills\n  options.enumerable     - export as enumerable property\n  options.dontCallGetSet - prevent calling a getter on target\n  options.name           - the .name of the function if it does not match the key\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || defineGlobalProperty(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.dontCallGetSet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty == typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    defineBuiltIn(target, key, sourceProperty, options);\n  }\n};\n","var MissingFieldError = (function () {\n    function MissingFieldError(message, path, query, variables) {\n        this.message = message;\n        this.path = path;\n        this.query = query;\n        this.variables = variables;\n    }\n    return MissingFieldError;\n}());\nexport { MissingFieldError };\n//# sourceMappingURL=common.js.map","import { isReactive, isReadonly, unref, ref, computed, watch, reactive, isRef, nextTick, inject, provide, getCurrentInstance, isVue3, onBeforeMount, onBeforeUnmount } from 'vue-demi';\n\nfunction unwrapObj(obj) {\n  let ignoreKeys = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return Object.keys(obj).reduce((o, k) => {\n    if (ignoreKeys.includes(k)) return o;\n    o[k] = unref(obj[k]);\n    return o;\n  }, {});\n}\nfunction isFunction(val) {\n  return typeof val === 'function';\n}\nfunction isProxy(value) {\n  return isReactive(value) || isReadonly(value);\n}\n\n/**\n * Response form a raw Validator function.\n * Should return a Boolean or an object with $invalid property.\n * @typedef {Boolean | { $valid: Boolean }} ValidatorResponse\n */\n\n/**\n * Calls a validation rule by unwrapping its value first from a ref.\n * @param {Validator} rule\n * @param {Ref} value\n * @param {VueInstance} instance\n * @param {Object} siblingState\n * @return {Promise<ValidatorResponse> | ValidatorResponse}\n */\n\nfunction callRule(rule, value, siblingState, instance) {\n  return rule.call(instance, unref(value), unref(siblingState), instance);\n}\n/**\n * Normalizes the validator result\n * Allows passing a boolean of an object like `{ $valid: Boolean }`\n * @param {ValidatorResponse} result - Validator result\n * @return {boolean}\n */\n\n\nfunction normalizeValidatorResponse(result) {\n  return result.$valid !== undefined ? !result.$valid : !result;\n}\n/**\n * Returns the result of an async validator.\n * @param {Validator} rule\n * @param {Ref<*>} model\n * @param {Ref<Boolean>} $pending\n * @param {Ref<Boolean>} $dirty\n * @param {GlobalConfig} config\n * @param {boolean} config.$lazy\n * @param {Ref<*>} $response\n * @param {VueInstance} instance\n * @param {Ref<*>[]} watchTargets\n * @param {Object} siblingState\n * @param {Ref<Boolean>} $lastInvalidState\n * @param {Ref<Number>} $lastCommittedOn\n * @return {{ $invalid: Ref<Boolean>, $unwatch: WatchStopHandle }}\n */\n\n\nfunction createAsyncResult(rule, model, $pending, $dirty, _ref, $response, instance) {\n  let {\n    $lazy,\n    $rewardEarly\n  } = _ref;\n  let watchTargets = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : [];\n  let siblingState = arguments.length > 8 ? arguments[8] : undefined;\n  let $lastInvalidState = arguments.length > 9 ? arguments[9] : undefined;\n  let $lastCommittedOn = arguments.length > 10 ? arguments[10] : undefined;\n  const $invalid = ref(!!$dirty.value);\n  const $pendingCounter = ref(0);\n  $pending.value = false;\n  const $unwatch = watch([model, $dirty].concat(watchTargets, $lastCommittedOn), () => {\n    if ( // if $lazy and not dirty, return\n    $lazy && !$dirty.value || // if in $rewardEarly mode and no previous errors, nothing pending, return\n    $rewardEarly && !$lastInvalidState.value && !$pending.value) {\n      return;\n    }\n\n    let ruleResult; // make sure we dont break if a validator throws\n\n    try {\n      ruleResult = callRule(rule, model, siblingState, instance);\n    } catch (err) {\n      // convert to a promise, so we can handle it async\n      ruleResult = Promise.reject(err);\n    }\n\n    $pendingCounter.value++;\n    $pending.value = !!$pendingCounter.value; // ensure $invalid is false, while validator is resolving\n\n    $invalid.value = false;\n    Promise.resolve(ruleResult).then(data => {\n      $pendingCounter.value--;\n      $pending.value = !!$pendingCounter.value;\n      $response.value = data;\n      $invalid.value = normalizeValidatorResponse(data);\n    }).catch(error => {\n      $pendingCounter.value--;\n      $pending.value = !!$pendingCounter.value;\n      $response.value = error;\n      $invalid.value = true;\n    });\n  }, {\n    immediate: true,\n    deep: typeof model === 'object'\n  });\n  return {\n    $invalid,\n    $unwatch\n  };\n}\n/**\n * Returns the result of a sync validator\n * @param {Validator} rule\n * @param {Ref<*>} model\n * @param {Ref<Boolean>} $dirty\n * @param {GlobalConfig} config\n * @param {Boolean} config.$lazy\n * @param {Ref<*>} $response\n * @param {VueInstance} instance\n * @param {Object} siblingState\n * @param {Ref<Boolean>} $lastInvalidState\n * @return {{$unwatch: (function(): {}), $invalid: ComputedRef<boolean>}}\n */\n\n\nfunction createSyncResult(rule, model, $dirty, _ref2, $response, instance, siblingState, $lastInvalidState) {\n  let {\n    $lazy,\n    $rewardEarly\n  } = _ref2;\n\n  const $unwatch = () => ({});\n\n  const $invalid = computed(() => {\n    if ( // return early if $lazy mode and not touched\n    $lazy && !$dirty.value || // If $rewardEarly mode is ON and last invalid was false (no error), return it.\n    // If we want to invalidate, we just flip the last state to true, causing the computed to run again\n    $rewardEarly && !$lastInvalidState.value) {\n      return false;\n    }\n\n    let returnValue = true;\n\n    try {\n      const result = callRule(rule, model, siblingState, instance);\n      $response.value = result;\n      returnValue = normalizeValidatorResponse(result);\n    } catch (err) {\n      $response.value = err;\n    }\n\n    return returnValue;\n  });\n  return {\n    $unwatch,\n    $invalid\n  };\n}\n/**\n * Returns the validation result.\n * Detects async and sync validators.\n * @param {NormalizedValidator} rule\n * @param {Ref<*>} model\n * @param {Ref<boolean>} $dirty\n * @param {GlobalConfig} config - Vuelidate config\n * @param {VueInstance} instance - component instance\n * @param {string} validatorName - name of the current validator\n * @param {string} propertyKey - the current property we are validating\n * @param {string} propertyPath - the deep path to the validated property\n * @param {Object} siblingState\n * @param {Ref<Boolean>} $lastInvalidState - the last invalid state\n * @param {Ref<Number>} $lastCommittedOn - the last time $commit was called\n * @return {{ $params: *, $message: Ref<String>, $pending: Ref<Boolean>, $invalid: Ref<Boolean>, $response: Ref<*>, $unwatch: WatchStopHandle }}\n */\n\n\nfunction createValidatorResult(rule, model, $dirty, config, instance, validatorName, propertyKey, propertyPath, siblingState, $lastInvalidState, $lastCommittedOn) {\n  const $pending = ref(false);\n  const $params = rule.$params || {};\n  const $response = ref(null);\n  let $invalid;\n  let $unwatch;\n\n  if (rule.$async) {\n    ({\n      $invalid,\n      $unwatch\n    } = createAsyncResult(rule.$validator, model, $pending, $dirty, config, $response, instance, rule.$watchTargets, siblingState, $lastInvalidState, $lastCommittedOn));\n  } else {\n    ({\n      $invalid,\n      $unwatch\n    } = createSyncResult(rule.$validator, model, $dirty, config, $response, instance, siblingState, $lastInvalidState));\n  }\n\n  const message = rule.$message;\n  const $message = isFunction(message) ? computed(() => message(unwrapObj({\n    $pending,\n    $invalid,\n    $params: unwrapObj($params),\n    // $params can hold refs, so we unwrap them for easy access\n    $model: model,\n    $response,\n    $validator: validatorName,\n    $propertyPath: propertyPath,\n    $property: propertyKey\n  }))) : message || '';\n  return {\n    $message,\n    $params,\n    $pending,\n    $invalid,\n    $response,\n    $unwatch\n  };\n}\n\n/**\n * Sorts a validation definition into rules, configs and nested validators.\n * @param {Object<NormalizedValidator|Function>} validationsRaw\n * @return {{ rules: Object<NormalizedValidator>, nestedValidators: Object, config: GlobalConfig }}\n */\n\nfunction sortValidations() {\n  let validationsRaw = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const validations = unref(validationsRaw);\n  const validationKeys = Object.keys(validations);\n  const rules = {};\n  const nestedValidators = {};\n  const config = {};\n  validationKeys.forEach(key => {\n    const v = validations[key];\n\n    switch (true) {\n      // If it is already normalized, use it\n      case isFunction(v.$validator):\n        rules[key] = v;\n        break;\n      // If it is just a function, normalize it first\n      // into { $validator: <Fun> }\n\n      case isFunction(v):\n        rules[key] = {\n          $validator: v\n        };\n        break;\n      // Catch $-prefixed properties as config\n\n      case key.startsWith('$'):\n        config[key] = v;\n        break;\n      // If it doesnt match any of the above,\n      // treat as nestedValidators state property\n\n      default:\n        nestedValidators[key] = v;\n    }\n  });\n  return {\n    rules,\n    nestedValidators,\n    config\n  };\n}\n\nfunction _empty() {}\n\nconst ROOT_PATH = '__root';\n/** @typedef {import('vue-demi').ComponentPublicInstance} VueInstance */\n\n/** @typedef {import('vue-demi').ComputedRef} ComputedRef */\n\n/** @typedef {import('vue-demi').UnwrapRef} UnwrapRef */\n\n/** @typedef {import('vue-demi').WatchStopHandle} WatchStopHandle */\n\n/** @typedef {import('vue-demi').WritableComputedRef} WritableComputedRef */\n\n/** @typedef {import('vue-demi').UnwrapNestedRefs} UnwrapNestedRefs */\n\n/**\n * @typedef NormalizedValidator\n * @property {Validator} $validator\n * @property {String | Ref<String> | function(*): string} [$message]\n * @property {Object | Ref<Object>} [$params]\n * @property {Object | Ref<Object>} [$async]\n * @property {Ref<*>[]} [$watchTargets]\n */\n\n/**\n * Raw validator function, before being normalized\n * Can return a Promise or a {@see ValidatorResponse}\n * @typedef {function(*): ((Promise<ValidatorResponse> | ValidatorResponse))} Validator\n */\n\n/**\n * @typedef ErrorObject\n * @property {Ref<String>} $message - Reactive error message\n * @property {Ref<Object>} $params - Params passed from withParams\n * @property {Ref<Boolean>} $pending - If validation is pending\n * @property {String} $property - State key\n * @property {String} $propertyPath - Dot notation path to state\n * @property {String} $validator - Validator name\n * @property {String} $uid - Unique identifier\n */\n\n/**\n * @typedef ValidationResult\n * @property {Ref<Boolean>} $pending\n * @property {Ref<Boolean>} $dirty\n * @property {Ref<Boolean>} $invalid\n * @property {Ref<Boolean>} $error\n * @property {Ref<String>} $path\n * @property {Function} $touch\n * @property {Function} $reset\n * @property {ComputedRef<ErrorObject[]>} $errors\n * @property {ComputedRef<ErrorObject[]>} $silentErrors\n * @property {Function} $commit\n */\n\n/**\n * Creates the main Validation Results object for a state tree\n * Walks the tree's top level branches\n * @param {Object<NormalizedValidator>} rules - Rules for the current state tree\n * @param {Object} model - Current state value\n * @param {String} key - Key for the current state tree\n * @param {ResultsStorage} [resultsCache] - A cache map of all the validators\n * @param {String} [path] - the current property path\n * @param {GlobalConfig} [config] - the config object\n * @param {VueInstance} instance\n * @param {ComputedRef<Object>} externalResults\n * @param {Object} siblingState\n * @return {ValidationResult | {}}\n */\n\nfunction _call(body, then, direct) {\n  if (direct) {\n    return then ? then(body()) : body();\n  }\n\n  try {\n    var result = Promise.resolve(body());\n    return then ? result.then(then) : result;\n  } catch (e) {\n    return Promise.reject(e);\n  }\n}\n/**\n * Collects the validation results of all nested state properties\n * @param {Object<NormalizedValidator|Function>} validations - The validation\n * @param {Object} nestedState - Current state\n * @param {String} path - Path to current property\n * @param {ResultsStorage} resultsCache - Validations cache map\n * @param {GlobalConfig} config - The config object\n * @param {VueInstance} instance - The current Vue instance\n * @param {ComputedRef<object>} nestedExternalResults - The external results for this nested collection\n * @return {Object<string, VuelidateState>}\n */\n\n\nfunction _callIgnored(body, direct) {\n  return _call(body, _empty, direct);\n}\n\nfunction _invoke(body, then) {\n  var result = body();\n\n  if (result && result.then) {\n    return result.then(then);\n  }\n\n  return then(result);\n}\n\nfunction _async(f) {\n  return function () {\n    for (var args = [], i = 0; i < arguments.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    try {\n      return Promise.resolve(f.apply(this, args));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n}\n\nfunction createValidationResults(rules, model, key, resultsCache, path, config, instance, externalResults, siblingState) {\n  // collect the property keys\n  const ruleKeys = Object.keys(rules);\n  const cachedResult = resultsCache.get(path, rules);\n  const $dirty = ref(false); // state for the $rewardEarly option\n\n  /** The last invalid state of this property */\n\n  const $lastInvalidState = ref(false);\n  /** The last time $commit was called. Used to re-trigger async calls */\n\n  const $lastCommittedOn = ref(0);\n\n  if (cachedResult) {\n    // if the rules are the same as before, use the cached results\n    if (!cachedResult.$partial) return cachedResult; // remove old watchers\n\n    cachedResult.$unwatch(); // use the `$dirty.value`, so we dont save references by accident\n\n    $dirty.value = cachedResult.$dirty.value;\n  }\n\n  const result = {\n    // restore $dirty from cache\n    $dirty,\n    $path: path,\n    $touch: () => {\n      if (!$dirty.value) $dirty.value = true;\n    },\n    $reset: () => {\n      if ($dirty.value) $dirty.value = false;\n    },\n    $commit: () => {}\n  };\n  /**\n   * If there are no validation rules, it is most likely\n   * a top level state, aka root\n   */\n\n  if (!ruleKeys.length) {\n    // if there are cached results, we should overwrite them with the new ones\n    cachedResult && resultsCache.set(path, rules, result);\n    return result;\n  }\n\n  ruleKeys.forEach(ruleKey => {\n    result[ruleKey] = createValidatorResult(rules[ruleKey], model, result.$dirty, config, instance, ruleKey, key, path, siblingState, $lastInvalidState, $lastCommittedOn);\n  });\n  result.$externalResults = computed(() => {\n    if (!externalResults.value) return [];\n    return [].concat(externalResults.value).map((stringError, index) => ({\n      $propertyPath: path,\n      $property: key,\n      $validator: '$externalResults',\n      $uid: `${path}-externalResult-${index}`,\n      $message: stringError,\n      $params: {},\n      $response: null,\n      $pending: false\n    }));\n  });\n  result.$invalid = computed(() => {\n    const r = ruleKeys.some(ruleKey => unref(result[ruleKey].$invalid)); // cache the last invalid state\n\n    $lastInvalidState.value = r;\n    return !!result.$externalResults.value.length || r;\n  });\n  result.$pending = computed(() => ruleKeys.some(ruleKey => unref(result[ruleKey].$pending)));\n  result.$error = computed(() => result.$dirty.value ? result.$pending.value || result.$invalid.value : false);\n  result.$silentErrors = computed(() => ruleKeys.filter(ruleKey => unref(result[ruleKey].$invalid)).map(ruleKey => {\n    const res = result[ruleKey];\n    return reactive({\n      $propertyPath: path,\n      $property: key,\n      $validator: ruleKey,\n      $uid: `${path}-${ruleKey}`,\n      $message: res.$message,\n      $params: res.$params,\n      $response: res.$response,\n      $pending: res.$pending\n    });\n  }).concat(result.$externalResults.value));\n  result.$errors = computed(() => result.$dirty.value ? result.$silentErrors.value : []);\n\n  result.$unwatch = () => ruleKeys.forEach(ruleKey => {\n    result[ruleKey].$unwatch();\n  });\n\n  result.$commit = () => {\n    $lastInvalidState.value = true;\n    $lastCommittedOn.value = Date.now();\n  };\n\n  resultsCache.set(path, rules, result);\n  return result;\n}\n\nfunction collectNestedValidationResults(validations, nestedState, path, resultsCache, config, instance, nestedExternalResults) {\n  const nestedValidationKeys = Object.keys(validations); // if we have no state, return empty object\n\n  if (!nestedValidationKeys.length) return {};\n  return nestedValidationKeys.reduce((results, nestedKey) => {\n    // build validation results for nested state\n    results[nestedKey] = setValidations({\n      validations: validations[nestedKey],\n      state: nestedState,\n      key: nestedKey,\n      parentKey: path,\n      resultsCache,\n      globalConfig: config,\n      instance,\n      externalResults: nestedExternalResults\n    });\n    return results;\n  }, {});\n}\n/**\n * Generates the Meta fields from the results\n * @param {ValidationResult|{}} results\n * @param {Object.<string, VuelidateState>} nestedResults\n * @param {Object.<string, ValidationResult>} childResults\n * @return {{$anyDirty: Ref<Boolean>, $error: Ref<Boolean>, $invalid: Ref<Boolean>, $errors: Ref<ErrorObject[]>, $dirty: Ref<Boolean>, $touch: Function, $reset: Function }}\n */\n\n\nfunction createMetaFields(results, nestedResults, childResults) {\n  const allResults = computed(() => [nestedResults, childResults].filter(res => res).reduce((allRes, res) => {\n    return allRes.concat(Object.values(unref(res)));\n  }, [])); // returns `$dirty` as true, if all children are dirty\n\n  const $dirty = computed({\n    get() {\n      return results.$dirty.value || (allResults.value.length ? allResults.value.every(r => r.$dirty) : false);\n    },\n\n    set(v) {\n      results.$dirty.value = v;\n    }\n\n  });\n  const $silentErrors = computed(() => {\n    // current state level errors, fallback to empty array if root\n    const modelErrors = unref(results.$silentErrors) || []; // collect all nested and child $silentErrors\n\n    const nestedErrors = allResults.value.filter(result => (unref(result).$silentErrors || []).length).reduce((errors, result) => {\n      return errors.concat(...result.$silentErrors);\n    }, []); // merge the $silentErrors\n\n    return modelErrors.concat(nestedErrors);\n  });\n  const $errors = computed(() => {\n    // current state level errors, fallback to empty array if root\n    const modelErrors = unref(results.$errors) || []; // collect all nested and child $errors\n\n    const nestedErrors = allResults.value.filter(result => (unref(result).$errors || []).length).reduce((errors, result) => {\n      return errors.concat(...result.$errors);\n    }, []); // merge the $errors\n\n    return modelErrors.concat(nestedErrors);\n  });\n  const $invalid = computed(() => // if any of the nested values is invalid\n  allResults.value.some(r => r.$invalid) || // or if the current state is invalid\n  unref(results.$invalid) || // fallback to false if is root\n  false);\n  const $pending = computed(() => // if any of the nested values is pending\n  allResults.value.some(r => unref(r.$pending)) || // if any of the current state validators is pending\n  unref(results.$pending) || // fallback to false if is root\n  false);\n  const $anyDirty = computed(() => allResults.value.some(r => r.$dirty) || allResults.value.some(r => r.$anyDirty) || $dirty.value);\n  const $error = computed(() => $dirty.value ? $pending.value || $invalid.value : false);\n\n  const $touch = () => {\n    // call the root $touch\n    results.$touch(); // call all nested level $touch\n\n    allResults.value.forEach(result => {\n      result.$touch();\n    });\n  };\n\n  const $commit = () => {\n    // call the root $touch\n    results.$commit(); // call all nested level $touch\n\n    allResults.value.forEach(result => {\n      result.$commit();\n    });\n  };\n\n  const $reset = () => {\n    // reset the root $dirty state\n    results.$reset(); // reset all the children $dirty states\n\n    allResults.value.forEach(result => {\n      result.$reset();\n    });\n  }; // Ensure that if all child and nested results are $dirty, this also becomes $dirty\n\n\n  if (allResults.value.length && allResults.value.every(nr => nr.$dirty)) $touch();\n  return {\n    $dirty,\n    $errors,\n    $invalid,\n    $anyDirty,\n    $error,\n    $pending,\n    $touch,\n    $reset,\n    $silentErrors,\n    $commit\n  };\n}\n/**\n * @typedef VuelidateState\n * @property {WritableComputedRef<any>} $model\n * @property {ComputedRef<Boolean>} $dirty\n * @property {ComputedRef<Boolean>} $error\n * @property {ComputedRef<ErrorObject[]>} $errors\n * @property {ComputedRef<Boolean>} $invalid\n * @property {ComputedRef<Boolean>} $anyDirty\n * @property {ComputedRef<Boolean>} $pending\n * @property {Function} $touch\n * @property {Function} $reset\n * @property {String} $path\n * @property {ComputedRef<ErrorObject[]>} $silentErrors\n * @property {Function} [$validate]\n * @property {Function} [$getResultsForChild]\n * @property {Object.<string, VuelidateState>}\n */\n\n/**\n * Main Vuelidate bootstrap function.\n * Used both for Composition API in `setup` and for Global App usage.\n * Used to collect validation state, when walking recursively down the state tree\n * @param {Object} params\n * @param {Object<NormalizedValidator|Function>} params.validations\n * @param {Object} params.state\n * @param {String} [params.key] - Current state property key. Used when being called on nested items\n * @param {String} [params.parentKey] - Parent state property key. Used when being called recursively\n * @param {Object<string, ValidationResult>} [params.childResults] - Used to collect child results.\n * @param {ResultsStorage} params.resultsCache - The cached validation results\n * @param {VueInstance} params.instance - The current Vue instance\n * @param {GlobalConfig} params.globalConfig - The validation config, passed to this setValidations instance.\n * @param {UnwrapNestedRefs<object> | Ref<Object>} params.externalResults - External validation results\n * @return {UnwrapNestedRefs<VuelidateState>}\n */\n\n\nfunction setValidations(_ref) {\n  /**\n   * Executes the validators and returns the result.\n   * @return {Promise<boolean>}\n   */\n  const $validate = _async(function () {\n    $touch();\n    return _invoke(function () {\n      if (mergedConfig.$rewardEarly) {\n        $commit(); // await the watchers\n\n        return _callIgnored(nextTick);\n      }\n    }, function () {\n      // await the watchers\n      return _call(nextTick, function () {\n        return new Promise(resolve => {\n          // return whether it is valid or not\n          if (!$pending.value) return resolve(!$invalid.value);\n          const unwatch = watch($pending, () => {\n            resolve(!$invalid.value);\n            unwatch();\n          });\n        });\n      });\n    });\n  });\n  /**\n   * Returns a child component's results, based on registration name\n   * @param {string} key\n   * @return {VuelidateState}\n   */\n\n\n  let {\n    validations,\n    state,\n    key,\n    parentKey,\n    childResults,\n    resultsCache,\n    globalConfig = {},\n    instance,\n    externalResults\n  } = _ref;\n  const path = parentKey ? `${parentKey}.${key}` : key; // Sort out the validation object into:\n  //  rules = validators for current state tree fragment\n  //  nestedValidators = nested state fragments keys that might contain more validators\n  //  config = configuration properties that affect this state fragment\n\n  const {\n    rules,\n    nestedValidators,\n    config\n  } = sortValidations(validations);\n  const mergedConfig = Object.assign({}, globalConfig, config); // create protected state for cases when the state branch does not exist yet.\n  // This protects when using the OptionsAPI as the data is bound after the setup method\n\n  const nestedState = key ? computed(() => {\n    const s = unref(state);\n    return s ? unref(s[key]) : undefined;\n  }) : state; // cache the external results, so we can revert back to them\n\n  const cachedExternalResults = Object.assign({}, unref(externalResults) || {});\n  const nestedExternalResults = computed(() => {\n    const results = unref(externalResults);\n    if (!key) return results;\n    return results ? unref(results[key]) : undefined;\n  }); // Use rules for the current state fragment and validate it\n\n  const results = createValidationResults(rules, nestedState, key, resultsCache, path, mergedConfig, instance, nestedExternalResults, state); // Use nested keys to repeat the process\n  // *WARN*: This is recursive\n\n  const nestedResults = collectNestedValidationResults(nestedValidators, nestedState, path, resultsCache, mergedConfig, instance, nestedExternalResults); // Collect and merge this level validation results\n  // with all nested validation results\n\n  const {\n    $dirty,\n    $errors,\n    $invalid,\n    $anyDirty,\n    $error,\n    $pending,\n    $touch,\n    $reset,\n    $silentErrors,\n    $commit\n  } = createMetaFields(results, nestedResults, childResults);\n  /**\n   * If we have no `key`, this is the top level state\n   * We dont need `$model` there.\n   */\n\n  const $model = key ? computed({\n    get: () => unref(nestedState),\n    set: val => {\n      $dirty.value = true;\n      const s = unref(state);\n      const external = unref(externalResults);\n\n      if (external) {\n        external[key] = cachedExternalResults[key];\n      }\n\n      if (isRef(s[key])) {\n        s[key].value = val;\n      } else {\n        s[key] = val;\n      }\n    }\n  }) : null;\n\n  if (key && mergedConfig.$autoDirty) {\n    watch(nestedState, () => {\n      if (!$dirty.value) $touch();\n      const external = unref(externalResults);\n\n      if (external) {\n        external[key] = cachedExternalResults[key];\n      }\n    }, {\n      flush: 'sync'\n    });\n  }\n\n  function $getResultsForChild(key) {\n    return (childResults.value || {})[key];\n  }\n\n  function $clearExternalResults() {\n    if (isRef(externalResults)) {\n      externalResults.value = cachedExternalResults;\n    } else {\n      // if the external results state was empty, we need to delete every property, one by one\n      if (Object.keys(cachedExternalResults).length === 0) {\n        Object.keys(externalResults).forEach(k => {\n          delete externalResults[k];\n        });\n      } else {\n        // state was not empty, so we just assign it back into the current state\n        Object.assign(externalResults, cachedExternalResults);\n      }\n    }\n  }\n\n  return reactive(Object.assign({}, results, {\n    // NOTE: The order here is very important, since we want to override\n    // some of the *results* meta fields with the collective version of it\n    // that includes the results of nested state validation results\n    $model,\n    $dirty,\n    $error,\n    $errors,\n    $invalid,\n    $anyDirty,\n    $pending,\n    $touch,\n    $reset,\n    $path: path || ROOT_PATH,\n    $silentErrors,\n    $validate,\n    $commit\n  }, childResults && {\n    $getResultsForChild,\n    $clearExternalResults\n  }, nestedResults));\n}\n\nclass ResultsStorage {\n  constructor() {\n    this.storage = new Map();\n  }\n  /**\n   * Stores a validation result, and its rules by its path\n   * @param {String} path\n   * @param {Object<NormalizedValidator>} rules\n   * @param {ValidationResult} result\n   */\n\n\n  set(path, rules, result) {\n    this.storage.set(path, {\n      rules,\n      result\n    });\n  }\n  /**\n   * Check if the stored `results` for the provided `path` have the same `rules` compared to 'storedRules'\n   * @param {String} path\n   * @param {Object<NormalizedValidator>} rules\n   * @param {Object<NormalizedValidator>} storedRules\n   * @return {Boolean}\n   */\n\n\n  checkRulesValidity(path, rules, storedRules) {\n    const storedRulesKeys = Object.keys(storedRules);\n    const newRulesKeys = Object.keys(rules);\n    if (newRulesKeys.length !== storedRulesKeys.length) return false;\n    const hasAllValidators = newRulesKeys.every(ruleKey => storedRulesKeys.includes(ruleKey));\n    if (!hasAllValidators) return false;\n    return newRulesKeys.every(ruleKey => {\n      if (!rules[ruleKey].$params) return true;\n      return Object.keys(rules[ruleKey].$params).every(paramKey => {\n        // make sure to unwrap before comparing\n        return unref(storedRules[ruleKey].$params[paramKey]) === unref(rules[ruleKey].$params[paramKey]);\n      });\n    });\n  }\n  /**\n   * Returns the matched result if catche is valid\n   * @param {String} path\n   * @param {Object<NormalizedValidator>} rules\n   * @return {{$partial: boolean, $dirty: Ref<Boolean>, $unwatch: function}|undefined|ValidationResult}\n   */\n\n\n  get(path, rules) {\n    const storedRuleResultPair = this.storage.get(path);\n    if (!storedRuleResultPair) return undefined;\n    const {\n      rules: storedRules,\n      result\n    } = storedRuleResultPair;\n    const isValidCache = this.checkRulesValidity(path, rules, storedRules);\n    const $unwatch = result.$unwatch ? result.$unwatch : () => ({});\n    if (!isValidCache) return {\n      $dirty: result.$dirty,\n      $partial: true,\n      $unwatch\n    };\n    return result;\n  }\n\n}\n\nconst CollectFlag = {\n  COLLECT_ALL: true,\n  COLLECT_NONE: false\n};\nconst VuelidateInjectChildResults = Symbol('vuelidate#injectChildResults');\nconst VuelidateRemoveChildResults = Symbol('vuelidate#removeChildResults');\n/**\n * Create helpers to collect validation state from child components\n * @param {Object} params\n * @param {String | Number | Boolean} params.$scope - Parent component scope\n * @return {{sendValidationResultsToParent: function[], childResults: ComputedRef<Object>, removeValidationResultsFromParent: function[]}}\n */\n\nfunction nestedValidations(_ref) {\n  let {\n    $scope,\n    instance\n  } = _ref;\n  const childResultsRaw = {};\n  const childResultsKeys = ref([]);\n  const childResults = computed(() => childResultsKeys.value.reduce((results, key) => {\n    results[key] = unref(childResultsRaw[key]);\n    return results;\n  }, {}));\n  /**\n   * Allows children to send validation data up to their parent.\n   * @param {Object} results - the results\n   * @param {Object} args\n   * @param {String} args.$registerAs - the $registeredAs key\n   * @param {String | Number | Boolean} args.$scope - the $scope key\n   */\n\n  function injectChildResultsIntoParent(results, _ref2) {\n    let {\n      $registerAs: key,\n      $scope: childScope,\n      $stopPropagation\n    } = _ref2;\n    if ($stopPropagation || $scope === CollectFlag.COLLECT_NONE || childScope === CollectFlag.COLLECT_NONE || $scope !== CollectFlag.COLLECT_ALL && $scope !== childScope) return;\n    childResultsRaw[key] = results;\n    childResultsKeys.value.push(key);\n  } // combine with other `injectChildResultsIntoParent` from vuelidate instances in this Vue component instance\n\n\n  instance.__vuelidateInjectInstances = [].concat(instance.__vuelidateInjectInstances || [], injectChildResultsIntoParent);\n  /**\n   * Allows children to remove the validation data from their parent, before getting destroyed.\n   * @param {String} key - the registeredAs key\n   */\n\n  function removeChildResultsFromParent(key) {\n    // remove the key\n    childResultsKeys.value = childResultsKeys.value.filter(childKey => childKey !== key); // remove the stored data for the key\n\n    delete childResultsRaw[key];\n  } // combine with other `removeChildResultsFromParent` from vuelidate instances in this Vue component instance\n\n\n  instance.__vuelidateRemoveInstances = [].concat(instance.__vuelidateRemoveInstances || [], removeChildResultsFromParent); // inject the `injectChildResultsIntoParent` method, into the current scope\n\n  const sendValidationResultsToParent = inject(VuelidateInjectChildResults, []); // provide to all of its children the send results to parent function\n\n  provide(VuelidateInjectChildResults, instance.__vuelidateInjectInstances);\n  const removeValidationResultsFromParent = inject(VuelidateRemoveChildResults, []); // provide to all of its children the remove results  function\n\n  provide(VuelidateRemoveChildResults, instance.__vuelidateRemoveInstances);\n  return {\n    childResults,\n    sendValidationResultsToParent,\n    removeValidationResultsFromParent\n  };\n}\n\n/**\n * Helper proxy for instance property access. It makes every reference\n * reactive for the validation function\n * @param target\n * @return {*|ComputedRef<*>}\n */\n\nfunction ComputedProxyFactory(target) {\n  return new Proxy(target, {\n    get(target, prop) {\n      return typeof target[prop] === 'object' ? ComputedProxyFactory(target[prop]) : computed(() => target[prop]);\n    }\n\n  });\n}\n\n/**\n * @typedef GlobalConfig\n * @property {String} [$registerAs] - Config Object\n * @property {String | Number | Symbol} [$scope] - A scope to limit child component registration\n * @property {Boolean} [$stopPropagation] - Tells a Vue component to stop sending its results up to the parent\n * @property {Ref<Object>} [$externalResults] - External error messages, like from server validation.\n * @property {Boolean} [$autoDirty] - Should the form watch for state changed, and automatically set `$dirty` to true.\n * @property {Boolean} [$lazy] - Should the validations be lazy, and run only after they are dirty\n * @property {Boolean} [$rewardEarly] - Once valid, re-runs property validators only on manual calls of $commit\n */\n\n/**\n * Composition API compatible Vuelidate\n * Use inside the `setup` lifecycle hook\n * @param {Object | GlobalConfig} [validations] - Validations Object or the globalConfig.\n * @param {Object} [state] - State object - required if `validations` is a validation object.\n * @param {GlobalConfig} [globalConfig] - Config Object\n * @return {ComputedRef<*>}\n */\n\nfunction useVuelidate(validations, state) {\n  let globalConfig = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  // if we pass only one argument, its most probably the globalConfig.\n  // This use case is so parents can just collect results of child forms.\n  if (arguments.length === 1) {\n    globalConfig = validations;\n    validations = undefined;\n    state = undefined;\n  }\n\n  let {\n    $registerAs,\n    $scope = CollectFlag.COLLECT_ALL,\n    $stopPropagation,\n    $externalResults,\n    currentVueInstance\n  } = globalConfig;\n  const instance = currentVueInstance || getCurrentInstance();\n  const componentOptions = instance ? isVue3 ? instance.type : instance.proxy.$options : {}; // if there is no registration name, add one.\n\n  if (!$registerAs && instance) {\n    // NOTE:\n    // ._uid // Vue 2.x Composition-API plugin\n    // .uid // Vue 3.0\n    const uid = instance.uid || instance._uid;\n    $registerAs = `_vuelidate_${uid}`;\n  }\n\n  const validationResults = ref({});\n  const resultsCache = new ResultsStorage();\n  const {\n    childResults,\n    sendValidationResultsToParent,\n    removeValidationResultsFromParent\n  } = instance ? nestedValidations({\n    $scope,\n    instance\n  }) : {\n    childResults: ref({})\n  }; // Options API\n\n  if (!validations && componentOptions.validations) {\n    const rules = componentOptions.validations;\n    state = ref({});\n    onBeforeMount(() => {\n      // Delay binding state to validations defined with the Options API until mounting, when the data\n      // has been attached to the component instance. From that point on it will be reactive.\n      state.value = instance.proxy;\n      watch(() => isFunction(rules) ? rules.call(state.value, new ComputedProxyFactory(state.value)) : rules, validations => {\n        validationResults.value = setValidations({\n          validations,\n          state,\n          childResults,\n          resultsCache,\n          globalConfig,\n          instance: instance.proxy,\n          externalResults: $externalResults || instance.proxy.vuelidateExternalResults\n        });\n      }, {\n        immediate: true\n      });\n    });\n    globalConfig = componentOptions.validationsConfig || globalConfig;\n  } else {\n    const validationsWatchTarget = isRef(validations) || isProxy(validations) ? validations // wrap plain objects in a reactive, so we can track changes if they have computed in them.\n    : reactive(validations || {});\n    watch(validationsWatchTarget, newValidationRules => {\n      validationResults.value = setValidations({\n        validations: newValidationRules,\n        state,\n        childResults,\n        resultsCache,\n        globalConfig,\n        instance: instance ? instance.proxy : {},\n        externalResults: $externalResults\n      });\n    }, {\n      immediate: true\n    });\n  }\n\n  if (instance) {\n    // send all the data to the parent when the function is invoked inside setup.\n    sendValidationResultsToParent.forEach(f => f(validationResults, {\n      $registerAs,\n      $scope,\n      $stopPropagation\n    })); // before this component is destroyed, remove all the data from the parent.\n\n    onBeforeUnmount(() => removeValidationResultsFromParent.forEach(f => f($registerAs)));\n  }\n\n  return computed(() => {\n    return Object.assign({}, unref(validationResults.value), childResults.value);\n  });\n}\n\nexport { CollectFlag, useVuelidate as default, useVuelidate };\n","var aCallable = require('../internals/a-callable');\n\n// `GetMethod` abstract operation\n// https://tc39.es/ecma262/#sec-getmethod\nmodule.exports = function (V, P) {\n  var func = V[P];\n  return func == null ? undefined : aCallable(func);\n};\n","module.exports = function (method, arg, inverted) {\n  const msgList = inverted ? negativeMessages : positiveMessages;\n  return msgList[method] && msgList[method](arg);\n};\n\nconst positiveMessages = {\n  min: (num) => `The string should have a minimum length of ${num} character${pluralify(num)}`,\n  max: (num) => `The string should have a maximum length of ${num} character${pluralify(num)}`,\n  letters: (num = 1) => `The string should have a minimum of ${num} letter${pluralify(num)}`,\n  digits: (num = 1) => `The string should have a minimum of ${num} digit${pluralify(num)}`,\n  uppercase: (num = 1) => `The string should have a minimum of ${num} uppercase letter${pluralify(num)}`,\n  lowercase: (num = 1) => `The string should have a minimum of ${num} lowercase letter${pluralify(num)}`,\n  symbols: (num = 1) => `The string should have a minimum of ${num} symbol${pluralify(num)}`,\n  spaces: (num = 1) => `The string should have a minimum of ${num} space${pluralify(num)}`,\n  oneOf: (list) => `The string should be ${list.length > 1 ? `one of ${list.slice(0, -1).join(', ')} and ` : ''}${list[list.length - 1]}`,\n  has: (pattern) => `The string should have pattern '${pattern}'`,\n  not: (pattern) => `The string should not have pattern '${pattern}'`\n};\n\nconst negativeMessages = {\n  min: (num) => `The string should have a maximum length of ${num} character${pluralify(num)}`,\n  max: (num) => `The string should have a minimum length of ${num} character${pluralify(num)}`,\n  letters: (num = 0) => `The string should ${num === 0 ? 'not have' : `have a maximum of ${num}`} letter${pluralify(num)}`,\n  digits: (num = 0) => `The string should ${num === 0 ? 'not have' : `have a maximum of ${num}`} digit${pluralify(num)}`,\n  uppercase: (num = 0) => `The string should ${num === 0 ? 'not have' : `have a maximum of ${num}`} uppercase letter${pluralify(num)}`,\n  lowercase: (num = 0) => `The string should ${num === 0 ? 'not have' : `have a maximum of ${num}`} lowercase letter${pluralify(num)}`,\n  symbols: (num = 0) => `The string should ${num === 0 ? 'not have' : `have a maximum of ${num}`} symbol${pluralify(num)}`,\n  spaces: (num = 0) => `The string should ${num === 0 ? 'not have' : `have a maximum of ${num}`} space${pluralify(num)}`,\n  oneOf: (list) => `The string should not be ${list.length > 1 ? `one of ${list.slice(0, -1).join(', ')} and ` : ''}${list[list.length - 1]}`,\n  has: (pattern) => `The string should not have pattern '${pattern}'`,\n  not: (pattern) => `The string should have pattern '${pattern}'`\n\n};\n\nfunction pluralify(num) {\n  return num === 1 ? '' : 's';\n}\n","var getBuiltIn = require('../internals/get-built-in');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\nvar concat = uncurryThis([].concat);\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? concat(keys, getOwnPropertySymbols(it)) : keys;\n};\n","var global = require('../internals/global');\nvar defineGlobalProperty = require('../internals/define-global-property');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || defineGlobalProperty(SHARED, {});\n\nmodule.exports = store;\n","import { logger } from './logger.js';\nimport { getGlobalObject } from './worldwide.js';\n\n// eslint-disable-next-line deprecation/deprecation\nconst WINDOW = getGlobalObject();\n\n/**\n * Tells whether current environment supports ErrorEvent objects\n * {@link supportsErrorEvent}.\n *\n * @returns Answer to the given question.\n */\nfunction supportsErrorEvent() {\n  try {\n    new ErrorEvent('');\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\n/**\n * Tells whether current environment supports DOMError objects\n * {@link supportsDOMError}.\n *\n * @returns Answer to the given question.\n */\nfunction supportsDOMError() {\n  try {\n    // Chrome: VM89:1 Uncaught TypeError: Failed to construct 'DOMError':\n    // 1 argument required, but only 0 present.\n    // @ts-ignore It really needs 1 argument, not 0.\n    new DOMError('');\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\n/**\n * Tells whether current environment supports DOMException objects\n * {@link supportsDOMException}.\n *\n * @returns Answer to the given question.\n */\nfunction supportsDOMException() {\n  try {\n    new DOMException('');\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\n/**\n * Tells whether current environment supports Fetch API\n * {@link supportsFetch}.\n *\n * @returns Answer to the given question.\n */\nfunction supportsFetch() {\n  if (!('fetch' in WINDOW)) {\n    return false;\n  }\n\n  try {\n    new Headers();\n    new Request('http://www.example.com');\n    new Response();\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n/**\n * isNativeFetch checks if the given function is a native implementation of fetch()\n */\n// eslint-disable-next-line @typescript-eslint/ban-types\nfunction isNativeFetch(func) {\n  return func && /^function fetch\\(\\)\\s+\\{\\s+\\[native code\\]\\s+\\}$/.test(func.toString());\n}\n\n/**\n * Tells whether current environment supports Fetch API natively\n * {@link supportsNativeFetch}.\n *\n * @returns true if `window.fetch` is natively implemented, false otherwise\n */\nfunction supportsNativeFetch() {\n  if (!supportsFetch()) {\n    return false;\n  }\n\n  // Fast path to avoid DOM I/O\n  // eslint-disable-next-line @typescript-eslint/unbound-method\n  if (isNativeFetch(WINDOW.fetch)) {\n    return true;\n  }\n\n  // window.fetch is implemented, but is polyfilled or already wrapped (e.g: by a chrome extension)\n  // so create a \"pure\" iframe to see if that has native fetch\n  let result = false;\n  const doc = WINDOW.document;\n  // eslint-disable-next-line deprecation/deprecation\n  if (doc && typeof (doc.createElement ) === 'function') {\n    try {\n      const sandbox = doc.createElement('iframe');\n      sandbox.hidden = true;\n      doc.head.appendChild(sandbox);\n      if (sandbox.contentWindow && sandbox.contentWindow.fetch) {\n        // eslint-disable-next-line @typescript-eslint/unbound-method\n        result = isNativeFetch(sandbox.contentWindow.fetch);\n      }\n      doc.head.removeChild(sandbox);\n    } catch (err) {\n      (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) &&\n        logger.warn('Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ', err);\n    }\n  }\n\n  return result;\n}\n\n/**\n * Tells whether current environment supports ReportingObserver API\n * {@link supportsReportingObserver}.\n *\n * @returns Answer to the given question.\n */\nfunction supportsReportingObserver() {\n  return 'ReportingObserver' in WINDOW;\n}\n\n/**\n * Tells whether current environment supports Referrer Policy API\n * {@link supportsReferrerPolicy}.\n *\n * @returns Answer to the given question.\n */\nfunction supportsReferrerPolicy() {\n  // Despite all stars in the sky saying that Edge supports old draft syntax, aka 'never', 'always', 'origin' and 'default'\n  // (see https://caniuse.com/#feat=referrer-policy),\n  // it doesn't. And it throws an exception instead of ignoring this parameter...\n  // REF: https://github.com/getsentry/raven-js/issues/1233\n\n  if (!supportsFetch()) {\n    return false;\n  }\n\n  try {\n    new Request('_', {\n      referrerPolicy: 'origin' ,\n    });\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\n/**\n * Tells whether current environment supports History API\n * {@link supportsHistory}.\n *\n * @returns Answer to the given question.\n */\nfunction supportsHistory() {\n  // NOTE: in Chrome App environment, touching history.pushState, *even inside\n  //       a try/catch block*, will cause Chrome to output an error to console.error\n  // borrowed from: https://github.com/angular/angular.js/pull/13945/files\n  /* eslint-disable @typescript-eslint/no-unsafe-member-access */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const chrome = (WINDOW ).chrome;\n  const isChromePackagedApp = chrome && chrome.app && chrome.app.runtime;\n  /* eslint-enable @typescript-eslint/no-unsafe-member-access */\n  const hasHistoryApi = 'history' in WINDOW && !!WINDOW.history.pushState && !!WINDOW.history.replaceState;\n\n  return !isChromePackagedApp && hasHistoryApi;\n}\n\nexport { isNativeFetch, supportsDOMError, supportsDOMException, supportsErrorEvent, supportsFetch, supportsHistory, supportsNativeFetch, supportsReferrerPolicy, supportsReportingObserver };\n//# sourceMappingURL=supports.js.map\n","import { addGlobalEventProcessor, getCurrentHub } from '@sentry/core';\nimport { WINDOW } from '../helpers.js';\n\n/** HttpContext integration collects information about HTTP request headers */\nclass HttpContext  {constructor() { HttpContext.prototype.__init.call(this); }\n  /**\n   * @inheritDoc\n   */\n   static __initStatic() {this.id = 'HttpContext';}\n\n  /**\n   * @inheritDoc\n   */\n   __init() {this.name = HttpContext.id;}\n\n  /**\n   * @inheritDoc\n   */\n   setupOnce() {\n    addGlobalEventProcessor((event) => {\n      if (getCurrentHub().getIntegration(HttpContext)) {\n        // if none of the information we want exists, don't bother\n        if (!WINDOW.navigator && !WINDOW.location && !WINDOW.document) {\n          return event;\n        }\n\n        // grab as much info as exists and add it to the event\n        const url = (event.request && event.request.url) || (WINDOW.location && WINDOW.location.href);\n        const { referrer } = WINDOW.document || {};\n        const { userAgent } = WINDOW.navigator || {};\n\n        const headers = {\n          ...(event.request && event.request.headers),\n          ...(referrer && { Referer: referrer }),\n          ...(userAgent && { 'User-Agent': userAgent }),\n        };\n        const request = { ...(url && { url }), headers };\n\n        return { ...event, request };\n      }\n      return event;\n    });\n  }\n} HttpContext.__initStatic();\n\nexport { HttpContext };\n//# sourceMappingURL=httpcontext.js.map\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","import { dsnToString, createEnvelope, dropUndefinedKeys } from '@sentry/utils';\n\n/** Extract sdk info from from the API metadata */\nfunction getSdkMetadataForEnvelopeHeader(metadata) {\n  if (!metadata || !metadata.sdk) {\n    return;\n  }\n  const { name, version } = metadata.sdk;\n  return { name, version };\n}\n\n/**\n * Apply SdkInfo (name, version, packages, integrations) to the corresponding event key.\n * Merge with existing data if any.\n **/\nfunction enhanceEventWithSdkInfo(event, sdkInfo) {\n  if (!sdkInfo) {\n    return event;\n  }\n  event.sdk = event.sdk || {};\n  event.sdk.name = event.sdk.name || sdkInfo.name;\n  event.sdk.version = event.sdk.version || sdkInfo.version;\n  event.sdk.integrations = [...(event.sdk.integrations || []), ...(sdkInfo.integrations || [])];\n  event.sdk.packages = [...(event.sdk.packages || []), ...(sdkInfo.packages || [])];\n  return event;\n}\n\n/** Creates an envelope from a Session */\nfunction createSessionEnvelope(\n  session,\n  dsn,\n  metadata,\n  tunnel,\n) {\n  const sdkInfo = getSdkMetadataForEnvelopeHeader(metadata);\n  const envelopeHeaders = {\n    sent_at: new Date().toISOString(),\n    ...(sdkInfo && { sdk: sdkInfo }),\n    ...(!!tunnel && { dsn: dsnToString(dsn) }),\n  };\n\n  const envelopeItem =\n    'aggregates' in session ? [{ type: 'sessions' }, session] : [{ type: 'session' }, session];\n\n  return createEnvelope(envelopeHeaders, [envelopeItem]);\n}\n\n/**\n * Create an Envelope from an event.\n */\nfunction createEventEnvelope(\n  event,\n  dsn,\n  metadata,\n  tunnel,\n) {\n  const sdkInfo = getSdkMetadataForEnvelopeHeader(metadata);\n  const eventType = event.type || 'event';\n\n  enhanceEventWithSdkInfo(event, metadata && metadata.sdk);\n\n  const envelopeHeaders = createEventEnvelopeHeaders(event, sdkInfo, tunnel, dsn);\n\n  // Prevent this data (which, if it exists, was used in earlier steps in the processing pipeline) from being sent to\n  // sentry. (Note: Our use of this property comes and goes with whatever we might be debugging, whatever hacks we may\n  // have temporarily added, etc. Even if we don't happen to be using it at some point in the future, let's not get rid\n  // of this `delete`, lest we miss putting it back in the next time the property is in use.)\n  delete event.sdkProcessingMetadata;\n\n  const eventItem = [{ type: eventType }, event];\n  return createEnvelope(envelopeHeaders, [eventItem]);\n}\n\nfunction createEventEnvelopeHeaders(\n  event,\n  sdkInfo,\n  tunnel,\n  dsn,\n) {\n  const dynamicSamplingContext = event.sdkProcessingMetadata && event.sdkProcessingMetadata.dynamicSamplingContext;\n\n  return {\n    event_id: event.event_id ,\n    sent_at: new Date().toISOString(),\n    ...(sdkInfo && { sdk: sdkInfo }),\n    ...(!!tunnel && { dsn: dsnToString(dsn) }),\n    ...(event.type === 'transaction' &&\n      dynamicSamplingContext && {\n        trace: dropUndefinedKeys({ ...dynamicSamplingContext }),\n      }),\n  };\n}\n\nexport { createEventEnvelope, createSessionEnvelope };\n//# sourceMappingURL=envelope.js.map\n","import { makeDsn, logger, checkOrSetAlreadyCaught, isPrimitive, resolvedSyncPromise, addItemToEnvelope, createAttachmentEnvelopeItem, SyncPromise, uuid4, dateTimestampInSeconds, normalize, truncate, rejectedSyncPromise, SentryError, isThenable, isPlainObject } from '@sentry/utils';\nimport { getEnvelopeEndpointWithUrlEncodedAuth } from './api.js';\nimport { createEventEnvelope, createSessionEnvelope } from './envelope.js';\nimport { setupIntegrations } from './integration.js';\nimport { Scope } from './scope.js';\nimport { updateSession } from './session.js';\n\nconst ALREADY_SEEN_ERROR = \"Not capturing exception because it's already been captured.\";\n\n/**\n * Base implementation for all JavaScript SDK clients.\n *\n * Call the constructor with the corresponding options\n * specific to the client subclass. To access these options later, use\n * {@link Client.getOptions}.\n *\n * If a Dsn is specified in the options, it will be parsed and stored. Use\n * {@link Client.getDsn} to retrieve the Dsn at any moment. In case the Dsn is\n * invalid, the constructor will throw a {@link SentryException}. Note that\n * without a valid Dsn, the SDK will not send any events to Sentry.\n *\n * Before sending an event, it is passed through\n * {@link BaseClient._prepareEvent} to add SDK information and scope data\n * (breadcrumbs and context). To add more custom information, override this\n * method and extend the resulting prepared event.\n *\n * To issue automatically created events (e.g. via instrumentation), use\n * {@link Client.captureEvent}. It will prepare the event and pass it through\n * the callback lifecycle. To issue auto-breadcrumbs, use\n * {@link Client.addBreadcrumb}.\n *\n * @example\n * class NodeClient extends BaseClient<NodeOptions> {\n *   public constructor(options: NodeOptions) {\n *     super(options);\n *   }\n *\n *   // ...\n * }\n */\nclass BaseClient {\n  /** Options passed to the SDK. */\n\n  /** The client Dsn, if specified in options. Without this Dsn, the SDK will be disabled. */\n\n  /** Array of set up integrations. */\n   __init() {this._integrations = {};}\n\n  /** Indicates whether this client's integrations have been set up. */\n   __init2() {this._integrationsInitialized = false;}\n\n  /** Number of calls being processed */\n   __init3() {this._numProcessing = 0;}\n\n  /** Holds flushable  */\n   __init4() {this._outcomes = {};}\n\n  /**\n   * Initializes this client instance.\n   *\n   * @param options Options for the client.\n   */\n   constructor(options) {;BaseClient.prototype.__init.call(this);BaseClient.prototype.__init2.call(this);BaseClient.prototype.__init3.call(this);BaseClient.prototype.__init4.call(this);\n    this._options = options;\n    if (options.dsn) {\n      this._dsn = makeDsn(options.dsn);\n      const url = getEnvelopeEndpointWithUrlEncodedAuth(this._dsn, options);\n      this._transport = options.transport({\n        recordDroppedEvent: this.recordDroppedEvent.bind(this),\n        ...options.transportOptions,\n        url,\n      });\n    } else {\n      (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.warn('No DSN provided, client will not do anything.');\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\n   captureException(exception, hint, scope) {\n    // ensure we haven't captured this very object before\n    if (checkOrSetAlreadyCaught(exception)) {\n      (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.log(ALREADY_SEEN_ERROR);\n      return;\n    }\n\n    let eventId;\n    this._process(\n      this.eventFromException(exception, hint)\n        .then(event => this._captureEvent(event, hint, scope))\n        .then(result => {\n          eventId = result;\n        }),\n    );\n\n    return eventId;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   captureMessage(\n    message,\n    // eslint-disable-next-line deprecation/deprecation\n    level,\n    hint,\n    scope,\n  ) {\n    let eventId;\n\n    const promisedEvent = isPrimitive(message)\n      ? this.eventFromMessage(String(message), level, hint)\n      : this.eventFromException(message, hint);\n\n    this._process(\n      promisedEvent\n        .then(event => this._captureEvent(event, hint, scope))\n        .then(result => {\n          eventId = result;\n        }),\n    );\n\n    return eventId;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   captureEvent(event, hint, scope) {\n    // ensure we haven't captured this very object before\n    if (hint && hint.originalException && checkOrSetAlreadyCaught(hint.originalException)) {\n      (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.log(ALREADY_SEEN_ERROR);\n      return;\n    }\n\n    let eventId;\n\n    this._process(\n      this._captureEvent(event, hint, scope).then(result => {\n        eventId = result;\n      }),\n    );\n\n    return eventId;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   captureSession(session) {\n    if (!this._isEnabled()) {\n      (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.warn('SDK not enabled, will not capture session.');\n      return;\n    }\n\n    if (!(typeof session.release === 'string')) {\n      (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.warn('Discarded session because of missing or non-string release');\n    } else {\n      this.sendSession(session);\n      // After sending, we set init false to indicate it's not the first occurrence\n      updateSession(session, { init: false });\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n   getDsn() {\n    return this._dsn;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   getOptions() {\n    return this._options;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   getTransport() {\n    return this._transport;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   flush(timeout) {\n    const transport = this._transport;\n    if (transport) {\n      return this._isClientDoneProcessing(timeout).then(clientFinished => {\n        return transport.flush(timeout).then(transportFlushed => clientFinished && transportFlushed);\n      });\n    } else {\n      return resolvedSyncPromise(true);\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n   close(timeout) {\n    return this.flush(timeout).then(result => {\n      this.getOptions().enabled = false;\n      return result;\n    });\n  }\n\n  /**\n   * Sets up the integrations\n   */\n   setupIntegrations() {\n    if (this._isEnabled() && !this._integrationsInitialized) {\n      this._integrations = setupIntegrations(this._options.integrations);\n      this._integrationsInitialized = true;\n    }\n  }\n\n  /**\n   * Gets an installed integration by its `id`.\n   *\n   * @returns The installed integration or `undefined` if no integration with that `id` was installed.\n   */\n   getIntegrationById(integrationId) {\n    return this._integrations[integrationId];\n  }\n\n  /**\n   * @inheritDoc\n   */\n   getIntegration(integration) {\n    try {\n      return (this._integrations[integration.id] ) || null;\n    } catch (_oO) {\n      (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.warn(`Cannot retrieve integration ${integration.id} from the current Client`);\n      return null;\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n   sendEvent(event, hint = {}) {\n    if (this._dsn) {\n      let env = createEventEnvelope(event, this._dsn, this._options._metadata, this._options.tunnel);\n\n      for (const attachment of hint.attachments || []) {\n        env = addItemToEnvelope(\n          env,\n          createAttachmentEnvelopeItem(\n            attachment,\n            this._options.transportOptions && this._options.transportOptions.textEncoder,\n          ),\n        );\n      }\n\n      this._sendEnvelope(env);\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n   sendSession(session) {\n    if (this._dsn) {\n      const env = createSessionEnvelope(session, this._dsn, this._options._metadata, this._options.tunnel);\n      this._sendEnvelope(env);\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n   recordDroppedEvent(reason, category, _event) {\n    // Note: we use `event` in replay, where we overwrite this hook.\n\n    if (this._options.sendClientReports) {\n      // We want to track each category (error, transaction, session) separately\n      // but still keep the distinction between different type of outcomes.\n      // We could use nested maps, but it's much easier to read and type this way.\n      // A correct type for map-based implementation if we want to go that route\n      // would be `Partial<Record<SentryRequestType, Partial<Record<Outcome, number>>>>`\n      // With typescript 4.1 we could even use template literal types\n      const key = `${reason}:${category}`;\n      (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.log(`Adding outcome: \"${key}\"`);\n\n      // The following works because undefined + 1 === NaN and NaN is falsy\n      this._outcomes[key] = this._outcomes[key] + 1 || 1;\n    }\n  }\n\n  /** Updates existing session based on the provided event */\n   _updateSessionFromEvent(session, event) {\n    let crashed = false;\n    let errored = false;\n    const exceptions = event.exception && event.exception.values;\n\n    if (exceptions) {\n      errored = true;\n\n      for (const ex of exceptions) {\n        const mechanism = ex.mechanism;\n        if (mechanism && mechanism.handled === false) {\n          crashed = true;\n          break;\n        }\n      }\n    }\n\n    // A session is updated and that session update is sent in only one of the two following scenarios:\n    // 1. Session with non terminal status and 0 errors + an error occurred -> Will set error count to 1 and send update\n    // 2. Session with non terminal status and 1 error + a crash occurred -> Will set status crashed and send update\n    const sessionNonTerminal = session.status === 'ok';\n    const shouldUpdateAndSend = (sessionNonTerminal && session.errors === 0) || (sessionNonTerminal && crashed);\n\n    if (shouldUpdateAndSend) {\n      updateSession(session, {\n        ...(crashed && { status: 'crashed' }),\n        errors: session.errors || Number(errored || crashed),\n      });\n      this.captureSession(session);\n    }\n  }\n\n  /**\n   * Determine if the client is finished processing. Returns a promise because it will wait `timeout` ms before saying\n   * \"no\" (resolving to `false`) in order to give the client a chance to potentially finish first.\n   *\n   * @param timeout The time, in ms, after which to resolve to `false` if the client is still busy. Passing `0` (or not\n   * passing anything) will make the promise wait as long as it takes for processing to finish before resolving to\n   * `true`.\n   * @returns A promise which will resolve to `true` if processing is already done or finishes before the timeout, and\n   * `false` otherwise\n   */\n   _isClientDoneProcessing(timeout) {\n    return new SyncPromise(resolve => {\n      let ticked = 0;\n      const tick = 1;\n\n      const interval = setInterval(() => {\n        if (this._numProcessing == 0) {\n          clearInterval(interval);\n          resolve(true);\n        } else {\n          ticked += tick;\n          if (timeout && ticked >= timeout) {\n            clearInterval(interval);\n            resolve(false);\n          }\n        }\n      }, tick);\n    });\n  }\n\n  /** Determines whether this SDK is enabled and a valid Dsn is present. */\n   _isEnabled() {\n    return this.getOptions().enabled !== false && this._dsn !== undefined;\n  }\n\n  /**\n   * Adds common information to events.\n   *\n   * The information includes release and environment from `options`,\n   * breadcrumbs and context (extra, tags and user) from the scope.\n   *\n   * Information that is already present in the event is never overwritten. For\n   * nested objects, such as the context, keys are merged.\n   *\n   * @param event The original event.\n   * @param hint May contain additional information about the original exception.\n   * @param scope A scope containing event metadata.\n   * @returns A new event with more information.\n   */\n   _prepareEvent(event, hint, scope) {\n    const { normalizeDepth = 3, normalizeMaxBreadth = 1000 } = this.getOptions();\n    const prepared = {\n      ...event,\n      event_id: event.event_id || hint.event_id || uuid4(),\n      timestamp: event.timestamp || dateTimestampInSeconds(),\n    };\n\n    this._applyClientOptions(prepared);\n    this._applyIntegrationsMetadata(prepared);\n\n    // If we have scope given to us, use it as the base for further modifications.\n    // This allows us to prevent unnecessary copying of data if `captureContext` is not provided.\n    let finalScope = scope;\n    if (hint.captureContext) {\n      finalScope = Scope.clone(finalScope).update(hint.captureContext);\n    }\n\n    // We prepare the result here with a resolved Event.\n    let result = resolvedSyncPromise(prepared);\n\n    // This should be the last thing called, since we want that\n    // {@link Hub.addEventProcessor} gets the finished prepared event.\n    //\n    // We need to check for the existence of `finalScope.getAttachments`\n    // because `getAttachments` can be undefined if users are using an older version\n    // of `@sentry/core` that does not have the `getAttachments` method.\n    // See: https://github.com/getsentry/sentry-javascript/issues/5229\n    if (finalScope && finalScope.getAttachments) {\n      // Collect attachments from the hint and scope\n      const attachments = [...(hint.attachments || []), ...finalScope.getAttachments()];\n\n      if (attachments.length) {\n        hint.attachments = attachments;\n      }\n\n      // In case we have a hub we reassign it.\n      result = finalScope.applyToEvent(prepared, hint);\n    }\n\n    return result.then(evt => {\n      if (typeof normalizeDepth === 'number' && normalizeDepth > 0) {\n        return this._normalizeEvent(evt, normalizeDepth, normalizeMaxBreadth);\n      }\n      return evt;\n    });\n  }\n\n  /**\n   * Applies `normalize` function on necessary `Event` attributes to make them safe for serialization.\n   * Normalized keys:\n   * - `breadcrumbs.data`\n   * - `user`\n   * - `contexts`\n   * - `extra`\n   * @param event Event\n   * @returns Normalized event\n   */\n   _normalizeEvent(event, depth, maxBreadth) {\n    if (!event) {\n      return null;\n    }\n\n    const normalized = {\n      ...event,\n      ...(event.breadcrumbs && {\n        breadcrumbs: event.breadcrumbs.map(b => ({\n          ...b,\n          ...(b.data && {\n            data: normalize(b.data, depth, maxBreadth),\n          }),\n        })),\n      }),\n      ...(event.user && {\n        user: normalize(event.user, depth, maxBreadth),\n      }),\n      ...(event.contexts && {\n        contexts: normalize(event.contexts, depth, maxBreadth),\n      }),\n      ...(event.extra && {\n        extra: normalize(event.extra, depth, maxBreadth),\n      }),\n    };\n\n    // event.contexts.trace stores information about a Transaction. Similarly,\n    // event.spans[] stores information about child Spans. Given that a\n    // Transaction is conceptually a Span, normalization should apply to both\n    // Transactions and Spans consistently.\n    // For now the decision is to skip normalization of Transactions and Spans,\n    // so this block overwrites the normalized event to add back the original\n    // Transaction information prior to normalization.\n    if (event.contexts && event.contexts.trace && normalized.contexts) {\n      normalized.contexts.trace = event.contexts.trace;\n\n      // event.contexts.trace.data may contain circular/dangerous data so we need to normalize it\n      if (event.contexts.trace.data) {\n        normalized.contexts.trace.data = normalize(event.contexts.trace.data, depth, maxBreadth);\n      }\n    }\n\n    // event.spans[].data may contain circular/dangerous data so we need to normalize it\n    if (event.spans) {\n      normalized.spans = event.spans.map(span => {\n        // We cannot use the spread operator here because `toJSON` on `span` is non-enumerable\n        if (span.data) {\n          span.data = normalize(span.data, depth, maxBreadth);\n        }\n        return span;\n      });\n    }\n\n    return normalized;\n  }\n\n  /**\n   *  Enhances event using the client configuration.\n   *  It takes care of all \"static\" values like environment, release and `dist`,\n   *  as well as truncating overly long values.\n   * @param event event instance to be enhanced\n   */\n   _applyClientOptions(event) {\n    const options = this.getOptions();\n    const { environment, release, dist, maxValueLength = 250 } = options;\n\n    if (!('environment' in event)) {\n      event.environment = 'environment' in options ? environment : 'production';\n    }\n\n    if (event.release === undefined && release !== undefined) {\n      event.release = release;\n    }\n\n    if (event.dist === undefined && dist !== undefined) {\n      event.dist = dist;\n    }\n\n    if (event.message) {\n      event.message = truncate(event.message, maxValueLength);\n    }\n\n    const exception = event.exception && event.exception.values && event.exception.values[0];\n    if (exception && exception.value) {\n      exception.value = truncate(exception.value, maxValueLength);\n    }\n\n    const request = event.request;\n    if (request && request.url) {\n      request.url = truncate(request.url, maxValueLength);\n    }\n  }\n\n  /**\n   * This function adds all used integrations to the SDK info in the event.\n   * @param event The event that will be filled with all integrations.\n   */\n   _applyIntegrationsMetadata(event) {\n    const integrationsArray = Object.keys(this._integrations);\n    if (integrationsArray.length > 0) {\n      event.sdk = event.sdk || {};\n      event.sdk.integrations = [...(event.sdk.integrations || []), ...integrationsArray];\n    }\n  }\n\n  /**\n   * Processes the event and logs an error in case of rejection\n   * @param event\n   * @param hint\n   * @param scope\n   */\n   _captureEvent(event, hint = {}, scope) {\n    return this._processEvent(event, hint, scope).then(\n      finalEvent => {\n        return finalEvent.event_id;\n      },\n      reason => {\n        if ((typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__)) {\n          // If something's gone wrong, log the error as a warning. If it's just us having used a `SentryError` for\n          // control flow, log just the message (no stack) as a log-level log.\n          const sentryError = reason ;\n          if (sentryError.logLevel === 'log') {\n            logger.log(sentryError.message);\n          } else {\n            logger.warn(sentryError);\n          }\n        }\n        return undefined;\n      },\n    );\n  }\n\n  /**\n   * Processes an event (either error or message) and sends it to Sentry.\n   *\n   * This also adds breadcrumbs and context information to the event. However,\n   * platform specific meta data (such as the User's IP address) must be added\n   * by the SDK implementor.\n   *\n   *\n   * @param event The event to send to Sentry.\n   * @param hint May contain additional information about the original exception.\n   * @param scope A scope containing event metadata.\n   * @returns A SyncPromise that resolves with the event or rejects in case event was/will not be send.\n   */\n   _processEvent(event, hint, scope) {\n    const options = this.getOptions();\n    const { sampleRate } = options;\n\n    if (!this._isEnabled()) {\n      return rejectedSyncPromise(new SentryError('SDK not enabled, will not capture event.', 'log'));\n    }\n\n    const isTransaction = event.type === 'transaction';\n    const beforeSendProcessorName = isTransaction ? 'beforeSendTransaction' : 'beforeSend';\n    const beforeSendProcessor = options[beforeSendProcessorName];\n\n    // 1.0 === 100% events are sent\n    // 0.0 === 0% events are sent\n    // Sampling for transaction happens somewhere else\n    if (!isTransaction && typeof sampleRate === 'number' && Math.random() > sampleRate) {\n      this.recordDroppedEvent('sample_rate', 'error', event);\n      return rejectedSyncPromise(\n        new SentryError(\n          `Discarding event because it's not included in the random sample (sampling rate = ${sampleRate})`,\n          'log',\n        ),\n      );\n    }\n\n    return this._prepareEvent(event, hint, scope)\n      .then(prepared => {\n        if (prepared === null) {\n          this.recordDroppedEvent('event_processor', event.type || 'error', event);\n          throw new SentryError('An event processor returned `null`, will not send event.', 'log');\n        }\n\n        const isInternalException = hint.data && (hint.data ).__sentry__ === true;\n        if (isInternalException || !beforeSendProcessor) {\n          return prepared;\n        }\n\n        const beforeSendResult = beforeSendProcessor(prepared, hint);\n        return _validateBeforeSendResult(beforeSendResult, beforeSendProcessorName);\n      })\n      .then(processedEvent => {\n        if (processedEvent === null) {\n          this.recordDroppedEvent('before_send', event.type || 'error', event);\n          throw new SentryError(`\\`${beforeSendProcessorName}\\` returned \\`null\\`, will not send event.`, 'log');\n        }\n\n        const session = scope && scope.getSession();\n        if (!isTransaction && session) {\n          this._updateSessionFromEvent(session, processedEvent);\n        }\n\n        // None of the Sentry built event processor will update transaction name,\n        // so if the transaction name has been changed by an event processor, we know\n        // it has to come from custom event processor added by a user\n        const transactionInfo = processedEvent.transaction_info;\n        if (isTransaction && transactionInfo && processedEvent.transaction !== event.transaction) {\n          const source = 'custom';\n          processedEvent.transaction_info = {\n            ...transactionInfo,\n            source,\n            changes: [\n              ...transactionInfo.changes,\n              {\n                source,\n                // use the same timestamp as the processed event.\n                timestamp: processedEvent.timestamp ,\n                propagations: transactionInfo.propagations,\n              },\n            ],\n          };\n        }\n\n        this.sendEvent(processedEvent, hint);\n        return processedEvent;\n      })\n      .then(null, reason => {\n        if (reason instanceof SentryError) {\n          throw reason;\n        }\n\n        this.captureException(reason, {\n          data: {\n            __sentry__: true,\n          },\n          originalException: reason ,\n        });\n        throw new SentryError(\n          `Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\\nReason: ${reason}`,\n        );\n      });\n  }\n\n  /**\n   * Occupies the client with processing and event\n   */\n   _process(promise) {\n    this._numProcessing += 1;\n    void promise.then(\n      value => {\n        this._numProcessing -= 1;\n        return value;\n      },\n      reason => {\n        this._numProcessing -= 1;\n        return reason;\n      },\n    );\n  }\n\n  /**\n   * @inheritdoc\n   */\n   _sendEnvelope(envelope) {\n    if (this._transport && this._dsn) {\n      this._transport.send(envelope).then(null, reason => {\n        (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.error('Error while sending event:', reason);\n      });\n    } else {\n      (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.error('Transport disabled');\n    }\n  }\n\n  /**\n   * Clears outcomes on this client and returns them.\n   */\n   _clearOutcomes() {\n    const outcomes = this._outcomes;\n    this._outcomes = {};\n    return Object.keys(outcomes).map(key => {\n      const [reason, category] = key.split(':') ;\n      return {\n        reason,\n        category,\n        quantity: outcomes[key],\n      };\n    });\n  }\n\n  /**\n   * @inheritDoc\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\n\n}\n\n/**\n * Verifies that return value of configured `beforeSend` or `beforeSendTransaction` is of expected type, and returns the value if so.\n */\nfunction _validateBeforeSendResult(\n  beforeSendResult,\n  beforeSendProcessorName,\n) {\n  const invalidValueError = `\\`${beforeSendProcessorName}\\` must return \\`null\\` or a valid event.`;\n  if (isThenable(beforeSendResult)) {\n    return beforeSendResult.then(\n      event => {\n        if (!isPlainObject(event) && event !== null) {\n          throw new SentryError(invalidValueError);\n        }\n        return event;\n      },\n      e => {\n        throw new SentryError(`\\`${beforeSendProcessorName}\\` rejected with ${e}`);\n      },\n    );\n  } else if (!isPlainObject(beforeSendResult) && beforeSendResult !== null) {\n    throw new SentryError(invalidValueError);\n  }\n  return beforeSendResult;\n}\n\nexport { BaseClient };\n//# sourceMappingURL=baseclient.js.map\n","/*!\n  * vue-router v4.0.14\n  * (c) 2022 Eduardo San Martin Morote\n  * @license MIT\n  */\nimport { getCurrentInstance, inject, onUnmounted, onDeactivated, onActivated, computed, unref, watchEffect, defineComponent, reactive, h, provide, ref, watch, shallowRef, nextTick } from 'vue';\nimport { setupDevtoolsPlugin } from '@vue/devtools-api';\n\nconst hasSymbol = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\r\nconst PolySymbol = (name) => \r\n// vr = vue router\r\nhasSymbol\r\n    ? Symbol((process.env.NODE_ENV !== 'production') ? '[vue-router]: ' + name : name)\r\n    : ((process.env.NODE_ENV !== 'production') ? '[vue-router]: ' : '_vr_') + name;\r\n// rvlm = Router View Location Matched\r\n/**\r\n * RouteRecord being rendered by the closest ancestor Router View. Used for\r\n * `onBeforeRouteUpdate` and `onBeforeRouteLeave`. rvlm stands for Router View\r\n * Location Matched\r\n *\r\n * @internal\r\n */\r\nconst matchedRouteKey = /*#__PURE__*/ PolySymbol((process.env.NODE_ENV !== 'production') ? 'router view location matched' : 'rvlm');\r\n/**\r\n * Allows overriding the router view depth to control which component in\r\n * `matched` is rendered. rvd stands for Router View Depth\r\n *\r\n * @internal\r\n */\r\nconst viewDepthKey = /*#__PURE__*/ PolySymbol((process.env.NODE_ENV !== 'production') ? 'router view depth' : 'rvd');\r\n/**\r\n * Allows overriding the router instance returned by `useRouter` in tests. r\r\n * stands for router\r\n *\r\n * @internal\r\n */\r\nconst routerKey = /*#__PURE__*/ PolySymbol((process.env.NODE_ENV !== 'production') ? 'router' : 'r');\r\n/**\r\n * Allows overriding the current route returned by `useRoute` in tests. rl\r\n * stands for route location\r\n *\r\n * @internal\r\n */\r\nconst routeLocationKey = /*#__PURE__*/ PolySymbol((process.env.NODE_ENV !== 'production') ? 'route location' : 'rl');\r\n/**\r\n * Allows overriding the current route used by router-view. Internally this is\r\n * used when the `route` prop is passed.\r\n *\r\n * @internal\r\n */\r\nconst routerViewLocationKey = /*#__PURE__*/ PolySymbol((process.env.NODE_ENV !== 'production') ? 'router view location' : 'rvl');\n\nconst isBrowser = typeof window !== 'undefined';\n\nfunction isESModule(obj) {\r\n    return obj.__esModule || (hasSymbol && obj[Symbol.toStringTag] === 'Module');\r\n}\r\nconst assign = Object.assign;\r\nfunction applyToParams(fn, params) {\r\n    const newParams = {};\r\n    for (const key in params) {\r\n        const value = params[key];\r\n        newParams[key] = Array.isArray(value) ? value.map(fn) : fn(value);\r\n    }\r\n    return newParams;\r\n}\r\nconst noop = () => { };\n\nfunction warn(msg) {\r\n    // avoid using ...args as it breaks in older Edge builds\r\n    const args = Array.from(arguments).slice(1);\r\n    console.warn.apply(console, ['[Vue Router warn]: ' + msg].concat(args));\r\n}\n\nconst TRAILING_SLASH_RE = /\\/$/;\r\nconst removeTrailingSlash = (path) => path.replace(TRAILING_SLASH_RE, '');\r\n/**\r\n * Transforms an URI into a normalized history location\r\n *\r\n * @param parseQuery\r\n * @param location - URI to normalize\r\n * @param currentLocation - current absolute location. Allows resolving relative\r\n * paths. Must start with `/`. Defaults to `/`\r\n * @returns a normalized history location\r\n */\r\nfunction parseURL(parseQuery, location, currentLocation = '/') {\r\n    let path, query = {}, searchString = '', hash = '';\r\n    // Could use URL and URLSearchParams but IE 11 doesn't support it\r\n    const searchPos = location.indexOf('?');\r\n    const hashPos = location.indexOf('#', searchPos > -1 ? searchPos : 0);\r\n    if (searchPos > -1) {\r\n        path = location.slice(0, searchPos);\r\n        searchString = location.slice(searchPos + 1, hashPos > -1 ? hashPos : location.length);\r\n        query = parseQuery(searchString);\r\n    }\r\n    if (hashPos > -1) {\r\n        path = path || location.slice(0, hashPos);\r\n        // keep the # character\r\n        hash = location.slice(hashPos, location.length);\r\n    }\r\n    // no search and no query\r\n    path = resolveRelativePath(path != null ? path : location, currentLocation);\r\n    // empty path means a relative query or hash `?foo=f`, `#thing`\r\n    return {\r\n        fullPath: path + (searchString && '?') + searchString + hash,\r\n        path,\r\n        query,\r\n        hash,\r\n    };\r\n}\r\n/**\r\n * Stringifies a URL object\r\n *\r\n * @param stringifyQuery\r\n * @param location\r\n */\r\nfunction stringifyURL(stringifyQuery, location) {\r\n    const query = location.query ? stringifyQuery(location.query) : '';\r\n    return location.path + (query && '?') + query + (location.hash || '');\r\n}\r\n/**\r\n * Strips off the base from the beginning of a location.pathname in a non\r\n * case-sensitive way.\r\n *\r\n * @param pathname - location.pathname\r\n * @param base - base to strip off\r\n */\r\nfunction stripBase(pathname, base) {\r\n    // no base or base is not found at the beginning\r\n    if (!base || !pathname.toLowerCase().startsWith(base.toLowerCase()))\r\n        return pathname;\r\n    return pathname.slice(base.length) || '/';\r\n}\r\n/**\r\n * Checks if two RouteLocation are equal. This means that both locations are\r\n * pointing towards the same {@link RouteRecord} and that all `params`, `query`\r\n * parameters and `hash` are the same\r\n *\r\n * @param a - first {@link RouteLocation}\r\n * @param b - second {@link RouteLocation}\r\n */\r\nfunction isSameRouteLocation(stringifyQuery, a, b) {\r\n    const aLastIndex = a.matched.length - 1;\r\n    const bLastIndex = b.matched.length - 1;\r\n    return (aLastIndex > -1 &&\r\n        aLastIndex === bLastIndex &&\r\n        isSameRouteRecord(a.matched[aLastIndex], b.matched[bLastIndex]) &&\r\n        isSameRouteLocationParams(a.params, b.params) &&\r\n        stringifyQuery(a.query) === stringifyQuery(b.query) &&\r\n        a.hash === b.hash);\r\n}\r\n/**\r\n * Check if two `RouteRecords` are equal. Takes into account aliases: they are\r\n * considered equal to the `RouteRecord` they are aliasing.\r\n *\r\n * @param a - first {@link RouteRecord}\r\n * @param b - second {@link RouteRecord}\r\n */\r\nfunction isSameRouteRecord(a, b) {\r\n    // since the original record has an undefined value for aliasOf\r\n    // but all aliases point to the original record, this will always compare\r\n    // the original record\r\n    return (a.aliasOf || a) === (b.aliasOf || b);\r\n}\r\nfunction isSameRouteLocationParams(a, b) {\r\n    if (Object.keys(a).length !== Object.keys(b).length)\r\n        return false;\r\n    for (const key in a) {\r\n        if (!isSameRouteLocationParamsValue(a[key], b[key]))\r\n            return false;\r\n    }\r\n    return true;\r\n}\r\nfunction isSameRouteLocationParamsValue(a, b) {\r\n    return Array.isArray(a)\r\n        ? isEquivalentArray(a, b)\r\n        : Array.isArray(b)\r\n            ? isEquivalentArray(b, a)\r\n            : a === b;\r\n}\r\n/**\r\n * Check if two arrays are the same or if an array with one single entry is the\r\n * same as another primitive value. Used to check query and parameters\r\n *\r\n * @param a - array of values\r\n * @param b - array of values or a single value\r\n */\r\nfunction isEquivalentArray(a, b) {\r\n    return Array.isArray(b)\r\n        ? a.length === b.length && a.every((value, i) => value === b[i])\r\n        : a.length === 1 && a[0] === b;\r\n}\r\n/**\r\n * Resolves a relative path that starts with `.`.\r\n *\r\n * @param to - path location we are resolving\r\n * @param from - currentLocation.path, should start with `/`\r\n */\r\nfunction resolveRelativePath(to, from) {\r\n    if (to.startsWith('/'))\r\n        return to;\r\n    if ((process.env.NODE_ENV !== 'production') && !from.startsWith('/')) {\r\n        warn(`Cannot resolve a relative location without an absolute path. Trying to resolve \"${to}\" from \"${from}\". It should look like \"/${from}\".`);\r\n        return to;\r\n    }\r\n    if (!to)\r\n        return from;\r\n    const fromSegments = from.split('/');\r\n    const toSegments = to.split('/');\r\n    let position = fromSegments.length - 1;\r\n    let toPosition;\r\n    let segment;\r\n    for (toPosition = 0; toPosition < toSegments.length; toPosition++) {\r\n        segment = toSegments[toPosition];\r\n        // can't go below zero\r\n        if (position === 1 || segment === '.')\r\n            continue;\r\n        if (segment === '..')\r\n            position--;\r\n        // found something that is not relative path\r\n        else\r\n            break;\r\n    }\r\n    return (fromSegments.slice(0, position).join('/') +\r\n        '/' +\r\n        toSegments\r\n            .slice(toPosition - (toPosition === toSegments.length ? 1 : 0))\r\n            .join('/'));\r\n}\n\nvar NavigationType;\r\n(function (NavigationType) {\r\n    NavigationType[\"pop\"] = \"pop\";\r\n    NavigationType[\"push\"] = \"push\";\r\n})(NavigationType || (NavigationType = {}));\r\nvar NavigationDirection;\r\n(function (NavigationDirection) {\r\n    NavigationDirection[\"back\"] = \"back\";\r\n    NavigationDirection[\"forward\"] = \"forward\";\r\n    NavigationDirection[\"unknown\"] = \"\";\r\n})(NavigationDirection || (NavigationDirection = {}));\r\n/**\r\n * Starting location for Histories\r\n */\r\nconst START = '';\r\n// Generic utils\r\n/**\r\n * Normalizes a base by removing any trailing slash and reading the base tag if\r\n * present.\r\n *\r\n * @param base - base to normalize\r\n */\r\nfunction normalizeBase(base) {\r\n    if (!base) {\r\n        if (isBrowser) {\r\n            // respect <base> tag\r\n            const baseEl = document.querySelector('base');\r\n            base = (baseEl && baseEl.getAttribute('href')) || '/';\r\n            // strip full URL origin\r\n            base = base.replace(/^\\w+:\\/\\/[^\\/]+/, '');\r\n        }\r\n        else {\r\n            base = '/';\r\n        }\r\n    }\r\n    // ensure leading slash when it was removed by the regex above avoid leading\r\n    // slash with hash because the file could be read from the disk like file://\r\n    // and the leading slash would cause problems\r\n    if (base[0] !== '/' && base[0] !== '#')\r\n        base = '/' + base;\r\n    // remove the trailing slash so all other method can just do `base + fullPath`\r\n    // to build an href\r\n    return removeTrailingSlash(base);\r\n}\r\n// remove any character before the hash\r\nconst BEFORE_HASH_RE = /^[^#]+#/;\r\nfunction createHref(base, location) {\r\n    return base.replace(BEFORE_HASH_RE, '#') + location;\r\n}\n\nfunction getElementPosition(el, offset) {\r\n    const docRect = document.documentElement.getBoundingClientRect();\r\n    const elRect = el.getBoundingClientRect();\r\n    return {\r\n        behavior: offset.behavior,\r\n        left: elRect.left - docRect.left - (offset.left || 0),\r\n        top: elRect.top - docRect.top - (offset.top || 0),\r\n    };\r\n}\r\nconst computeScrollPosition = () => ({\r\n    left: window.pageXOffset,\r\n    top: window.pageYOffset,\r\n});\r\nfunction scrollToPosition(position) {\r\n    let scrollToOptions;\r\n    if ('el' in position) {\r\n        const positionEl = position.el;\r\n        const isIdSelector = typeof positionEl === 'string' && positionEl.startsWith('#');\r\n        /**\r\n         * `id`s can accept pretty much any characters, including CSS combinators\r\n         * like `>` or `~`. It's still possible to retrieve elements using\r\n         * `document.getElementById('~')` but it needs to be escaped when using\r\n         * `document.querySelector('#\\\\~')` for it to be valid. The only\r\n         * requirements for `id`s are them to be unique on the page and to not be\r\n         * empty (`id=\"\"`). Because of that, when passing an id selector, it should\r\n         * be properly escaped for it to work with `querySelector`. We could check\r\n         * for the id selector to be simple (no CSS combinators `+ >~`) but that\r\n         * would make things inconsistent since they are valid characters for an\r\n         * `id` but would need to be escaped when using `querySelector`, breaking\r\n         * their usage and ending up in no selector returned. Selectors need to be\r\n         * escaped:\r\n         *\r\n         * - `#1-thing` becomes `#\\31 -thing`\r\n         * - `#with~symbols` becomes `#with\\\\~symbols`\r\n         *\r\n         * - More information about  the topic can be found at\r\n         *   https://mathiasbynens.be/notes/html5-id-class.\r\n         * - Practical example: https://mathiasbynens.be/demo/html5-id\r\n         */\r\n        if ((process.env.NODE_ENV !== 'production') && typeof position.el === 'string') {\r\n            if (!isIdSelector || !document.getElementById(position.el.slice(1))) {\r\n                try {\r\n                    const foundEl = document.querySelector(position.el);\r\n                    if (isIdSelector && foundEl) {\r\n                        warn(`The selector \"${position.el}\" should be passed as \"el: document.querySelector('${position.el}')\" because it starts with \"#\".`);\r\n                        // return to avoid other warnings\r\n                        return;\r\n                    }\r\n                }\r\n                catch (err) {\r\n                    warn(`The selector \"${position.el}\" is invalid. If you are using an id selector, make sure to escape it. You can find more information about escaping characters in selectors at https://mathiasbynens.be/notes/css-escapes or use CSS.escape (https://developer.mozilla.org/en-US/docs/Web/API/CSS/escape).`);\r\n                    // return to avoid other warnings\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n        const el = typeof positionEl === 'string'\r\n            ? isIdSelector\r\n                ? document.getElementById(positionEl.slice(1))\r\n                : document.querySelector(positionEl)\r\n            : positionEl;\r\n        if (!el) {\r\n            (process.env.NODE_ENV !== 'production') &&\r\n                warn(`Couldn't find element using selector \"${position.el}\" returned by scrollBehavior.`);\r\n            return;\r\n        }\r\n        scrollToOptions = getElementPosition(el, position);\r\n    }\r\n    else {\r\n        scrollToOptions = position;\r\n    }\r\n    if ('scrollBehavior' in document.documentElement.style)\r\n        window.scrollTo(scrollToOptions);\r\n    else {\r\n        window.scrollTo(scrollToOptions.left != null ? scrollToOptions.left : window.pageXOffset, scrollToOptions.top != null ? scrollToOptions.top : window.pageYOffset);\r\n    }\r\n}\r\nfunction getScrollKey(path, delta) {\r\n    const position = history.state ? history.state.position - delta : -1;\r\n    return position + path;\r\n}\r\nconst scrollPositions = new Map();\r\nfunction saveScrollPosition(key, scrollPosition) {\r\n    scrollPositions.set(key, scrollPosition);\r\n}\r\nfunction getSavedScrollPosition(key) {\r\n    const scroll = scrollPositions.get(key);\r\n    // consume it so it's not used again\r\n    scrollPositions.delete(key);\r\n    return scroll;\r\n}\r\n// TODO: RFC about how to save scroll position\r\n/**\r\n * ScrollBehavior instance used by the router to compute and restore the scroll\r\n * position when navigating.\r\n */\r\n// export interface ScrollHandler<ScrollPositionEntry extends HistoryStateValue, ScrollPosition extends ScrollPositionEntry> {\r\n//   // returns a scroll position that can be saved in history\r\n//   compute(): ScrollPositionEntry\r\n//   // can take an extended ScrollPositionEntry\r\n//   scroll(position: ScrollPosition): void\r\n// }\r\n// export const scrollHandler: ScrollHandler<ScrollPosition> = {\r\n//   compute: computeScroll,\r\n//   scroll: scrollToPosition,\r\n// }\n\nlet createBaseLocation = () => location.protocol + '//' + location.host;\r\n/**\r\n * Creates a normalized history location from a window.location object\r\n * @param location -\r\n */\r\nfunction createCurrentLocation(base, location) {\r\n    const { pathname, search, hash } = location;\r\n    // allows hash bases like #, /#, #/, #!, #!/, /#!/, or even /folder#end\r\n    const hashPos = base.indexOf('#');\r\n    if (hashPos > -1) {\r\n        let slicePos = hash.includes(base.slice(hashPos))\r\n            ? base.slice(hashPos).length\r\n            : 1;\r\n        let pathFromHash = hash.slice(slicePos);\r\n        // prepend the starting slash to hash so the url starts with /#\r\n        if (pathFromHash[0] !== '/')\r\n            pathFromHash = '/' + pathFromHash;\r\n        return stripBase(pathFromHash, '');\r\n    }\r\n    const path = stripBase(pathname, base);\r\n    return path + search + hash;\r\n}\r\nfunction useHistoryListeners(base, historyState, currentLocation, replace) {\r\n    let listeners = [];\r\n    let teardowns = [];\r\n    // TODO: should it be a stack? a Dict. Check if the popstate listener\r\n    // can trigger twice\r\n    let pauseState = null;\r\n    const popStateHandler = ({ state, }) => {\r\n        const to = createCurrentLocation(base, location);\r\n        const from = currentLocation.value;\r\n        const fromState = historyState.value;\r\n        let delta = 0;\r\n        if (state) {\r\n            currentLocation.value = to;\r\n            historyState.value = state;\r\n            // ignore the popstate and reset the pauseState\r\n            if (pauseState && pauseState === from) {\r\n                pauseState = null;\r\n                return;\r\n            }\r\n            delta = fromState ? state.position - fromState.position : 0;\r\n        }\r\n        else {\r\n            replace(to);\r\n        }\r\n        // console.log({ deltaFromCurrent })\r\n        // Here we could also revert the navigation by calling history.go(-delta)\r\n        // this listener will have to be adapted to not trigger again and to wait for the url\r\n        // to be updated before triggering the listeners. Some kind of validation function would also\r\n        // need to be passed to the listeners so the navigation can be accepted\r\n        // call all listeners\r\n        listeners.forEach(listener => {\r\n            listener(currentLocation.value, from, {\r\n                delta,\r\n                type: NavigationType.pop,\r\n                direction: delta\r\n                    ? delta > 0\r\n                        ? NavigationDirection.forward\r\n                        : NavigationDirection.back\r\n                    : NavigationDirection.unknown,\r\n            });\r\n        });\r\n    };\r\n    function pauseListeners() {\r\n        pauseState = currentLocation.value;\r\n    }\r\n    function listen(callback) {\r\n        // setup the listener and prepare teardown callbacks\r\n        listeners.push(callback);\r\n        const teardown = () => {\r\n            const index = listeners.indexOf(callback);\r\n            if (index > -1)\r\n                listeners.splice(index, 1);\r\n        };\r\n        teardowns.push(teardown);\r\n        return teardown;\r\n    }\r\n    function beforeUnloadListener() {\r\n        const { history } = window;\r\n        if (!history.state)\r\n            return;\r\n        history.replaceState(assign({}, history.state, { scroll: computeScrollPosition() }), '');\r\n    }\r\n    function destroy() {\r\n        for (const teardown of teardowns)\r\n            teardown();\r\n        teardowns = [];\r\n        window.removeEventListener('popstate', popStateHandler);\r\n        window.removeEventListener('beforeunload', beforeUnloadListener);\r\n    }\r\n    // setup the listeners and prepare teardown callbacks\r\n    window.addEventListener('popstate', popStateHandler);\r\n    window.addEventListener('beforeunload', beforeUnloadListener);\r\n    return {\r\n        pauseListeners,\r\n        listen,\r\n        destroy,\r\n    };\r\n}\r\n/**\r\n * Creates a state object\r\n */\r\nfunction buildState(back, current, forward, replaced = false, computeScroll = false) {\r\n    return {\r\n        back,\r\n        current,\r\n        forward,\r\n        replaced,\r\n        position: window.history.length,\r\n        scroll: computeScroll ? computeScrollPosition() : null,\r\n    };\r\n}\r\nfunction useHistoryStateNavigation(base) {\r\n    const { history, location } = window;\r\n    // private variables\r\n    const currentLocation = {\r\n        value: createCurrentLocation(base, location),\r\n    };\r\n    const historyState = { value: history.state };\r\n    // build current history entry as this is a fresh navigation\r\n    if (!historyState.value) {\r\n        changeLocation(currentLocation.value, {\r\n            back: null,\r\n            current: currentLocation.value,\r\n            forward: null,\r\n            // the length is off by one, we need to decrease it\r\n            position: history.length - 1,\r\n            replaced: true,\r\n            // don't add a scroll as the user may have an anchor and we want\r\n            // scrollBehavior to be triggered without a saved position\r\n            scroll: null,\r\n        }, true);\r\n    }\r\n    function changeLocation(to, state, replace) {\r\n        /**\r\n         * if a base tag is provided and we are on a normal domain, we have to\r\n         * respect the provided `base` attribute because pushState() will use it and\r\n         * potentially erase anything before the `#` like at\r\n         * https://github.com/vuejs/router/issues/685 where a base of\r\n         * `/folder/#` but a base of `/` would erase the `/folder/` section. If\r\n         * there is no host, the `<base>` tag makes no sense and if there isn't a\r\n         * base tag we can just use everything after the `#`.\r\n         */\r\n        const hashIndex = base.indexOf('#');\r\n        const url = hashIndex > -1\r\n            ? (location.host && document.querySelector('base')\r\n                ? base\r\n                : base.slice(hashIndex)) + to\r\n            : createBaseLocation() + base + to;\r\n        try {\r\n            // BROWSER QUIRK\r\n            // NOTE: Safari throws a SecurityError when calling this function 100 times in 30 seconds\r\n            history[replace ? 'replaceState' : 'pushState'](state, '', url);\r\n            historyState.value = state;\r\n        }\r\n        catch (err) {\r\n            if ((process.env.NODE_ENV !== 'production')) {\r\n                warn('Error with push/replace State', err);\r\n            }\r\n            else {\r\n                console.error(err);\r\n            }\r\n            // Force the navigation, this also resets the call count\r\n            location[replace ? 'replace' : 'assign'](url);\r\n        }\r\n    }\r\n    function replace(to, data) {\r\n        const state = assign({}, history.state, buildState(historyState.value.back, \r\n        // keep back and forward entries but override current position\r\n        to, historyState.value.forward, true), data, { position: historyState.value.position });\r\n        changeLocation(to, state, true);\r\n        currentLocation.value = to;\r\n    }\r\n    function push(to, data) {\r\n        // Add to current entry the information of where we are going\r\n        // as well as saving the current position\r\n        const currentState = assign({}, \r\n        // use current history state to gracefully handle a wrong call to\r\n        // history.replaceState\r\n        // https://github.com/vuejs/router/issues/366\r\n        historyState.value, history.state, {\r\n            forward: to,\r\n            scroll: computeScrollPosition(),\r\n        });\r\n        if ((process.env.NODE_ENV !== 'production') && !history.state) {\r\n            warn(`history.state seems to have been manually replaced without preserving the necessary values. Make sure to preserve existing history state if you are manually calling history.replaceState:\\n\\n` +\r\n                `history.replaceState(history.state, '', url)\\n\\n` +\r\n                `You can find more information at https://next.router.vuejs.org/guide/migration/#usage-of-history-state.`);\r\n        }\r\n        changeLocation(currentState.current, currentState, true);\r\n        const state = assign({}, buildState(currentLocation.value, to, null), { position: currentState.position + 1 }, data);\r\n        changeLocation(to, state, false);\r\n        currentLocation.value = to;\r\n    }\r\n    return {\r\n        location: currentLocation,\r\n        state: historyState,\r\n        push,\r\n        replace,\r\n    };\r\n}\r\n/**\r\n * Creates an HTML5 history. Most common history for single page applications.\r\n *\r\n * @param base -\r\n */\r\nfunction createWebHistory(base) {\r\n    base = normalizeBase(base);\r\n    const historyNavigation = useHistoryStateNavigation(base);\r\n    const historyListeners = useHistoryListeners(base, historyNavigation.state, historyNavigation.location, historyNavigation.replace);\r\n    function go(delta, triggerListeners = true) {\r\n        if (!triggerListeners)\r\n            historyListeners.pauseListeners();\r\n        history.go(delta);\r\n    }\r\n    const routerHistory = assign({\r\n        // it's overridden right after\r\n        location: '',\r\n        base,\r\n        go,\r\n        createHref: createHref.bind(null, base),\r\n    }, historyNavigation, historyListeners);\r\n    Object.defineProperty(routerHistory, 'location', {\r\n        enumerable: true,\r\n        get: () => historyNavigation.location.value,\r\n    });\r\n    Object.defineProperty(routerHistory, 'state', {\r\n        enumerable: true,\r\n        get: () => historyNavigation.state.value,\r\n    });\r\n    return routerHistory;\r\n}\n\n/**\r\n * Creates a in-memory based history. The main purpose of this history is to handle SSR. It starts in a special location that is nowhere.\r\n * It's up to the user to replace that location with the starter location by either calling `router.push` or `router.replace`.\r\n *\r\n * @param base - Base applied to all urls, defaults to '/'\r\n * @returns a history object that can be passed to the router constructor\r\n */\r\nfunction createMemoryHistory(base = '') {\r\n    let listeners = [];\r\n    let queue = [START];\r\n    let position = 0;\r\n    base = normalizeBase(base);\r\n    function setLocation(location) {\r\n        position++;\r\n        if (position === queue.length) {\r\n            // we are at the end, we can simply append a new entry\r\n            queue.push(location);\r\n        }\r\n        else {\r\n            // we are in the middle, we remove everything from here in the queue\r\n            queue.splice(position);\r\n            queue.push(location);\r\n        }\r\n    }\r\n    function triggerListeners(to, from, { direction, delta }) {\r\n        const info = {\r\n            direction,\r\n            delta,\r\n            type: NavigationType.pop,\r\n        };\r\n        for (const callback of listeners) {\r\n            callback(to, from, info);\r\n        }\r\n    }\r\n    const routerHistory = {\r\n        // rewritten by Object.defineProperty\r\n        location: START,\r\n        // TODO: should be kept in queue\r\n        state: {},\r\n        base,\r\n        createHref: createHref.bind(null, base),\r\n        replace(to) {\r\n            // remove current entry and decrement position\r\n            queue.splice(position--, 1);\r\n            setLocation(to);\r\n        },\r\n        push(to, data) {\r\n            setLocation(to);\r\n        },\r\n        listen(callback) {\r\n            listeners.push(callback);\r\n            return () => {\r\n                const index = listeners.indexOf(callback);\r\n                if (index > -1)\r\n                    listeners.splice(index, 1);\r\n            };\r\n        },\r\n        destroy() {\r\n            listeners = [];\r\n            queue = [START];\r\n            position = 0;\r\n        },\r\n        go(delta, shouldTrigger = true) {\r\n            const from = this.location;\r\n            const direction = \r\n            // we are considering delta === 0 going forward, but in abstract mode\r\n            // using 0 for the delta doesn't make sense like it does in html5 where\r\n            // it reloads the page\r\n            delta < 0 ? NavigationDirection.back : NavigationDirection.forward;\r\n            position = Math.max(0, Math.min(position + delta, queue.length - 1));\r\n            if (shouldTrigger) {\r\n                triggerListeners(this.location, from, {\r\n                    direction,\r\n                    delta,\r\n                });\r\n            }\r\n        },\r\n    };\r\n    Object.defineProperty(routerHistory, 'location', {\r\n        enumerable: true,\r\n        get: () => queue[position],\r\n    });\r\n    return routerHistory;\r\n}\n\n/**\r\n * Creates a hash history. Useful for web applications with no host (e.g.\r\n * `file://`) or when configuring a server to handle any URL is not possible.\r\n *\r\n * @param base - optional base to provide. Defaults to `location.pathname +\r\n * location.search` If there is a `<base>` tag in the `head`, its value will be\r\n * ignored in favor of this parameter **but note it affects all the\r\n * history.pushState() calls**, meaning that if you use a `<base>` tag, it's\r\n * `href` value **has to match this parameter** (ignoring anything after the\r\n * `#`).\r\n *\r\n * @example\r\n * ```js\r\n * // at https://example.com/folder\r\n * createWebHashHistory() // gives a url of `https://example.com/folder#`\r\n * createWebHashHistory('/folder/') // gives a url of `https://example.com/folder/#`\r\n * // if the `#` is provided in the base, it won't be added by `createWebHashHistory`\r\n * createWebHashHistory('/folder/#/app/') // gives a url of `https://example.com/folder/#/app/`\r\n * // you should avoid doing this because it changes the original url and breaks copying urls\r\n * createWebHashHistory('/other-folder/') // gives a url of `https://example.com/other-folder/#`\r\n *\r\n * // at file:///usr/etc/folder/index.html\r\n * // for locations with no `host`, the base is ignored\r\n * createWebHashHistory('/iAmIgnored') // gives a url of `file:///usr/etc/folder/index.html#`\r\n * ```\r\n */\r\nfunction createWebHashHistory(base) {\r\n    // Make sure this implementation is fine in terms of encoding, specially for IE11\r\n    // for `file://`, directly use the pathname and ignore the base\r\n    // location.pathname contains an initial `/` even at the root: `https://example.com`\r\n    base = location.host ? base || location.pathname + location.search : '';\r\n    // allow the user to provide a `#` in the middle: `/base/#/app`\r\n    if (!base.includes('#'))\r\n        base += '#';\r\n    if ((process.env.NODE_ENV !== 'production') && !base.endsWith('#/') && !base.endsWith('#')) {\r\n        warn(`A hash base must end with a \"#\":\\n\"${base}\" should be \"${base.replace(/#.*$/, '#')}\".`);\r\n    }\r\n    return createWebHistory(base);\r\n}\n\nfunction isRouteLocation(route) {\r\n    return typeof route === 'string' || (route && typeof route === 'object');\r\n}\r\nfunction isRouteName(name) {\r\n    return typeof name === 'string' || typeof name === 'symbol';\r\n}\n\n/**\r\n * Initial route location where the router is. Can be used in navigation guards\r\n * to differentiate the initial navigation.\r\n *\r\n * @example\r\n * ```js\r\n * import { START_LOCATION } from 'vue-router'\r\n *\r\n * router.beforeEach((to, from) => {\r\n *   if (from === START_LOCATION) {\r\n *     // initial navigation\r\n *   }\r\n * })\r\n * ```\r\n */\r\nconst START_LOCATION_NORMALIZED = {\r\n    path: '/',\r\n    name: undefined,\r\n    params: {},\r\n    query: {},\r\n    hash: '',\r\n    fullPath: '/',\r\n    matched: [],\r\n    meta: {},\r\n    redirectedFrom: undefined,\r\n};\n\nconst NavigationFailureSymbol = /*#__PURE__*/ PolySymbol((process.env.NODE_ENV !== 'production') ? 'navigation failure' : 'nf');\r\n/**\r\n * Enumeration with all possible types for navigation failures. Can be passed to\r\n * {@link isNavigationFailure} to check for specific failures.\r\n */\r\nvar NavigationFailureType;\r\n(function (NavigationFailureType) {\r\n    /**\r\n     * An aborted navigation is a navigation that failed because a navigation\r\n     * guard returned `false` or called `next(false)`\r\n     */\r\n    NavigationFailureType[NavigationFailureType[\"aborted\"] = 4] = \"aborted\";\r\n    /**\r\n     * A cancelled navigation is a navigation that failed because a more recent\r\n     * navigation finished started (not necessarily finished).\r\n     */\r\n    NavigationFailureType[NavigationFailureType[\"cancelled\"] = 8] = \"cancelled\";\r\n    /**\r\n     * A duplicated navigation is a navigation that failed because it was\r\n     * initiated while already being at the exact same location.\r\n     */\r\n    NavigationFailureType[NavigationFailureType[\"duplicated\"] = 16] = \"duplicated\";\r\n})(NavigationFailureType || (NavigationFailureType = {}));\r\n// DEV only debug messages\r\nconst ErrorTypeMessages = {\r\n    [1 /* MATCHER_NOT_FOUND */]({ location, currentLocation }) {\r\n        return `No match for\\n ${JSON.stringify(location)}${currentLocation\r\n            ? '\\nwhile being at\\n' + JSON.stringify(currentLocation)\r\n            : ''}`;\r\n    },\r\n    [2 /* NAVIGATION_GUARD_REDIRECT */]({ from, to, }) {\r\n        return `Redirected from \"${from.fullPath}\" to \"${stringifyRoute(to)}\" via a navigation guard.`;\r\n    },\r\n    [4 /* NAVIGATION_ABORTED */]({ from, to }) {\r\n        return `Navigation aborted from \"${from.fullPath}\" to \"${to.fullPath}\" via a navigation guard.`;\r\n    },\r\n    [8 /* NAVIGATION_CANCELLED */]({ from, to }) {\r\n        return `Navigation cancelled from \"${from.fullPath}\" to \"${to.fullPath}\" with a new navigation.`;\r\n    },\r\n    [16 /* NAVIGATION_DUPLICATED */]({ from, to }) {\r\n        return `Avoided redundant navigation to current location: \"${from.fullPath}\".`;\r\n    },\r\n};\r\nfunction createRouterError(type, params) {\r\n    // keep full error messages in cjs versions\r\n    if ((process.env.NODE_ENV !== 'production') || !true) {\r\n        return assign(new Error(ErrorTypeMessages[type](params)), {\r\n            type,\r\n            [NavigationFailureSymbol]: true,\r\n        }, params);\r\n    }\r\n    else {\r\n        return assign(new Error(), {\r\n            type,\r\n            [NavigationFailureSymbol]: true,\r\n        }, params);\r\n    }\r\n}\r\nfunction isNavigationFailure(error, type) {\r\n    return (error instanceof Error &&\r\n        NavigationFailureSymbol in error &&\r\n        (type == null || !!(error.type & type)));\r\n}\r\nconst propertiesToLog = ['params', 'query', 'hash'];\r\nfunction stringifyRoute(to) {\r\n    if (typeof to === 'string')\r\n        return to;\r\n    if ('path' in to)\r\n        return to.path;\r\n    const location = {};\r\n    for (const key of propertiesToLog) {\r\n        if (key in to)\r\n            location[key] = to[key];\r\n    }\r\n    return JSON.stringify(location, null, 2);\r\n}\n\n// default pattern for a param: non greedy everything but /\r\nconst BASE_PARAM_PATTERN = '[^/]+?';\r\nconst BASE_PATH_PARSER_OPTIONS = {\r\n    sensitive: false,\r\n    strict: false,\r\n    start: true,\r\n    end: true,\r\n};\r\n// Special Regex characters that must be escaped in static tokens\r\nconst REGEX_CHARS_RE = /[.+*?^${}()[\\]/\\\\]/g;\r\n/**\r\n * Creates a path parser from an array of Segments (a segment is an array of Tokens)\r\n *\r\n * @param segments - array of segments returned by tokenizePath\r\n * @param extraOptions - optional options for the regexp\r\n * @returns a PathParser\r\n */\r\nfunction tokensToParser(segments, extraOptions) {\r\n    const options = assign({}, BASE_PATH_PARSER_OPTIONS, extraOptions);\r\n    // the amount of scores is the same as the length of segments except for the root segment \"/\"\r\n    const score = [];\r\n    // the regexp as a string\r\n    let pattern = options.start ? '^' : '';\r\n    // extracted keys\r\n    const keys = [];\r\n    for (const segment of segments) {\r\n        // the root segment needs special treatment\r\n        const segmentScores = segment.length ? [] : [90 /* Root */];\r\n        // allow trailing slash\r\n        if (options.strict && !segment.length)\r\n            pattern += '/';\r\n        for (let tokenIndex = 0; tokenIndex < segment.length; tokenIndex++) {\r\n            const token = segment[tokenIndex];\r\n            // resets the score if we are inside a sub segment /:a-other-:b\r\n            let subSegmentScore = 40 /* Segment */ +\r\n                (options.sensitive ? 0.25 /* BonusCaseSensitive */ : 0);\r\n            if (token.type === 0 /* Static */) {\r\n                // prepend the slash if we are starting a new segment\r\n                if (!tokenIndex)\r\n                    pattern += '/';\r\n                pattern += token.value.replace(REGEX_CHARS_RE, '\\\\$&');\r\n                subSegmentScore += 40 /* Static */;\r\n            }\r\n            else if (token.type === 1 /* Param */) {\r\n                const { value, repeatable, optional, regexp } = token;\r\n                keys.push({\r\n                    name: value,\r\n                    repeatable,\r\n                    optional,\r\n                });\r\n                const re = regexp ? regexp : BASE_PARAM_PATTERN;\r\n                // the user provided a custom regexp /:id(\\\\d+)\r\n                if (re !== BASE_PARAM_PATTERN) {\r\n                    subSegmentScore += 10 /* BonusCustomRegExp */;\r\n                    // make sure the regexp is valid before using it\r\n                    try {\r\n                        new RegExp(`(${re})`);\r\n                    }\r\n                    catch (err) {\r\n                        throw new Error(`Invalid custom RegExp for param \"${value}\" (${re}): ` +\r\n                            err.message);\r\n                    }\r\n                }\r\n                // when we repeat we must take care of the repeating leading slash\r\n                let subPattern = repeatable ? `((?:${re})(?:/(?:${re}))*)` : `(${re})`;\r\n                // prepend the slash if we are starting a new segment\r\n                if (!tokenIndex)\r\n                    subPattern =\r\n                        // avoid an optional / if there are more segments e.g. /:p?-static\r\n                        // or /:p?-:p2\r\n                        optional && segment.length < 2\r\n                            ? `(?:/${subPattern})`\r\n                            : '/' + subPattern;\r\n                if (optional)\r\n                    subPattern += '?';\r\n                pattern += subPattern;\r\n                subSegmentScore += 20 /* Dynamic */;\r\n                if (optional)\r\n                    subSegmentScore += -8 /* BonusOptional */;\r\n                if (repeatable)\r\n                    subSegmentScore += -20 /* BonusRepeatable */;\r\n                if (re === '.*')\r\n                    subSegmentScore += -50 /* BonusWildcard */;\r\n            }\r\n            segmentScores.push(subSegmentScore);\r\n        }\r\n        // an empty array like /home/ -> [[{home}], []]\r\n        // if (!segment.length) pattern += '/'\r\n        score.push(segmentScores);\r\n    }\r\n    // only apply the strict bonus to the last score\r\n    if (options.strict && options.end) {\r\n        const i = score.length - 1;\r\n        score[i][score[i].length - 1] += 0.7000000000000001 /* BonusStrict */;\r\n    }\r\n    // TODO: dev only warn double trailing slash\r\n    if (!options.strict)\r\n        pattern += '/?';\r\n    if (options.end)\r\n        pattern += '$';\r\n    // allow paths like /dynamic to only match dynamic or dynamic/... but not dynamic_something_else\r\n    else if (options.strict)\r\n        pattern += '(?:/|$)';\r\n    const re = new RegExp(pattern, options.sensitive ? '' : 'i');\r\n    function parse(path) {\r\n        const match = path.match(re);\r\n        const params = {};\r\n        if (!match)\r\n            return null;\r\n        for (let i = 1; i < match.length; i++) {\r\n            const value = match[i] || '';\r\n            const key = keys[i - 1];\r\n            params[key.name] = value && key.repeatable ? value.split('/') : value;\r\n        }\r\n        return params;\r\n    }\r\n    function stringify(params) {\r\n        let path = '';\r\n        // for optional parameters to allow to be empty\r\n        let avoidDuplicatedSlash = false;\r\n        for (const segment of segments) {\r\n            if (!avoidDuplicatedSlash || !path.endsWith('/'))\r\n                path += '/';\r\n            avoidDuplicatedSlash = false;\r\n            for (const token of segment) {\r\n                if (token.type === 0 /* Static */) {\r\n                    path += token.value;\r\n                }\r\n                else if (token.type === 1 /* Param */) {\r\n                    const { value, repeatable, optional } = token;\r\n                    const param = value in params ? params[value] : '';\r\n                    if (Array.isArray(param) && !repeatable)\r\n                        throw new Error(`Provided param \"${value}\" is an array but it is not repeatable (* or + modifiers)`);\r\n                    const text = Array.isArray(param) ? param.join('/') : param;\r\n                    if (!text) {\r\n                        if (optional) {\r\n                            // if we have more than one optional param like /:a?-static we\r\n                            // don't need to care about the optional param\r\n                            if (segment.length < 2) {\r\n                                // remove the last slash as we could be at the end\r\n                                if (path.endsWith('/'))\r\n                                    path = path.slice(0, -1);\r\n                                // do not append a slash on the next iteration\r\n                                else\r\n                                    avoidDuplicatedSlash = true;\r\n                            }\r\n                        }\r\n                        else\r\n                            throw new Error(`Missing required param \"${value}\"`);\r\n                    }\r\n                    path += text;\r\n                }\r\n            }\r\n        }\r\n        return path;\r\n    }\r\n    return {\r\n        re,\r\n        score,\r\n        keys,\r\n        parse,\r\n        stringify,\r\n    };\r\n}\r\n/**\r\n * Compares an array of numbers as used in PathParser.score and returns a\r\n * number. This function can be used to `sort` an array\r\n *\r\n * @param a - first array of numbers\r\n * @param b - second array of numbers\r\n * @returns 0 if both are equal, < 0 if a should be sorted first, > 0 if b\r\n * should be sorted first\r\n */\r\nfunction compareScoreArray(a, b) {\r\n    let i = 0;\r\n    while (i < a.length && i < b.length) {\r\n        const diff = b[i] - a[i];\r\n        // only keep going if diff === 0\r\n        if (diff)\r\n            return diff;\r\n        i++;\r\n    }\r\n    // if the last subsegment was Static, the shorter segments should be sorted first\r\n    // otherwise sort the longest segment first\r\n    if (a.length < b.length) {\r\n        return a.length === 1 && a[0] === 40 /* Static */ + 40 /* Segment */\r\n            ? -1\r\n            : 1;\r\n    }\r\n    else if (a.length > b.length) {\r\n        return b.length === 1 && b[0] === 40 /* Static */ + 40 /* Segment */\r\n            ? 1\r\n            : -1;\r\n    }\r\n    return 0;\r\n}\r\n/**\r\n * Compare function that can be used with `sort` to sort an array of PathParser\r\n *\r\n * @param a - first PathParser\r\n * @param b - second PathParser\r\n * @returns 0 if both are equal, < 0 if a should be sorted first, > 0 if b\r\n */\r\nfunction comparePathParserScore(a, b) {\r\n    let i = 0;\r\n    const aScore = a.score;\r\n    const bScore = b.score;\r\n    while (i < aScore.length && i < bScore.length) {\r\n        const comp = compareScoreArray(aScore[i], bScore[i]);\r\n        // do not return if both are equal\r\n        if (comp)\r\n            return comp;\r\n        i++;\r\n    }\r\n    // if a and b share the same score entries but b has more, sort b first\r\n    return bScore.length - aScore.length;\r\n    // this is the ternary version\r\n    // return aScore.length < bScore.length\r\n    //   ? 1\r\n    //   : aScore.length > bScore.length\r\n    //   ? -1\r\n    //   : 0\r\n}\n\nconst ROOT_TOKEN = {\r\n    type: 0 /* Static */,\r\n    value: '',\r\n};\r\nconst VALID_PARAM_RE = /[a-zA-Z0-9_]/;\r\n// After some profiling, the cache seems to be unnecessary because tokenizePath\r\n// (the slowest part of adding a route) is very fast\r\n// const tokenCache = new Map<string, Token[][]>()\r\nfunction tokenizePath(path) {\r\n    if (!path)\r\n        return [[]];\r\n    if (path === '/')\r\n        return [[ROOT_TOKEN]];\r\n    if (!path.startsWith('/')) {\r\n        throw new Error((process.env.NODE_ENV !== 'production')\r\n            ? `Route paths should start with a \"/\": \"${path}\" should be \"/${path}\".`\r\n            : `Invalid path \"${path}\"`);\r\n    }\r\n    // if (tokenCache.has(path)) return tokenCache.get(path)!\r\n    function crash(message) {\r\n        throw new Error(`ERR (${state})/\"${buffer}\": ${message}`);\r\n    }\r\n    let state = 0 /* Static */;\r\n    let previousState = state;\r\n    const tokens = [];\r\n    // the segment will always be valid because we get into the initial state\r\n    // with the leading /\r\n    let segment;\r\n    function finalizeSegment() {\r\n        if (segment)\r\n            tokens.push(segment);\r\n        segment = [];\r\n    }\r\n    // index on the path\r\n    let i = 0;\r\n    // char at index\r\n    let char;\r\n    // buffer of the value read\r\n    let buffer = '';\r\n    // custom regexp for a param\r\n    let customRe = '';\r\n    function consumeBuffer() {\r\n        if (!buffer)\r\n            return;\r\n        if (state === 0 /* Static */) {\r\n            segment.push({\r\n                type: 0 /* Static */,\r\n                value: buffer,\r\n            });\r\n        }\r\n        else if (state === 1 /* Param */ ||\r\n            state === 2 /* ParamRegExp */ ||\r\n            state === 3 /* ParamRegExpEnd */) {\r\n            if (segment.length > 1 && (char === '*' || char === '+'))\r\n                crash(`A repeatable param (${buffer}) must be alone in its segment. eg: '/:ids+.`);\r\n            segment.push({\r\n                type: 1 /* Param */,\r\n                value: buffer,\r\n                regexp: customRe,\r\n                repeatable: char === '*' || char === '+',\r\n                optional: char === '*' || char === '?',\r\n            });\r\n        }\r\n        else {\r\n            crash('Invalid state to consume buffer');\r\n        }\r\n        buffer = '';\r\n    }\r\n    function addCharToBuffer() {\r\n        buffer += char;\r\n    }\r\n    while (i < path.length) {\r\n        char = path[i++];\r\n        if (char === '\\\\' && state !== 2 /* ParamRegExp */) {\r\n            previousState = state;\r\n            state = 4 /* EscapeNext */;\r\n            continue;\r\n        }\r\n        switch (state) {\r\n            case 0 /* Static */:\r\n                if (char === '/') {\r\n                    if (buffer) {\r\n                        consumeBuffer();\r\n                    }\r\n                    finalizeSegment();\r\n                }\r\n                else if (char === ':') {\r\n                    consumeBuffer();\r\n                    state = 1 /* Param */;\r\n                }\r\n                else {\r\n                    addCharToBuffer();\r\n                }\r\n                break;\r\n            case 4 /* EscapeNext */:\r\n                addCharToBuffer();\r\n                state = previousState;\r\n                break;\r\n            case 1 /* Param */:\r\n                if (char === '(') {\r\n                    state = 2 /* ParamRegExp */;\r\n                }\r\n                else if (VALID_PARAM_RE.test(char)) {\r\n                    addCharToBuffer();\r\n                }\r\n                else {\r\n                    consumeBuffer();\r\n                    state = 0 /* Static */;\r\n                    // go back one character if we were not modifying\r\n                    if (char !== '*' && char !== '?' && char !== '+')\r\n                        i--;\r\n                }\r\n                break;\r\n            case 2 /* ParamRegExp */:\r\n                // TODO: is it worth handling nested regexp? like :p(?:prefix_([^/]+)_suffix)\r\n                // it already works by escaping the closing )\r\n                // https://paths.esm.dev/?p=AAMeJbiAwQEcDKbAoAAkP60PG2R6QAvgNaA6AFACM2ABuQBB#\r\n                // is this really something people need since you can also write\r\n                // /prefix_:p()_suffix\r\n                if (char === ')') {\r\n                    // handle the escaped )\r\n                    if (customRe[customRe.length - 1] == '\\\\')\r\n                        customRe = customRe.slice(0, -1) + char;\r\n                    else\r\n                        state = 3 /* ParamRegExpEnd */;\r\n                }\r\n                else {\r\n                    customRe += char;\r\n                }\r\n                break;\r\n            case 3 /* ParamRegExpEnd */:\r\n                // same as finalizing a param\r\n                consumeBuffer();\r\n                state = 0 /* Static */;\r\n                // go back one character if we were not modifying\r\n                if (char !== '*' && char !== '?' && char !== '+')\r\n                    i--;\r\n                customRe = '';\r\n                break;\r\n            default:\r\n                crash('Unknown state');\r\n                break;\r\n        }\r\n    }\r\n    if (state === 2 /* ParamRegExp */)\r\n        crash(`Unfinished custom RegExp for param \"${buffer}\"`);\r\n    consumeBuffer();\r\n    finalizeSegment();\r\n    // tokenCache.set(path, tokens)\r\n    return tokens;\r\n}\n\nfunction createRouteRecordMatcher(record, parent, options) {\r\n    const parser = tokensToParser(tokenizePath(record.path), options);\r\n    // warn against params with the same name\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        const existingKeys = new Set();\r\n        for (const key of parser.keys) {\r\n            if (existingKeys.has(key.name))\r\n                warn(`Found duplicated params with name \"${key.name}\" for path \"${record.path}\". Only the last one will be available on \"$route.params\".`);\r\n            existingKeys.add(key.name);\r\n        }\r\n    }\r\n    const matcher = assign(parser, {\r\n        record,\r\n        parent,\r\n        // these needs to be populated by the parent\r\n        children: [],\r\n        alias: [],\r\n    });\r\n    if (parent) {\r\n        // both are aliases or both are not aliases\r\n        // we don't want to mix them because the order is used when\r\n        // passing originalRecord in Matcher.addRoute\r\n        if (!matcher.record.aliasOf === !parent.record.aliasOf)\r\n            parent.children.push(matcher);\r\n    }\r\n    return matcher;\r\n}\n\n/**\r\n * Creates a Router Matcher.\r\n *\r\n * @internal\r\n * @param routes - array of initial routes\r\n * @param globalOptions - global route options\r\n */\r\nfunction createRouterMatcher(routes, globalOptions) {\r\n    // normalized ordered array of matchers\r\n    const matchers = [];\r\n    const matcherMap = new Map();\r\n    globalOptions = mergeOptions({ strict: false, end: true, sensitive: false }, globalOptions);\r\n    function getRecordMatcher(name) {\r\n        return matcherMap.get(name);\r\n    }\r\n    function addRoute(record, parent, originalRecord) {\r\n        // used later on to remove by name\r\n        const isRootAdd = !originalRecord;\r\n        const mainNormalizedRecord = normalizeRouteRecord(record);\r\n        // we might be the child of an alias\r\n        mainNormalizedRecord.aliasOf = originalRecord && originalRecord.record;\r\n        const options = mergeOptions(globalOptions, record);\r\n        // generate an array of records to correctly handle aliases\r\n        const normalizedRecords = [\r\n            mainNormalizedRecord,\r\n        ];\r\n        if ('alias' in record) {\r\n            const aliases = typeof record.alias === 'string' ? [record.alias] : record.alias;\r\n            for (const alias of aliases) {\r\n                normalizedRecords.push(assign({}, mainNormalizedRecord, {\r\n                    // this allows us to hold a copy of the `components` option\r\n                    // so that async components cache is hold on the original record\r\n                    components: originalRecord\r\n                        ? originalRecord.record.components\r\n                        : mainNormalizedRecord.components,\r\n                    path: alias,\r\n                    // we might be the child of an alias\r\n                    aliasOf: originalRecord\r\n                        ? originalRecord.record\r\n                        : mainNormalizedRecord,\r\n                    // the aliases are always of the same kind as the original since they\r\n                    // are defined on the same record\r\n                }));\r\n            }\r\n        }\r\n        let matcher;\r\n        let originalMatcher;\r\n        for (const normalizedRecord of normalizedRecords) {\r\n            const { path } = normalizedRecord;\r\n            // Build up the path for nested routes if the child isn't an absolute\r\n            // route. Only add the / delimiter if the child path isn't empty and if the\r\n            // parent path doesn't have a trailing slash\r\n            if (parent && path[0] !== '/') {\r\n                const parentPath = parent.record.path;\r\n                const connectingSlash = parentPath[parentPath.length - 1] === '/' ? '' : '/';\r\n                normalizedRecord.path =\r\n                    parent.record.path + (path && connectingSlash + path);\r\n            }\r\n            if ((process.env.NODE_ENV !== 'production') && normalizedRecord.path === '*') {\r\n                throw new Error('Catch all routes (\"*\") must now be defined using a param with a custom regexp.\\n' +\r\n                    'See more at https://next.router.vuejs.org/guide/migration/#removed-star-or-catch-all-routes.');\r\n            }\r\n            // create the object before hand so it can be passed to children\r\n            matcher = createRouteRecordMatcher(normalizedRecord, parent, options);\r\n            if ((process.env.NODE_ENV !== 'production') && parent && path[0] === '/')\r\n                checkMissingParamsInAbsolutePath(matcher, parent);\r\n            // if we are an alias we must tell the original record that we exist\r\n            // so we can be removed\r\n            if (originalRecord) {\r\n                originalRecord.alias.push(matcher);\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    checkSameParams(originalRecord, matcher);\r\n                }\r\n            }\r\n            else {\r\n                // otherwise, the first record is the original and others are aliases\r\n                originalMatcher = originalMatcher || matcher;\r\n                if (originalMatcher !== matcher)\r\n                    originalMatcher.alias.push(matcher);\r\n                // remove the route if named and only for the top record (avoid in nested calls)\r\n                // this works because the original record is the first one\r\n                if (isRootAdd && record.name && !isAliasRecord(matcher))\r\n                    removeRoute(record.name);\r\n            }\r\n            if ('children' in mainNormalizedRecord) {\r\n                const children = mainNormalizedRecord.children;\r\n                for (let i = 0; i < children.length; i++) {\r\n                    addRoute(children[i], matcher, originalRecord && originalRecord.children[i]);\r\n                }\r\n            }\r\n            // if there was no original record, then the first one was not an alias and all\r\n            // other alias (if any) need to reference this record when adding children\r\n            originalRecord = originalRecord || matcher;\r\n            // TODO: add normalized records for more flexibility\r\n            // if (parent && isAliasRecord(originalRecord)) {\r\n            //   parent.children.push(originalRecord)\r\n            // }\r\n            insertMatcher(matcher);\r\n        }\r\n        return originalMatcher\r\n            ? () => {\r\n                // since other matchers are aliases, they should be removed by the original matcher\r\n                removeRoute(originalMatcher);\r\n            }\r\n            : noop;\r\n    }\r\n    function removeRoute(matcherRef) {\r\n        if (isRouteName(matcherRef)) {\r\n            const matcher = matcherMap.get(matcherRef);\r\n            if (matcher) {\r\n                matcherMap.delete(matcherRef);\r\n                matchers.splice(matchers.indexOf(matcher), 1);\r\n                matcher.children.forEach(removeRoute);\r\n                matcher.alias.forEach(removeRoute);\r\n            }\r\n        }\r\n        else {\r\n            const index = matchers.indexOf(matcherRef);\r\n            if (index > -1) {\r\n                matchers.splice(index, 1);\r\n                if (matcherRef.record.name)\r\n                    matcherMap.delete(matcherRef.record.name);\r\n                matcherRef.children.forEach(removeRoute);\r\n                matcherRef.alias.forEach(removeRoute);\r\n            }\r\n        }\r\n    }\r\n    function getRoutes() {\r\n        return matchers;\r\n    }\r\n    function insertMatcher(matcher) {\r\n        let i = 0;\r\n        while (i < matchers.length &&\r\n            comparePathParserScore(matcher, matchers[i]) >= 0 &&\r\n            // Adding children with empty path should still appear before the parent\r\n            // https://github.com/vuejs/router/issues/1124\r\n            (matcher.record.path !== matchers[i].record.path ||\r\n                !isRecordChildOf(matcher, matchers[i])))\r\n            i++;\r\n        matchers.splice(i, 0, matcher);\r\n        // only add the original record to the name map\r\n        if (matcher.record.name && !isAliasRecord(matcher))\r\n            matcherMap.set(matcher.record.name, matcher);\r\n    }\r\n    function resolve(location, currentLocation) {\r\n        let matcher;\r\n        let params = {};\r\n        let path;\r\n        let name;\r\n        if ('name' in location && location.name) {\r\n            matcher = matcherMap.get(location.name);\r\n            if (!matcher)\r\n                throw createRouterError(1 /* MATCHER_NOT_FOUND */, {\r\n                    location,\r\n                });\r\n            name = matcher.record.name;\r\n            params = assign(\r\n            // paramsFromLocation is a new object\r\n            paramsFromLocation(currentLocation.params, \r\n            // only keep params that exist in the resolved location\r\n            // TODO: only keep optional params coming from a parent record\r\n            matcher.keys.filter(k => !k.optional).map(k => k.name)), location.params);\r\n            // throws if cannot be stringified\r\n            path = matcher.stringify(params);\r\n        }\r\n        else if ('path' in location) {\r\n            // no need to resolve the path with the matcher as it was provided\r\n            // this also allows the user to control the encoding\r\n            path = location.path;\r\n            if ((process.env.NODE_ENV !== 'production') && !path.startsWith('/')) {\r\n                warn(`The Matcher cannot resolve relative paths but received \"${path}\". Unless you directly called \\`matcher.resolve(\"${path}\")\\`, this is probably a bug in vue-router. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/router.`);\r\n            }\r\n            matcher = matchers.find(m => m.re.test(path));\r\n            // matcher should have a value after the loop\r\n            if (matcher) {\r\n                // TODO: dev warning of unused params if provided\r\n                // we know the matcher works because we tested the regexp\r\n                params = matcher.parse(path);\r\n                name = matcher.record.name;\r\n            }\r\n            // location is a relative path\r\n        }\r\n        else {\r\n            // match by name or path of current route\r\n            matcher = currentLocation.name\r\n                ? matcherMap.get(currentLocation.name)\r\n                : matchers.find(m => m.re.test(currentLocation.path));\r\n            if (!matcher)\r\n                throw createRouterError(1 /* MATCHER_NOT_FOUND */, {\r\n                    location,\r\n                    currentLocation,\r\n                });\r\n            name = matcher.record.name;\r\n            // since we are navigating to the same location, we don't need to pick the\r\n            // params like when `name` is provided\r\n            params = assign({}, currentLocation.params, location.params);\r\n            path = matcher.stringify(params);\r\n        }\r\n        const matched = [];\r\n        let parentMatcher = matcher;\r\n        while (parentMatcher) {\r\n            // reversed order so parents are at the beginning\r\n            matched.unshift(parentMatcher.record);\r\n            parentMatcher = parentMatcher.parent;\r\n        }\r\n        return {\r\n            name,\r\n            path,\r\n            params,\r\n            matched,\r\n            meta: mergeMetaFields(matched),\r\n        };\r\n    }\r\n    // add initial routes\r\n    routes.forEach(route => addRoute(route));\r\n    return { addRoute, resolve, removeRoute, getRoutes, getRecordMatcher };\r\n}\r\nfunction paramsFromLocation(params, keys) {\r\n    const newParams = {};\r\n    for (const key of keys) {\r\n        if (key in params)\r\n            newParams[key] = params[key];\r\n    }\r\n    return newParams;\r\n}\r\n/**\r\n * Normalizes a RouteRecordRaw. Creates a copy\r\n *\r\n * @param record\r\n * @returns the normalized version\r\n */\r\nfunction normalizeRouteRecord(record) {\r\n    return {\r\n        path: record.path,\r\n        redirect: record.redirect,\r\n        name: record.name,\r\n        meta: record.meta || {},\r\n        aliasOf: undefined,\r\n        beforeEnter: record.beforeEnter,\r\n        props: normalizeRecordProps(record),\r\n        children: record.children || [],\r\n        instances: {},\r\n        leaveGuards: new Set(),\r\n        updateGuards: new Set(),\r\n        enterCallbacks: {},\r\n        components: 'components' in record\r\n            ? record.components || {}\r\n            : { default: record.component },\r\n    };\r\n}\r\n/**\r\n * Normalize the optional `props` in a record to always be an object similar to\r\n * components. Also accept a boolean for components.\r\n * @param record\r\n */\r\nfunction normalizeRecordProps(record) {\r\n    const propsObject = {};\r\n    // props does not exist on redirect records but we can set false directly\r\n    const props = record.props || false;\r\n    if ('component' in record) {\r\n        propsObject.default = props;\r\n    }\r\n    else {\r\n        // NOTE: we could also allow a function to be applied to every component.\r\n        // Would need user feedback for use cases\r\n        for (const name in record.components)\r\n            propsObject[name] = typeof props === 'boolean' ? props : props[name];\r\n    }\r\n    return propsObject;\r\n}\r\n/**\r\n * Checks if a record or any of its parent is an alias\r\n * @param record\r\n */\r\nfunction isAliasRecord(record) {\r\n    while (record) {\r\n        if (record.record.aliasOf)\r\n            return true;\r\n        record = record.parent;\r\n    }\r\n    return false;\r\n}\r\n/**\r\n * Merge meta fields of an array of records\r\n *\r\n * @param matched - array of matched records\r\n */\r\nfunction mergeMetaFields(matched) {\r\n    return matched.reduce((meta, record) => assign(meta, record.meta), {});\r\n}\r\nfunction mergeOptions(defaults, partialOptions) {\r\n    const options = {};\r\n    for (const key in defaults) {\r\n        options[key] = key in partialOptions ? partialOptions[key] : defaults[key];\r\n    }\r\n    return options;\r\n}\r\nfunction isSameParam(a, b) {\r\n    return (a.name === b.name &&\r\n        a.optional === b.optional &&\r\n        a.repeatable === b.repeatable);\r\n}\r\n/**\r\n * Check if a path and its alias have the same required params\r\n *\r\n * @param a - original record\r\n * @param b - alias record\r\n */\r\nfunction checkSameParams(a, b) {\r\n    for (const key of a.keys) {\r\n        if (!key.optional && !b.keys.find(isSameParam.bind(null, key)))\r\n            return warn(`Alias \"${b.record.path}\" and the original record: \"${a.record.path}\" should have the exact same param named \"${key.name}\"`);\r\n    }\r\n    for (const key of b.keys) {\r\n        if (!key.optional && !a.keys.find(isSameParam.bind(null, key)))\r\n            return warn(`Alias \"${b.record.path}\" and the original record: \"${a.record.path}\" should have the exact same param named \"${key.name}\"`);\r\n    }\r\n}\r\nfunction checkMissingParamsInAbsolutePath(record, parent) {\r\n    for (const key of parent.keys) {\r\n        if (!record.keys.find(isSameParam.bind(null, key)))\r\n            return warn(`Absolute path \"${record.record.path}\" should have the exact same param named \"${key.name}\" as its parent \"${parent.record.path}\".`);\r\n    }\r\n}\r\nfunction isRecordChildOf(record, parent) {\r\n    return parent.children.some(child => child === record || isRecordChildOf(record, child));\r\n}\n\n/**\r\n * Encoding Rules  = Space Path:  \" < > # ? { } Query:  \" < > # & = Hash:  \"\r\n * < > `\r\n *\r\n * On top of that, the RFC3986 (https://tools.ietf.org/html/rfc3986#section-2.2)\r\n * defines some extra characters to be encoded. Most browsers do not encode them\r\n * in encodeURI https://github.com/whatwg/url/issues/369, so it may be safer to\r\n * also encode `!'()*`. Leaving unencoded only ASCII alphanumeric(`a-zA-Z0-9`)\r\n * plus `-._~`. This extra safety should be applied to query by patching the\r\n * string returned by encodeURIComponent encodeURI also encodes `[\\]^`. `\\`\r\n * should be encoded to avoid ambiguity. Browsers (IE, FF, C) transform a `\\`\r\n * into a `/` if directly typed in. The _backtick_ (`````) should also be\r\n * encoded everywhere because some browsers like FF encode it when directly\r\n * written while others don't. Safari and IE don't encode ``\"<>{}``` in hash.\r\n */\r\n// const EXTRA_RESERVED_RE = /[!'()*]/g\r\n// const encodeReservedReplacer = (c: string) => '%' + c.charCodeAt(0).toString(16)\r\nconst HASH_RE = /#/g; // %23\r\nconst AMPERSAND_RE = /&/g; // %26\r\nconst SLASH_RE = /\\//g; // %2F\r\nconst EQUAL_RE = /=/g; // %3D\r\nconst IM_RE = /\\?/g; // %3F\r\nconst PLUS_RE = /\\+/g; // %2B\r\n/**\r\n * NOTE: It's not clear to me if we should encode the + symbol in queries, it\r\n * seems to be less flexible than not doing so and I can't find out the legacy\r\n * systems requiring this for regular requests like text/html. In the standard,\r\n * the encoding of the plus character is only mentioned for\r\n * application/x-www-form-urlencoded\r\n * (https://url.spec.whatwg.org/#urlencoded-parsing) and most browsers seems lo\r\n * leave the plus character as is in queries. To be more flexible, we allow the\r\n * plus character on the query but it can also be manually encoded by the user.\r\n *\r\n * Resources:\r\n * - https://url.spec.whatwg.org/#urlencoded-parsing\r\n * - https://stackoverflow.com/questions/1634271/url-encoding-the-space-character-or-20\r\n */\r\nconst ENC_BRACKET_OPEN_RE = /%5B/g; // [\r\nconst ENC_BRACKET_CLOSE_RE = /%5D/g; // ]\r\nconst ENC_CARET_RE = /%5E/g; // ^\r\nconst ENC_BACKTICK_RE = /%60/g; // `\r\nconst ENC_CURLY_OPEN_RE = /%7B/g; // {\r\nconst ENC_PIPE_RE = /%7C/g; // |\r\nconst ENC_CURLY_CLOSE_RE = /%7D/g; // }\r\nconst ENC_SPACE_RE = /%20/g; // }\r\n/**\r\n * Encode characters that need to be encoded on the path, search and hash\r\n * sections of the URL.\r\n *\r\n * @internal\r\n * @param text - string to encode\r\n * @returns encoded string\r\n */\r\nfunction commonEncode(text) {\r\n    return encodeURI('' + text)\r\n        .replace(ENC_PIPE_RE, '|')\r\n        .replace(ENC_BRACKET_OPEN_RE, '[')\r\n        .replace(ENC_BRACKET_CLOSE_RE, ']');\r\n}\r\n/**\r\n * Encode characters that need to be encoded on the hash section of the URL.\r\n *\r\n * @param text - string to encode\r\n * @returns encoded string\r\n */\r\nfunction encodeHash(text) {\r\n    return commonEncode(text)\r\n        .replace(ENC_CURLY_OPEN_RE, '{')\r\n        .replace(ENC_CURLY_CLOSE_RE, '}')\r\n        .replace(ENC_CARET_RE, '^');\r\n}\r\n/**\r\n * Encode characters that need to be encoded query values on the query\r\n * section of the URL.\r\n *\r\n * @param text - string to encode\r\n * @returns encoded string\r\n */\r\nfunction encodeQueryValue(text) {\r\n    return (commonEncode(text)\r\n        // Encode the space as +, encode the + to differentiate it from the space\r\n        .replace(PLUS_RE, '%2B')\r\n        .replace(ENC_SPACE_RE, '+')\r\n        .replace(HASH_RE, '%23')\r\n        .replace(AMPERSAND_RE, '%26')\r\n        .replace(ENC_BACKTICK_RE, '`')\r\n        .replace(ENC_CURLY_OPEN_RE, '{')\r\n        .replace(ENC_CURLY_CLOSE_RE, '}')\r\n        .replace(ENC_CARET_RE, '^'));\r\n}\r\n/**\r\n * Like `encodeQueryValue` but also encodes the `=` character.\r\n *\r\n * @param text - string to encode\r\n */\r\nfunction encodeQueryKey(text) {\r\n    return encodeQueryValue(text).replace(EQUAL_RE, '%3D');\r\n}\r\n/**\r\n * Encode characters that need to be encoded on the path section of the URL.\r\n *\r\n * @param text - string to encode\r\n * @returns encoded string\r\n */\r\nfunction encodePath(text) {\r\n    return commonEncode(text).replace(HASH_RE, '%23').replace(IM_RE, '%3F');\r\n}\r\n/**\r\n * Encode characters that need to be encoded on the path section of the URL as a\r\n * param. This function encodes everything {@link encodePath} does plus the\r\n * slash (`/`) character. If `text` is `null` or `undefined`, returns an empty\r\n * string instead.\r\n *\r\n * @param text - string to encode\r\n * @returns encoded string\r\n */\r\nfunction encodeParam(text) {\r\n    return text == null ? '' : encodePath(text).replace(SLASH_RE, '%2F');\r\n}\r\n/**\r\n * Decode text using `decodeURIComponent`. Returns the original text if it\r\n * fails.\r\n *\r\n * @param text - string to decode\r\n * @returns decoded string\r\n */\r\nfunction decode(text) {\r\n    try {\r\n        return decodeURIComponent('' + text);\r\n    }\r\n    catch (err) {\r\n        (process.env.NODE_ENV !== 'production') && warn(`Error decoding \"${text}\". Using original value`);\r\n    }\r\n    return '' + text;\r\n}\n\n/**\r\n * Transforms a queryString into a {@link LocationQuery} object. Accept both, a\r\n * version with the leading `?` and without Should work as URLSearchParams\r\n\n * @internal\r\n *\r\n * @param search - search string to parse\r\n * @returns a query object\r\n */\r\nfunction parseQuery(search) {\r\n    const query = {};\r\n    // avoid creating an object with an empty key and empty value\r\n    // because of split('&')\r\n    if (search === '' || search === '?')\r\n        return query;\r\n    const hasLeadingIM = search[0] === '?';\r\n    const searchParams = (hasLeadingIM ? search.slice(1) : search).split('&');\r\n    for (let i = 0; i < searchParams.length; ++i) {\r\n        // pre decode the + into space\r\n        const searchParam = searchParams[i].replace(PLUS_RE, ' ');\r\n        // allow the = character\r\n        const eqPos = searchParam.indexOf('=');\r\n        const key = decode(eqPos < 0 ? searchParam : searchParam.slice(0, eqPos));\r\n        const value = eqPos < 0 ? null : decode(searchParam.slice(eqPos + 1));\r\n        if (key in query) {\r\n            // an extra variable for ts types\r\n            let currentValue = query[key];\r\n            if (!Array.isArray(currentValue)) {\r\n                currentValue = query[key] = [currentValue];\r\n            }\r\n            currentValue.push(value);\r\n        }\r\n        else {\r\n            query[key] = value;\r\n        }\r\n    }\r\n    return query;\r\n}\r\n/**\r\n * Stringifies a {@link LocationQueryRaw} object. Like `URLSearchParams`, it\r\n * doesn't prepend a `?`\r\n *\r\n * @internal\r\n *\r\n * @param query - query object to stringify\r\n * @returns string version of the query without the leading `?`\r\n */\r\nfunction stringifyQuery(query) {\r\n    let search = '';\r\n    for (let key in query) {\r\n        const value = query[key];\r\n        key = encodeQueryKey(key);\r\n        if (value == null) {\r\n            // only null adds the value\r\n            if (value !== undefined) {\r\n                search += (search.length ? '&' : '') + key;\r\n            }\r\n            continue;\r\n        }\r\n        // keep null values\r\n        const values = Array.isArray(value)\r\n            ? value.map(v => v && encodeQueryValue(v))\r\n            : [value && encodeQueryValue(value)];\r\n        values.forEach(value => {\r\n            // skip undefined values in arrays as if they were not present\r\n            // smaller code than using filter\r\n            if (value !== undefined) {\r\n                // only append & with non-empty search\r\n                search += (search.length ? '&' : '') + key;\r\n                if (value != null)\r\n                    search += '=' + value;\r\n            }\r\n        });\r\n    }\r\n    return search;\r\n}\r\n/**\r\n * Transforms a {@link LocationQueryRaw} into a {@link LocationQuery} by casting\r\n * numbers into strings, removing keys with an undefined value and replacing\r\n * undefined with null in arrays\r\n *\r\n * @param query - query object to normalize\r\n * @returns a normalized query object\r\n */\r\nfunction normalizeQuery(query) {\r\n    const normalizedQuery = {};\r\n    for (const key in query) {\r\n        const value = query[key];\r\n        if (value !== undefined) {\r\n            normalizedQuery[key] = Array.isArray(value)\r\n                ? value.map(v => (v == null ? null : '' + v))\r\n                : value == null\r\n                    ? value\r\n                    : '' + value;\r\n        }\r\n    }\r\n    return normalizedQuery;\r\n}\n\n/**\r\n * Create a list of callbacks that can be reset. Used to create before and after navigation guards list\r\n */\r\nfunction useCallbacks() {\r\n    let handlers = [];\r\n    function add(handler) {\r\n        handlers.push(handler);\r\n        return () => {\r\n            const i = handlers.indexOf(handler);\r\n            if (i > -1)\r\n                handlers.splice(i, 1);\r\n        };\r\n    }\r\n    function reset() {\r\n        handlers = [];\r\n    }\r\n    return {\r\n        add,\r\n        list: () => handlers,\r\n        reset,\r\n    };\r\n}\n\nfunction registerGuard(record, name, guard) {\r\n    const removeFromList = () => {\r\n        record[name].delete(guard);\r\n    };\r\n    onUnmounted(removeFromList);\r\n    onDeactivated(removeFromList);\r\n    onActivated(() => {\r\n        record[name].add(guard);\r\n    });\r\n    record[name].add(guard);\r\n}\r\n/**\r\n * Add a navigation guard that triggers whenever the component for the current\r\n * location is about to be left. Similar to {@link beforeRouteLeave} but can be\r\n * used in any component. The guard is removed when the component is unmounted.\r\n *\r\n * @param leaveGuard - {@link NavigationGuard}\r\n */\r\nfunction onBeforeRouteLeave(leaveGuard) {\r\n    if ((process.env.NODE_ENV !== 'production') && !getCurrentInstance()) {\r\n        warn('getCurrentInstance() returned null. onBeforeRouteLeave() must be called at the top of a setup function');\r\n        return;\r\n    }\r\n    const activeRecord = inject(matchedRouteKey, \r\n    // to avoid warning\r\n    {}).value;\r\n    if (!activeRecord) {\r\n        (process.env.NODE_ENV !== 'production') &&\r\n            warn('No active route record was found when calling `onBeforeRouteLeave()`. Make sure you call this function inside of a component child of <router-view>. Maybe you called it inside of App.vue?');\r\n        return;\r\n    }\r\n    registerGuard(activeRecord, 'leaveGuards', leaveGuard);\r\n}\r\n/**\r\n * Add a navigation guard that triggers whenever the current location is about\r\n * to be updated. Similar to {@link beforeRouteUpdate} but can be used in any\r\n * component. The guard is removed when the component is unmounted.\r\n *\r\n * @param updateGuard - {@link NavigationGuard}\r\n */\r\nfunction onBeforeRouteUpdate(updateGuard) {\r\n    if ((process.env.NODE_ENV !== 'production') && !getCurrentInstance()) {\r\n        warn('getCurrentInstance() returned null. onBeforeRouteUpdate() must be called at the top of a setup function');\r\n        return;\r\n    }\r\n    const activeRecord = inject(matchedRouteKey, \r\n    // to avoid warning\r\n    {}).value;\r\n    if (!activeRecord) {\r\n        (process.env.NODE_ENV !== 'production') &&\r\n            warn('No active route record was found when calling `onBeforeRouteUpdate()`. Make sure you call this function inside of a component child of <router-view>. Maybe you called it inside of App.vue?');\r\n        return;\r\n    }\r\n    registerGuard(activeRecord, 'updateGuards', updateGuard);\r\n}\r\nfunction guardToPromiseFn(guard, to, from, record, name) {\r\n    // keep a reference to the enterCallbackArray to prevent pushing callbacks if a new navigation took place\r\n    const enterCallbackArray = record &&\r\n        // name is defined if record is because of the function overload\r\n        (record.enterCallbacks[name] = record.enterCallbacks[name] || []);\r\n    return () => new Promise((resolve, reject) => {\r\n        const next = (valid) => {\r\n            if (valid === false)\r\n                reject(createRouterError(4 /* NAVIGATION_ABORTED */, {\r\n                    from,\r\n                    to,\r\n                }));\r\n            else if (valid instanceof Error) {\r\n                reject(valid);\r\n            }\r\n            else if (isRouteLocation(valid)) {\r\n                reject(createRouterError(2 /* NAVIGATION_GUARD_REDIRECT */, {\r\n                    from: to,\r\n                    to: valid,\r\n                }));\r\n            }\r\n            else {\r\n                if (enterCallbackArray &&\r\n                    // since enterCallbackArray is truthy, both record and name also are\r\n                    record.enterCallbacks[name] === enterCallbackArray &&\r\n                    typeof valid === 'function')\r\n                    enterCallbackArray.push(valid);\r\n                resolve();\r\n            }\r\n        };\r\n        // wrapping with Promise.resolve allows it to work with both async and sync guards\r\n        const guardReturn = guard.call(record && record.instances[name], to, from, (process.env.NODE_ENV !== 'production') ? canOnlyBeCalledOnce(next, to, from) : next);\r\n        let guardCall = Promise.resolve(guardReturn);\r\n        if (guard.length < 3)\r\n            guardCall = guardCall.then(next);\r\n        if ((process.env.NODE_ENV !== 'production') && guard.length > 2) {\r\n            const message = `The \"next\" callback was never called inside of ${guard.name ? '\"' + guard.name + '\"' : ''}:\\n${guard.toString()}\\n. If you are returning a value instead of calling \"next\", make sure to remove the \"next\" parameter from your function.`;\r\n            if (typeof guardReturn === 'object' && 'then' in guardReturn) {\r\n                guardCall = guardCall.then(resolvedValue => {\r\n                    // @ts-expect-error: _called is added at canOnlyBeCalledOnce\r\n                    if (!next._called) {\r\n                        warn(message);\r\n                        return Promise.reject(new Error('Invalid navigation guard'));\r\n                    }\r\n                    return resolvedValue;\r\n                });\r\n                // TODO: test me!\r\n            }\r\n            else if (guardReturn !== undefined) {\r\n                // @ts-expect-error: _called is added at canOnlyBeCalledOnce\r\n                if (!next._called) {\r\n                    warn(message);\r\n                    reject(new Error('Invalid navigation guard'));\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n        guardCall.catch(err => reject(err));\r\n    });\r\n}\r\nfunction canOnlyBeCalledOnce(next, to, from) {\r\n    let called = 0;\r\n    return function () {\r\n        if (called++ === 1)\r\n            warn(`The \"next\" callback was called more than once in one navigation guard when going from \"${from.fullPath}\" to \"${to.fullPath}\". It should be called exactly one time in each navigation guard. This will fail in production.`);\r\n        // @ts-expect-error: we put it in the original one because it's easier to check\r\n        next._called = true;\r\n        if (called === 1)\r\n            next.apply(null, arguments);\r\n    };\r\n}\r\nfunction extractComponentsGuards(matched, guardType, to, from) {\r\n    const guards = [];\r\n    for (const record of matched) {\r\n        for (const name in record.components) {\r\n            let rawComponent = record.components[name];\r\n            if ((process.env.NODE_ENV !== 'production')) {\r\n                if (!rawComponent ||\r\n                    (typeof rawComponent !== 'object' &&\r\n                        typeof rawComponent !== 'function')) {\r\n                    warn(`Component \"${name}\" in record with path \"${record.path}\" is not` +\r\n                        ` a valid component. Received \"${String(rawComponent)}\".`);\r\n                    // throw to ensure we stop here but warn to ensure the message isn't\r\n                    // missed by the user\r\n                    throw new Error('Invalid route component');\r\n                }\r\n                else if ('then' in rawComponent) {\r\n                    // warn if user wrote import('/component.vue') instead of () =>\r\n                    // import('./component.vue')\r\n                    warn(`Component \"${name}\" in record with path \"${record.path}\" is a ` +\r\n                        `Promise instead of a function that returns a Promise. Did you ` +\r\n                        `write \"import('./MyPage.vue')\" instead of ` +\r\n                        `\"() => import('./MyPage.vue')\" ? This will break in ` +\r\n                        `production if not fixed.`);\r\n                    const promise = rawComponent;\r\n                    rawComponent = () => promise;\r\n                }\r\n                else if (rawComponent.__asyncLoader &&\r\n                    // warn only once per component\r\n                    !rawComponent.__warnedDefineAsync) {\r\n                    rawComponent.__warnedDefineAsync = true;\r\n                    warn(`Component \"${name}\" in record with path \"${record.path}\" is defined ` +\r\n                        `using \"defineAsyncComponent()\". ` +\r\n                        `Write \"() => import('./MyPage.vue')\" instead of ` +\r\n                        `\"defineAsyncComponent(() => import('./MyPage.vue'))\".`);\r\n                }\r\n            }\r\n            // skip update and leave guards if the route component is not mounted\r\n            if (guardType !== 'beforeRouteEnter' && !record.instances[name])\r\n                continue;\r\n            if (isRouteComponent(rawComponent)) {\r\n                // __vccOpts is added by vue-class-component and contain the regular options\r\n                const options = rawComponent.__vccOpts || rawComponent;\r\n                const guard = options[guardType];\r\n                guard && guards.push(guardToPromiseFn(guard, to, from, record, name));\r\n            }\r\n            else {\r\n                // start requesting the chunk already\r\n                let componentPromise = rawComponent();\r\n                if ((process.env.NODE_ENV !== 'production') && !('catch' in componentPromise)) {\r\n                    warn(`Component \"${name}\" in record with path \"${record.path}\" is a function that does not return a Promise. If you were passing a functional component, make sure to add a \"displayName\" to the component. This will break in production if not fixed.`);\r\n                    componentPromise = Promise.resolve(componentPromise);\r\n                }\r\n                guards.push(() => componentPromise.then(resolved => {\r\n                    if (!resolved)\r\n                        return Promise.reject(new Error(`Couldn't resolve component \"${name}\" at \"${record.path}\"`));\r\n                    const resolvedComponent = isESModule(resolved)\r\n                        ? resolved.default\r\n                        : resolved;\r\n                    // replace the function with the resolved component\r\n                    record.components[name] = resolvedComponent;\r\n                    // __vccOpts is added by vue-class-component and contain the regular options\r\n                    const options = resolvedComponent.__vccOpts || resolvedComponent;\r\n                    const guard = options[guardType];\r\n                    return guard && guardToPromiseFn(guard, to, from, record, name)();\r\n                }));\r\n            }\r\n        }\r\n    }\r\n    return guards;\r\n}\r\n/**\r\n * Allows differentiating lazy components from functional components and vue-class-component\r\n *\r\n * @param component\r\n */\r\nfunction isRouteComponent(component) {\r\n    return (typeof component === 'object' ||\r\n        'displayName' in component ||\r\n        'props' in component ||\r\n        '__vccOpts' in component);\r\n}\n\n// TODO: we could allow currentRoute as a prop to expose `isActive` and\r\n// `isExactActive` behavior should go through an RFC\r\nfunction useLink(props) {\r\n    const router = inject(routerKey);\r\n    const currentRoute = inject(routeLocationKey);\r\n    const route = computed(() => router.resolve(unref(props.to)));\r\n    const activeRecordIndex = computed(() => {\r\n        const { matched } = route.value;\r\n        const { length } = matched;\r\n        const routeMatched = matched[length - 1];\r\n        const currentMatched = currentRoute.matched;\r\n        if (!routeMatched || !currentMatched.length)\r\n            return -1;\r\n        const index = currentMatched.findIndex(isSameRouteRecord.bind(null, routeMatched));\r\n        if (index > -1)\r\n            return index;\r\n        // possible parent record\r\n        const parentRecordPath = getOriginalPath(matched[length - 2]);\r\n        return (\r\n        // we are dealing with nested routes\r\n        length > 1 &&\r\n            // if the parent and matched route have the same path, this link is\r\n            // referring to the empty child. Or we currently are on a different\r\n            // child of the same parent\r\n            getOriginalPath(routeMatched) === parentRecordPath &&\r\n            // avoid comparing the child with its parent\r\n            currentMatched[currentMatched.length - 1].path !== parentRecordPath\r\n            ? currentMatched.findIndex(isSameRouteRecord.bind(null, matched[length - 2]))\r\n            : index);\r\n    });\r\n    const isActive = computed(() => activeRecordIndex.value > -1 &&\r\n        includesParams(currentRoute.params, route.value.params));\r\n    const isExactActive = computed(() => activeRecordIndex.value > -1 &&\r\n        activeRecordIndex.value === currentRoute.matched.length - 1 &&\r\n        isSameRouteLocationParams(currentRoute.params, route.value.params));\r\n    function navigate(e = {}) {\r\n        if (guardEvent(e)) {\r\n            return router[unref(props.replace) ? 'replace' : 'push'](unref(props.to)\r\n            // avoid uncaught errors are they are logged anyway\r\n            ).catch(noop);\r\n        }\r\n        return Promise.resolve();\r\n    }\r\n    // devtools only\r\n    if (((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) && isBrowser) {\r\n        const instance = getCurrentInstance();\r\n        if (instance) {\r\n            const linkContextDevtools = {\r\n                route: route.value,\r\n                isActive: isActive.value,\r\n                isExactActive: isExactActive.value,\r\n            };\r\n            // @ts-expect-error: this is internal\r\n            instance.__vrl_devtools = instance.__vrl_devtools || [];\r\n            // @ts-expect-error: this is internal\r\n            instance.__vrl_devtools.push(linkContextDevtools);\r\n            watchEffect(() => {\r\n                linkContextDevtools.route = route.value;\r\n                linkContextDevtools.isActive = isActive.value;\r\n                linkContextDevtools.isExactActive = isExactActive.value;\r\n            }, { flush: 'post' });\r\n        }\r\n    }\r\n    return {\r\n        route,\r\n        href: computed(() => route.value.href),\r\n        isActive,\r\n        isExactActive,\r\n        navigate,\r\n    };\r\n}\r\nconst RouterLinkImpl = /*#__PURE__*/ defineComponent({\r\n    name: 'RouterLink',\r\n    props: {\r\n        to: {\r\n            type: [String, Object],\r\n            required: true,\r\n        },\r\n        replace: Boolean,\r\n        activeClass: String,\r\n        // inactiveClass: String,\r\n        exactActiveClass: String,\r\n        custom: Boolean,\r\n        ariaCurrentValue: {\r\n            type: String,\r\n            default: 'page',\r\n        },\r\n    },\r\n    useLink,\r\n    setup(props, { slots }) {\r\n        const link = reactive(useLink(props));\r\n        const { options } = inject(routerKey);\r\n        const elClass = computed(() => ({\r\n            [getLinkClass(props.activeClass, options.linkActiveClass, 'router-link-active')]: link.isActive,\r\n            // [getLinkClass(\r\n            //   props.inactiveClass,\r\n            //   options.linkInactiveClass,\r\n            //   'router-link-inactive'\r\n            // )]: !link.isExactActive,\r\n            [getLinkClass(props.exactActiveClass, options.linkExactActiveClass, 'router-link-exact-active')]: link.isExactActive,\r\n        }));\r\n        return () => {\r\n            const children = slots.default && slots.default(link);\r\n            return props.custom\r\n                ? children\r\n                : h('a', {\r\n                    'aria-current': link.isExactActive\r\n                        ? props.ariaCurrentValue\r\n                        : null,\r\n                    href: link.href,\r\n                    // this would override user added attrs but Vue will still add\r\n                    // the listener so we end up triggering both\r\n                    onClick: link.navigate,\r\n                    class: elClass.value,\r\n                }, children);\r\n        };\r\n    },\r\n});\r\n// export the public type for h/tsx inference\r\n// also to avoid inline import() in generated d.ts files\r\n/**\r\n * Component to render a link that triggers a navigation on click.\r\n */\r\nconst RouterLink = RouterLinkImpl;\r\nfunction guardEvent(e) {\r\n    // don't redirect with control keys\r\n    if (e.metaKey || e.altKey || e.ctrlKey || e.shiftKey)\r\n        return;\r\n    // don't redirect when preventDefault called\r\n    if (e.defaultPrevented)\r\n        return;\r\n    // don't redirect on right click\r\n    if (e.button !== undefined && e.button !== 0)\r\n        return;\r\n    // don't redirect if `target=\"_blank\"`\r\n    // @ts-expect-error getAttribute does exist\r\n    if (e.currentTarget && e.currentTarget.getAttribute) {\r\n        // @ts-expect-error getAttribute exists\r\n        const target = e.currentTarget.getAttribute('target');\r\n        if (/\\b_blank\\b/i.test(target))\r\n            return;\r\n    }\r\n    // this may be a Weex event which doesn't have this method\r\n    if (e.preventDefault)\r\n        e.preventDefault();\r\n    return true;\r\n}\r\nfunction includesParams(outer, inner) {\r\n    for (const key in inner) {\r\n        const innerValue = inner[key];\r\n        const outerValue = outer[key];\r\n        if (typeof innerValue === 'string') {\r\n            if (innerValue !== outerValue)\r\n                return false;\r\n        }\r\n        else {\r\n            if (!Array.isArray(outerValue) ||\r\n                outerValue.length !== innerValue.length ||\r\n                innerValue.some((value, i) => value !== outerValue[i]))\r\n                return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n/**\r\n * Get the original path value of a record by following its aliasOf\r\n * @param record\r\n */\r\nfunction getOriginalPath(record) {\r\n    return record ? (record.aliasOf ? record.aliasOf.path : record.path) : '';\r\n}\r\n/**\r\n * Utility class to get the active class based on defaults.\r\n * @param propClass\r\n * @param globalClass\r\n * @param defaultClass\r\n */\r\nconst getLinkClass = (propClass, globalClass, defaultClass) => propClass != null\r\n    ? propClass\r\n    : globalClass != null\r\n        ? globalClass\r\n        : defaultClass;\n\nconst RouterViewImpl = /*#__PURE__*/ defineComponent({\r\n    name: 'RouterView',\r\n    // #674 we manually inherit them\r\n    inheritAttrs: false,\r\n    props: {\r\n        name: {\r\n            type: String,\r\n            default: 'default',\r\n        },\r\n        route: Object,\r\n    },\r\n    setup(props, { attrs, slots }) {\r\n        (process.env.NODE_ENV !== 'production') && warnDeprecatedUsage();\r\n        const injectedRoute = inject(routerViewLocationKey);\r\n        const routeToDisplay = computed(() => props.route || injectedRoute.value);\r\n        const depth = inject(viewDepthKey, 0);\r\n        const matchedRouteRef = computed(() => routeToDisplay.value.matched[depth]);\r\n        provide(viewDepthKey, depth + 1);\r\n        provide(matchedRouteKey, matchedRouteRef);\r\n        provide(routerViewLocationKey, routeToDisplay);\r\n        const viewRef = ref();\r\n        // watch at the same time the component instance, the route record we are\r\n        // rendering, and the name\r\n        watch(() => [viewRef.value, matchedRouteRef.value, props.name], ([instance, to, name], [oldInstance, from, oldName]) => {\r\n            // copy reused instances\r\n            if (to) {\r\n                // this will update the instance for new instances as well as reused\r\n                // instances when navigating to a new route\r\n                to.instances[name] = instance;\r\n                // the component instance is reused for a different route or name so\r\n                // we copy any saved update or leave guards. With async setup, the\r\n                // mounting component will mount before the matchedRoute changes,\r\n                // making instance === oldInstance, so we check if guards have been\r\n                // added before. This works because we remove guards when\r\n                // unmounting/deactivating components\r\n                if (from && from !== to && instance && instance === oldInstance) {\r\n                    if (!to.leaveGuards.size) {\r\n                        to.leaveGuards = from.leaveGuards;\r\n                    }\r\n                    if (!to.updateGuards.size) {\r\n                        to.updateGuards = from.updateGuards;\r\n                    }\r\n                }\r\n            }\r\n            // trigger beforeRouteEnter next callbacks\r\n            if (instance &&\r\n                to &&\r\n                // if there is no instance but to and from are the same this might be\r\n                // the first visit\r\n                (!from || !isSameRouteRecord(to, from) || !oldInstance)) {\r\n                (to.enterCallbacks[name] || []).forEach(callback => callback(instance));\r\n            }\r\n        }, { flush: 'post' });\r\n        return () => {\r\n            const route = routeToDisplay.value;\r\n            const matchedRoute = matchedRouteRef.value;\r\n            const ViewComponent = matchedRoute && matchedRoute.components[props.name];\r\n            // we need the value at the time we render because when we unmount, we\r\n            // navigated to a different location so the value is different\r\n            const currentName = props.name;\r\n            if (!ViewComponent) {\r\n                return normalizeSlot(slots.default, { Component: ViewComponent, route });\r\n            }\r\n            // props from route configuration\r\n            const routePropsOption = matchedRoute.props[props.name];\r\n            const routeProps = routePropsOption\r\n                ? routePropsOption === true\r\n                    ? route.params\r\n                    : typeof routePropsOption === 'function'\r\n                        ? routePropsOption(route)\r\n                        : routePropsOption\r\n                : null;\r\n            const onVnodeUnmounted = vnode => {\r\n                // remove the instance reference to prevent leak\r\n                if (vnode.component.isUnmounted) {\r\n                    matchedRoute.instances[currentName] = null;\r\n                }\r\n            };\r\n            const component = h(ViewComponent, assign({}, routeProps, attrs, {\r\n                onVnodeUnmounted,\r\n                ref: viewRef,\r\n            }));\r\n            if (((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) &&\r\n                isBrowser &&\r\n                component.ref) {\r\n                // TODO: can display if it's an alias, its props\r\n                const info = {\r\n                    depth,\r\n                    name: matchedRoute.name,\r\n                    path: matchedRoute.path,\r\n                    meta: matchedRoute.meta,\r\n                };\r\n                const internalInstances = Array.isArray(component.ref)\r\n                    ? component.ref.map(r => r.i)\r\n                    : [component.ref.i];\r\n                internalInstances.forEach(instance => {\r\n                    // @ts-expect-error\r\n                    instance.__vrv_devtools = info;\r\n                });\r\n            }\r\n            return (\r\n            // pass the vnode to the slot as a prop.\r\n            // h and <component :is=\"...\"> both accept vnodes\r\n            normalizeSlot(slots.default, { Component: component, route }) ||\r\n                component);\r\n        };\r\n    },\r\n});\r\nfunction normalizeSlot(slot, data) {\r\n    if (!slot)\r\n        return null;\r\n    const slotContent = slot(data);\r\n    return slotContent.length === 1 ? slotContent[0] : slotContent;\r\n}\r\n// export the public type for h/tsx inference\r\n// also to avoid inline import() in generated d.ts files\r\n/**\r\n * Component to display the current route the user is at.\r\n */\r\nconst RouterView = RouterViewImpl;\r\n// warn against deprecated usage with <transition> & <keep-alive>\r\n// due to functional component being no longer eager in Vue 3\r\nfunction warnDeprecatedUsage() {\r\n    const instance = getCurrentInstance();\r\n    const parentName = instance.parent && instance.parent.type.name;\r\n    if (parentName &&\r\n        (parentName === 'KeepAlive' || parentName.includes('Transition'))) {\r\n        const comp = parentName === 'KeepAlive' ? 'keep-alive' : 'transition';\r\n        warn(`<router-view> can no longer be used directly inside <transition> or <keep-alive>.\\n` +\r\n            `Use slot props instead:\\n\\n` +\r\n            `<router-view v-slot=\"{ Component }\">\\n` +\r\n            `  <${comp}>\\n` +\r\n            `    <component :is=\"Component\" />\\n` +\r\n            `  </${comp}>\\n` +\r\n            `</router-view>`);\r\n    }\r\n}\n\nfunction formatRouteLocation(routeLocation, tooltip) {\r\n    const copy = assign({}, routeLocation, {\r\n        // remove variables that can contain vue instances\r\n        matched: routeLocation.matched.map(matched => omit(matched, ['instances', 'children', 'aliasOf'])),\r\n    });\r\n    return {\r\n        _custom: {\r\n            type: null,\r\n            readOnly: true,\r\n            display: routeLocation.fullPath,\r\n            tooltip,\r\n            value: copy,\r\n        },\r\n    };\r\n}\r\nfunction formatDisplay(display) {\r\n    return {\r\n        _custom: {\r\n            display,\r\n        },\r\n    };\r\n}\r\n// to support multiple router instances\r\nlet routerId = 0;\r\nfunction addDevtools(app, router, matcher) {\r\n    // Take over router.beforeEach and afterEach\r\n    // make sure we are not registering the devtool twice\r\n    if (router.__hasDevtools)\r\n        return;\r\n    router.__hasDevtools = true;\r\n    // increment to support multiple router instances\r\n    const id = routerId++;\r\n    setupDevtoolsPlugin({\r\n        id: 'org.vuejs.router' + (id ? '.' + id : ''),\r\n        label: 'Vue Router',\r\n        packageName: 'vue-router',\r\n        homepage: 'https://router.vuejs.org',\r\n        logo: 'https://router.vuejs.org/logo.png',\r\n        componentStateTypes: ['Routing'],\r\n        app,\r\n    }, api => {\r\n        // display state added by the router\r\n        api.on.inspectComponent((payload, ctx) => {\r\n            if (payload.instanceData) {\r\n                payload.instanceData.state.push({\r\n                    type: 'Routing',\r\n                    key: '$route',\r\n                    editable: false,\r\n                    value: formatRouteLocation(router.currentRoute.value, 'Current Route'),\r\n                });\r\n            }\r\n        });\r\n        // mark router-link as active and display tags on router views\r\n        api.on.visitComponentTree(({ treeNode: node, componentInstance }) => {\r\n            if (componentInstance.__vrv_devtools) {\r\n                const info = componentInstance.__vrv_devtools;\r\n                node.tags.push({\r\n                    label: (info.name ? `${info.name.toString()}: ` : '') + info.path,\r\n                    textColor: 0,\r\n                    tooltip: 'This component is rendered by &lt;router-view&gt;',\r\n                    backgroundColor: PINK_500,\r\n                });\r\n            }\r\n            // if multiple useLink are used\r\n            if (Array.isArray(componentInstance.__vrl_devtools)) {\r\n                componentInstance.__devtoolsApi = api;\r\n                componentInstance.__vrl_devtools.forEach(devtoolsData => {\r\n                    let backgroundColor = ORANGE_400;\r\n                    let tooltip = '';\r\n                    if (devtoolsData.isExactActive) {\r\n                        backgroundColor = LIME_500;\r\n                        tooltip = 'This is exactly active';\r\n                    }\r\n                    else if (devtoolsData.isActive) {\r\n                        backgroundColor = BLUE_600;\r\n                        tooltip = 'This link is active';\r\n                    }\r\n                    node.tags.push({\r\n                        label: devtoolsData.route.path,\r\n                        textColor: 0,\r\n                        tooltip,\r\n                        backgroundColor,\r\n                    });\r\n                });\r\n            }\r\n        });\r\n        watch(router.currentRoute, () => {\r\n            // refresh active state\r\n            refreshRoutesView();\r\n            api.notifyComponentUpdate();\r\n            api.sendInspectorTree(routerInspectorId);\r\n            api.sendInspectorState(routerInspectorId);\r\n        });\r\n        const navigationsLayerId = 'router:navigations:' + id;\r\n        api.addTimelineLayer({\r\n            id: navigationsLayerId,\r\n            label: `Router${id ? ' ' + id : ''} Navigations`,\r\n            color: 0x40a8c4,\r\n        });\r\n        // const errorsLayerId = 'router:errors'\r\n        // api.addTimelineLayer({\r\n        //   id: errorsLayerId,\r\n        //   label: 'Router Errors',\r\n        //   color: 0xea5455,\r\n        // })\r\n        router.onError((error, to) => {\r\n            api.addTimelineEvent({\r\n                layerId: navigationsLayerId,\r\n                event: {\r\n                    title: 'Error during Navigation',\r\n                    subtitle: to.fullPath,\r\n                    logType: 'error',\r\n                    time: api.now(),\r\n                    data: { error },\r\n                    groupId: to.meta.__navigationId,\r\n                },\r\n            });\r\n        });\r\n        // attached to `meta` and used to group events\r\n        let navigationId = 0;\r\n        router.beforeEach((to, from) => {\r\n            const data = {\r\n                guard: formatDisplay('beforeEach'),\r\n                from: formatRouteLocation(from, 'Current Location during this navigation'),\r\n                to: formatRouteLocation(to, 'Target location'),\r\n            };\r\n            // Used to group navigations together, hide from devtools\r\n            Object.defineProperty(to.meta, '__navigationId', {\r\n                value: navigationId++,\r\n            });\r\n            api.addTimelineEvent({\r\n                layerId: navigationsLayerId,\r\n                event: {\r\n                    time: api.now(),\r\n                    title: 'Start of navigation',\r\n                    subtitle: to.fullPath,\r\n                    data,\r\n                    groupId: to.meta.__navigationId,\r\n                },\r\n            });\r\n        });\r\n        router.afterEach((to, from, failure) => {\r\n            const data = {\r\n                guard: formatDisplay('afterEach'),\r\n            };\r\n            if (failure) {\r\n                data.failure = {\r\n                    _custom: {\r\n                        type: Error,\r\n                        readOnly: true,\r\n                        display: failure ? failure.message : '',\r\n                        tooltip: 'Navigation Failure',\r\n                        value: failure,\r\n                    },\r\n                };\r\n                data.status = formatDisplay('');\r\n            }\r\n            else {\r\n                data.status = formatDisplay('');\r\n            }\r\n            // we set here to have the right order\r\n            data.from = formatRouteLocation(from, 'Current Location during this navigation');\r\n            data.to = formatRouteLocation(to, 'Target location');\r\n            api.addTimelineEvent({\r\n                layerId: navigationsLayerId,\r\n                event: {\r\n                    title: 'End of navigation',\r\n                    subtitle: to.fullPath,\r\n                    time: api.now(),\r\n                    data,\r\n                    logType: failure ? 'warning' : 'default',\r\n                    groupId: to.meta.__navigationId,\r\n                },\r\n            });\r\n        });\r\n        /**\r\n         * Inspector of Existing routes\r\n         */\r\n        const routerInspectorId = 'router-inspector:' + id;\r\n        api.addInspector({\r\n            id: routerInspectorId,\r\n            label: 'Routes' + (id ? ' ' + id : ''),\r\n            icon: 'book',\r\n            treeFilterPlaceholder: 'Search routes',\r\n        });\r\n        function refreshRoutesView() {\r\n            // the routes view isn't active\r\n            if (!activeRoutesPayload)\r\n                return;\r\n            const payload = activeRoutesPayload;\r\n            // children routes will appear as nested\r\n            let routes = matcher.getRoutes().filter(route => !route.parent);\r\n            // reset match state to false\r\n            routes.forEach(resetMatchStateOnRouteRecord);\r\n            // apply a match state if there is a payload\r\n            if (payload.filter) {\r\n                routes = routes.filter(route => \r\n                // save matches state based on the payload\r\n                isRouteMatching(route, payload.filter.toLowerCase()));\r\n            }\r\n            // mark active routes\r\n            routes.forEach(route => markRouteRecordActive(route, router.currentRoute.value));\r\n            payload.rootNodes = routes.map(formatRouteRecordForInspector);\r\n        }\r\n        let activeRoutesPayload;\r\n        api.on.getInspectorTree(payload => {\r\n            activeRoutesPayload = payload;\r\n            if (payload.app === app && payload.inspectorId === routerInspectorId) {\r\n                refreshRoutesView();\r\n            }\r\n        });\r\n        /**\r\n         * Display information about the currently selected route record\r\n         */\r\n        api.on.getInspectorState(payload => {\r\n            if (payload.app === app && payload.inspectorId === routerInspectorId) {\r\n                const routes = matcher.getRoutes();\r\n                const route = routes.find(route => route.record.__vd_id === payload.nodeId);\r\n                if (route) {\r\n                    payload.state = {\r\n                        options: formatRouteRecordMatcherForStateInspector(route),\r\n                    };\r\n                }\r\n            }\r\n        });\r\n        api.sendInspectorTree(routerInspectorId);\r\n        api.sendInspectorState(routerInspectorId);\r\n    });\r\n}\r\nfunction modifierForKey(key) {\r\n    if (key.optional) {\r\n        return key.repeatable ? '*' : '?';\r\n    }\r\n    else {\r\n        return key.repeatable ? '+' : '';\r\n    }\r\n}\r\nfunction formatRouteRecordMatcherForStateInspector(route) {\r\n    const { record } = route;\r\n    const fields = [\r\n        { editable: false, key: 'path', value: record.path },\r\n    ];\r\n    if (record.name != null) {\r\n        fields.push({\r\n            editable: false,\r\n            key: 'name',\r\n            value: record.name,\r\n        });\r\n    }\r\n    fields.push({ editable: false, key: 'regexp', value: route.re });\r\n    if (route.keys.length) {\r\n        fields.push({\r\n            editable: false,\r\n            key: 'keys',\r\n            value: {\r\n                _custom: {\r\n                    type: null,\r\n                    readOnly: true,\r\n                    display: route.keys\r\n                        .map(key => `${key.name}${modifierForKey(key)}`)\r\n                        .join(' '),\r\n                    tooltip: 'Param keys',\r\n                    value: route.keys,\r\n                },\r\n            },\r\n        });\r\n    }\r\n    if (record.redirect != null) {\r\n        fields.push({\r\n            editable: false,\r\n            key: 'redirect',\r\n            value: record.redirect,\r\n        });\r\n    }\r\n    if (route.alias.length) {\r\n        fields.push({\r\n            editable: false,\r\n            key: 'aliases',\r\n            value: route.alias.map(alias => alias.record.path),\r\n        });\r\n    }\r\n    fields.push({\r\n        key: 'score',\r\n        editable: false,\r\n        value: {\r\n            _custom: {\r\n                type: null,\r\n                readOnly: true,\r\n                display: route.score.map(score => score.join(', ')).join(' | '),\r\n                tooltip: 'Score used to sort routes',\r\n                value: route.score,\r\n            },\r\n        },\r\n    });\r\n    return fields;\r\n}\r\n/**\r\n * Extracted from tailwind palette\r\n */\r\nconst PINK_500 = 0xec4899;\r\nconst BLUE_600 = 0x2563eb;\r\nconst LIME_500 = 0x84cc16;\r\nconst CYAN_400 = 0x22d3ee;\r\nconst ORANGE_400 = 0xfb923c;\r\n// const GRAY_100 = 0xf4f4f5\r\nconst DARK = 0x666666;\r\nfunction formatRouteRecordForInspector(route) {\r\n    const tags = [];\r\n    const { record } = route;\r\n    if (record.name != null) {\r\n        tags.push({\r\n            label: String(record.name),\r\n            textColor: 0,\r\n            backgroundColor: CYAN_400,\r\n        });\r\n    }\r\n    if (record.aliasOf) {\r\n        tags.push({\r\n            label: 'alias',\r\n            textColor: 0,\r\n            backgroundColor: ORANGE_400,\r\n        });\r\n    }\r\n    if (route.__vd_match) {\r\n        tags.push({\r\n            label: 'matches',\r\n            textColor: 0,\r\n            backgroundColor: PINK_500,\r\n        });\r\n    }\r\n    if (route.__vd_exactActive) {\r\n        tags.push({\r\n            label: 'exact',\r\n            textColor: 0,\r\n            backgroundColor: LIME_500,\r\n        });\r\n    }\r\n    if (route.__vd_active) {\r\n        tags.push({\r\n            label: 'active',\r\n            textColor: 0,\r\n            backgroundColor: BLUE_600,\r\n        });\r\n    }\r\n    if (record.redirect) {\r\n        tags.push({\r\n            label: 'redirect: ' +\r\n                (typeof record.redirect === 'string' ? record.redirect : 'Object'),\r\n            textColor: 0xffffff,\r\n            backgroundColor: DARK,\r\n        });\r\n    }\r\n    // add an id to be able to select it. Using the `path` is not possible because\r\n    // empty path children would collide with their parents\r\n    let id = record.__vd_id;\r\n    if (id == null) {\r\n        id = String(routeRecordId++);\r\n        record.__vd_id = id;\r\n    }\r\n    return {\r\n        id,\r\n        label: record.path,\r\n        tags,\r\n        children: route.children.map(formatRouteRecordForInspector),\r\n    };\r\n}\r\n//  incremental id for route records and inspector state\r\nlet routeRecordId = 0;\r\nconst EXTRACT_REGEXP_RE = /^\\/(.*)\\/([a-z]*)$/;\r\nfunction markRouteRecordActive(route, currentRoute) {\r\n    // no route will be active if matched is empty\r\n    // reset the matching state\r\n    const isExactActive = currentRoute.matched.length &&\r\n        isSameRouteRecord(currentRoute.matched[currentRoute.matched.length - 1], route.record);\r\n    route.__vd_exactActive = route.__vd_active = isExactActive;\r\n    if (!isExactActive) {\r\n        route.__vd_active = currentRoute.matched.some(match => isSameRouteRecord(match, route.record));\r\n    }\r\n    route.children.forEach(childRoute => markRouteRecordActive(childRoute, currentRoute));\r\n}\r\nfunction resetMatchStateOnRouteRecord(route) {\r\n    route.__vd_match = false;\r\n    route.children.forEach(resetMatchStateOnRouteRecord);\r\n}\r\nfunction isRouteMatching(route, filter) {\r\n    const found = String(route.re).match(EXTRACT_REGEXP_RE);\r\n    route.__vd_match = false;\r\n    if (!found || found.length < 3) {\r\n        return false;\r\n    }\r\n    // use a regexp without $ at the end to match nested routes better\r\n    const nonEndingRE = new RegExp(found[1].replace(/\\$$/, ''), found[2]);\r\n    if (nonEndingRE.test(filter)) {\r\n        // mark children as matches\r\n        route.children.forEach(child => isRouteMatching(child, filter));\r\n        // exception case: `/`\r\n        if (route.record.path !== '/' || filter === '/') {\r\n            route.__vd_match = route.re.test(filter);\r\n            return true;\r\n        }\r\n        // hide the / route\r\n        return false;\r\n    }\r\n    const path = route.record.path.toLowerCase();\r\n    const decodedPath = decode(path);\r\n    // also allow partial matching on the path\r\n    if (!filter.startsWith('/') &&\r\n        (decodedPath.includes(filter) || path.includes(filter)))\r\n        return true;\r\n    if (decodedPath.startsWith(filter) || path.startsWith(filter))\r\n        return true;\r\n    if (route.record.name && String(route.record.name).includes(filter))\r\n        return true;\r\n    return route.children.some(child => isRouteMatching(child, filter));\r\n}\r\nfunction omit(obj, keys) {\r\n    const ret = {};\r\n    for (const key in obj) {\r\n        if (!keys.includes(key)) {\r\n            // @ts-expect-error\r\n            ret[key] = obj[key];\r\n        }\r\n    }\r\n    return ret;\r\n}\n\n/**\r\n * Creates a Router instance that can be used by a Vue app.\r\n *\r\n * @param options - {@link RouterOptions}\r\n */\r\nfunction createRouter(options) {\r\n    const matcher = createRouterMatcher(options.routes, options);\r\n    const parseQuery$1 = options.parseQuery || parseQuery;\r\n    const stringifyQuery$1 = options.stringifyQuery || stringifyQuery;\r\n    const routerHistory = options.history;\r\n    if ((process.env.NODE_ENV !== 'production') && !routerHistory)\r\n        throw new Error('Provide the \"history\" option when calling \"createRouter()\":' +\r\n            ' https://next.router.vuejs.org/api/#history.');\r\n    const beforeGuards = useCallbacks();\r\n    const beforeResolveGuards = useCallbacks();\r\n    const afterGuards = useCallbacks();\r\n    const currentRoute = shallowRef(START_LOCATION_NORMALIZED);\r\n    let pendingLocation = START_LOCATION_NORMALIZED;\r\n    // leave the scrollRestoration if no scrollBehavior is provided\r\n    if (isBrowser && options.scrollBehavior && 'scrollRestoration' in history) {\r\n        history.scrollRestoration = 'manual';\r\n    }\r\n    const normalizeParams = applyToParams.bind(null, paramValue => '' + paramValue);\r\n    const encodeParams = applyToParams.bind(null, encodeParam);\r\n    const decodeParams = \r\n    // @ts-expect-error: intentionally avoid the type check\r\n    applyToParams.bind(null, decode);\r\n    function addRoute(parentOrRoute, route) {\r\n        let parent;\r\n        let record;\r\n        if (isRouteName(parentOrRoute)) {\r\n            parent = matcher.getRecordMatcher(parentOrRoute);\r\n            record = route;\r\n        }\r\n        else {\r\n            record = parentOrRoute;\r\n        }\r\n        return matcher.addRoute(record, parent);\r\n    }\r\n    function removeRoute(name) {\r\n        const recordMatcher = matcher.getRecordMatcher(name);\r\n        if (recordMatcher) {\r\n            matcher.removeRoute(recordMatcher);\r\n        }\r\n        else if ((process.env.NODE_ENV !== 'production')) {\r\n            warn(`Cannot remove non-existent route \"${String(name)}\"`);\r\n        }\r\n    }\r\n    function getRoutes() {\r\n        return matcher.getRoutes().map(routeMatcher => routeMatcher.record);\r\n    }\r\n    function hasRoute(name) {\r\n        return !!matcher.getRecordMatcher(name);\r\n    }\r\n    function resolve(rawLocation, currentLocation) {\r\n        // const objectLocation = routerLocationAsObject(rawLocation)\r\n        // we create a copy to modify it later\r\n        currentLocation = assign({}, currentLocation || currentRoute.value);\r\n        if (typeof rawLocation === 'string') {\r\n            const locationNormalized = parseURL(parseQuery$1, rawLocation, currentLocation.path);\r\n            const matchedRoute = matcher.resolve({ path: locationNormalized.path }, currentLocation);\r\n            const href = routerHistory.createHref(locationNormalized.fullPath);\r\n            if ((process.env.NODE_ENV !== 'production')) {\r\n                if (href.startsWith('//'))\r\n                    warn(`Location \"${rawLocation}\" resolved to \"${href}\". A resolved location cannot start with multiple slashes.`);\r\n                else if (!matchedRoute.matched.length) {\r\n                    warn(`No match found for location with path \"${rawLocation}\"`);\r\n                }\r\n            }\r\n            // locationNormalized is always a new object\r\n            return assign(locationNormalized, matchedRoute, {\r\n                params: decodeParams(matchedRoute.params),\r\n                hash: decode(locationNormalized.hash),\r\n                redirectedFrom: undefined,\r\n                href,\r\n            });\r\n        }\r\n        let matcherLocation;\r\n        // path could be relative in object as well\r\n        if ('path' in rawLocation) {\r\n            if ((process.env.NODE_ENV !== 'production') &&\r\n                'params' in rawLocation &&\r\n                !('name' in rawLocation) &&\r\n                // @ts-expect-error: the type is never\r\n                Object.keys(rawLocation.params).length) {\r\n                warn(`Path \"${\r\n                // @ts-expect-error: the type is never\r\n                rawLocation.path}\" was passed with params but they will be ignored. Use a named route alongside params instead.`);\r\n            }\r\n            matcherLocation = assign({}, rawLocation, {\r\n                path: parseURL(parseQuery$1, rawLocation.path, currentLocation.path).path,\r\n            });\r\n        }\r\n        else {\r\n            // remove any nullish param\r\n            const targetParams = assign({}, rawLocation.params);\r\n            for (const key in targetParams) {\r\n                if (targetParams[key] == null) {\r\n                    delete targetParams[key];\r\n                }\r\n            }\r\n            // pass encoded values to the matcher so it can produce encoded path and fullPath\r\n            matcherLocation = assign({}, rawLocation, {\r\n                params: encodeParams(rawLocation.params),\r\n            });\r\n            // current location params are decoded, we need to encode them in case the\r\n            // matcher merges the params\r\n            currentLocation.params = encodeParams(currentLocation.params);\r\n        }\r\n        const matchedRoute = matcher.resolve(matcherLocation, currentLocation);\r\n        const hash = rawLocation.hash || '';\r\n        if ((process.env.NODE_ENV !== 'production') && hash && !hash.startsWith('#')) {\r\n            warn(`A \\`hash\\` should always start with the character \"#\". Replace \"${hash}\" with \"#${hash}\".`);\r\n        }\r\n        // decoding them) the matcher might have merged current location params so\r\n        // we need to run the decoding again\r\n        matchedRoute.params = normalizeParams(decodeParams(matchedRoute.params));\r\n        const fullPath = stringifyURL(stringifyQuery$1, assign({}, rawLocation, {\r\n            hash: encodeHash(hash),\r\n            path: matchedRoute.path,\r\n        }));\r\n        const href = routerHistory.createHref(fullPath);\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            if (href.startsWith('//')) {\r\n                warn(`Location \"${rawLocation}\" resolved to \"${href}\". A resolved location cannot start with multiple slashes.`);\r\n            }\r\n            else if (!matchedRoute.matched.length) {\r\n                warn(`No match found for location with path \"${'path' in rawLocation ? rawLocation.path : rawLocation}\"`);\r\n            }\r\n        }\r\n        return assign({\r\n            fullPath,\r\n            // keep the hash encoded so fullPath is effectively path + encodedQuery +\r\n            // hash\r\n            hash,\r\n            query: \r\n            // if the user is using a custom query lib like qs, we might have\r\n            // nested objects, so we keep the query as is, meaning it can contain\r\n            // numbers at `$route.query`, but at the point, the user will have to\r\n            // use their own type anyway.\r\n            // https://github.com/vuejs/router/issues/328#issuecomment-649481567\r\n            stringifyQuery$1 === stringifyQuery\r\n                ? normalizeQuery(rawLocation.query)\r\n                : (rawLocation.query || {}),\r\n        }, matchedRoute, {\r\n            redirectedFrom: undefined,\r\n            href,\r\n        });\r\n    }\r\n    function locationAsObject(to) {\r\n        return typeof to === 'string'\r\n            ? parseURL(parseQuery$1, to, currentRoute.value.path)\r\n            : assign({}, to);\r\n    }\r\n    function checkCanceledNavigation(to, from) {\r\n        if (pendingLocation !== to) {\r\n            return createRouterError(8 /* NAVIGATION_CANCELLED */, {\r\n                from,\r\n                to,\r\n            });\r\n        }\r\n    }\r\n    function push(to) {\r\n        return pushWithRedirect(to);\r\n    }\r\n    function replace(to) {\r\n        return push(assign(locationAsObject(to), { replace: true }));\r\n    }\r\n    function handleRedirectRecord(to) {\r\n        const lastMatched = to.matched[to.matched.length - 1];\r\n        if (lastMatched && lastMatched.redirect) {\r\n            const { redirect } = lastMatched;\r\n            let newTargetLocation = typeof redirect === 'function' ? redirect(to) : redirect;\r\n            if (typeof newTargetLocation === 'string') {\r\n                newTargetLocation =\r\n                    newTargetLocation.includes('?') || newTargetLocation.includes('#')\r\n                        ? (newTargetLocation = locationAsObject(newTargetLocation))\r\n                        : // force empty params\r\n                            { path: newTargetLocation };\r\n                // @ts-expect-error: force empty params when a string is passed to let\r\n                // the router parse them again\r\n                newTargetLocation.params = {};\r\n            }\r\n            if ((process.env.NODE_ENV !== 'production') &&\r\n                !('path' in newTargetLocation) &&\r\n                !('name' in newTargetLocation)) {\r\n                warn(`Invalid redirect found:\\n${JSON.stringify(newTargetLocation, null, 2)}\\n when navigating to \"${to.fullPath}\". A redirect must contain a name or path. This will break in production.`);\r\n                throw new Error('Invalid redirect');\r\n            }\r\n            return assign({\r\n                query: to.query,\r\n                hash: to.hash,\r\n                params: to.params,\r\n            }, newTargetLocation);\r\n        }\r\n    }\r\n    function pushWithRedirect(to, redirectedFrom) {\r\n        const targetLocation = (pendingLocation = resolve(to));\r\n        const from = currentRoute.value;\r\n        const data = to.state;\r\n        const force = to.force;\r\n        // to could be a string where `replace` is a function\r\n        const replace = to.replace === true;\r\n        const shouldRedirect = handleRedirectRecord(targetLocation);\r\n        if (shouldRedirect)\r\n            return pushWithRedirect(assign(locationAsObject(shouldRedirect), {\r\n                state: data,\r\n                force,\r\n                replace,\r\n            }), \r\n            // keep original redirectedFrom if it exists\r\n            redirectedFrom || targetLocation);\r\n        // if it was a redirect we already called `pushWithRedirect` above\r\n        const toLocation = targetLocation;\r\n        toLocation.redirectedFrom = redirectedFrom;\r\n        let failure;\r\n        if (!force && isSameRouteLocation(stringifyQuery$1, from, targetLocation)) {\r\n            failure = createRouterError(16 /* NAVIGATION_DUPLICATED */, { to: toLocation, from });\r\n            // trigger scroll to allow scrolling to the same anchor\r\n            handleScroll(from, from, \r\n            // this is a push, the only way for it to be triggered from a\r\n            // history.listen is with a redirect, which makes it become a push\r\n            true, \r\n            // This cannot be the first navigation because the initial location\r\n            // cannot be manually navigated to\r\n            false);\r\n        }\r\n        return (failure ? Promise.resolve(failure) : navigate(toLocation, from))\r\n            .catch((error) => isNavigationFailure(error)\r\n            ? // navigation redirects still mark the router as ready\r\n                isNavigationFailure(error, 2 /* NAVIGATION_GUARD_REDIRECT */)\r\n                    ? error\r\n                    : markAsReady(error) // also returns the error\r\n            : // reject any unknown error\r\n                triggerError(error, toLocation, from))\r\n            .then((failure) => {\r\n            if (failure) {\r\n                if (isNavigationFailure(failure, 2 /* NAVIGATION_GUARD_REDIRECT */)) {\r\n                    if ((process.env.NODE_ENV !== 'production') &&\r\n                        // we are redirecting to the same location we were already at\r\n                        isSameRouteLocation(stringifyQuery$1, resolve(failure.to), toLocation) &&\r\n                        // and we have done it a couple of times\r\n                        redirectedFrom &&\r\n                        // @ts-expect-error: added only in dev\r\n                        (redirectedFrom._count = redirectedFrom._count\r\n                            ? // @ts-expect-error\r\n                                redirectedFrom._count + 1\r\n                            : 1) > 10) {\r\n                        warn(`Detected an infinite redirection in a navigation guard when going from \"${from.fullPath}\" to \"${toLocation.fullPath}\". Aborting to avoid a Stack Overflow. This will break in production if not fixed.`);\r\n                        return Promise.reject(new Error('Infinite redirect in navigation guard'));\r\n                    }\r\n                    return pushWithRedirect(\r\n                    // keep options\r\n                    assign(locationAsObject(failure.to), {\r\n                        state: data,\r\n                        force,\r\n                        replace,\r\n                    }), \r\n                    // preserve the original redirectedFrom if any\r\n                    redirectedFrom || toLocation);\r\n                }\r\n            }\r\n            else {\r\n                // if we fail we don't finalize the navigation\r\n                failure = finalizeNavigation(toLocation, from, true, replace, data);\r\n            }\r\n            triggerAfterEach(toLocation, from, failure);\r\n            return failure;\r\n        });\r\n    }\r\n    /**\r\n     * Helper to reject and skip all navigation guards if a new navigation happened\r\n     * @param to\r\n     * @param from\r\n     */\r\n    function checkCanceledNavigationAndReject(to, from) {\r\n        const error = checkCanceledNavigation(to, from);\r\n        return error ? Promise.reject(error) : Promise.resolve();\r\n    }\r\n    // TODO: refactor the whole before guards by internally using router.beforeEach\r\n    function navigate(to, from) {\r\n        let guards;\r\n        const [leavingRecords, updatingRecords, enteringRecords] = extractChangingRecords(to, from);\r\n        // all components here have been resolved once because we are leaving\r\n        guards = extractComponentsGuards(leavingRecords.reverse(), 'beforeRouteLeave', to, from);\r\n        // leavingRecords is already reversed\r\n        for (const record of leavingRecords) {\r\n            record.leaveGuards.forEach(guard => {\r\n                guards.push(guardToPromiseFn(guard, to, from));\r\n            });\r\n        }\r\n        const canceledNavigationCheck = checkCanceledNavigationAndReject.bind(null, to, from);\r\n        guards.push(canceledNavigationCheck);\r\n        // run the queue of per route beforeRouteLeave guards\r\n        return (runGuardQueue(guards)\r\n            .then(() => {\r\n            // check global guards beforeEach\r\n            guards = [];\r\n            for (const guard of beforeGuards.list()) {\r\n                guards.push(guardToPromiseFn(guard, to, from));\r\n            }\r\n            guards.push(canceledNavigationCheck);\r\n            return runGuardQueue(guards);\r\n        })\r\n            .then(() => {\r\n            // check in components beforeRouteUpdate\r\n            guards = extractComponentsGuards(updatingRecords, 'beforeRouteUpdate', to, from);\r\n            for (const record of updatingRecords) {\r\n                record.updateGuards.forEach(guard => {\r\n                    guards.push(guardToPromiseFn(guard, to, from));\r\n                });\r\n            }\r\n            guards.push(canceledNavigationCheck);\r\n            // run the queue of per route beforeEnter guards\r\n            return runGuardQueue(guards);\r\n        })\r\n            .then(() => {\r\n            // check the route beforeEnter\r\n            guards = [];\r\n            for (const record of to.matched) {\r\n                // do not trigger beforeEnter on reused views\r\n                if (record.beforeEnter && !from.matched.includes(record)) {\r\n                    if (Array.isArray(record.beforeEnter)) {\r\n                        for (const beforeEnter of record.beforeEnter)\r\n                            guards.push(guardToPromiseFn(beforeEnter, to, from));\r\n                    }\r\n                    else {\r\n                        guards.push(guardToPromiseFn(record.beforeEnter, to, from));\r\n                    }\r\n                }\r\n            }\r\n            guards.push(canceledNavigationCheck);\r\n            // run the queue of per route beforeEnter guards\r\n            return runGuardQueue(guards);\r\n        })\r\n            .then(() => {\r\n            // NOTE: at this point to.matched is normalized and does not contain any () => Promise<Component>\r\n            // clear existing enterCallbacks, these are added by extractComponentsGuards\r\n            to.matched.forEach(record => (record.enterCallbacks = {}));\r\n            // check in-component beforeRouteEnter\r\n            guards = extractComponentsGuards(enteringRecords, 'beforeRouteEnter', to, from);\r\n            guards.push(canceledNavigationCheck);\r\n            // run the queue of per route beforeEnter guards\r\n            return runGuardQueue(guards);\r\n        })\r\n            .then(() => {\r\n            // check global guards beforeResolve\r\n            guards = [];\r\n            for (const guard of beforeResolveGuards.list()) {\r\n                guards.push(guardToPromiseFn(guard, to, from));\r\n            }\r\n            guards.push(canceledNavigationCheck);\r\n            return runGuardQueue(guards);\r\n        })\r\n            // catch any navigation canceled\r\n            .catch(err => isNavigationFailure(err, 8 /* NAVIGATION_CANCELLED */)\r\n            ? err\r\n            : Promise.reject(err)));\r\n    }\r\n    function triggerAfterEach(to, from, failure) {\r\n        // navigation is confirmed, call afterGuards\r\n        // TODO: wrap with error handlers\r\n        for (const guard of afterGuards.list())\r\n            guard(to, from, failure);\r\n    }\r\n    /**\r\n     * - Cleans up any navigation guards\r\n     * - Changes the url if necessary\r\n     * - Calls the scrollBehavior\r\n     */\r\n    function finalizeNavigation(toLocation, from, isPush, replace, data) {\r\n        // a more recent navigation took place\r\n        const error = checkCanceledNavigation(toLocation, from);\r\n        if (error)\r\n            return error;\r\n        // only consider as push if it's not the first navigation\r\n        const isFirstNavigation = from === START_LOCATION_NORMALIZED;\r\n        const state = !isBrowser ? {} : history.state;\r\n        // change URL only if the user did a push/replace and if it's not the initial navigation because\r\n        // it's just reflecting the url\r\n        if (isPush) {\r\n            // on the initial navigation, we want to reuse the scroll position from\r\n            // history state if it exists\r\n            if (replace || isFirstNavigation)\r\n                routerHistory.replace(toLocation.fullPath, assign({\r\n                    scroll: isFirstNavigation && state && state.scroll,\r\n                }, data));\r\n            else\r\n                routerHistory.push(toLocation.fullPath, data);\r\n        }\r\n        // accept current navigation\r\n        currentRoute.value = toLocation;\r\n        handleScroll(toLocation, from, isPush, isFirstNavigation);\r\n        markAsReady();\r\n    }\r\n    let removeHistoryListener;\r\n    // attach listener to history to trigger navigations\r\n    function setupListeners() {\r\n        removeHistoryListener = routerHistory.listen((to, _from, info) => {\r\n            // cannot be a redirect route because it was in history\r\n            const toLocation = resolve(to);\r\n            // due to dynamic routing, and to hash history with manual navigation\r\n            // (manually changing the url or calling history.hash = '#/somewhere'),\r\n            // there could be a redirect record in history\r\n            const shouldRedirect = handleRedirectRecord(toLocation);\r\n            if (shouldRedirect) {\r\n                pushWithRedirect(assign(shouldRedirect, { replace: true }), toLocation).catch(noop);\r\n                return;\r\n            }\r\n            pendingLocation = toLocation;\r\n            const from = currentRoute.value;\r\n            // TODO: should be moved to web history?\r\n            if (isBrowser) {\r\n                saveScrollPosition(getScrollKey(from.fullPath, info.delta), computeScrollPosition());\r\n            }\r\n            navigate(toLocation, from)\r\n                .catch((error) => {\r\n                if (isNavigationFailure(error, 4 /* NAVIGATION_ABORTED */ | 8 /* NAVIGATION_CANCELLED */)) {\r\n                    return error;\r\n                }\r\n                if (isNavigationFailure(error, 2 /* NAVIGATION_GUARD_REDIRECT */)) {\r\n                    // Here we could call if (info.delta) routerHistory.go(-info.delta,\r\n                    // false) but this is bug prone as we have no way to wait the\r\n                    // navigation to be finished before calling pushWithRedirect. Using\r\n                    // a setTimeout of 16ms seems to work but there is not guarantee for\r\n                    // it to work on every browser. So Instead we do not restore the\r\n                    // history entry and trigger a new navigation as requested by the\r\n                    // navigation guard.\r\n                    // the error is already handled by router.push we just want to avoid\r\n                    // logging the error\r\n                    pushWithRedirect(error.to, toLocation\r\n                    // avoid an uncaught rejection, let push call triggerError\r\n                    )\r\n                        .then(failure => {\r\n                        // manual change in hash history #916 ending up in the URL not\r\n                        // changing but it was changed by the manual url change, so we\r\n                        // need to manually change it ourselves\r\n                        if (isNavigationFailure(failure, 4 /* NAVIGATION_ABORTED */ |\r\n                            16 /* NAVIGATION_DUPLICATED */) &&\r\n                            !info.delta &&\r\n                            info.type === NavigationType.pop) {\r\n                            routerHistory.go(-1, false);\r\n                        }\r\n                    })\r\n                        .catch(noop);\r\n                    // avoid the then branch\r\n                    return Promise.reject();\r\n                }\r\n                // do not restore history on unknown direction\r\n                if (info.delta)\r\n                    routerHistory.go(-info.delta, false);\r\n                // unrecognized error, transfer to the global handler\r\n                return triggerError(error, toLocation, from);\r\n            })\r\n                .then((failure) => {\r\n                failure =\r\n                    failure ||\r\n                        finalizeNavigation(\r\n                        // after navigation, all matched components are resolved\r\n                        toLocation, from, false);\r\n                // revert the navigation\r\n                if (failure) {\r\n                    if (info.delta) {\r\n                        routerHistory.go(-info.delta, false);\r\n                    }\r\n                    else if (info.type === NavigationType.pop &&\r\n                        isNavigationFailure(failure, 4 /* NAVIGATION_ABORTED */ | 16 /* NAVIGATION_DUPLICATED */)) {\r\n                        // manual change in hash history #916\r\n                        // it's like a push but lacks the information of the direction\r\n                        routerHistory.go(-1, false);\r\n                    }\r\n                }\r\n                triggerAfterEach(toLocation, from, failure);\r\n            })\r\n                .catch(noop);\r\n        });\r\n    }\r\n    // Initialization and Errors\r\n    let readyHandlers = useCallbacks();\r\n    let errorHandlers = useCallbacks();\r\n    let ready;\r\n    /**\r\n     * Trigger errorHandlers added via onError and throws the error as well\r\n     *\r\n     * @param error - error to throw\r\n     * @param to - location we were navigating to when the error happened\r\n     * @param from - location we were navigating from when the error happened\r\n     * @returns the error as a rejected promise\r\n     */\r\n    function triggerError(error, to, from) {\r\n        markAsReady(error);\r\n        const list = errorHandlers.list();\r\n        if (list.length) {\r\n            list.forEach(handler => handler(error, to, from));\r\n        }\r\n        else {\r\n            if ((process.env.NODE_ENV !== 'production')) {\r\n                warn('uncaught error during route navigation:');\r\n            }\r\n            console.error(error);\r\n        }\r\n        return Promise.reject(error);\r\n    }\r\n    function isReady() {\r\n        if (ready && currentRoute.value !== START_LOCATION_NORMALIZED)\r\n            return Promise.resolve();\r\n        return new Promise((resolve, reject) => {\r\n            readyHandlers.add([resolve, reject]);\r\n        });\r\n    }\r\n    function markAsReady(err) {\r\n        if (!ready) {\r\n            // still not ready if an error happened\r\n            ready = !err;\r\n            setupListeners();\r\n            readyHandlers\r\n                .list()\r\n                .forEach(([resolve, reject]) => (err ? reject(err) : resolve()));\r\n            readyHandlers.reset();\r\n        }\r\n        return err;\r\n    }\r\n    // Scroll behavior\r\n    function handleScroll(to, from, isPush, isFirstNavigation) {\r\n        const { scrollBehavior } = options;\r\n        if (!isBrowser || !scrollBehavior)\r\n            return Promise.resolve();\r\n        const scrollPosition = (!isPush && getSavedScrollPosition(getScrollKey(to.fullPath, 0))) ||\r\n            ((isFirstNavigation || !isPush) &&\r\n                history.state &&\r\n                history.state.scroll) ||\r\n            null;\r\n        return nextTick()\r\n            .then(() => scrollBehavior(to, from, scrollPosition))\r\n            .then(position => position && scrollToPosition(position))\r\n            .catch(err => triggerError(err, to, from));\r\n    }\r\n    const go = (delta) => routerHistory.go(delta);\r\n    let started;\r\n    const installedApps = new Set();\r\n    const router = {\r\n        currentRoute,\r\n        addRoute,\r\n        removeRoute,\r\n        hasRoute,\r\n        getRoutes,\r\n        resolve,\r\n        options,\r\n        push,\r\n        replace,\r\n        go,\r\n        back: () => go(-1),\r\n        forward: () => go(1),\r\n        beforeEach: beforeGuards.add,\r\n        beforeResolve: beforeResolveGuards.add,\r\n        afterEach: afterGuards.add,\r\n        onError: errorHandlers.add,\r\n        isReady,\r\n        install(app) {\r\n            const router = this;\r\n            app.component('RouterLink', RouterLink);\r\n            app.component('RouterView', RouterView);\r\n            app.config.globalProperties.$router = router;\r\n            Object.defineProperty(app.config.globalProperties, '$route', {\r\n                enumerable: true,\r\n                get: () => unref(currentRoute),\r\n            });\r\n            // this initial navigation is only necessary on client, on server it doesn't\r\n            // make sense because it will create an extra unnecessary navigation and could\r\n            // lead to problems\r\n            if (isBrowser &&\r\n                // used for the initial navigation client side to avoid pushing\r\n                // multiple times when the router is used in multiple apps\r\n                !started &&\r\n                currentRoute.value === START_LOCATION_NORMALIZED) {\r\n                // see above\r\n                started = true;\r\n                push(routerHistory.location).catch(err => {\r\n                    if ((process.env.NODE_ENV !== 'production'))\r\n                        warn('Unexpected error when starting the router:', err);\r\n                });\r\n            }\r\n            const reactiveRoute = {};\r\n            for (const key in START_LOCATION_NORMALIZED) {\r\n                // @ts-expect-error: the key matches\r\n                reactiveRoute[key] = computed(() => currentRoute.value[key]);\r\n            }\r\n            app.provide(routerKey, router);\r\n            app.provide(routeLocationKey, reactive(reactiveRoute));\r\n            app.provide(routerViewLocationKey, currentRoute);\r\n            const unmountApp = app.unmount;\r\n            installedApps.add(app);\r\n            app.unmount = function () {\r\n                installedApps.delete(app);\r\n                // the router is not attached to an app anymore\r\n                if (installedApps.size < 1) {\r\n                    // invalidate the current navigation\r\n                    pendingLocation = START_LOCATION_NORMALIZED;\r\n                    removeHistoryListener && removeHistoryListener();\r\n                    currentRoute.value = START_LOCATION_NORMALIZED;\r\n                    started = false;\r\n                    ready = false;\r\n                }\r\n                unmountApp();\r\n            };\r\n            if (((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) && isBrowser) {\r\n                addDevtools(app, router, matcher);\r\n            }\r\n        },\r\n    };\r\n    return router;\r\n}\r\nfunction runGuardQueue(guards) {\r\n    return guards.reduce((promise, guard) => promise.then(() => guard()), Promise.resolve());\r\n}\r\nfunction extractChangingRecords(to, from) {\r\n    const leavingRecords = [];\r\n    const updatingRecords = [];\r\n    const enteringRecords = [];\r\n    const len = Math.max(from.matched.length, to.matched.length);\r\n    for (let i = 0; i < len; i++) {\r\n        const recordFrom = from.matched[i];\r\n        if (recordFrom) {\r\n            if (to.matched.find(record => isSameRouteRecord(record, recordFrom)))\r\n                updatingRecords.push(recordFrom);\r\n            else\r\n                leavingRecords.push(recordFrom);\r\n        }\r\n        const recordTo = to.matched[i];\r\n        if (recordTo) {\r\n            // the type doesn't matter because we are comparing per reference\r\n            if (!from.matched.find(record => isSameRouteRecord(record, recordTo))) {\r\n                enteringRecords.push(recordTo);\r\n            }\r\n        }\r\n    }\r\n    return [leavingRecords, updatingRecords, enteringRecords];\r\n}\n\n/**\r\n * Returns the router instance. Equivalent to using `$router` inside\r\n * templates.\r\n */\r\nfunction useRouter() {\r\n    return inject(routerKey);\r\n}\r\n/**\r\n * Returns the current route location. Equivalent to using `$route` inside\r\n * templates.\r\n */\r\nfunction useRoute() {\r\n    return inject(routeLocationKey);\r\n}\n\nexport { NavigationFailureType, RouterLink, RouterView, START_LOCATION_NORMALIZED as START_LOCATION, createMemoryHistory, createRouter, createRouterMatcher, createWebHashHistory, createWebHistory, isNavigationFailure, matchedRouteKey, onBeforeRouteLeave, onBeforeRouteUpdate, parseQuery, routeLocationKey, routerKey, routerViewLocationKey, stringifyQuery, useLink, useRoute, useRouter, viewDepthKey };\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar hasOwn = require('../internals/has-own-property');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar proxyAccessor = require('../internals/proxy-accessor');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar normalizeStringArgument = require('../internals/normalize-string-argument');\nvar installErrorCause = require('../internals/install-error-cause');\nvar clearErrorStack = require('../internals/clear-error-stack');\nvar ERROR_STACK_INSTALLABLE = require('../internals/error-stack-installable');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar IS_PURE = require('../internals/is-pure');\n\nmodule.exports = function (FULL_NAME, wrapper, FORCED, IS_AGGREGATE_ERROR) {\n  var STACK_TRACE_LIMIT = 'stackTraceLimit';\n  var OPTIONS_POSITION = IS_AGGREGATE_ERROR ? 2 : 1;\n  var path = FULL_NAME.split('.');\n  var ERROR_NAME = path[path.length - 1];\n  var OriginalError = getBuiltIn.apply(null, path);\n\n  if (!OriginalError) return;\n\n  var OriginalErrorPrototype = OriginalError.prototype;\n\n  // V8 9.3- bug https://bugs.chromium.org/p/v8/issues/detail?id=12006\n  if (!IS_PURE && hasOwn(OriginalErrorPrototype, 'cause')) delete OriginalErrorPrototype.cause;\n\n  if (!FORCED) return OriginalError;\n\n  var BaseError = getBuiltIn('Error');\n\n  var WrappedError = wrapper(function (a, b) {\n    var message = normalizeStringArgument(IS_AGGREGATE_ERROR ? b : a, undefined);\n    var result = IS_AGGREGATE_ERROR ? new OriginalError(a) : new OriginalError();\n    if (message !== undefined) createNonEnumerableProperty(result, 'message', message);\n    if (ERROR_STACK_INSTALLABLE) createNonEnumerableProperty(result, 'stack', clearErrorStack(result.stack, 2));\n    if (this && isPrototypeOf(OriginalErrorPrototype, this)) inheritIfRequired(result, this, WrappedError);\n    if (arguments.length > OPTIONS_POSITION) installErrorCause(result, arguments[OPTIONS_POSITION]);\n    return result;\n  });\n\n  WrappedError.prototype = OriginalErrorPrototype;\n\n  if (ERROR_NAME !== 'Error') {\n    if (setPrototypeOf) setPrototypeOf(WrappedError, BaseError);\n    else copyConstructorProperties(WrappedError, BaseError, { name: true });\n  } else if (DESCRIPTORS && STACK_TRACE_LIMIT in OriginalError) {\n    proxyAccessor(WrappedError, OriginalError, STACK_TRACE_LIMIT);\n    proxyAccessor(WrappedError, OriginalError, 'prepareStackTrace');\n  }\n\n  copyConstructorProperties(WrappedError, OriginalError);\n\n  if (!IS_PURE) try {\n    // Safari 13- bug: WebAssembly errors does not have a proper `.name`\n    if (OriginalErrorPrototype.name !== ERROR_NAME) {\n      createNonEnumerableProperty(OriginalErrorPrototype, 'name', ERROR_NAME);\n    }\n    OriginalErrorPrototype.constructor = WrappedError;\n  } catch (error) { /* empty */ }\n\n  return WrappedError;\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.makeBreadcrumb = void 0;\nvar tslib_1 = require(\"tslib\");\nvar dot_prop_1 = (0, tslib_1.__importDefault)(require(\"dot-prop\"));\nvar graphql_1 = require(\"graphql\");\nvar operation_1 = require(\"./operation\");\nfunction makeBreadcrumb(operation, options) {\n    var _a, _b, _c, _d, _e, _f, _g;\n    var attachBreadcrumbs = options.attachBreadcrumbs;\n    var definition = (0, operation_1.extractDefinition)(operation);\n    var data = {};\n    var uri = options.uri;\n    if (uri) {\n        data.url = uri;\n    }\n    var operationName = (_a = definition.name) === null || _a === void 0 ? void 0 : _a.value;\n    if (operationName) {\n        data.operationName = operationName;\n    }\n    if (attachBreadcrumbs.includeQuery) {\n        data.query =\n            (_d = (_c = (_b = definition.loc) === null || _b === void 0 ? void 0 : _b.source) === null || _c === void 0 ? void 0 : _c.body) !== null && _d !== void 0 ? _d : (0, graphql_1.print)(definition);\n    }\n    if (attachBreadcrumbs.includeVariables) {\n        data.variables = operation.variables;\n    }\n    if (attachBreadcrumbs.includeCache) {\n        data.cache =\n            (_g = (_f = (_e = operation.getContext().cache) === null || _e === void 0 ? void 0 : _e.data) === null || _f === void 0 ? void 0 : _f.data) !== null && _g !== void 0 ? _g : undefined;\n    }\n    var contextKeys = attachBreadcrumbs.includeContext;\n    if (contextKeys) {\n        data.context = extractKeys(operation.getContext(), contextKeys);\n    }\n    return {\n        type: 'http',\n        category: \"graphql.\".concat(definition.operation),\n        data: data,\n    };\n}\nexports.makeBreadcrumb = makeBreadcrumb;\nfunction extractKeys(context, keys) {\n    var result = {};\n    keys.forEach(function (key) {\n        result[key] = dot_prop_1.default.get(context, key);\n    });\n    return result;\n}\n","function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nfunction _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = _superPropBase(target, property);\n\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get.apply(this, arguments);\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\n/* eslint-disable no-undefined,no-param-reassign,no-shadow */\n\n/**\n * Throttle execution of a function. Especially useful for rate limiting\n * execution of handlers on events like resize and scroll.\n *\n * @param  {number}    delay -          A zero-or-greater delay in milliseconds. For event callbacks, values around 100 or 250 (or even higher) are most useful.\n * @param  {boolean}   [noTrailing] -   Optional, defaults to false. If noTrailing is true, callback will only execute every `delay` milliseconds while the\n *                                    throttled-function is being called. If noTrailing is false or unspecified, callback will be executed one final time\n *                                    after the last throttled-function call. (After the throttled-function has not been called for `delay` milliseconds,\n *                                    the internal counter is reset).\n * @param  {Function}  callback -       A function to be executed after delay milliseconds. The `this` context and all arguments are passed through, as-is,\n *                                    to `callback` when the throttled-function is executed.\n * @param  {boolean}   [debounceMode] - If `debounceMode` is true (at begin), schedule `clear` to execute after `delay` ms. If `debounceMode` is false (at end),\n *                                    schedule `callback` to execute after `delay` ms.\n *\n * @returns {Function}  A new, throttled, function.\n */\nfunction throttle(delay, noTrailing, callback, debounceMode) {\n  /*\n   * After wrapper has stopped being called, this timeout ensures that\n   * `callback` is executed at the proper times in `throttle` and `end`\n   * debounce modes.\n   */\n  var timeoutID;\n  var cancelled = false; // Keep track of the last time `callback` was executed.\n\n  var lastExec = 0; // Function to clear existing timeout\n\n  function clearExistingTimeout() {\n    if (timeoutID) {\n      clearTimeout(timeoutID);\n    }\n  } // Function to cancel next exec\n\n\n  function cancel() {\n    clearExistingTimeout();\n    cancelled = true;\n  } // `noTrailing` defaults to falsy.\n\n\n  if (typeof noTrailing !== 'boolean') {\n    debounceMode = callback;\n    callback = noTrailing;\n    noTrailing = undefined;\n  }\n  /*\n   * The `wrapper` function encapsulates all of the throttling / debouncing\n   * functionality and when executed will limit the rate at which `callback`\n   * is executed.\n   */\n\n\n  function wrapper() {\n    for (var _len = arguments.length, arguments_ = new Array(_len), _key = 0; _key < _len; _key++) {\n      arguments_[_key] = arguments[_key];\n    }\n\n    var self = this;\n    var elapsed = Date.now() - lastExec;\n\n    if (cancelled) {\n      return;\n    } // Execute `callback` and update the `lastExec` timestamp.\n\n\n    function exec() {\n      lastExec = Date.now();\n      callback.apply(self, arguments_);\n    }\n    /*\n     * If `debounceMode` is true (at begin) this is used to clear the flag\n     * to allow future `callback` executions.\n     */\n\n\n    function clear() {\n      timeoutID = undefined;\n    }\n\n    if (debounceMode && !timeoutID) {\n      /*\n       * Since `wrapper` is being called for the first time and\n       * `debounceMode` is true (at begin), execute `callback`.\n       */\n      exec();\n    }\n\n    clearExistingTimeout();\n\n    if (debounceMode === undefined && elapsed > delay) {\n      /*\n       * In throttle mode, if `delay` time has been exceeded, execute\n       * `callback`.\n       */\n      exec();\n    } else if (noTrailing !== true) {\n      /*\n       * In trailing throttle mode, since `delay` time has not been\n       * exceeded, schedule `callback` to execute `delay` ms after most\n       * recent execution.\n       *\n       * If `debounceMode` is true (at begin), schedule `clear` to execute\n       * after `delay` ms.\n       *\n       * If `debounceMode` is false (at end), schedule `callback` to\n       * execute after `delay` ms.\n       */\n      timeoutID = setTimeout(debounceMode ? clear : exec, debounceMode === undefined ? delay - elapsed : delay);\n    }\n  }\n\n  wrapper.cancel = cancel; // Return the wrapper function.\n\n  return wrapper;\n}\n/* eslint-disable no-undefined */\n\n/**\n * Debounce execution of a function. Debouncing, unlike throttling,\n * guarantees that a function is only executed a single time, either at the\n * very beginning of a series of calls, or at the very end.\n *\n * @param  {number}   delay -         A zero-or-greater delay in milliseconds. For event callbacks, values around 100 or 250 (or even higher) are most useful.\n * @param  {boolean}  [atBegin] -     Optional, defaults to false. If atBegin is false or unspecified, callback will only be executed `delay` milliseconds\n *                                  after the last debounced-function call. If atBegin is true, callback will be executed only at the first debounced-function call.\n *                                  (After the throttled-function has not been called for `delay` milliseconds, the internal counter is reset).\n * @param  {Function} callback -      A function to be executed after delay milliseconds. The `this` context and all arguments are passed through, as-is,\n *                                  to `callback` when the debounced-function is executed.\n *\n * @returns {Function} A new, debounced function.\n */\n\n\nfunction debounce(delay, atBegin, callback) {\n  return callback === undefined ? throttle(delay, atBegin, false) : throttle(delay, callback, atBegin !== false);\n}\n\nvar esm = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  debounce: debounce,\n  throttle: throttle\n});\n\nfunction factory(action) {\n  return function (cb, time) {\n    return action(time, cb);\n  };\n}\n\nvar throttle$1 = factory(esm.throttle);\nvar debounce$1 = factory(esm.debounce);\n\nvar reapply = function reapply(options, context) {\n  while (typeof options === 'function') {\n    options = options.call(context);\n  }\n\n  return options;\n};\n\nvar omit = function omit(obj, properties) {\n  return Object.entries(obj).filter(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 1),\n        key = _ref2[0];\n\n    return !properties.includes(key);\n  }).reduce(function (c, _ref3) {\n    var _ref4 = _slicedToArray(_ref3, 2),\n        key = _ref4[0],\n        val = _ref4[1];\n\n    c[key] = val;\n    return c;\n  }, {});\n};\n\nvar addGqlError = function addGqlError(error) {\n  if (error.graphQLErrors && error.graphQLErrors.length) {\n    error.gqlError = error.graphQLErrors[0];\n  }\n};\n\nvar isServer = typeof window === 'undefined';\n\nvar skippAllKeys = {\n  query: '_skipAllQueries',\n  subscription: '_skipAllSubscriptions'\n};\n\nvar SmartApollo = /*#__PURE__*/function () {\n  function SmartApollo(vm, key, options) {\n    _classCallCheck(this, SmartApollo);\n\n    _defineProperty(this, \"type\", null);\n\n    _defineProperty(this, \"vueApolloSpecialKeys\", []);\n\n    this.vm = vm;\n    this.key = key;\n    this.initialOptions = options;\n    this.options = Object.assign({}, options);\n    this._skip = false;\n    this._pollInterval = null;\n    this._watchers = [];\n    this._destroyed = false;\n    this.lastApolloOptions = null;\n  }\n\n  _createClass(SmartApollo, [{\n    key: \"autostart\",\n    value: function autostart() {\n      var _this = this;\n\n      if (typeof this.options.skip === 'function') {\n        this._skipWatcher = this.vm.$watch(function () {\n          return _this.options.skip.call(_this.vm, _this.vm, _this.key);\n        }, this.skipChanged.bind(this), {\n          immediate: true,\n          deep: this.options.deep\n        });\n      } else if (!this.options.skip && !this.allSkip) {\n        this.start();\n      } else {\n        this._skip = true;\n      }\n\n      if (typeof this.options.pollInterval === 'function') {\n        this._pollWatcher = this.vm.$watch(this.options.pollInterval.bind(this.vm), this.pollIntervalChanged.bind(this), {\n          immediate: true\n        });\n      }\n    }\n  }, {\n    key: \"pollIntervalChanged\",\n    value: function pollIntervalChanged(value, oldValue) {\n      if (value !== oldValue) {\n        this.pollInterval = value;\n\n        if (value == null) {\n          this.stopPolling();\n        } else {\n          this.startPolling(value);\n        }\n      }\n    }\n  }, {\n    key: \"skipChanged\",\n    value: function skipChanged(value, oldValue) {\n      if (value !== oldValue) {\n        this.skip = value;\n      }\n    }\n  }, {\n    key: \"pollInterval\",\n    get: function get() {\n      return this._pollInterval;\n    },\n    set: function set(value) {\n      this._pollInterval = value;\n    }\n  }, {\n    key: \"skip\",\n    get: function get() {\n      return this._skip;\n    },\n    set: function set(value) {\n      if (value || this.allSkip) {\n        this.stop();\n      } else {\n        this.start();\n      }\n\n      this._skip = value;\n    }\n  }, {\n    key: \"allSkip\",\n    get: function get() {\n      return this.vm.$apollo[skippAllKeys[this.type]];\n    }\n  }, {\n    key: \"refresh\",\n    value: function refresh() {\n      if (!this._skip) {\n        this.stop();\n        this.start();\n      }\n    }\n  }, {\n    key: \"start\",\n    value: function start() {\n      var _this2 = this;\n\n      this.starting = true; // Reactive options\n\n      var _loop = function _loop(_i2, _ref2) {\n        var prop = _ref2[_i2];\n\n        if (typeof _this2.initialOptions[prop] === 'function') {\n          var queryCb = _this2.initialOptions[prop].bind(_this2.vm);\n\n          _this2.options[prop] = queryCb();\n\n          var cb = function cb(query) {\n            _this2.options[prop] = query;\n\n            _this2.refresh();\n          };\n\n          if (!isServer) {\n            cb = _this2.options.throttle ? throttle$1(cb, _this2.options.throttle) : cb;\n            cb = _this2.options.debounce ? debounce$1(cb, _this2.options.debounce) : cb;\n          }\n\n          _this2._watchers.push(_this2.vm.$watch(queryCb, cb, {\n            deep: _this2.options.deep\n          }));\n        }\n      };\n\n      for (var _i2 = 0, _ref2 = ['query', 'document', 'context']; _i2 < _ref2.length; _i2++) {\n        _loop(_i2, _ref2);\n      } // GraphQL Variables\n\n\n      if (typeof this.options.variables === 'function') {\n        var cb = this.executeApollo.bind(this);\n\n        if (!isServer) {\n          cb = this.options.throttle ? throttle$1(cb, this.options.throttle) : cb;\n          cb = this.options.debounce ? debounce$1(cb, this.options.debounce) : cb;\n        }\n\n        this._watchers.push(this.vm.$watch(function () {\n          return typeof _this2.options.variables === 'function' ? _this2.options.variables.call(_this2.vm) : _this2.options.variables;\n        }, cb, {\n          immediate: true,\n          deep: this.options.deep\n        }));\n      } else {\n        this.executeApollo(this.options.variables);\n      }\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      for (var _i4 = 0, _this$_watchers2 = this._watchers; _i4 < _this$_watchers2.length; _i4++) {\n        var unwatch = _this$_watchers2[_i4];\n        unwatch();\n      }\n\n      if (this.sub) {\n        this.sub.unsubscribe();\n        this.sub = null;\n      }\n    }\n  }, {\n    key: \"generateApolloOptions\",\n    value: function generateApolloOptions(variables) {\n      var apolloOptions = omit(this.options, this.vueApolloSpecialKeys);\n      apolloOptions.variables = variables;\n      this.lastApolloOptions = apolloOptions;\n      return apolloOptions;\n    }\n  }, {\n    key: \"executeApollo\",\n    value: function executeApollo(variables) {\n      this.starting = false;\n    }\n  }, {\n    key: \"nextResult\",\n    value: function nextResult(result) {\n      var error = result.error;\n      if (error) addGqlError(error);\n    }\n  }, {\n    key: \"callHandlers\",\n    value: function callHandlers(handlers) {\n      var catched = false;\n\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      for (var _i6 = 0; _i6 < handlers.length; _i6++) {\n        var handler = handlers[_i6];\n\n        if (handler) {\n          catched = true;\n          var result = handler.apply(this.vm, args);\n\n          if (typeof result !== 'undefined' && !result) {\n            break;\n          }\n        }\n      }\n\n      return catched;\n    }\n  }, {\n    key: \"errorHandler\",\n    value: function errorHandler() {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return this.callHandlers.apply(this, [[this.options.error, this.vm.$apollo.error, this.vm.$apollo.provider.errorHandler]].concat(args));\n    }\n  }, {\n    key: \"catchError\",\n    value: function catchError(error) {\n      addGqlError(error);\n      var catched = this.errorHandler(error, this.vm, this.key, this.type, this.lastApolloOptions);\n      if (catched) return;\n\n      if (error.graphQLErrors && error.graphQLErrors.length !== 0) {\n        console.error(\"GraphQL execution errors for \".concat(this.type, \" '\").concat(this.key, \"'\"));\n\n        for (var _i8 = 0, _error$graphQLErrors2 = error.graphQLErrors; _i8 < _error$graphQLErrors2.length; _i8++) {\n          var e = _error$graphQLErrors2[_i8];\n          console.error(e);\n        }\n      } else if (error.networkError) {\n        console.error(\"Error sending the \".concat(this.type, \" '\").concat(this.key, \"'\"), error.networkError);\n      } else {\n        console.error(\"[vue-apollo] An error has occurred for \".concat(this.type, \" '\").concat(this.key, \"'\"));\n\n        if (Array.isArray(error)) {\n          var _console;\n\n          (_console = console).error.apply(_console, _toConsumableArray(error));\n        } else {\n          console.error(error);\n        }\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this._destroyed) return;\n      this._destroyed = true;\n      this.stop();\n\n      if (this._skipWatcher) {\n        this._skipWatcher();\n      }\n    }\n  }]);\n\n  return SmartApollo;\n}();\n\nvar VUE_APOLLO_QUERY_KEYWORDS = ['variables', 'watch', 'update', 'result', 'error', 'loadingKey', 'watchLoading', 'skip', 'throttle', 'debounce', 'subscribeToMore', 'prefetch', 'manual'];\n\nvar SmartQuery = /*#__PURE__*/function (_SmartApollo) {\n  _inherits(SmartQuery, _SmartApollo);\n\n  var _super = _createSuper(SmartQuery);\n\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  function SmartQuery(vm, key, options) {\n    var _this;\n\n    var autostart = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n\n    _classCallCheck(this, SmartQuery);\n\n    // Add reactive data related to the query\n    if (vm.$data.$apolloData && !vm.$data.$apolloData.queries[key]) {\n      vm.$data.$apolloData.queries[key] = {\n        loading: false\n      };\n    }\n\n    _this = _super.call(this, vm, key, options);\n\n    _defineProperty(_assertThisInitialized(_this), \"type\", 'query');\n\n    _defineProperty(_assertThisInitialized(_this), \"vueApolloSpecialKeys\", VUE_APOLLO_QUERY_KEYWORDS);\n\n    _defineProperty(_assertThisInitialized(_this), \"_loading\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"_linkedSubscriptions\", []);\n\n    if (isServer) {\n      _this.firstRun = new Promise(function (resolve, reject) {\n        _this._firstRunResolve = resolve;\n        _this._firstRunReject = reject;\n      });\n    }\n\n    if (isServer) {\n      _this.options.fetchPolicy = 'network-only';\n    }\n\n    if (!options.manual) {\n      _this.hasDataField = Object.prototype.hasOwnProperty.call(_this.vm.$data, key);\n\n      if (_this.hasDataField) {\n        Object.defineProperty(_this.vm.$data.$apolloData.data, key, {\n          get: function get() {\n            return _this.vm.$data[key];\n          },\n          enumerable: true,\n          configurable: true\n        });\n      } else {\n        Object.defineProperty(_this.vm.$data, key, {\n          get: function get() {\n            return _this.vm.$data.$apolloData.data[key];\n          },\n          enumerable: true,\n          configurable: true\n        });\n      }\n    }\n\n    if (autostart) {\n      _this.autostart();\n    }\n\n    return _this;\n  }\n\n  _createClass(SmartQuery, [{\n    key: \"client\",\n    get: function get() {\n      return this.vm.$apollo.getClient(this.options);\n    }\n  }, {\n    key: \"loading\",\n    get: function get() {\n      return this.vm.$data.$apolloData && this.vm.$data.$apolloData.queries[this.key] ? this.vm.$data.$apolloData.queries[this.key].loading : this._loading;\n    },\n    set: function set(value) {\n      if (this._loading !== value) {\n        this._loading = value;\n\n        if (this.vm.$data.$apolloData && this.vm.$data.$apolloData.queries[this.key]) {\n          this.vm.$data.$apolloData.queries[this.key].loading = value;\n          this.vm.$data.$apolloData.loading += value ? 1 : -1;\n        }\n      }\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      _get(_getPrototypeOf(SmartQuery.prototype), \"stop\", this).call(this);\n\n      this.loadingDone();\n\n      if (this.observer) {\n        this.observer.stopPolling();\n        this.observer = null;\n      }\n    }\n  }, {\n    key: \"generateApolloOptions\",\n    value: function generateApolloOptions(variables) {\n      var apolloOptions = _get(_getPrototypeOf(SmartQuery.prototype), \"generateApolloOptions\", this).call(this, variables);\n\n      if (this.vm.$isServer) {\n        // Don't poll on the server, that would run indefinitely\n        delete apolloOptions.pollInterval;\n      }\n\n      return apolloOptions;\n    }\n  }, {\n    key: \"executeApollo\",\n    value: function executeApollo(variables) {\n      var variablesJson = JSON.stringify(variables);\n\n      if (this.sub) {\n        if (variablesJson === this.previousVariablesJson) {\n          return;\n        }\n\n        this.sub.unsubscribe(); // Subscribe to more subs\n\n        for (var _i2 = 0, _this$_linkedSubscrip2 = this._linkedSubscriptions; _i2 < _this$_linkedSubscrip2.length; _i2++) {\n          var sub = _this$_linkedSubscrip2[_i2];\n          sub.stop();\n        }\n      }\n\n      this.previousVariablesJson = variablesJson; // Create observer\n\n      this.observer = this.vm.$apollo.watchQuery(this.generateApolloOptions(variables));\n      this.startQuerySubscription();\n\n      if (this.options.fetchPolicy !== 'no-cache' || this.options.notifyOnNetworkStatusChange) {\n        var currentResult = this.retrieveCurrentResult();\n\n        if (this.options.notifyOnNetworkStatusChange || // Initial call of next result when it's not loading (for Apollo Client 3)\n        this.observer.getCurrentResult && !currentResult.loading) {\n          this.nextResult(currentResult);\n        }\n      }\n\n      _get(_getPrototypeOf(SmartQuery.prototype), \"executeApollo\", this).call(this, variables); // Subscribe to more subs\n\n\n      for (var _i4 = 0, _this$_linkedSubscrip4 = this._linkedSubscriptions; _i4 < _this$_linkedSubscrip4.length; _i4++) {\n        var _sub = _this$_linkedSubscrip4[_i4];\n\n        _sub.start();\n      }\n    }\n  }, {\n    key: \"startQuerySubscription\",\n    value: function startQuerySubscription() {\n      if (this.sub && !this.sub.closed) return; // Create subscription\n\n      this.sub = this.observer.subscribe({\n        next: this.nextResult.bind(this),\n        error: this.catchError.bind(this)\n      });\n    }\n    /**\n     * May update loading state\n     */\n\n  }, {\n    key: \"retrieveCurrentResult\",\n    value: function retrieveCurrentResult() {\n      var force = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var currentResult = this.observer.getCurrentResult ? this.observer.getCurrentResult() : this.observer.currentResult();\n\n      if (force || currentResult.loading) {\n        if (!this.loading) {\n          this.applyLoadingModifier(1);\n        }\n\n        this.loading = true;\n      }\n\n      return currentResult;\n    }\n  }, {\n    key: \"nextResult\",\n    value: function nextResult(result) {\n      _get(_getPrototypeOf(SmartQuery.prototype), \"nextResult\", this).call(this, result);\n\n      var data = result.data,\n          loading = result.loading,\n          error = result.error,\n          errors = result.errors;\n      var anyErrors = errors && errors.length;\n\n      if (error || anyErrors) {\n        this.firstRunReject(error);\n      }\n\n      if (!loading) {\n        this.loadingDone();\n      } // If `errorPolicy` is set to `all`, an error won't be thrown\n      // Instead result will have an `errors` array of GraphQL Errors\n      // so we need to reconstruct an error object similar to the normal one\n\n\n      if (!error && anyErrors) {\n        var e = new Error(\"GraphQL error: \".concat(errors.map(function (e) {\n          return e.message;\n        }).join(' | ')));\n        Object.assign(e, {\n          graphQLErrors: errors,\n          networkError: null\n        }); // We skip query catchError logic\n        // as we only want to dispatch the error\n\n        _get(_getPrototypeOf(SmartQuery.prototype), \"catchError\", this).call(this, e);\n      }\n\n      if (this.observer.options.errorPolicy === 'none' && (error || anyErrors)) {\n        // Don't apply result\n        return;\n      }\n\n      var hasResultCallback = typeof this.options.result === 'function';\n\n      if (data == null) ; else if (!this.options.manual) {\n        if (typeof this.options.update === 'function') {\n          this.setData(this.options.update.call(this.vm, data));\n        } else if (typeof data[this.key] === 'undefined' && Object.keys(data).length) {\n          console.error(\"Missing \".concat(this.key, \" attribute on result\"), data);\n        } else {\n          this.setData(data[this.key]);\n        }\n      } else if (!hasResultCallback) {\n        console.error(\"\".concat(this.key, \" query must have a 'result' hook in manual mode\"));\n      }\n\n      if (hasResultCallback) {\n        this.options.result.call(this.vm, result, this.key);\n      }\n    }\n  }, {\n    key: \"setData\",\n    value: function setData(value) {\n      var target = this.hasDataField ? this.vm.$data : this.vm.$data.$apolloData.data;\n      target[this.key] = value;\n    }\n  }, {\n    key: \"catchError\",\n    value: function catchError(error) {\n      _get(_getPrototypeOf(SmartQuery.prototype), \"catchError\", this).call(this, error);\n\n      this.firstRunReject(error);\n      this.loadingDone(error);\n      this.nextResult(this.observer.getCurrentResult ? this.observer.getCurrentResult() : this.observer.currentResult()); // The observable closes the sub if an error occurs\n\n      this.resubscribeToQuery();\n    }\n  }, {\n    key: \"resubscribeToQuery\",\n    value: function resubscribeToQuery() {\n      var lastError = this.observer.getLastError();\n      var lastResult = this.observer.getLastResult();\n      this.observer.resetLastResults();\n      this.startQuerySubscription();\n      Object.assign(this.observer, {\n        lastError: lastError,\n        lastResult: lastResult\n      });\n    }\n  }, {\n    key: \"loadingKey\",\n    get: function get() {\n      return this.options.loadingKey || this.vm.$apollo.loadingKey;\n    }\n  }, {\n    key: \"watchLoading\",\n    value: function watchLoading() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return this.callHandlers.apply(this, [[this.options.watchLoading, this.vm.$apollo.watchLoading, this.vm.$apollo.provider.watchLoading]].concat(args, [this]));\n    }\n  }, {\n    key: \"applyLoadingModifier\",\n    value: function applyLoadingModifier(value) {\n      var loadingKey = this.loadingKey;\n\n      if (loadingKey && typeof this.vm[loadingKey] === 'number') {\n        this.vm[loadingKey] += value;\n      }\n\n      this.watchLoading(value === 1, value);\n    }\n  }, {\n    key: \"loadingDone\",\n    value: function loadingDone() {\n      var error = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n      if (this.loading) {\n        this.applyLoadingModifier(-1);\n      }\n\n      this.loading = false;\n\n      if (!error) {\n        this.firstRunResolve();\n      }\n    }\n  }, {\n    key: \"fetchMore\",\n    value: function fetchMore() {\n      var _this2 = this;\n\n      if (this.observer) {\n        var _this$observer;\n\n        this.retrieveCurrentResult(true);\n        return (_this$observer = this.observer).fetchMore.apply(_this$observer, arguments).then(function (result) {\n          if (!result.loading) {\n            _this2.loadingDone();\n          }\n\n          return result;\n        });\n      }\n    }\n  }, {\n    key: \"subscribeToMore\",\n    value: function subscribeToMore() {\n      if (this.observer) {\n        var _this$observer2;\n\n        return {\n          unsubscribe: (_this$observer2 = this.observer).subscribeToMore.apply(_this$observer2, arguments)\n        };\n      }\n    }\n  }, {\n    key: \"refetch\",\n    value: function refetch(variables) {\n      var _this3 = this;\n\n      variables && (this.options.variables = variables);\n\n      if (this.observer) {\n        var result = this.observer.refetch(variables).then(function (result) {\n          if (!result.loading) {\n            _this3.loadingDone();\n          }\n\n          return result;\n        });\n        this.retrieveCurrentResult();\n        return result;\n      }\n    }\n  }, {\n    key: \"setVariables\",\n    value: function setVariables(variables, tryFetch) {\n      this.options.variables = variables;\n\n      if (this.observer) {\n        var result = this.observer.setVariables(variables, tryFetch);\n        this.retrieveCurrentResult();\n        return result;\n      }\n    }\n  }, {\n    key: \"setOptions\",\n    value: function setOptions(options) {\n      Object.assign(this.options, options);\n\n      if (this.observer) {\n        var result = this.observer.setOptions(options);\n        this.retrieveCurrentResult();\n        return result;\n      }\n    }\n  }, {\n    key: \"startPolling\",\n    value: function startPolling() {\n      if (this.observer) {\n        var _this$observer3;\n\n        return (_this$observer3 = this.observer).startPolling.apply(_this$observer3, arguments);\n      }\n    }\n  }, {\n    key: \"stopPolling\",\n    value: function stopPolling() {\n      if (this.observer) {\n        var _this$observer4;\n\n        return (_this$observer4 = this.observer).stopPolling.apply(_this$observer4, arguments);\n      }\n    }\n  }, {\n    key: \"firstRunResolve\",\n    value: function firstRunResolve() {\n      if (this._firstRunResolve) {\n        this._firstRunResolve();\n\n        this._firstRunResolve = null;\n      }\n    }\n  }, {\n    key: \"firstRunReject\",\n    value: function firstRunReject(error) {\n      if (this._firstRunReject) {\n        this._firstRunReject(error);\n\n        this._firstRunReject = null;\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(SmartQuery.prototype), \"destroy\", this).call(this);\n\n      if (this.loading) {\n        this.watchLoading(false, -1);\n      }\n\n      this.loading = false;\n    }\n  }]);\n\n  return SmartQuery;\n}(SmartApollo);\n\nvar SmartSubscription = /*#__PURE__*/function (_SmartApollo) {\n  _inherits(SmartSubscription, _SmartApollo);\n\n  var _super = _createSuper(SmartSubscription);\n\n  function SmartSubscription(vm, key, options) {\n    var _this;\n\n    var autostart = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n\n    _classCallCheck(this, SmartSubscription);\n\n    _this = _super.call(this, vm, key, options);\n\n    _defineProperty(_assertThisInitialized(_this), \"type\", 'subscription');\n\n    _defineProperty(_assertThisInitialized(_this), \"vueApolloSpecialKeys\", ['variables', 'result', 'error', 'throttle', 'debounce', 'linkedQuery']);\n\n    if (autostart) {\n      _this.autostart();\n    }\n\n    return _this;\n  }\n\n  _createClass(SmartSubscription, [{\n    key: \"generateApolloOptions\",\n    value: function generateApolloOptions(variables) {\n      var apolloOptions = _get(_getPrototypeOf(SmartSubscription.prototype), \"generateApolloOptions\", this).call(this, variables);\n\n      apolloOptions.onError = this.catchError.bind(this);\n      return apolloOptions;\n    }\n  }, {\n    key: \"executeApollo\",\n    value: function executeApollo(variables) {\n      var variablesJson = JSON.stringify(variables);\n\n      if (this.sub) {\n        // do nothing if subscription is already running using exactly the same variables\n        if (variablesJson === this.previousVariablesJson) {\n          return;\n        }\n\n        this.sub.unsubscribe();\n      }\n\n      this.previousVariablesJson = variablesJson;\n      var apolloOptions = this.generateApolloOptions(variables);\n\n      if (typeof apolloOptions.updateQuery === 'function') {\n        apolloOptions.updateQuery = apolloOptions.updateQuery.bind(this.vm);\n      }\n\n      if (this.options.linkedQuery) {\n        if (typeof this.options.result === 'function') {\n          var rcb = this.options.result.bind(this.vm);\n          var ucb = apolloOptions.updateQuery && apolloOptions.updateQuery.bind(this.vm);\n\n          apolloOptions.updateQuery = function () {\n            rcb.apply(void 0, arguments);\n            return ucb && ucb.apply(void 0, arguments);\n          };\n        }\n\n        this.sub = this.options.linkedQuery.subscribeToMore(apolloOptions);\n      } else {\n        // Create observer\n        this.observer = this.vm.$apollo.subscribe(apolloOptions); // Create subscription\n\n        this.sub = this.observer.subscribe({\n          next: this.nextResult.bind(this),\n          error: this.catchError.bind(this)\n        });\n      }\n\n      _get(_getPrototypeOf(SmartSubscription.prototype), \"executeApollo\", this).call(this, variables);\n    }\n  }, {\n    key: \"nextResult\",\n    value: function nextResult(data) {\n      _get(_getPrototypeOf(SmartSubscription.prototype), \"nextResult\", this).call(this, data);\n\n      if (typeof this.options.result === 'function') {\n        this.options.result.call(this.vm, data, this.key);\n      }\n    }\n  }, {\n    key: \"catchError\",\n    value: function catchError(error) {\n      _get(_getPrototypeOf(SmartSubscription.prototype), \"catchError\", this).call(this, error); // Restart the subscription\n\n\n      if (!this.skip) {\n        this.stop();\n        this.start();\n      }\n    }\n  }]);\n\n  return SmartSubscription;\n}(SmartApollo);\n\nvar DollarApollo = /*#__PURE__*/function () {\n  function DollarApollo(vm, provider) {\n    _classCallCheck(this, DollarApollo);\n\n    this._apolloSubscriptions = [];\n    this._watchers = [];\n    this.vm = vm;\n    this.provider = provider;\n    this.queries = {};\n    this.subscriptions = {};\n    this.client = undefined;\n    this.loadingKey = undefined;\n    this.error = undefined;\n  }\n\n  _createClass(DollarApollo, [{\n    key: \"getClient\",\n    value: function getClient() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n      if (!options || !options.client) {\n        if (_typeof(this.client) === 'object') {\n          return this.client;\n        }\n\n        if (this.client) {\n          if (!this.provider.clients) {\n            throw new Error(\"[vue-apollo] Missing 'clients' options in 'apolloProvider'\");\n          } else {\n            var _client = this.provider.clients[this.client];\n\n            if (!_client) {\n              throw new Error(\"[vue-apollo] Missing client '\".concat(this.client, \"' in 'apolloProvider'\"));\n            }\n\n            return _client;\n          }\n        }\n\n        return this.provider.defaultClient;\n      }\n\n      var client = this.provider.clients[options.client];\n\n      if (!client) {\n        throw new Error(\"[vue-apollo] Missing client '\".concat(options.client, \"' in 'apolloProvider'\"));\n      }\n\n      return client;\n    }\n  }, {\n    key: \"query\",\n    value: function query(options) {\n      return this.getClient(options).query(options);\n    }\n  }, {\n    key: \"watchQuery\",\n    value: function watchQuery(options) {\n      var _this = this;\n\n      var observable = this.getClient(options).watchQuery(options);\n\n      var _subscribe = observable.subscribe.bind(observable);\n\n      observable.subscribe = function (options) {\n        var sub = _subscribe(options);\n\n        _this._apolloSubscriptions.push(sub);\n\n        return sub;\n      };\n\n      return observable;\n    }\n  }, {\n    key: \"mutate\",\n    value: function mutate(options) {\n      return this.getClient(options).mutate(options);\n    }\n  }, {\n    key: \"subscribe\",\n    value: function subscribe(options) {\n      var _this2 = this;\n\n      if (!isServer) {\n        var observable = this.getClient(options).subscribe(options);\n\n        var _subscribe = observable.subscribe.bind(observable);\n\n        observable.subscribe = function (options) {\n          var sub = _subscribe(options);\n\n          _this2._apolloSubscriptions.push(sub);\n\n          return sub;\n        };\n\n        return observable;\n      }\n    }\n  }, {\n    key: \"loading\",\n    get: function get() {\n      return this.vm.$data.$apolloData.loading !== 0;\n    }\n  }, {\n    key: \"data\",\n    get: function get() {\n      return this.vm.$data.$apolloData.data;\n    }\n  }, {\n    key: \"addSmartQuery\",\n    value: function addSmartQuery(key, options) {\n      var _this3 = this;\n\n      var finalOptions = reapply(options, this.vm); // Simple query\n\n      if (!finalOptions.query) {\n        var query = finalOptions;\n        finalOptions = {\n          query: query\n        };\n      }\n\n      var apollo = this.vm.$options.apollo;\n      var defaultOptions = this.provider.defaultOptions;\n      var $query;\n\n      if (defaultOptions && defaultOptions.$query) {\n        $query = defaultOptions.$query;\n      }\n\n      if (apollo && apollo.$query) {\n        $query = _objectSpread2(_objectSpread2({}, $query || {}), apollo.$query);\n      }\n\n      if ($query) {\n        // Also replaces 'undefined' values\n        for (var _key in $query) {\n          if (typeof finalOptions[_key] === 'undefined') {\n            finalOptions[_key] = $query[_key];\n          }\n        }\n      }\n\n      var smart = this.queries[key] = new SmartQuery(this.vm, key, finalOptions, false);\n\n      if (!isServer || finalOptions.prefetch !== false) {\n        smart.autostart();\n      }\n\n      if (!isServer) {\n        var subs = finalOptions.subscribeToMore;\n\n        if (subs) {\n          if (Array.isArray(subs)) {\n            subs.forEach(function (sub, index) {\n              _this3.addSmartSubscription(\"\".concat(key).concat(index), _objectSpread2(_objectSpread2({}, sub), {}, {\n                linkedQuery: smart\n              }));\n            });\n          } else {\n            this.addSmartSubscription(key, _objectSpread2(_objectSpread2({}, subs), {}, {\n              linkedQuery: smart\n            }));\n          }\n        }\n      }\n\n      return smart;\n    }\n  }, {\n    key: \"addSmartSubscription\",\n    value: function addSmartSubscription(key, options) {\n      if (!isServer) {\n        options = reapply(options, this.vm);\n        var smart = this.subscriptions[key] = new SmartSubscription(this.vm, key, options, false);\n        smart.autostart();\n\n        if (options.linkedQuery) {\n          options.linkedQuery._linkedSubscriptions.push(smart);\n        }\n\n        return smart;\n      }\n    }\n  }, {\n    key: \"defineReactiveSetter\",\n    value: function defineReactiveSetter(key, func, deep) {\n      var _this4 = this;\n\n      this._watchers.push(this.vm.$watch(func, function (value) {\n        _this4[key] = value;\n      }, {\n        immediate: true,\n        deep: deep\n      }));\n    }\n  }, {\n    key: \"skipAllQueries\",\n    set: function set(value) {\n      this._skipAllQueries = value;\n\n      for (var key in this.queries) {\n        this.queries[key].skip = value;\n      }\n    }\n  }, {\n    key: \"skipAllSubscriptions\",\n    set: function set(value) {\n      this._skipAllSubscriptions = value;\n\n      for (var key in this.subscriptions) {\n        this.subscriptions[key].skip = value;\n      }\n    }\n  }, {\n    key: \"skipAll\",\n    set: function set(value) {\n      this.skipAllQueries = value;\n      this.skipAllSubscriptions = value;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      for (var _i2 = 0, _this$_watchers2 = this._watchers; _i2 < _this$_watchers2.length; _i2++) {\n        var unwatch = _this$_watchers2[_i2];\n        unwatch();\n      }\n\n      for (var key in this.queries) {\n        this.queries[key].destroy();\n      }\n\n      for (var _key2 in this.subscriptions) {\n        this.subscriptions[_key2].destroy();\n      }\n\n      this._apolloSubscriptions.forEach(function (sub) {\n        sub.unsubscribe();\n      });\n\n      this._apolloSubscriptions = null;\n      this.vm = null;\n    }\n  }]);\n\n  return DollarApollo;\n}();\n\nfunction hasProperty(holder, key) {\n  return typeof holder !== 'undefined' && Object.prototype.hasOwnProperty.call(holder, key);\n}\n\nfunction proxyData() {\n  var _this = this;\n\n  this.$_apolloInitData = {};\n  var apollo = this.$options.apollo;\n\n  if (apollo) {\n    var _loop = function _loop(key) {\n      if (key.charAt(0) !== '$') {\n        var options = apollo[key]; // Property proxy\n\n        if (!options.manual && !hasProperty(_this.$options.props, key) && !hasProperty(_this.$options.computed, key) && !hasProperty(_this.$options.methods, key)) {\n          Object.defineProperty(_this, key, {\n            get: function get() {\n              return _this.$data.$apolloData.data[key];\n            },\n            // For component class constructor\n            set: function set(value) {\n              return _this.$_apolloInitData[key] = value;\n            },\n            enumerable: true,\n            configurable: true\n          });\n        }\n      }\n    };\n\n    // watchQuery\n    for (var key in apollo) {\n      _loop(key);\n    }\n  }\n}\n\nfunction launch() {\n  var _this2 = this;\n\n  var apolloProvider = this.$apolloProvider;\n  if (this._apolloLaunched || !apolloProvider) return;\n  this._apolloLaunched = true; // Prepare properties\n\n  var apollo = this.$options.apollo;\n\n  if (apollo) {\n    this.$_apolloPromises = [];\n\n    if (!apollo.$init) {\n      apollo.$init = true; // Default options applied to `apollo` options\n\n      if (apolloProvider.defaultOptions) {\n        apollo = this.$options.apollo = Object.assign({}, apolloProvider.defaultOptions, apollo);\n      }\n    }\n\n    defineReactiveSetter(this.$apollo, 'skipAll', apollo.$skipAll, apollo.$deep);\n    defineReactiveSetter(this.$apollo, 'skipAllQueries', apollo.$skipAllQueries, apollo.$deep);\n    defineReactiveSetter(this.$apollo, 'skipAllSubscriptions', apollo.$skipAllSubscriptions, apollo.$deep);\n    defineReactiveSetter(this.$apollo, 'client', apollo.$client, apollo.$deep);\n    defineReactiveSetter(this.$apollo, 'loadingKey', apollo.$loadingKey, apollo.$deep);\n    defineReactiveSetter(this.$apollo, 'error', apollo.$error, apollo.$deep);\n    defineReactiveSetter(this.$apollo, 'watchLoading', apollo.$watchLoading, apollo.$deep); // Apollo Data\n\n    Object.defineProperty(this, '$apolloData', {\n      get: function get() {\n        return _this2.$data.$apolloData;\n      },\n      enumerable: true,\n      configurable: true\n    }); // watchQuery\n\n    for (var key in apollo) {\n      if (key.charAt(0) !== '$') {\n        var options = apollo[key];\n        var smart = this.$apollo.addSmartQuery(key, options);\n\n        if (isServer) {\n          options = reapply(options, this);\n\n          if (apolloProvider.prefetch !== false && options.prefetch !== false && apollo.$prefetch !== false && !smart.skip) {\n            this.$_apolloPromises.push(smart.firstRun);\n          }\n        }\n      }\n    }\n\n    if (apollo.subscribe) {\n      console.warn('vue-apollo -> `subscribe` option is deprecated. Use the `$subscribe` option instead.');\n    }\n\n    if (apollo.$subscribe) {\n      for (var _key in apollo.$subscribe) {\n        this.$apollo.addSmartSubscription(_key, apollo.$subscribe[_key]);\n      }\n    }\n  }\n}\n\nfunction defineReactiveSetter($apollo, key, value, deep) {\n  if (typeof value !== 'undefined') {\n    if (typeof value === 'function') {\n      $apollo.defineReactiveSetter(key, value, deep);\n    } else {\n      $apollo[key] = value;\n    }\n  }\n}\n\nfunction destroy() {\n  if (this.$apollo) {\n    this.$apollo.destroy();\n    this.$apollo = null;\n  }\n}\n\nfunction installMixin(app, provider) {\n  app.mixin({\n    data: function data() {\n      return {\n        $apolloData: {\n          queries: {},\n          loading: 0,\n          data: this.$_apolloInitData\n        }\n      };\n    },\n    beforeCreate: function beforeCreate() {\n      var _this3 = this;\n\n      this.$apollo = new DollarApollo(this, provider);\n      proxyData.call(this);\n\n      if (isServer) {\n        // Patch render function to cleanup apollo\n        var render = this.$options.render;\n\n        this.$options.render = function (h) {\n          var result = render.call(_this3, h);\n          destroy.call(_this3);\n          return result;\n        };\n      }\n    },\n    serverPrefetch: function serverPrefetch() {\n      var _this4 = this;\n\n      if (this.$_apolloPromises) {\n        return Promise.all(this.$_apolloPromises).then(function () {\n          destroy.call(_this4);\n        })[\"catch\"](function (e) {\n          destroy.call(_this4);\n          return Promise.reject(e);\n        });\n      }\n    },\n    created: launch,\n    unmounted: destroy\n  });\n}\n\nvar keywords = ['$subscribe'];\nvar ApolloProvider = /*#__PURE__*/function () {\n  function ApolloProvider(options) {\n    _classCallCheck(this, ApolloProvider);\n\n    if (!options) {\n      throw new Error('Options argument required');\n    }\n\n    this.clients = options.clients || {};\n\n    if (options.defaultClient) {\n      this.clients.defaultClient = this.defaultClient = options.defaultClient;\n    }\n\n    this.defaultOptions = options.defaultOptions;\n    this.watchLoading = options.watchLoading;\n    this.errorHandler = options.errorHandler;\n    this.prefetch = options.prefetch;\n  }\n\n  _createClass(ApolloProvider, [{\n    key: \"install\",\n    value: function install(app) {\n      // Options merging\n      app.config.optionMergeStrategies.apollo = function (toVal, fromVal, vm) {\n        if (!toVal) return fromVal;\n        if (!fromVal) return toVal;\n        var toData = Object.assign({}, omit(toVal, keywords), toVal.data);\n        var fromData = Object.assign({}, omit(fromVal, keywords), fromVal.data);\n        var map = {};\n\n        for (var i = 0; i < keywords.length; i++) {\n          var key = keywords[i];\n          map[key] = mergeObjectOptions(toVal[key], fromVal[key]);\n        }\n\n        return Object.assign(map, mergeObjectOptions(toData, fromData));\n      };\n\n      app.config.globalProperties.$apolloProvider = this;\n      installMixin(app, this);\n    }\n  }]);\n\n  return ApolloProvider;\n}();\n\nfunction mergeObjectOptions(to, from) {\n  return to ? Object.assign(Object.assign(Object.create(null), to), from) : from;\n}\n\nfunction createApolloProvider(options) {\n  return new ApolloProvider(options);\n}\n\nexport { ApolloProvider, createApolloProvider };\n","var lib = require('./lib');\nvar error = require('./constants').error;\nvar getValidationMessage = require('./validationMessages');\n\n/**\n * Validates that a number is a valid length (positive number)\n *\n * @private\n * @param {number} num - Number to validate\n */\nfunction _validateLength(num) {\n  const len = Number(num);\n  if (isNaN(len) || !Number.isInteger(len) || len < 1) {\n    throw new Error(error.length);\n  }\n}\n\n/**\n * Tests a validation and return the result\n *\n * @private\n * @param {string} property - Property to validate\n * @return {boolean} Boolean value indicting the validity\n *           of the password against the property\n */\nfunction _isPasswordValidFor(property) {\n  return lib[property.method].apply(this, property.arguments);\n}\n\n/**\n * Registers the properties of a password-validation schema object\n *\n * @private\n * @param {string} method - Property name\n * @param {array} arguments - arguments for the func property\n */\nfunction _register(method, args, description) {\n  // Add property to the schema\n  this.properties.push({ method, arguments: args, description });\n  return this;\n}\n\nclass PasswordValidator {\n  /**\n   * Creates a password-validator schema\n   *\n   * @constructor\n   */\n  constructor() {\n    this.properties = [];\n  }\n\n  /**\n   * Method to validate the password against schema\n   *\n   * @param {string} pwd - password to validate\n   * @param {object} [options] - optional options to configure validation\n   * @param {boolean} [options.list] - asks for a list of validation\n   *           failures instead of just true/false\n   * @param {boolean} [options.details] - asks for more details about\n   *           failed validations including arguments, and error messages\n   * @return {boolean|array} Boolean value indicting the validity\n   *           of the password as per schema, if 'options.list' or\n   *           'options.details' is not set. Otherwise, it returns an\n   *           array of property names which failed validations\n   */\n  validate(pwd, options) {\n    this.list = Boolean(options && options.list);\n    this.details = Boolean(options && options.details);\n    this.password = String(pwd);\n\n    this.positive = true;\n\n    if (this.list || this.details) {\n      return this.properties.reduce((errorList, property) => {\n        // Applies all validations defined in lib one by one\n        if (!_isPasswordValidFor.call(this, property)) {\n          // If the validation for a property fails,\n          // add it to the error list\n          var detail = property.method;\n          // If the details option was provided,\n          // return a rich object including validation message\n          if (this.details) {\n            detail = { validation: property.method };\n            if (property.arguments && property.arguments[0]) {\n              detail.arguments = property.arguments[0];\n            }\n\n            if (!this.positive && property.method !== 'not') {\n              detail.inverted = true;\n            }\n            var description = property.arguments && property.arguments[1];\n            var validationMessage = description || getValidationMessage(property.method, detail.arguments, detail.inverted);\n            detail.message = validationMessage;\n          }\n\n          return errorList.concat(detail);\n        }\n        return errorList;\n      }, []);\n    }\n    return this.properties.every(_isPasswordValidFor.bind(this));\n  }\n\n  /**\n   * Rule to mandate the presence of letters in the password\n   *\n   * @param {number} [count] - minimum number of letters required\n   * @param {string} [description] - description of the validation\n   */\n  letters(count) {\n    count && _validateLength(count);\n    return _register.call(this, 'letters', arguments);\n  }\n\n  /**\n   * Rule to mandate the presence of digits in the password\n   *\n   * @param {number} [count] - minimum number of digits required\n   * @param {string} [description] - description of the validation\n   */\n  digits(count) {\n    count && _validateLength(count);\n    return _register.call(this, 'digits', arguments);\n  }\n\n  /**\n   * Rule to mandate the presence of symbols in the password\n   *\n   * @param {number} [count] - minimum number of symbols required\n   * @param {string} [description] - description of the validation\n   */\n  symbols(count) {\n    count && _validateLength(count);\n    return _register.call(this, 'symbols', arguments);\n  }\n\n  /**\n   * Rule to specify a minimum length of the password\n   *\n   * @param {number} num - minimum length\n   * @param {string} [description] - description of the validation\n   */\n  min(num) {\n    _validateLength(num);\n    return _register.call(this, 'min', arguments);\n  }\n\n  /**\n   * Rule to specify a maximum length of the password\n   *\n   * @param {number} num - maximum length\n   * @param {string} [description] - description of the validation\n   */\n  max(num) {\n    _validateLength(num);\n    return _register.call(this, 'max', arguments);\n  }\n\n  /**\n   * Rule to mandate the presence of lowercase letters in the password\n   *\n   * @param {number} [count] - minimum number of lowercase letters required\n   * @param {string} [description] - description of the validation\n   */\n  lowercase(count) {\n    count && _validateLength(count);\n    return _register.call(this, 'lowercase', arguments);\n  }\n\n  /**\n   * Rule to mandate the presence of uppercase letters in the password\n   *\n   * @param {number} [count] - minimum number of uppercase letters required\n   * @param {string} [description] - description of the validation\n\n   */\n  uppercase(count) {\n    count && _validateLength(count);\n    return _register.call(this, 'uppercase', arguments);\n  }\n\n  /**\n   * Rule to mandate the presence of space in the password\n   * It can be used along with 'not' to not allow spaces\n   * in the password\n   *\n   * @param {number} [count] - minimum number of spaces required\n   * @param {string} [description] - description of the validation\n   */\n  spaces(count) {\n    count && _validateLength(count);\n    return _register.call(this, 'spaces', arguments);\n  }\n\n  /**\n   * Rule to invert the effects of 'not'\n   * Apart from that, 'has' is also used\n   * to make the api readable and chainable\n   *\n   * @param {string|RegExp} [patten] - pattern to match\n   * @param {string} [description] - description of the validation\n   */\n  has() {\n    return _register.call(this, 'has', arguments);\n  }\n\n  /**\n   * Rule to invert the next applied rules.\n   * All the rules applied after 'not' will have opposite effect,\n   * until 'has' rule is applied\n   *\n   * @param {string|RegExp} [patten] - pattern to not match\n   * @param {string} [description] - description of the validation\n   */\n  not() {\n    return _register.call(this, 'not', arguments);\n  }\n\n  /**\n   * Rule to invert the effects of 'not'\n   * Apart from that, 'is' is also used\n   * to make the api readable and chainable\n   */\n  is() {\n    return _register.call(this, 'is', arguments);\n  }\n\n  /**\n   * Rule to whitelist words to be used as password\n   *\n   * @param {array} list - list of values allowed\n   * @param {string} [description] - description of the validation\n   */\n  oneOf() {\n    return _register.call(this, 'oneOf', arguments);\n  }\n}\n\nmodule.exports = PasswordValidator;\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es-x/no-object-getownpropertynames -- safe\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","/* eslint-disable no-unused-vars -- required for functions `.length` */\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar apply = require('../internals/function-apply');\nvar wrapErrorConstructorWithCause = require('../internals/wrap-error-constructor-with-cause');\n\nvar WEB_ASSEMBLY = 'WebAssembly';\nvar WebAssembly = global[WEB_ASSEMBLY];\n\nvar FORCED = Error('e', { cause: 7 }).cause !== 7;\n\nvar exportGlobalErrorCauseWrapper = function (ERROR_NAME, wrapper) {\n  var O = {};\n  O[ERROR_NAME] = wrapErrorConstructorWithCause(ERROR_NAME, wrapper, FORCED);\n  $({ global: true, constructor: true, arity: 1, forced: FORCED }, O);\n};\n\nvar exportWebAssemblyErrorCauseWrapper = function (ERROR_NAME, wrapper) {\n  if (WebAssembly && WebAssembly[ERROR_NAME]) {\n    var O = {};\n    O[ERROR_NAME] = wrapErrorConstructorWithCause(WEB_ASSEMBLY + '.' + ERROR_NAME, wrapper, FORCED);\n    $({ target: WEB_ASSEMBLY, stat: true, constructor: true, arity: 1, forced: FORCED }, O);\n  }\n};\n\n// https://github.com/tc39/proposal-error-cause\nexportGlobalErrorCauseWrapper('Error', function (init) {\n  return function Error(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('EvalError', function (init) {\n  return function EvalError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('RangeError', function (init) {\n  return function RangeError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('ReferenceError', function (init) {\n  return function ReferenceError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('SyntaxError', function (init) {\n  return function SyntaxError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('TypeError', function (init) {\n  return function TypeError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('URIError', function (init) {\n  return function URIError(message) { return apply(init, this, arguments); };\n});\nexportWebAssemblyErrorCauseWrapper('CompileError', function (init) {\n  return function CompileError(message) { return apply(init, this, arguments); };\n});\nexportWebAssemblyErrorCauseWrapper('LinkError', function (init) {\n  return function LinkError(message) { return apply(init, this, arguments); };\n});\nexportWebAssemblyErrorCauseWrapper('RuntimeError', function (init) {\n  return function RuntimeError(message) { return apply(init, this, arguments); };\n});\n","/**\n * Prints a string as a GraphQL StringValue literal. Replaces control characters\n * and excluded characters (\" U+0022 and \\\\ U+005C) with escape sequences.\n */\nexport function printString(str) {\n  return `\"${str.replace(escapedRegExp, escapedReplacer)}\"`;\n} // eslint-disable-next-line no-control-regex\n\nconst escapedRegExp = /[\\x00-\\x1f\\x22\\x5c\\x7f-\\x9f]/g;\n\nfunction escapedReplacer(str) {\n  return escapeSequences[str.charCodeAt(0)];\n} // prettier-ignore\n\nconst escapeSequences = [\n  '\\\\u0000',\n  '\\\\u0001',\n  '\\\\u0002',\n  '\\\\u0003',\n  '\\\\u0004',\n  '\\\\u0005',\n  '\\\\u0006',\n  '\\\\u0007',\n  '\\\\b',\n  '\\\\t',\n  '\\\\n',\n  '\\\\u000B',\n  '\\\\f',\n  '\\\\r',\n  '\\\\u000E',\n  '\\\\u000F',\n  '\\\\u0010',\n  '\\\\u0011',\n  '\\\\u0012',\n  '\\\\u0013',\n  '\\\\u0014',\n  '\\\\u0015',\n  '\\\\u0016',\n  '\\\\u0017',\n  '\\\\u0018',\n  '\\\\u0019',\n  '\\\\u001A',\n  '\\\\u001B',\n  '\\\\u001C',\n  '\\\\u001D',\n  '\\\\u001E',\n  '\\\\u001F',\n  '',\n  '',\n  '\\\\\"',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '', // 2F\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '', // 3F\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '', // 4F\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '\\\\\\\\',\n  '',\n  '',\n  '', // 5F\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '', // 6F\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '\\\\u007F',\n  '\\\\u0080',\n  '\\\\u0081',\n  '\\\\u0082',\n  '\\\\u0083',\n  '\\\\u0084',\n  '\\\\u0085',\n  '\\\\u0086',\n  '\\\\u0087',\n  '\\\\u0088',\n  '\\\\u0089',\n  '\\\\u008A',\n  '\\\\u008B',\n  '\\\\u008C',\n  '\\\\u008D',\n  '\\\\u008E',\n  '\\\\u008F',\n  '\\\\u0090',\n  '\\\\u0091',\n  '\\\\u0092',\n  '\\\\u0093',\n  '\\\\u0094',\n  '\\\\u0095',\n  '\\\\u0096',\n  '\\\\u0097',\n  '\\\\u0098',\n  '\\\\u0099',\n  '\\\\u009A',\n  '\\\\u009B',\n  '\\\\u009C',\n  '\\\\u009D',\n  '\\\\u009E',\n  '\\\\u009F',\n];\n","import { printBlockString } from './blockString.mjs';\nimport { printString } from './printString.mjs';\nimport { visit } from './visitor.mjs';\n/**\n * Converts an AST into a string, using one set of reasonable\n * formatting rules.\n */\n\nexport function print(ast) {\n  return visit(ast, printDocASTReducer);\n}\nconst MAX_LINE_LENGTH = 80;\nconst printDocASTReducer = {\n  Name: {\n    leave: (node) => node.value,\n  },\n  Variable: {\n    leave: (node) => '$' + node.name,\n  },\n  // Document\n  Document: {\n    leave: (node) => join(node.definitions, '\\n\\n'),\n  },\n  OperationDefinition: {\n    leave(node) {\n      const varDefs = wrap('(', join(node.variableDefinitions, ', '), ')');\n      const prefix = join(\n        [\n          node.operation,\n          join([node.name, varDefs]),\n          join(node.directives, ' '),\n        ],\n        ' ',\n      ); // Anonymous queries with no directives or variable definitions can use\n      // the query short form.\n\n      return (prefix === 'query' ? '' : prefix + ' ') + node.selectionSet;\n    },\n  },\n  VariableDefinition: {\n    leave: ({ variable, type, defaultValue, directives }) =>\n      variable +\n      ': ' +\n      type +\n      wrap(' = ', defaultValue) +\n      wrap(' ', join(directives, ' ')),\n  },\n  SelectionSet: {\n    leave: ({ selections }) => block(selections),\n  },\n  Field: {\n    leave({ alias, name, arguments: args, directives, selectionSet }) {\n      const prefix = wrap('', alias, ': ') + name;\n      let argsLine = prefix + wrap('(', join(args, ', '), ')');\n\n      if (argsLine.length > MAX_LINE_LENGTH) {\n        argsLine = prefix + wrap('(\\n', indent(join(args, '\\n')), '\\n)');\n      }\n\n      return join([argsLine, join(directives, ' '), selectionSet], ' ');\n    },\n  },\n  Argument: {\n    leave: ({ name, value }) => name + ': ' + value,\n  },\n  // Fragments\n  FragmentSpread: {\n    leave: ({ name, directives }) =>\n      '...' + name + wrap(' ', join(directives, ' ')),\n  },\n  InlineFragment: {\n    leave: ({ typeCondition, directives, selectionSet }) =>\n      join(\n        [\n          '...',\n          wrap('on ', typeCondition),\n          join(directives, ' '),\n          selectionSet,\n        ],\n        ' ',\n      ),\n  },\n  FragmentDefinition: {\n    leave: (\n      { name, typeCondition, variableDefinitions, directives, selectionSet }, // Note: fragment variable definitions are experimental and may be changed\n    ) =>\n      // or removed in the future.\n      `fragment ${name}${wrap('(', join(variableDefinitions, ', '), ')')} ` +\n      `on ${typeCondition} ${wrap('', join(directives, ' '), ' ')}` +\n      selectionSet,\n  },\n  // Value\n  IntValue: {\n    leave: ({ value }) => value,\n  },\n  FloatValue: {\n    leave: ({ value }) => value,\n  },\n  StringValue: {\n    leave: ({ value, block: isBlockString }) =>\n      isBlockString ? printBlockString(value) : printString(value),\n  },\n  BooleanValue: {\n    leave: ({ value }) => (value ? 'true' : 'false'),\n  },\n  NullValue: {\n    leave: () => 'null',\n  },\n  EnumValue: {\n    leave: ({ value }) => value,\n  },\n  ListValue: {\n    leave: ({ values }) => '[' + join(values, ', ') + ']',\n  },\n  ObjectValue: {\n    leave: ({ fields }) => '{' + join(fields, ', ') + '}',\n  },\n  ObjectField: {\n    leave: ({ name, value }) => name + ': ' + value,\n  },\n  // Directive\n  Directive: {\n    leave: ({ name, arguments: args }) =>\n      '@' + name + wrap('(', join(args, ', '), ')'),\n  },\n  // Type\n  NamedType: {\n    leave: ({ name }) => name,\n  },\n  ListType: {\n    leave: ({ type }) => '[' + type + ']',\n  },\n  NonNullType: {\n    leave: ({ type }) => type + '!',\n  },\n  // Type System Definitions\n  SchemaDefinition: {\n    leave: ({ description, directives, operationTypes }) =>\n      wrap('', description, '\\n') +\n      join(['schema', join(directives, ' '), block(operationTypes)], ' '),\n  },\n  OperationTypeDefinition: {\n    leave: ({ operation, type }) => operation + ': ' + type,\n  },\n  ScalarTypeDefinition: {\n    leave: ({ description, name, directives }) =>\n      wrap('', description, '\\n') +\n      join(['scalar', name, join(directives, ' ')], ' '),\n  },\n  ObjectTypeDefinition: {\n    leave: ({ description, name, interfaces, directives, fields }) =>\n      wrap('', description, '\\n') +\n      join(\n        [\n          'type',\n          name,\n          wrap('implements ', join(interfaces, ' & ')),\n          join(directives, ' '),\n          block(fields),\n        ],\n        ' ',\n      ),\n  },\n  FieldDefinition: {\n    leave: ({ description, name, arguments: args, type, directives }) =>\n      wrap('', description, '\\n') +\n      name +\n      (hasMultilineItems(args)\n        ? wrap('(\\n', indent(join(args, '\\n')), '\\n)')\n        : wrap('(', join(args, ', '), ')')) +\n      ': ' +\n      type +\n      wrap(' ', join(directives, ' ')),\n  },\n  InputValueDefinition: {\n    leave: ({ description, name, type, defaultValue, directives }) =>\n      wrap('', description, '\\n') +\n      join(\n        [name + ': ' + type, wrap('= ', defaultValue), join(directives, ' ')],\n        ' ',\n      ),\n  },\n  InterfaceTypeDefinition: {\n    leave: ({ description, name, interfaces, directives, fields }) =>\n      wrap('', description, '\\n') +\n      join(\n        [\n          'interface',\n          name,\n          wrap('implements ', join(interfaces, ' & ')),\n          join(directives, ' '),\n          block(fields),\n        ],\n        ' ',\n      ),\n  },\n  UnionTypeDefinition: {\n    leave: ({ description, name, directives, types }) =>\n      wrap('', description, '\\n') +\n      join(\n        ['union', name, join(directives, ' '), wrap('= ', join(types, ' | '))],\n        ' ',\n      ),\n  },\n  EnumTypeDefinition: {\n    leave: ({ description, name, directives, values }) =>\n      wrap('', description, '\\n') +\n      join(['enum', name, join(directives, ' '), block(values)], ' '),\n  },\n  EnumValueDefinition: {\n    leave: ({ description, name, directives }) =>\n      wrap('', description, '\\n') + join([name, join(directives, ' ')], ' '),\n  },\n  InputObjectTypeDefinition: {\n    leave: ({ description, name, directives, fields }) =>\n      wrap('', description, '\\n') +\n      join(['input', name, join(directives, ' '), block(fields)], ' '),\n  },\n  DirectiveDefinition: {\n    leave: ({ description, name, arguments: args, repeatable, locations }) =>\n      wrap('', description, '\\n') +\n      'directive @' +\n      name +\n      (hasMultilineItems(args)\n        ? wrap('(\\n', indent(join(args, '\\n')), '\\n)')\n        : wrap('(', join(args, ', '), ')')) +\n      (repeatable ? ' repeatable' : '') +\n      ' on ' +\n      join(locations, ' | '),\n  },\n  SchemaExtension: {\n    leave: ({ directives, operationTypes }) =>\n      join(\n        ['extend schema', join(directives, ' '), block(operationTypes)],\n        ' ',\n      ),\n  },\n  ScalarTypeExtension: {\n    leave: ({ name, directives }) =>\n      join(['extend scalar', name, join(directives, ' ')], ' '),\n  },\n  ObjectTypeExtension: {\n    leave: ({ name, interfaces, directives, fields }) =>\n      join(\n        [\n          'extend type',\n          name,\n          wrap('implements ', join(interfaces, ' & ')),\n          join(directives, ' '),\n          block(fields),\n        ],\n        ' ',\n      ),\n  },\n  InterfaceTypeExtension: {\n    leave: ({ name, interfaces, directives, fields }) =>\n      join(\n        [\n          'extend interface',\n          name,\n          wrap('implements ', join(interfaces, ' & ')),\n          join(directives, ' '),\n          block(fields),\n        ],\n        ' ',\n      ),\n  },\n  UnionTypeExtension: {\n    leave: ({ name, directives, types }) =>\n      join(\n        [\n          'extend union',\n          name,\n          join(directives, ' '),\n          wrap('= ', join(types, ' | ')),\n        ],\n        ' ',\n      ),\n  },\n  EnumTypeExtension: {\n    leave: ({ name, directives, values }) =>\n      join(['extend enum', name, join(directives, ' '), block(values)], ' '),\n  },\n  InputObjectTypeExtension: {\n    leave: ({ name, directives, fields }) =>\n      join(['extend input', name, join(directives, ' '), block(fields)], ' '),\n  },\n};\n/**\n * Given maybeArray, print an empty string if it is null or empty, otherwise\n * print all items together separated by separator if provided\n */\n\nfunction join(maybeArray, separator = '') {\n  var _maybeArray$filter$jo;\n\n  return (_maybeArray$filter$jo =\n    maybeArray === null || maybeArray === void 0\n      ? void 0\n      : maybeArray.filter((x) => x).join(separator)) !== null &&\n    _maybeArray$filter$jo !== void 0\n    ? _maybeArray$filter$jo\n    : '';\n}\n/**\n * Given array, print each item on its own line, wrapped in an indented `{ }` block.\n */\n\nfunction block(array) {\n  return wrap('{\\n', indent(join(array, '\\n')), '\\n}');\n}\n/**\n * If maybeString is not null or empty, then wrap with start and end, otherwise print an empty string.\n */\n\nfunction wrap(start, maybeString, end = '') {\n  return maybeString != null && maybeString !== ''\n    ? start + maybeString + end\n    : '';\n}\n\nfunction indent(str) {\n  return wrap('  ', str.replace(/\\n/g, '\\n  '));\n}\n\nfunction hasMultilineItems(maybeArray) {\n  var _maybeArray$some;\n\n  // FIXME: https://github.com/graphql/graphql-js/issues/2203\n\n  /* c8 ignore next */\n  return (_maybeArray$some =\n    maybeArray === null || maybeArray === void 0\n      ? void 0\n      : maybeArray.some((str) => str.includes('\\n'))) !== null &&\n    _maybeArray$some !== void 0\n    ? _maybeArray$some\n    : false;\n}\n","module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","var NATIVE_BIND = require('../internals/function-bind-native');\n\nvar call = Function.prototype.call;\n\nmodule.exports = NATIVE_BIND ? call.bind(call) : function () {\n  return call.apply(call, arguments);\n};\n","export var version = '3.6.6';\n//# sourceMappingURL=version.js.map","import { Observable } from \"./Observable.js\";\nexport function asyncMap(observable, mapFn, catchFn) {\n    return new Observable(function (observer) {\n        var next = observer.next, error = observer.error, complete = observer.complete;\n        var activeCallbackCount = 0;\n        var completed = false;\n        var promiseQueue = {\n            then: function (callback) {\n                return new Promise(function (resolve) { return resolve(callback()); });\n            },\n        };\n        function makeCallback(examiner, delegate) {\n            if (examiner) {\n                return function (arg) {\n                    ++activeCallbackCount;\n                    var both = function () { return examiner(arg); };\n                    promiseQueue = promiseQueue.then(both, both).then(function (result) {\n                        --activeCallbackCount;\n                        next && next.call(observer, result);\n                        if (completed) {\n                            handler.complete();\n                        }\n                    }, function (error) {\n                        --activeCallbackCount;\n                        throw error;\n                    }).catch(function (caught) {\n                        error && error.call(observer, caught);\n                    });\n                };\n            }\n            else {\n                return function (arg) { return delegate && delegate.call(observer, arg); };\n            }\n        }\n        var handler = {\n            next: makeCallback(mapFn, next),\n            error: makeCallback(catchFn, error),\n            complete: function () {\n                completed = true;\n                if (!activeCallbackCount) {\n                    complete && complete.call(observer);\n                }\n            },\n        };\n        var sub = observable.subscribe(handler);\n        return function () { return sub.unsubscribe(); };\n    });\n}\n//# sourceMappingURL=asyncMap.js.map","export function graphQLResultHasError(result) {\n    return (result.errors && result.errors.length > 0) || false;\n}\n//# sourceMappingURL=errorHandling.js.map","import { __extends } from \"tslib\";\nimport { Observable } from \"./Observable.js\";\nimport { iterateObserversSafely } from \"./iteration.js\";\nimport { fixObservableSubclass } from \"./subclassing.js\";\nfunction isPromiseLike(value) {\n    return value && typeof value.then === \"function\";\n}\nvar Concast = (function (_super) {\n    __extends(Concast, _super);\n    function Concast(sources) {\n        var _this = _super.call(this, function (observer) {\n            _this.addObserver(observer);\n            return function () { return _this.removeObserver(observer); };\n        }) || this;\n        _this.observers = new Set();\n        _this.addCount = 0;\n        _this.promise = new Promise(function (resolve, reject) {\n            _this.resolve = resolve;\n            _this.reject = reject;\n        });\n        _this.handlers = {\n            next: function (result) {\n                if (_this.sub !== null) {\n                    _this.latest = [\"next\", result];\n                    iterateObserversSafely(_this.observers, \"next\", result);\n                }\n            },\n            error: function (error) {\n                var sub = _this.sub;\n                if (sub !== null) {\n                    if (sub)\n                        setTimeout(function () { return sub.unsubscribe(); });\n                    _this.sub = null;\n                    _this.latest = [\"error\", error];\n                    _this.reject(error);\n                    iterateObserversSafely(_this.observers, \"error\", error);\n                }\n            },\n            complete: function () {\n                var sub = _this.sub;\n                if (sub !== null) {\n                    var value = _this.sources.shift();\n                    if (!value) {\n                        if (sub)\n                            setTimeout(function () { return sub.unsubscribe(); });\n                        _this.sub = null;\n                        if (_this.latest &&\n                            _this.latest[0] === \"next\") {\n                            _this.resolve(_this.latest[1]);\n                        }\n                        else {\n                            _this.resolve();\n                        }\n                        iterateObserversSafely(_this.observers, \"complete\");\n                    }\n                    else if (isPromiseLike(value)) {\n                        value.then(function (obs) { return _this.sub = obs.subscribe(_this.handlers); });\n                    }\n                    else {\n                        _this.sub = value.subscribe(_this.handlers);\n                    }\n                }\n            },\n        };\n        _this.cancel = function (reason) {\n            _this.reject(reason);\n            _this.sources = [];\n            _this.handlers.complete();\n        };\n        _this.promise.catch(function (_) { });\n        if (typeof sources === \"function\") {\n            sources = [new Observable(sources)];\n        }\n        if (isPromiseLike(sources)) {\n            sources.then(function (iterable) { return _this.start(iterable); }, _this.handlers.error);\n        }\n        else {\n            _this.start(sources);\n        }\n        return _this;\n    }\n    Concast.prototype.start = function (sources) {\n        if (this.sub !== void 0)\n            return;\n        this.sources = Array.from(sources);\n        this.handlers.complete();\n    };\n    Concast.prototype.deliverLastMessage = function (observer) {\n        if (this.latest) {\n            var nextOrError = this.latest[0];\n            var method = observer[nextOrError];\n            if (method) {\n                method.call(observer, this.latest[1]);\n            }\n            if (this.sub === null &&\n                nextOrError === \"next\" &&\n                observer.complete) {\n                observer.complete();\n            }\n        }\n    };\n    Concast.prototype.addObserver = function (observer) {\n        if (!this.observers.has(observer)) {\n            this.deliverLastMessage(observer);\n            this.observers.add(observer);\n            ++this.addCount;\n        }\n    };\n    Concast.prototype.removeObserver = function (observer, quietly) {\n        if (this.observers.delete(observer) &&\n            --this.addCount < 1 &&\n            !quietly) {\n            this.handlers.complete();\n        }\n    };\n    Concast.prototype.cleanup = function (callback) {\n        var _this = this;\n        var called = false;\n        var once = function () {\n            if (!called) {\n                called = true;\n                _this.observers.delete(observer);\n                callback();\n            }\n        };\n        var observer = {\n            next: once,\n            error: once,\n            complete: once,\n        };\n        var count = this.addCount;\n        this.addObserver(observer);\n        this.addCount = count;\n    };\n    return Concast;\n}(Observable));\nexport { Concast };\nfixObservableSubclass(Concast);\n//# sourceMappingURL=Concast.js.map","import { __assign, __awaiter, __generator } from \"tslib\";\nimport { invariant } from \"../utilities/globals/index.js\";\nimport { visit, BREAK, } from 'graphql';\nimport { argumentsObjectFromField, buildQueryFromSelectionSet, createFragmentMap, getFragmentDefinitions, getMainDefinition, hasDirectives, isField, isInlineFragment, mergeDeep, mergeDeepArray, removeClientSetsFromDocument, resultKeyNameFromField, shouldInclude, } from \"../utilities/index.js\";\nimport { cacheSlot } from \"../cache/index.js\";\nvar LocalState = (function () {\n    function LocalState(_a) {\n        var cache = _a.cache, client = _a.client, resolvers = _a.resolvers, fragmentMatcher = _a.fragmentMatcher;\n        this.cache = cache;\n        if (client) {\n            this.client = client;\n        }\n        if (resolvers) {\n            this.addResolvers(resolvers);\n        }\n        if (fragmentMatcher) {\n            this.setFragmentMatcher(fragmentMatcher);\n        }\n    }\n    LocalState.prototype.addResolvers = function (resolvers) {\n        var _this = this;\n        this.resolvers = this.resolvers || {};\n        if (Array.isArray(resolvers)) {\n            resolvers.forEach(function (resolverGroup) {\n                _this.resolvers = mergeDeep(_this.resolvers, resolverGroup);\n            });\n        }\n        else {\n            this.resolvers = mergeDeep(this.resolvers, resolvers);\n        }\n    };\n    LocalState.prototype.setResolvers = function (resolvers) {\n        this.resolvers = {};\n        this.addResolvers(resolvers);\n    };\n    LocalState.prototype.getResolvers = function () {\n        return this.resolvers || {};\n    };\n    LocalState.prototype.runResolvers = function (_a) {\n        var document = _a.document, remoteResult = _a.remoteResult, context = _a.context, variables = _a.variables, _b = _a.onlyRunForcedResolvers, onlyRunForcedResolvers = _b === void 0 ? false : _b;\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_c) {\n                if (document) {\n                    return [2, this.resolveDocument(document, remoteResult.data, context, variables, this.fragmentMatcher, onlyRunForcedResolvers).then(function (localResult) { return (__assign(__assign({}, remoteResult), { data: localResult.result })); })];\n                }\n                return [2, remoteResult];\n            });\n        });\n    };\n    LocalState.prototype.setFragmentMatcher = function (fragmentMatcher) {\n        this.fragmentMatcher = fragmentMatcher;\n    };\n    LocalState.prototype.getFragmentMatcher = function () {\n        return this.fragmentMatcher;\n    };\n    LocalState.prototype.clientQuery = function (document) {\n        if (hasDirectives(['client'], document)) {\n            if (this.resolvers) {\n                return document;\n            }\n        }\n        return null;\n    };\n    LocalState.prototype.serverQuery = function (document) {\n        return removeClientSetsFromDocument(document);\n    };\n    LocalState.prototype.prepareContext = function (context) {\n        var cache = this.cache;\n        return __assign(__assign({}, context), { cache: cache, getCacheKey: function (obj) {\n                return cache.identify(obj);\n            } });\n    };\n    LocalState.prototype.addExportedVariables = function (document, variables, context) {\n        if (variables === void 0) { variables = {}; }\n        if (context === void 0) { context = {}; }\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                if (document) {\n                    return [2, this.resolveDocument(document, this.buildRootValueFromCache(document, variables) || {}, this.prepareContext(context), variables).then(function (data) { return (__assign(__assign({}, variables), data.exportedVariables)); })];\n                }\n                return [2, __assign({}, variables)];\n            });\n        });\n    };\n    LocalState.prototype.shouldForceResolvers = function (document) {\n        var forceResolvers = false;\n        visit(document, {\n            Directive: {\n                enter: function (node) {\n                    if (node.name.value === 'client' && node.arguments) {\n                        forceResolvers = node.arguments.some(function (arg) {\n                            return arg.name.value === 'always' &&\n                                arg.value.kind === 'BooleanValue' &&\n                                arg.value.value === true;\n                        });\n                        if (forceResolvers) {\n                            return BREAK;\n                        }\n                    }\n                },\n            },\n        });\n        return forceResolvers;\n    };\n    LocalState.prototype.buildRootValueFromCache = function (document, variables) {\n        return this.cache.diff({\n            query: buildQueryFromSelectionSet(document),\n            variables: variables,\n            returnPartialData: true,\n            optimistic: false,\n        }).result;\n    };\n    LocalState.prototype.resolveDocument = function (document, rootValue, context, variables, fragmentMatcher, onlyRunForcedResolvers) {\n        if (context === void 0) { context = {}; }\n        if (variables === void 0) { variables = {}; }\n        if (fragmentMatcher === void 0) { fragmentMatcher = function () { return true; }; }\n        if (onlyRunForcedResolvers === void 0) { onlyRunForcedResolvers = false; }\n        return __awaiter(this, void 0, void 0, function () {\n            var mainDefinition, fragments, fragmentMap, definitionOperation, defaultOperationType, _a, cache, client, execContext;\n            return __generator(this, function (_b) {\n                mainDefinition = getMainDefinition(document);\n                fragments = getFragmentDefinitions(document);\n                fragmentMap = createFragmentMap(fragments);\n                definitionOperation = mainDefinition\n                    .operation;\n                defaultOperationType = definitionOperation\n                    ? definitionOperation.charAt(0).toUpperCase() +\n                        definitionOperation.slice(1)\n                    : 'Query';\n                _a = this, cache = _a.cache, client = _a.client;\n                execContext = {\n                    fragmentMap: fragmentMap,\n                    context: __assign(__assign({}, context), { cache: cache, client: client }),\n                    variables: variables,\n                    fragmentMatcher: fragmentMatcher,\n                    defaultOperationType: defaultOperationType,\n                    exportedVariables: {},\n                    onlyRunForcedResolvers: onlyRunForcedResolvers,\n                };\n                return [2, this.resolveSelectionSet(mainDefinition.selectionSet, rootValue, execContext).then(function (result) { return ({\n                        result: result,\n                        exportedVariables: execContext.exportedVariables,\n                    }); })];\n            });\n        });\n    };\n    LocalState.prototype.resolveSelectionSet = function (selectionSet, rootValue, execContext) {\n        return __awaiter(this, void 0, void 0, function () {\n            var fragmentMap, context, variables, resultsToMerge, execute;\n            var _this = this;\n            return __generator(this, function (_a) {\n                fragmentMap = execContext.fragmentMap, context = execContext.context, variables = execContext.variables;\n                resultsToMerge = [rootValue];\n                execute = function (selection) { return __awaiter(_this, void 0, void 0, function () {\n                    var fragment, typeCondition;\n                    return __generator(this, function (_a) {\n                        if (!shouldInclude(selection, variables)) {\n                            return [2];\n                        }\n                        if (isField(selection)) {\n                            return [2, this.resolveField(selection, rootValue, execContext).then(function (fieldResult) {\n                                    var _a;\n                                    if (typeof fieldResult !== 'undefined') {\n                                        resultsToMerge.push((_a = {},\n                                            _a[resultKeyNameFromField(selection)] = fieldResult,\n                                            _a));\n                                    }\n                                })];\n                        }\n                        if (isInlineFragment(selection)) {\n                            fragment = selection;\n                        }\n                        else {\n                            fragment = fragmentMap[selection.name.value];\n                            __DEV__ ? invariant(fragment, \"No fragment named \".concat(selection.name.value)) : invariant(fragment, 9);\n                        }\n                        if (fragment && fragment.typeCondition) {\n                            typeCondition = fragment.typeCondition.name.value;\n                            if (execContext.fragmentMatcher(rootValue, typeCondition, context)) {\n                                return [2, this.resolveSelectionSet(fragment.selectionSet, rootValue, execContext).then(function (fragmentResult) {\n                                        resultsToMerge.push(fragmentResult);\n                                    })];\n                            }\n                        }\n                        return [2];\n                    });\n                }); };\n                return [2, Promise.all(selectionSet.selections.map(execute)).then(function () {\n                        return mergeDeepArray(resultsToMerge);\n                    })];\n            });\n        });\n    };\n    LocalState.prototype.resolveField = function (field, rootValue, execContext) {\n        return __awaiter(this, void 0, void 0, function () {\n            var variables, fieldName, aliasedFieldName, aliasUsed, defaultResult, resultPromise, resolverType, resolverMap, resolve;\n            var _this = this;\n            return __generator(this, function (_a) {\n                variables = execContext.variables;\n                fieldName = field.name.value;\n                aliasedFieldName = resultKeyNameFromField(field);\n                aliasUsed = fieldName !== aliasedFieldName;\n                defaultResult = rootValue[aliasedFieldName] || rootValue[fieldName];\n                resultPromise = Promise.resolve(defaultResult);\n                if (!execContext.onlyRunForcedResolvers ||\n                    this.shouldForceResolvers(field)) {\n                    resolverType = rootValue.__typename || execContext.defaultOperationType;\n                    resolverMap = this.resolvers && this.resolvers[resolverType];\n                    if (resolverMap) {\n                        resolve = resolverMap[aliasUsed ? fieldName : aliasedFieldName];\n                        if (resolve) {\n                            resultPromise = Promise.resolve(cacheSlot.withValue(this.cache, resolve, [\n                                rootValue,\n                                argumentsObjectFromField(field, variables),\n                                execContext.context,\n                                { field: field, fragmentMap: execContext.fragmentMap },\n                            ]));\n                        }\n                    }\n                }\n                return [2, resultPromise.then(function (result) {\n                        if (result === void 0) { result = defaultResult; }\n                        if (field.directives) {\n                            field.directives.forEach(function (directive) {\n                                if (directive.name.value === 'export' && directive.arguments) {\n                                    directive.arguments.forEach(function (arg) {\n                                        if (arg.name.value === 'as' && arg.value.kind === 'StringValue') {\n                                            execContext.exportedVariables[arg.value.value] = result;\n                                        }\n                                    });\n                                }\n                            });\n                        }\n                        if (!field.selectionSet) {\n                            return result;\n                        }\n                        if (result == null) {\n                            return result;\n                        }\n                        if (Array.isArray(result)) {\n                            return _this.resolveSubSelectedArray(field, result, execContext);\n                        }\n                        if (field.selectionSet) {\n                            return _this.resolveSelectionSet(field.selectionSet, result, execContext);\n                        }\n                    })];\n            });\n        });\n    };\n    LocalState.prototype.resolveSubSelectedArray = function (field, result, execContext) {\n        var _this = this;\n        return Promise.all(result.map(function (item) {\n            if (item === null) {\n                return null;\n            }\n            if (Array.isArray(item)) {\n                return _this.resolveSubSelectedArray(field, item, execContext);\n            }\n            if (field.selectionSet) {\n                return _this.resolveSelectionSet(field.selectionSet, item, execContext);\n            }\n        }));\n    };\n    return LocalState;\n}());\nexport { LocalState };\n//# sourceMappingURL=LocalState.js.map","import { __assign } from \"tslib\";\nimport { equal } from \"@wry/equality\";\nimport { reobserveCacheFirst } from \"./ObservableQuery.js\";\nimport { isNonEmptyArray, graphQLResultHasError, canUseWeakMap, } from \"../utilities/index.js\";\nimport { NetworkStatus, isNetworkRequestInFlight, } from \"./networkStatus.js\";\n;\nvar destructiveMethodCounts = new (canUseWeakMap ? WeakMap : Map)();\nfunction wrapDestructiveCacheMethod(cache, methodName) {\n    var original = cache[methodName];\n    if (typeof original === \"function\") {\n        cache[methodName] = function () {\n            destructiveMethodCounts.set(cache, (destructiveMethodCounts.get(cache) + 1) % 1e15);\n            return original.apply(this, arguments);\n        };\n    }\n}\nfunction cancelNotifyTimeout(info) {\n    if (info[\"notifyTimeout\"]) {\n        clearTimeout(info[\"notifyTimeout\"]);\n        info[\"notifyTimeout\"] = void 0;\n    }\n}\nvar QueryInfo = (function () {\n    function QueryInfo(queryManager, queryId) {\n        if (queryId === void 0) { queryId = queryManager.generateQueryId(); }\n        this.queryId = queryId;\n        this.listeners = new Set();\n        this.document = null;\n        this.lastRequestId = 1;\n        this.subscriptions = new Set();\n        this.stopped = false;\n        this.dirty = false;\n        this.observableQuery = null;\n        var cache = this.cache = queryManager.cache;\n        if (!destructiveMethodCounts.has(cache)) {\n            destructiveMethodCounts.set(cache, 0);\n            wrapDestructiveCacheMethod(cache, \"evict\");\n            wrapDestructiveCacheMethod(cache, \"modify\");\n            wrapDestructiveCacheMethod(cache, \"reset\");\n        }\n    }\n    QueryInfo.prototype.init = function (query) {\n        var networkStatus = query.networkStatus || NetworkStatus.loading;\n        if (this.variables &&\n            this.networkStatus !== NetworkStatus.loading &&\n            !equal(this.variables, query.variables)) {\n            networkStatus = NetworkStatus.setVariables;\n        }\n        if (!equal(query.variables, this.variables)) {\n            this.lastDiff = void 0;\n        }\n        Object.assign(this, {\n            document: query.document,\n            variables: query.variables,\n            networkError: null,\n            graphQLErrors: this.graphQLErrors || [],\n            networkStatus: networkStatus,\n        });\n        if (query.observableQuery) {\n            this.setObservableQuery(query.observableQuery);\n        }\n        if (query.lastRequestId) {\n            this.lastRequestId = query.lastRequestId;\n        }\n        return this;\n    };\n    QueryInfo.prototype.reset = function () {\n        cancelNotifyTimeout(this);\n        this.lastDiff = void 0;\n        this.dirty = false;\n    };\n    QueryInfo.prototype.getDiff = function (variables) {\n        if (variables === void 0) { variables = this.variables; }\n        var options = this.getDiffOptions(variables);\n        if (this.lastDiff && equal(options, this.lastDiff.options)) {\n            return this.lastDiff.diff;\n        }\n        this.updateWatch(this.variables = variables);\n        var oq = this.observableQuery;\n        if (oq && oq.options.fetchPolicy === \"no-cache\") {\n            return { complete: false };\n        }\n        var diff = this.cache.diff(options);\n        this.updateLastDiff(diff, options);\n        return diff;\n    };\n    QueryInfo.prototype.updateLastDiff = function (diff, options) {\n        this.lastDiff = diff ? {\n            diff: diff,\n            options: options || this.getDiffOptions(),\n        } : void 0;\n    };\n    QueryInfo.prototype.getDiffOptions = function (variables) {\n        var _a;\n        if (variables === void 0) { variables = this.variables; }\n        return {\n            query: this.document,\n            variables: variables,\n            returnPartialData: true,\n            optimistic: true,\n            canonizeResults: (_a = this.observableQuery) === null || _a === void 0 ? void 0 : _a.options.canonizeResults,\n        };\n    };\n    QueryInfo.prototype.setDiff = function (diff) {\n        var _this = this;\n        var oldDiff = this.lastDiff && this.lastDiff.diff;\n        this.updateLastDiff(diff);\n        if (!this.dirty &&\n            !equal(oldDiff && oldDiff.result, diff && diff.result)) {\n            this.dirty = true;\n            if (!this.notifyTimeout) {\n                this.notifyTimeout = setTimeout(function () { return _this.notify(); }, 0);\n            }\n        }\n    };\n    QueryInfo.prototype.setObservableQuery = function (oq) {\n        var _this = this;\n        if (oq === this.observableQuery)\n            return;\n        if (this.oqListener) {\n            this.listeners.delete(this.oqListener);\n        }\n        this.observableQuery = oq;\n        if (oq) {\n            oq[\"queryInfo\"] = this;\n            this.listeners.add(this.oqListener = function () {\n                var diff = _this.getDiff();\n                if (diff.fromOptimisticTransaction) {\n                    oq[\"observe\"]();\n                }\n                else {\n                    reobserveCacheFirst(oq);\n                }\n            });\n        }\n        else {\n            delete this.oqListener;\n        }\n    };\n    QueryInfo.prototype.notify = function () {\n        var _this = this;\n        cancelNotifyTimeout(this);\n        if (this.shouldNotify()) {\n            this.listeners.forEach(function (listener) { return listener(_this); });\n        }\n        this.dirty = false;\n    };\n    QueryInfo.prototype.shouldNotify = function () {\n        if (!this.dirty || !this.listeners.size) {\n            return false;\n        }\n        if (isNetworkRequestInFlight(this.networkStatus) &&\n            this.observableQuery) {\n            var fetchPolicy = this.observableQuery.options.fetchPolicy;\n            if (fetchPolicy !== \"cache-only\" &&\n                fetchPolicy !== \"cache-and-network\") {\n                return false;\n            }\n        }\n        return true;\n    };\n    QueryInfo.prototype.stop = function () {\n        if (!this.stopped) {\n            this.stopped = true;\n            this.reset();\n            this.cancel();\n            this.cancel = QueryInfo.prototype.cancel;\n            this.subscriptions.forEach(function (sub) { return sub.unsubscribe(); });\n            var oq = this.observableQuery;\n            if (oq)\n                oq.stopPolling();\n        }\n    };\n    QueryInfo.prototype.cancel = function () { };\n    QueryInfo.prototype.updateWatch = function (variables) {\n        var _this = this;\n        if (variables === void 0) { variables = this.variables; }\n        var oq = this.observableQuery;\n        if (oq && oq.options.fetchPolicy === \"no-cache\") {\n            return;\n        }\n        var watchOptions = __assign(__assign({}, this.getDiffOptions(variables)), { watcher: this, callback: function (diff) { return _this.setDiff(diff); } });\n        if (!this.lastWatch ||\n            !equal(watchOptions, this.lastWatch)) {\n            this.cancel();\n            this.cancel = this.cache.watch(this.lastWatch = watchOptions);\n        }\n    };\n    QueryInfo.prototype.resetLastWrite = function () {\n        this.lastWrite = void 0;\n    };\n    QueryInfo.prototype.shouldWrite = function (result, variables) {\n        var lastWrite = this.lastWrite;\n        return !(lastWrite &&\n            lastWrite.dmCount === destructiveMethodCounts.get(this.cache) &&\n            equal(variables, lastWrite.variables) &&\n            equal(result.data, lastWrite.result.data));\n    };\n    QueryInfo.prototype.markResult = function (result, options, cacheWriteBehavior) {\n        var _this = this;\n        this.graphQLErrors = isNonEmptyArray(result.errors) ? result.errors : [];\n        this.reset();\n        if (options.fetchPolicy === 'no-cache') {\n            this.updateLastDiff({ result: result.data, complete: true }, this.getDiffOptions(options.variables));\n        }\n        else if (cacheWriteBehavior !== 0) {\n            if (shouldWriteResult(result, options.errorPolicy)) {\n                this.cache.performTransaction(function (cache) {\n                    if (_this.shouldWrite(result, options.variables)) {\n                        cache.writeQuery({\n                            query: _this.document,\n                            data: result.data,\n                            variables: options.variables,\n                            overwrite: cacheWriteBehavior === 1,\n                        });\n                        _this.lastWrite = {\n                            result: result,\n                            variables: options.variables,\n                            dmCount: destructiveMethodCounts.get(_this.cache),\n                        };\n                    }\n                    else {\n                        if (_this.lastDiff &&\n                            _this.lastDiff.diff.complete) {\n                            result.data = _this.lastDiff.diff.result;\n                            return;\n                        }\n                    }\n                    var diffOptions = _this.getDiffOptions(options.variables);\n                    var diff = cache.diff(diffOptions);\n                    if (!_this.stopped) {\n                        _this.updateWatch(options.variables);\n                    }\n                    _this.updateLastDiff(diff, diffOptions);\n                    if (diff.complete) {\n                        result.data = diff.result;\n                    }\n                });\n            }\n            else {\n                this.lastWrite = void 0;\n            }\n        }\n    };\n    QueryInfo.prototype.markReady = function () {\n        this.networkError = null;\n        return this.networkStatus = NetworkStatus.ready;\n    };\n    QueryInfo.prototype.markError = function (error) {\n        this.networkStatus = NetworkStatus.error;\n        this.lastWrite = void 0;\n        this.reset();\n        if (error.graphQLErrors) {\n            this.graphQLErrors = error.graphQLErrors;\n        }\n        if (error.networkError) {\n            this.networkError = error.networkError;\n        }\n        return error;\n    };\n    return QueryInfo;\n}());\nexport { QueryInfo };\nexport function shouldWriteResult(result, errorPolicy) {\n    if (errorPolicy === void 0) { errorPolicy = \"none\"; }\n    var ignoreErrors = errorPolicy === \"ignore\" ||\n        errorPolicy === \"all\";\n    var writeWithErrors = !graphQLResultHasError(result);\n    if (!writeWithErrors && ignoreErrors && result.data) {\n        writeWithErrors = true;\n    }\n    return writeWithErrors;\n}\n//# sourceMappingURL=QueryInfo.js.map","import { __assign, __awaiter, __generator } from \"tslib\";\nimport { invariant, InvariantError } from \"../utilities/globals/index.js\";\nimport { equal } from '@wry/equality';\nimport { execute } from \"../link/core/index.js\";\nimport { canonicalStringify } from \"../cache/index.js\";\nimport { getDefaultValues, getOperationDefinition, getOperationName, hasClientExports, graphQLResultHasError, removeConnectionDirectiveFromDocument, canUseWeakMap, Observable, asyncMap, isNonEmptyArray, Concast, makeUniqueId, isDocumentNode, isNonNullObject, } from \"../utilities/index.js\";\nimport { ApolloError, isApolloError } from \"../errors/index.js\";\nimport { ObservableQuery, logMissingFieldErrors } from \"./ObservableQuery.js\";\nimport { NetworkStatus, isNetworkRequestInFlight } from \"./networkStatus.js\";\nimport { LocalState } from \"./LocalState.js\";\nimport { QueryInfo, shouldWriteResult, } from \"./QueryInfo.js\";\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar QueryManager = (function () {\n    function QueryManager(_a) {\n        var cache = _a.cache, link = _a.link, defaultOptions = _a.defaultOptions, _b = _a.queryDeduplication, queryDeduplication = _b === void 0 ? false : _b, onBroadcast = _a.onBroadcast, _c = _a.ssrMode, ssrMode = _c === void 0 ? false : _c, _d = _a.clientAwareness, clientAwareness = _d === void 0 ? {} : _d, localState = _a.localState, assumeImmutableResults = _a.assumeImmutableResults;\n        this.clientAwareness = {};\n        this.queries = new Map();\n        this.fetchCancelFns = new Map();\n        this.transformCache = new (canUseWeakMap ? WeakMap : Map)();\n        this.queryIdCounter = 1;\n        this.requestIdCounter = 1;\n        this.mutationIdCounter = 1;\n        this.inFlightLinkObservables = new Map();\n        this.cache = cache;\n        this.link = link;\n        this.defaultOptions = defaultOptions || Object.create(null);\n        this.queryDeduplication = queryDeduplication;\n        this.clientAwareness = clientAwareness;\n        this.localState = localState || new LocalState({ cache: cache });\n        this.ssrMode = ssrMode;\n        this.assumeImmutableResults = !!assumeImmutableResults;\n        if ((this.onBroadcast = onBroadcast)) {\n            this.mutationStore = Object.create(null);\n        }\n    }\n    QueryManager.prototype.stop = function () {\n        var _this = this;\n        this.queries.forEach(function (_info, queryId) {\n            _this.stopQueryNoBroadcast(queryId);\n        });\n        this.cancelPendingFetches(__DEV__ ? new InvariantError('QueryManager stopped while query was in flight') : new InvariantError(11));\n    };\n    QueryManager.prototype.cancelPendingFetches = function (error) {\n        this.fetchCancelFns.forEach(function (cancel) { return cancel(error); });\n        this.fetchCancelFns.clear();\n    };\n    QueryManager.prototype.mutate = function (_a) {\n        var _b, _c;\n        var mutation = _a.mutation, variables = _a.variables, optimisticResponse = _a.optimisticResponse, updateQueries = _a.updateQueries, _d = _a.refetchQueries, refetchQueries = _d === void 0 ? [] : _d, _e = _a.awaitRefetchQueries, awaitRefetchQueries = _e === void 0 ? false : _e, updateWithProxyFn = _a.update, onQueryUpdated = _a.onQueryUpdated, _f = _a.fetchPolicy, fetchPolicy = _f === void 0 ? ((_b = this.defaultOptions.mutate) === null || _b === void 0 ? void 0 : _b.fetchPolicy) || \"network-only\" : _f, _g = _a.errorPolicy, errorPolicy = _g === void 0 ? ((_c = this.defaultOptions.mutate) === null || _c === void 0 ? void 0 : _c.errorPolicy) || \"none\" : _g, keepRootFields = _a.keepRootFields, context = _a.context;\n        return __awaiter(this, void 0, void 0, function () {\n            var mutationId, mutationStoreValue, self;\n            return __generator(this, function (_h) {\n                switch (_h.label) {\n                    case 0:\n                        __DEV__ ? invariant(mutation, 'mutation option is required. You must specify your GraphQL document in the mutation option.') : invariant(mutation, 12);\n                        __DEV__ ? invariant(fetchPolicy === 'network-only' ||\n                            fetchPolicy === 'no-cache', \"Mutations support only 'network-only' or 'no-cache' fetchPolicy strings. The default `network-only` behavior automatically writes mutation results to the cache. Passing `no-cache` skips the cache write.\") : invariant(fetchPolicy === 'network-only' ||\n                            fetchPolicy === 'no-cache', 13);\n                        mutationId = this.generateMutationId();\n                        mutation = this.transform(mutation).document;\n                        variables = this.getVariables(mutation, variables);\n                        if (!this.transform(mutation).hasClientExports) return [3, 2];\n                        return [4, this.localState.addExportedVariables(mutation, variables, context)];\n                    case 1:\n                        variables = (_h.sent());\n                        _h.label = 2;\n                    case 2:\n                        mutationStoreValue = this.mutationStore &&\n                            (this.mutationStore[mutationId] = {\n                                mutation: mutation,\n                                variables: variables,\n                                loading: true,\n                                error: null,\n                            });\n                        if (optimisticResponse) {\n                            this.markMutationOptimistic(optimisticResponse, {\n                                mutationId: mutationId,\n                                document: mutation,\n                                variables: variables,\n                                fetchPolicy: fetchPolicy,\n                                errorPolicy: errorPolicy,\n                                context: context,\n                                updateQueries: updateQueries,\n                                update: updateWithProxyFn,\n                                keepRootFields: keepRootFields,\n                            });\n                        }\n                        this.broadcastQueries();\n                        self = this;\n                        return [2, new Promise(function (resolve, reject) {\n                                return asyncMap(self.getObservableFromLink(mutation, __assign(__assign({}, context), { optimisticResponse: optimisticResponse }), variables, false), function (result) {\n                                    if (graphQLResultHasError(result) && errorPolicy === 'none') {\n                                        throw new ApolloError({\n                                            graphQLErrors: result.errors,\n                                        });\n                                    }\n                                    if (mutationStoreValue) {\n                                        mutationStoreValue.loading = false;\n                                        mutationStoreValue.error = null;\n                                    }\n                                    var storeResult = __assign({}, result);\n                                    if (typeof refetchQueries === \"function\") {\n                                        refetchQueries = refetchQueries(storeResult);\n                                    }\n                                    if (errorPolicy === 'ignore' &&\n                                        graphQLResultHasError(storeResult)) {\n                                        delete storeResult.errors;\n                                    }\n                                    return self.markMutationResult({\n                                        mutationId: mutationId,\n                                        result: storeResult,\n                                        document: mutation,\n                                        variables: variables,\n                                        fetchPolicy: fetchPolicy,\n                                        errorPolicy: errorPolicy,\n                                        context: context,\n                                        update: updateWithProxyFn,\n                                        updateQueries: updateQueries,\n                                        awaitRefetchQueries: awaitRefetchQueries,\n                                        refetchQueries: refetchQueries,\n                                        removeOptimistic: optimisticResponse ? mutationId : void 0,\n                                        onQueryUpdated: onQueryUpdated,\n                                        keepRootFields: keepRootFields,\n                                    });\n                                }).subscribe({\n                                    next: function (storeResult) {\n                                        self.broadcastQueries();\n                                        resolve(storeResult);\n                                    },\n                                    error: function (err) {\n                                        if (mutationStoreValue) {\n                                            mutationStoreValue.loading = false;\n                                            mutationStoreValue.error = err;\n                                        }\n                                        if (optimisticResponse) {\n                                            self.cache.removeOptimistic(mutationId);\n                                        }\n                                        self.broadcastQueries();\n                                        reject(err instanceof ApolloError ? err : new ApolloError({\n                                            networkError: err,\n                                        }));\n                                    },\n                                });\n                            })];\n                }\n            });\n        });\n    };\n    QueryManager.prototype.markMutationResult = function (mutation, cache) {\n        var _this = this;\n        if (cache === void 0) { cache = this.cache; }\n        var result = mutation.result;\n        var cacheWrites = [];\n        var skipCache = mutation.fetchPolicy === \"no-cache\";\n        if (!skipCache && shouldWriteResult(result, mutation.errorPolicy)) {\n            cacheWrites.push({\n                result: result.data,\n                dataId: 'ROOT_MUTATION',\n                query: mutation.document,\n                variables: mutation.variables,\n            });\n            var updateQueries_1 = mutation.updateQueries;\n            if (updateQueries_1) {\n                this.queries.forEach(function (_a, queryId) {\n                    var observableQuery = _a.observableQuery;\n                    var queryName = observableQuery && observableQuery.queryName;\n                    if (!queryName || !hasOwnProperty.call(updateQueries_1, queryName)) {\n                        return;\n                    }\n                    var updater = updateQueries_1[queryName];\n                    var _b = _this.queries.get(queryId), document = _b.document, variables = _b.variables;\n                    var _c = cache.diff({\n                        query: document,\n                        variables: variables,\n                        returnPartialData: true,\n                        optimistic: false,\n                    }), currentQueryResult = _c.result, complete = _c.complete;\n                    if (complete && currentQueryResult) {\n                        var nextQueryResult = updater(currentQueryResult, {\n                            mutationResult: result,\n                            queryName: document && getOperationName(document) || void 0,\n                            queryVariables: variables,\n                        });\n                        if (nextQueryResult) {\n                            cacheWrites.push({\n                                result: nextQueryResult,\n                                dataId: 'ROOT_QUERY',\n                                query: document,\n                                variables: variables,\n                            });\n                        }\n                    }\n                });\n            }\n        }\n        if (cacheWrites.length > 0 ||\n            mutation.refetchQueries ||\n            mutation.update ||\n            mutation.onQueryUpdated ||\n            mutation.removeOptimistic) {\n            var results_1 = [];\n            this.refetchQueries({\n                updateCache: function (cache) {\n                    if (!skipCache) {\n                        cacheWrites.forEach(function (write) { return cache.write(write); });\n                    }\n                    var update = mutation.update;\n                    if (update) {\n                        if (!skipCache) {\n                            var diff = cache.diff({\n                                id: \"ROOT_MUTATION\",\n                                query: _this.transform(mutation.document).asQuery,\n                                variables: mutation.variables,\n                                optimistic: false,\n                                returnPartialData: true,\n                            });\n                            if (diff.complete) {\n                                result = __assign(__assign({}, result), { data: diff.result });\n                            }\n                        }\n                        update(cache, result, {\n                            context: mutation.context,\n                            variables: mutation.variables,\n                        });\n                    }\n                    if (!skipCache && !mutation.keepRootFields) {\n                        cache.modify({\n                            id: 'ROOT_MUTATION',\n                            fields: function (value, _a) {\n                                var fieldName = _a.fieldName, DELETE = _a.DELETE;\n                                return fieldName === \"__typename\" ? value : DELETE;\n                            },\n                        });\n                    }\n                },\n                include: mutation.refetchQueries,\n                optimistic: false,\n                removeOptimistic: mutation.removeOptimistic,\n                onQueryUpdated: mutation.onQueryUpdated || null,\n            }).forEach(function (result) { return results_1.push(result); });\n            if (mutation.awaitRefetchQueries || mutation.onQueryUpdated) {\n                return Promise.all(results_1).then(function () { return result; });\n            }\n        }\n        return Promise.resolve(result);\n    };\n    QueryManager.prototype.markMutationOptimistic = function (optimisticResponse, mutation) {\n        var _this = this;\n        var data = typeof optimisticResponse === \"function\"\n            ? optimisticResponse(mutation.variables)\n            : optimisticResponse;\n        return this.cache.recordOptimisticTransaction(function (cache) {\n            try {\n                _this.markMutationResult(__assign(__assign({}, mutation), { result: { data: data } }), cache);\n            }\n            catch (error) {\n                __DEV__ && invariant.error(error);\n            }\n        }, mutation.mutationId);\n    };\n    QueryManager.prototype.fetchQuery = function (queryId, options, networkStatus) {\n        return this.fetchQueryObservable(queryId, options, networkStatus).promise;\n    };\n    QueryManager.prototype.getQueryStore = function () {\n        var store = Object.create(null);\n        this.queries.forEach(function (info, queryId) {\n            store[queryId] = {\n                variables: info.variables,\n                networkStatus: info.networkStatus,\n                networkError: info.networkError,\n                graphQLErrors: info.graphQLErrors,\n            };\n        });\n        return store;\n    };\n    QueryManager.prototype.resetErrors = function (queryId) {\n        var queryInfo = this.queries.get(queryId);\n        if (queryInfo) {\n            queryInfo.networkError = undefined;\n            queryInfo.graphQLErrors = [];\n        }\n    };\n    QueryManager.prototype.transform = function (document) {\n        var transformCache = this.transformCache;\n        if (!transformCache.has(document)) {\n            var transformed = this.cache.transformDocument(document);\n            var forLink = removeConnectionDirectiveFromDocument(this.cache.transformForLink(transformed));\n            var clientQuery = this.localState.clientQuery(transformed);\n            var serverQuery = forLink && this.localState.serverQuery(forLink);\n            var cacheEntry_1 = {\n                document: transformed,\n                hasClientExports: hasClientExports(transformed),\n                hasForcedResolvers: this.localState.shouldForceResolvers(transformed),\n                clientQuery: clientQuery,\n                serverQuery: serverQuery,\n                defaultVars: getDefaultValues(getOperationDefinition(transformed)),\n                asQuery: __assign(__assign({}, transformed), { definitions: transformed.definitions.map(function (def) {\n                        if (def.kind === \"OperationDefinition\" &&\n                            def.operation !== \"query\") {\n                            return __assign(__assign({}, def), { operation: \"query\" });\n                        }\n                        return def;\n                    }) })\n            };\n            var add = function (doc) {\n                if (doc && !transformCache.has(doc)) {\n                    transformCache.set(doc, cacheEntry_1);\n                }\n            };\n            add(document);\n            add(transformed);\n            add(clientQuery);\n            add(serverQuery);\n        }\n        return transformCache.get(document);\n    };\n    QueryManager.prototype.getVariables = function (document, variables) {\n        return __assign(__assign({}, this.transform(document).defaultVars), variables);\n    };\n    QueryManager.prototype.watchQuery = function (options) {\n        options = __assign(__assign({}, options), { variables: this.getVariables(options.query, options.variables) });\n        if (typeof options.notifyOnNetworkStatusChange === 'undefined') {\n            options.notifyOnNetworkStatusChange = false;\n        }\n        var queryInfo = new QueryInfo(this);\n        var observable = new ObservableQuery({\n            queryManager: this,\n            queryInfo: queryInfo,\n            options: options,\n        });\n        this.queries.set(observable.queryId, queryInfo);\n        queryInfo.init({\n            document: observable.query,\n            observableQuery: observable,\n            variables: observable.variables,\n        });\n        return observable;\n    };\n    QueryManager.prototype.query = function (options, queryId) {\n        var _this = this;\n        if (queryId === void 0) { queryId = this.generateQueryId(); }\n        __DEV__ ? invariant(options.query, 'query option is required. You must specify your GraphQL document ' +\n            'in the query option.') : invariant(options.query, 14);\n        __DEV__ ? invariant(options.query.kind === 'Document', 'You must wrap the query string in a \"gql\" tag.') : invariant(options.query.kind === 'Document', 15);\n        __DEV__ ? invariant(!options.returnPartialData, 'returnPartialData option only supported on watchQuery.') : invariant(!options.returnPartialData, 16);\n        __DEV__ ? invariant(!options.pollInterval, 'pollInterval option only supported on watchQuery.') : invariant(!options.pollInterval, 17);\n        return this.fetchQuery(queryId, options).finally(function () { return _this.stopQuery(queryId); });\n    };\n    QueryManager.prototype.generateQueryId = function () {\n        return String(this.queryIdCounter++);\n    };\n    QueryManager.prototype.generateRequestId = function () {\n        return this.requestIdCounter++;\n    };\n    QueryManager.prototype.generateMutationId = function () {\n        return String(this.mutationIdCounter++);\n    };\n    QueryManager.prototype.stopQueryInStore = function (queryId) {\n        this.stopQueryInStoreNoBroadcast(queryId);\n        this.broadcastQueries();\n    };\n    QueryManager.prototype.stopQueryInStoreNoBroadcast = function (queryId) {\n        var queryInfo = this.queries.get(queryId);\n        if (queryInfo)\n            queryInfo.stop();\n    };\n    QueryManager.prototype.clearStore = function (options) {\n        if (options === void 0) { options = {\n            discardWatches: true,\n        }; }\n        this.cancelPendingFetches(__DEV__ ? new InvariantError('Store reset while query was in flight (not completed in link chain)') : new InvariantError(18));\n        this.queries.forEach(function (queryInfo) {\n            if (queryInfo.observableQuery) {\n                queryInfo.networkStatus = NetworkStatus.loading;\n            }\n            else {\n                queryInfo.stop();\n            }\n        });\n        if (this.mutationStore) {\n            this.mutationStore = Object.create(null);\n        }\n        return this.cache.reset(options);\n    };\n    QueryManager.prototype.getObservableQueries = function (include) {\n        var _this = this;\n        if (include === void 0) { include = \"active\"; }\n        var queries = new Map();\n        var queryNamesAndDocs = new Map();\n        var legacyQueryOptions = new Set();\n        if (Array.isArray(include)) {\n            include.forEach(function (desc) {\n                if (typeof desc === \"string\") {\n                    queryNamesAndDocs.set(desc, false);\n                }\n                else if (isDocumentNode(desc)) {\n                    queryNamesAndDocs.set(_this.transform(desc).document, false);\n                }\n                else if (isNonNullObject(desc) && desc.query) {\n                    legacyQueryOptions.add(desc);\n                }\n            });\n        }\n        this.queries.forEach(function (_a, queryId) {\n            var oq = _a.observableQuery, document = _a.document;\n            if (oq) {\n                if (include === \"all\") {\n                    queries.set(queryId, oq);\n                    return;\n                }\n                var queryName = oq.queryName, fetchPolicy = oq.options.fetchPolicy;\n                if (fetchPolicy === \"standby\" ||\n                    (include === \"active\" && !oq.hasObservers())) {\n                    return;\n                }\n                if (include === \"active\" ||\n                    (queryName && queryNamesAndDocs.has(queryName)) ||\n                    (document && queryNamesAndDocs.has(document))) {\n                    queries.set(queryId, oq);\n                    if (queryName)\n                        queryNamesAndDocs.set(queryName, true);\n                    if (document)\n                        queryNamesAndDocs.set(document, true);\n                }\n            }\n        });\n        if (legacyQueryOptions.size) {\n            legacyQueryOptions.forEach(function (options) {\n                var queryId = makeUniqueId(\"legacyOneTimeQuery\");\n                var queryInfo = _this.getQuery(queryId).init({\n                    document: options.query,\n                    variables: options.variables,\n                });\n                var oq = new ObservableQuery({\n                    queryManager: _this,\n                    queryInfo: queryInfo,\n                    options: __assign(__assign({}, options), { fetchPolicy: \"network-only\" }),\n                });\n                invariant(oq.queryId === queryId);\n                queryInfo.setObservableQuery(oq);\n                queries.set(queryId, oq);\n            });\n        }\n        if (__DEV__ && queryNamesAndDocs.size) {\n            queryNamesAndDocs.forEach(function (included, nameOrDoc) {\n                if (!included) {\n                    __DEV__ && invariant.warn(\"Unknown query \".concat(typeof nameOrDoc === \"string\" ? \"named \" : \"\").concat(JSON.stringify(nameOrDoc, null, 2), \" requested in refetchQueries options.include array\"));\n                }\n            });\n        }\n        return queries;\n    };\n    QueryManager.prototype.reFetchObservableQueries = function (includeStandby) {\n        var _this = this;\n        if (includeStandby === void 0) { includeStandby = false; }\n        var observableQueryPromises = [];\n        this.getObservableQueries(includeStandby ? \"all\" : \"active\").forEach(function (observableQuery, queryId) {\n            var fetchPolicy = observableQuery.options.fetchPolicy;\n            observableQuery.resetLastResults();\n            if (includeStandby ||\n                (fetchPolicy !== \"standby\" &&\n                    fetchPolicy !== \"cache-only\")) {\n                observableQueryPromises.push(observableQuery.refetch());\n            }\n            _this.getQuery(queryId).setDiff(null);\n        });\n        this.broadcastQueries();\n        return Promise.all(observableQueryPromises);\n    };\n    QueryManager.prototype.setObservableQuery = function (observableQuery) {\n        this.getQuery(observableQuery.queryId).setObservableQuery(observableQuery);\n    };\n    QueryManager.prototype.startGraphQLSubscription = function (_a) {\n        var _this = this;\n        var query = _a.query, fetchPolicy = _a.fetchPolicy, errorPolicy = _a.errorPolicy, variables = _a.variables, _b = _a.context, context = _b === void 0 ? {} : _b;\n        query = this.transform(query).document;\n        variables = this.getVariables(query, variables);\n        var makeObservable = function (variables) {\n            return _this.getObservableFromLink(query, context, variables).map(function (result) {\n                if (fetchPolicy !== 'no-cache') {\n                    if (shouldWriteResult(result, errorPolicy)) {\n                        _this.cache.write({\n                            query: query,\n                            result: result.data,\n                            dataId: 'ROOT_SUBSCRIPTION',\n                            variables: variables,\n                        });\n                    }\n                    _this.broadcastQueries();\n                }\n                if (graphQLResultHasError(result)) {\n                    throw new ApolloError({\n                        graphQLErrors: result.errors,\n                    });\n                }\n                return result;\n            });\n        };\n        if (this.transform(query).hasClientExports) {\n            var observablePromise_1 = this.localState.addExportedVariables(query, variables, context).then(makeObservable);\n            return new Observable(function (observer) {\n                var sub = null;\n                observablePromise_1.then(function (observable) { return sub = observable.subscribe(observer); }, observer.error);\n                return function () { return sub && sub.unsubscribe(); };\n            });\n        }\n        return makeObservable(variables);\n    };\n    QueryManager.prototype.stopQuery = function (queryId) {\n        this.stopQueryNoBroadcast(queryId);\n        this.broadcastQueries();\n    };\n    QueryManager.prototype.stopQueryNoBroadcast = function (queryId) {\n        this.stopQueryInStoreNoBroadcast(queryId);\n        this.removeQuery(queryId);\n    };\n    QueryManager.prototype.removeQuery = function (queryId) {\n        this.fetchCancelFns.delete(queryId);\n        if (this.queries.has(queryId)) {\n            this.getQuery(queryId).stop();\n            this.queries.delete(queryId);\n        }\n    };\n    QueryManager.prototype.broadcastQueries = function () {\n        if (this.onBroadcast)\n            this.onBroadcast();\n        this.queries.forEach(function (info) { return info.notify(); });\n    };\n    QueryManager.prototype.getLocalState = function () {\n        return this.localState;\n    };\n    QueryManager.prototype.getObservableFromLink = function (query, context, variables, deduplication) {\n        var _this = this;\n        var _a;\n        if (deduplication === void 0) { deduplication = (_a = context === null || context === void 0 ? void 0 : context.queryDeduplication) !== null && _a !== void 0 ? _a : this.queryDeduplication; }\n        var observable;\n        var serverQuery = this.transform(query).serverQuery;\n        if (serverQuery) {\n            var _b = this, inFlightLinkObservables_1 = _b.inFlightLinkObservables, link = _b.link;\n            var operation = {\n                query: serverQuery,\n                variables: variables,\n                operationName: getOperationName(serverQuery) || void 0,\n                context: this.prepareContext(__assign(__assign({}, context), { forceFetch: !deduplication })),\n            };\n            context = operation.context;\n            if (deduplication) {\n                var byVariables_1 = inFlightLinkObservables_1.get(serverQuery) || new Map();\n                inFlightLinkObservables_1.set(serverQuery, byVariables_1);\n                var varJson_1 = canonicalStringify(variables);\n                observable = byVariables_1.get(varJson_1);\n                if (!observable) {\n                    var concast = new Concast([\n                        execute(link, operation)\n                    ]);\n                    byVariables_1.set(varJson_1, observable = concast);\n                    concast.cleanup(function () {\n                        if (byVariables_1.delete(varJson_1) &&\n                            byVariables_1.size < 1) {\n                            inFlightLinkObservables_1.delete(serverQuery);\n                        }\n                    });\n                }\n            }\n            else {\n                observable = new Concast([\n                    execute(link, operation)\n                ]);\n            }\n        }\n        else {\n            observable = new Concast([\n                Observable.of({ data: {} })\n            ]);\n            context = this.prepareContext(context);\n        }\n        var clientQuery = this.transform(query).clientQuery;\n        if (clientQuery) {\n            observable = asyncMap(observable, function (result) {\n                return _this.localState.runResolvers({\n                    document: clientQuery,\n                    remoteResult: result,\n                    context: context,\n                    variables: variables,\n                });\n            });\n        }\n        return observable;\n    };\n    QueryManager.prototype.getResultsFromLink = function (queryInfo, cacheWriteBehavior, options) {\n        var requestId = queryInfo.lastRequestId = this.generateRequestId();\n        return asyncMap(this.getObservableFromLink(queryInfo.document, options.context, options.variables), function (result) {\n            var hasErrors = isNonEmptyArray(result.errors);\n            if (requestId >= queryInfo.lastRequestId) {\n                if (hasErrors && options.errorPolicy === \"none\") {\n                    throw queryInfo.markError(new ApolloError({\n                        graphQLErrors: result.errors,\n                    }));\n                }\n                queryInfo.markResult(result, options, cacheWriteBehavior);\n                queryInfo.markReady();\n            }\n            var aqr = {\n                data: result.data,\n                loading: false,\n                networkStatus: NetworkStatus.ready,\n            };\n            if (hasErrors && options.errorPolicy !== \"ignore\") {\n                aqr.errors = result.errors;\n                aqr.networkStatus = NetworkStatus.error;\n            }\n            return aqr;\n        }, function (networkError) {\n            var error = isApolloError(networkError)\n                ? networkError\n                : new ApolloError({ networkError: networkError });\n            if (requestId >= queryInfo.lastRequestId) {\n                queryInfo.markError(error);\n            }\n            throw error;\n        });\n    };\n    QueryManager.prototype.fetchQueryObservable = function (queryId, options, networkStatus) {\n        var _this = this;\n        if (networkStatus === void 0) { networkStatus = NetworkStatus.loading; }\n        var query = this.transform(options.query).document;\n        var variables = this.getVariables(query, options.variables);\n        var queryInfo = this.getQuery(queryId);\n        var defaults = this.defaultOptions.watchQuery;\n        var _a = options.fetchPolicy, fetchPolicy = _a === void 0 ? defaults && defaults.fetchPolicy || \"cache-first\" : _a, _b = options.errorPolicy, errorPolicy = _b === void 0 ? defaults && defaults.errorPolicy || \"none\" : _b, _c = options.returnPartialData, returnPartialData = _c === void 0 ? false : _c, _d = options.notifyOnNetworkStatusChange, notifyOnNetworkStatusChange = _d === void 0 ? false : _d, _e = options.context, context = _e === void 0 ? {} : _e;\n        var normalized = Object.assign({}, options, {\n            query: query,\n            variables: variables,\n            fetchPolicy: fetchPolicy,\n            errorPolicy: errorPolicy,\n            returnPartialData: returnPartialData,\n            notifyOnNetworkStatusChange: notifyOnNetworkStatusChange,\n            context: context,\n        });\n        var fromVariables = function (variables) {\n            normalized.variables = variables;\n            return _this.fetchQueryByPolicy(queryInfo, normalized, networkStatus);\n        };\n        this.fetchCancelFns.set(queryId, function (reason) {\n            setTimeout(function () { return concast.cancel(reason); });\n        });\n        var concast = new Concast(this.transform(normalized.query).hasClientExports\n            ? this.localState.addExportedVariables(normalized.query, normalized.variables, normalized.context).then(fromVariables)\n            : fromVariables(normalized.variables));\n        concast.cleanup(function () {\n            _this.fetchCancelFns.delete(queryId);\n            if (queryInfo.observableQuery) {\n                queryInfo.observableQuery[\"applyNextFetchPolicy\"](\"after-fetch\", options);\n            }\n        });\n        return concast;\n    };\n    QueryManager.prototype.refetchQueries = function (_a) {\n        var _this = this;\n        var updateCache = _a.updateCache, include = _a.include, _b = _a.optimistic, optimistic = _b === void 0 ? false : _b, _c = _a.removeOptimistic, removeOptimistic = _c === void 0 ? optimistic ? makeUniqueId(\"refetchQueries\") : void 0 : _c, onQueryUpdated = _a.onQueryUpdated;\n        var includedQueriesById = new Map();\n        if (include) {\n            this.getObservableQueries(include).forEach(function (oq, queryId) {\n                includedQueriesById.set(queryId, {\n                    oq: oq,\n                    lastDiff: _this.getQuery(queryId).getDiff(),\n                });\n            });\n        }\n        var results = new Map;\n        if (updateCache) {\n            this.cache.batch({\n                update: updateCache,\n                optimistic: optimistic && removeOptimistic || false,\n                removeOptimistic: removeOptimistic,\n                onWatchUpdated: function (watch, diff, lastDiff) {\n                    var oq = watch.watcher instanceof QueryInfo &&\n                        watch.watcher.observableQuery;\n                    if (oq) {\n                        if (onQueryUpdated) {\n                            includedQueriesById.delete(oq.queryId);\n                            var result = onQueryUpdated(oq, diff, lastDiff);\n                            if (result === true) {\n                                result = oq.refetch();\n                            }\n                            if (result !== false) {\n                                results.set(oq, result);\n                            }\n                            return result;\n                        }\n                        if (onQueryUpdated !== null) {\n                            includedQueriesById.set(oq.queryId, { oq: oq, lastDiff: lastDiff, diff: diff });\n                        }\n                    }\n                },\n            });\n        }\n        if (includedQueriesById.size) {\n            includedQueriesById.forEach(function (_a, queryId) {\n                var oq = _a.oq, lastDiff = _a.lastDiff, diff = _a.diff;\n                var result;\n                if (onQueryUpdated) {\n                    if (!diff) {\n                        var info = oq[\"queryInfo\"];\n                        info.reset();\n                        diff = info.getDiff();\n                    }\n                    result = onQueryUpdated(oq, diff, lastDiff);\n                }\n                if (!onQueryUpdated || result === true) {\n                    result = oq.refetch();\n                }\n                if (result !== false) {\n                    results.set(oq, result);\n                }\n                if (queryId.indexOf(\"legacyOneTimeQuery\") >= 0) {\n                    _this.stopQueryNoBroadcast(queryId);\n                }\n            });\n        }\n        if (removeOptimistic) {\n            this.cache.removeOptimistic(removeOptimistic);\n        }\n        return results;\n    };\n    QueryManager.prototype.fetchQueryByPolicy = function (queryInfo, _a, networkStatus) {\n        var _this = this;\n        var query = _a.query, variables = _a.variables, fetchPolicy = _a.fetchPolicy, refetchWritePolicy = _a.refetchWritePolicy, errorPolicy = _a.errorPolicy, returnPartialData = _a.returnPartialData, context = _a.context, notifyOnNetworkStatusChange = _a.notifyOnNetworkStatusChange;\n        var oldNetworkStatus = queryInfo.networkStatus;\n        queryInfo.init({\n            document: this.transform(query).document,\n            variables: variables,\n            networkStatus: networkStatus,\n        });\n        var readCache = function () { return queryInfo.getDiff(variables); };\n        var resultsFromCache = function (diff, networkStatus) {\n            if (networkStatus === void 0) { networkStatus = queryInfo.networkStatus || NetworkStatus.loading; }\n            var data = diff.result;\n            if (__DEV__ &&\n                !returnPartialData &&\n                !equal(data, {})) {\n                logMissingFieldErrors(diff.missing);\n            }\n            var fromData = function (data) { return Observable.of(__assign({ data: data, loading: isNetworkRequestInFlight(networkStatus), networkStatus: networkStatus }, (diff.complete ? null : { partial: true }))); };\n            if (data && _this.transform(query).hasForcedResolvers) {\n                return _this.localState.runResolvers({\n                    document: query,\n                    remoteResult: { data: data },\n                    context: context,\n                    variables: variables,\n                    onlyRunForcedResolvers: true,\n                }).then(function (resolved) { return fromData(resolved.data || void 0); });\n            }\n            return fromData(data);\n        };\n        var cacheWriteBehavior = fetchPolicy === \"no-cache\" ? 0 :\n            (networkStatus === NetworkStatus.refetch &&\n                refetchWritePolicy !== \"merge\") ? 1\n                : 2;\n        var resultsFromLink = function () { return _this.getResultsFromLink(queryInfo, cacheWriteBehavior, {\n            variables: variables,\n            context: context,\n            fetchPolicy: fetchPolicy,\n            errorPolicy: errorPolicy,\n        }); };\n        var shouldNotify = notifyOnNetworkStatusChange &&\n            typeof oldNetworkStatus === \"number\" &&\n            oldNetworkStatus !== networkStatus &&\n            isNetworkRequestInFlight(networkStatus);\n        switch (fetchPolicy) {\n            default:\n            case \"cache-first\": {\n                var diff = readCache();\n                if (diff.complete) {\n                    return [\n                        resultsFromCache(diff, queryInfo.markReady()),\n                    ];\n                }\n                if (returnPartialData || shouldNotify) {\n                    return [\n                        resultsFromCache(diff),\n                        resultsFromLink(),\n                    ];\n                }\n                return [\n                    resultsFromLink(),\n                ];\n            }\n            case \"cache-and-network\": {\n                var diff = readCache();\n                if (diff.complete || returnPartialData || shouldNotify) {\n                    return [\n                        resultsFromCache(diff),\n                        resultsFromLink(),\n                    ];\n                }\n                return [\n                    resultsFromLink(),\n                ];\n            }\n            case \"cache-only\":\n                return [\n                    resultsFromCache(readCache(), queryInfo.markReady()),\n                ];\n            case \"network-only\":\n                if (shouldNotify) {\n                    return [\n                        resultsFromCache(readCache()),\n                        resultsFromLink(),\n                    ];\n                }\n                return [resultsFromLink()];\n            case \"no-cache\":\n                if (shouldNotify) {\n                    return [\n                        resultsFromCache(queryInfo.getDiff()),\n                        resultsFromLink(),\n                    ];\n                }\n                return [resultsFromLink()];\n            case \"standby\":\n                return [];\n        }\n    };\n    QueryManager.prototype.getQuery = function (queryId) {\n        if (queryId && !this.queries.has(queryId)) {\n            this.queries.set(queryId, new QueryInfo(this, queryId));\n        }\n        return this.queries.get(queryId);\n    };\n    QueryManager.prototype.prepareContext = function (context) {\n        if (context === void 0) { context = {}; }\n        var newContext = this.localState.prepareContext(context);\n        return __assign(__assign({}, newContext), { clientAwareness: this.clientAwareness });\n    };\n    return QueryManager;\n}());\nexport { QueryManager };\n//# sourceMappingURL=QueryManager.js.map","import { __assign } from \"tslib\";\nimport { invariant, InvariantError } from \"../utilities/globals/index.js\";\nimport { ApolloLink, execute } from \"../link/core/index.js\";\nimport { version } from \"../version.js\";\nimport { HttpLink } from \"../link/http/index.js\";\nimport { QueryManager } from \"./QueryManager.js\";\nimport { LocalState, } from \"./LocalState.js\";\nvar hasSuggestedDevtools = false;\nimport { mergeOptions } from \"../utilities/index.js\";\nexport { mergeOptions };\nvar ApolloClient = (function () {\n    function ApolloClient(options) {\n        var _this = this;\n        this.resetStoreCallbacks = [];\n        this.clearStoreCallbacks = [];\n        var uri = options.uri, credentials = options.credentials, headers = options.headers, cache = options.cache, _a = options.ssrMode, ssrMode = _a === void 0 ? false : _a, _b = options.ssrForceFetchDelay, ssrForceFetchDelay = _b === void 0 ? 0 : _b, _c = options.connectToDevTools, connectToDevTools = _c === void 0 ? typeof window === 'object' &&\n            !window.__APOLLO_CLIENT__ &&\n            __DEV__ : _c, _d = options.queryDeduplication, queryDeduplication = _d === void 0 ? true : _d, defaultOptions = options.defaultOptions, _e = options.assumeImmutableResults, assumeImmutableResults = _e === void 0 ? false : _e, resolvers = options.resolvers, typeDefs = options.typeDefs, fragmentMatcher = options.fragmentMatcher, clientAwarenessName = options.name, clientAwarenessVersion = options.version;\n        var link = options.link;\n        if (!link) {\n            link = uri\n                ? new HttpLink({ uri: uri, credentials: credentials, headers: headers })\n                : ApolloLink.empty();\n        }\n        if (!cache) {\n            throw __DEV__ ? new InvariantError(\"To initialize Apollo Client, you must specify a 'cache' property \" +\n                \"in the options object. \\n\" +\n                \"For more information, please visit: https://go.apollo.dev/c/docs\") : new InvariantError(7);\n        }\n        this.link = link;\n        this.cache = cache;\n        this.disableNetworkFetches = ssrMode || ssrForceFetchDelay > 0;\n        this.queryDeduplication = queryDeduplication;\n        this.defaultOptions = defaultOptions || Object.create(null);\n        this.typeDefs = typeDefs;\n        if (ssrForceFetchDelay) {\n            setTimeout(function () { return (_this.disableNetworkFetches = false); }, ssrForceFetchDelay);\n        }\n        this.watchQuery = this.watchQuery.bind(this);\n        this.query = this.query.bind(this);\n        this.mutate = this.mutate.bind(this);\n        this.resetStore = this.resetStore.bind(this);\n        this.reFetchObservableQueries = this.reFetchObservableQueries.bind(this);\n        if (connectToDevTools && typeof window === 'object') {\n            window.__APOLLO_CLIENT__ = this;\n        }\n        if (!hasSuggestedDevtools && __DEV__) {\n            hasSuggestedDevtools = true;\n            if (typeof window !== 'undefined' &&\n                window.document &&\n                window.top === window.self &&\n                !window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__) {\n                var nav = window.navigator;\n                var ua = nav && nav.userAgent;\n                var url = void 0;\n                if (typeof ua === \"string\") {\n                    if (ua.indexOf(\"Chrome/\") > -1) {\n                        url = \"https://chrome.google.com/webstore/detail/\" +\n                            \"apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm\";\n                    }\n                    else if (ua.indexOf(\"Firefox/\") > -1) {\n                        url = \"https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/\";\n                    }\n                }\n                if (url) {\n                    __DEV__ && invariant.log(\"Download the Apollo DevTools for a better development \" +\n                        \"experience: \" + url);\n                }\n            }\n        }\n        this.version = version;\n        this.localState = new LocalState({\n            cache: cache,\n            client: this,\n            resolvers: resolvers,\n            fragmentMatcher: fragmentMatcher,\n        });\n        this.queryManager = new QueryManager({\n            cache: this.cache,\n            link: this.link,\n            defaultOptions: this.defaultOptions,\n            queryDeduplication: queryDeduplication,\n            ssrMode: ssrMode,\n            clientAwareness: {\n                name: clientAwarenessName,\n                version: clientAwarenessVersion,\n            },\n            localState: this.localState,\n            assumeImmutableResults: assumeImmutableResults,\n            onBroadcast: connectToDevTools ? function () {\n                if (_this.devToolsHookCb) {\n                    _this.devToolsHookCb({\n                        action: {},\n                        state: {\n                            queries: _this.queryManager.getQueryStore(),\n                            mutations: _this.queryManager.mutationStore || {},\n                        },\n                        dataWithOptimisticResults: _this.cache.extract(true),\n                    });\n                }\n            } : void 0,\n        });\n    }\n    ApolloClient.prototype.stop = function () {\n        this.queryManager.stop();\n    };\n    ApolloClient.prototype.watchQuery = function (options) {\n        if (this.defaultOptions.watchQuery) {\n            options = mergeOptions(this.defaultOptions.watchQuery, options);\n        }\n        if (this.disableNetworkFetches &&\n            (options.fetchPolicy === 'network-only' ||\n                options.fetchPolicy === 'cache-and-network')) {\n            options = __assign(__assign({}, options), { fetchPolicy: 'cache-first' });\n        }\n        return this.queryManager.watchQuery(options);\n    };\n    ApolloClient.prototype.query = function (options) {\n        if (this.defaultOptions.query) {\n            options = mergeOptions(this.defaultOptions.query, options);\n        }\n        __DEV__ ? invariant(options.fetchPolicy !== 'cache-and-network', 'The cache-and-network fetchPolicy does not work with client.query, because ' +\n            'client.query can only return a single result. Please use client.watchQuery ' +\n            'to receive multiple results from the cache and the network, or consider ' +\n            'using a different fetchPolicy, such as cache-first or network-only.') : invariant(options.fetchPolicy !== 'cache-and-network', 8);\n        if (this.disableNetworkFetches && options.fetchPolicy === 'network-only') {\n            options = __assign(__assign({}, options), { fetchPolicy: 'cache-first' });\n        }\n        return this.queryManager.query(options);\n    };\n    ApolloClient.prototype.mutate = function (options) {\n        if (this.defaultOptions.mutate) {\n            options = mergeOptions(this.defaultOptions.mutate, options);\n        }\n        return this.queryManager.mutate(options);\n    };\n    ApolloClient.prototype.subscribe = function (options) {\n        return this.queryManager.startGraphQLSubscription(options);\n    };\n    ApolloClient.prototype.readQuery = function (options, optimistic) {\n        if (optimistic === void 0) { optimistic = false; }\n        return this.cache.readQuery(options, optimistic);\n    };\n    ApolloClient.prototype.readFragment = function (options, optimistic) {\n        if (optimistic === void 0) { optimistic = false; }\n        return this.cache.readFragment(options, optimistic);\n    };\n    ApolloClient.prototype.writeQuery = function (options) {\n        this.cache.writeQuery(options);\n        this.queryManager.broadcastQueries();\n    };\n    ApolloClient.prototype.writeFragment = function (options) {\n        this.cache.writeFragment(options);\n        this.queryManager.broadcastQueries();\n    };\n    ApolloClient.prototype.__actionHookForDevTools = function (cb) {\n        this.devToolsHookCb = cb;\n    };\n    ApolloClient.prototype.__requestRaw = function (payload) {\n        return execute(this.link, payload);\n    };\n    ApolloClient.prototype.resetStore = function () {\n        var _this = this;\n        return Promise.resolve()\n            .then(function () { return _this.queryManager.clearStore({\n            discardWatches: false,\n        }); })\n            .then(function () { return Promise.all(_this.resetStoreCallbacks.map(function (fn) { return fn(); })); })\n            .then(function () { return _this.reFetchObservableQueries(); });\n    };\n    ApolloClient.prototype.clearStore = function () {\n        var _this = this;\n        return Promise.resolve()\n            .then(function () { return _this.queryManager.clearStore({\n            discardWatches: true,\n        }); })\n            .then(function () { return Promise.all(_this.clearStoreCallbacks.map(function (fn) { return fn(); })); });\n    };\n    ApolloClient.prototype.onResetStore = function (cb) {\n        var _this = this;\n        this.resetStoreCallbacks.push(cb);\n        return function () {\n            _this.resetStoreCallbacks = _this.resetStoreCallbacks.filter(function (c) { return c !== cb; });\n        };\n    };\n    ApolloClient.prototype.onClearStore = function (cb) {\n        var _this = this;\n        this.clearStoreCallbacks.push(cb);\n        return function () {\n            _this.clearStoreCallbacks = _this.clearStoreCallbacks.filter(function (c) { return c !== cb; });\n        };\n    };\n    ApolloClient.prototype.reFetchObservableQueries = function (includeStandby) {\n        return this.queryManager.reFetchObservableQueries(includeStandby);\n    };\n    ApolloClient.prototype.refetchQueries = function (options) {\n        var map = this.queryManager.refetchQueries(options);\n        var queries = [];\n        var results = [];\n        map.forEach(function (result, obsQuery) {\n            queries.push(obsQuery);\n            results.push(result);\n        });\n        var result = Promise.all(results);\n        result.queries = queries;\n        result.results = results;\n        result.catch(function (error) {\n            __DEV__ && invariant.debug(\"In client.refetchQueries, Promise.all promise rejected with error \".concat(error));\n        });\n        return result;\n    };\n    ApolloClient.prototype.getObservableQueries = function (include) {\n        if (include === void 0) { include = \"active\"; }\n        return this.queryManager.getObservableQueries(include);\n    };\n    ApolloClient.prototype.extract = function (optimistic) {\n        return this.cache.extract(optimistic);\n    };\n    ApolloClient.prototype.restore = function (serializedState) {\n        return this.cache.restore(serializedState);\n    };\n    ApolloClient.prototype.addResolvers = function (resolvers) {\n        this.localState.addResolvers(resolvers);\n    };\n    ApolloClient.prototype.setResolvers = function (resolvers) {\n        this.localState.setResolvers(resolvers);\n    };\n    ApolloClient.prototype.getResolvers = function () {\n        return this.localState.getResolvers();\n    };\n    ApolloClient.prototype.setLocalStateFragmentMatcher = function (fragmentMatcher) {\n        this.localState.setFragmentMatcher(fragmentMatcher);\n    };\n    ApolloClient.prototype.setLink = function (newLink) {\n        this.link = this.queryManager.link = newLink;\n    };\n    return ApolloClient;\n}());\nexport { ApolloClient };\n//# sourceMappingURL=ApolloClient.js.map","module.exports = false;\n","// `IsCallable` abstract operation\n// https://tc39.es/ecma262/#sec-iscallable\nmodule.exports = function (argument) {\n  return typeof argument == 'function';\n};\n","import \"../globals/index.js\";\nimport { isNonNullObject } from \"./objects.js\";\nfunction deepFreeze(value) {\n    var workSet = new Set([value]);\n    workSet.forEach(function (obj) {\n        if (isNonNullObject(obj) && shallowFreeze(obj) === obj) {\n            Object.getOwnPropertyNames(obj).forEach(function (name) {\n                if (isNonNullObject(obj[name]))\n                    workSet.add(obj[name]);\n            });\n        }\n    });\n    return value;\n}\nfunction shallowFreeze(obj) {\n    if (__DEV__ && !Object.isFrozen(obj)) {\n        try {\n            Object.freeze(obj);\n        }\n        catch (e) {\n            if (e instanceof TypeError)\n                return null;\n            throw e;\n        }\n    }\n    return obj;\n}\nexport function maybeDeepFreeze(obj) {\n    if (__DEV__) {\n        deepFreeze(obj);\n    }\n    return obj;\n}\n//# sourceMappingURL=maybeDeepFreeze.js.map","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = isCallable(WeakMap) && /native code/.test(inspectSource(WeakMap));\n","import { invariant, InvariantError } from \"../globals/index.js\";\nimport { valueToObjectRepresentation } from \"./storeUtils.js\";\nexport function checkDocument(doc) {\n    __DEV__ ? invariant(doc && doc.kind === 'Document', \"Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a \\\"gql\\\" tag? http://docs.apollostack.com/apollo-client/core.html#gql\") : invariant(doc && doc.kind === 'Document', 44);\n    var operations = doc.definitions\n        .filter(function (d) { return d.kind !== 'FragmentDefinition'; })\n        .map(function (definition) {\n        if (definition.kind !== 'OperationDefinition') {\n            throw __DEV__ ? new InvariantError(\"Schema type definitions not allowed in queries. Found: \\\"\".concat(definition.kind, \"\\\"\")) : new InvariantError(45);\n        }\n        return definition;\n    });\n    __DEV__ ? invariant(operations.length <= 1, \"Ambiguous GraphQL document: contains \".concat(operations.length, \" operations\")) : invariant(operations.length <= 1, 46);\n    return doc;\n}\nexport function getOperationDefinition(doc) {\n    checkDocument(doc);\n    return doc.definitions.filter(function (definition) { return definition.kind === 'OperationDefinition'; })[0];\n}\nexport function getOperationName(doc) {\n    return (doc.definitions\n        .filter(function (definition) {\n        return definition.kind === 'OperationDefinition' && definition.name;\n    })\n        .map(function (x) { return x.name.value; })[0] || null);\n}\nexport function getFragmentDefinitions(doc) {\n    return doc.definitions.filter(function (definition) { return definition.kind === 'FragmentDefinition'; });\n}\nexport function getQueryDefinition(doc) {\n    var queryDef = getOperationDefinition(doc);\n    __DEV__ ? invariant(queryDef && queryDef.operation === 'query', 'Must contain a query definition.') : invariant(queryDef && queryDef.operation === 'query', 47);\n    return queryDef;\n}\nexport function getFragmentDefinition(doc) {\n    __DEV__ ? invariant(doc.kind === 'Document', \"Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a \\\"gql\\\" tag? http://docs.apollostack.com/apollo-client/core.html#gql\") : invariant(doc.kind === 'Document', 48);\n    __DEV__ ? invariant(doc.definitions.length <= 1, 'Fragment must have exactly one definition.') : invariant(doc.definitions.length <= 1, 49);\n    var fragmentDef = doc.definitions[0];\n    __DEV__ ? invariant(fragmentDef.kind === 'FragmentDefinition', 'Must be a fragment definition.') : invariant(fragmentDef.kind === 'FragmentDefinition', 50);\n    return fragmentDef;\n}\nexport function getMainDefinition(queryDoc) {\n    checkDocument(queryDoc);\n    var fragmentDefinition;\n    for (var _i = 0, _a = queryDoc.definitions; _i < _a.length; _i++) {\n        var definition = _a[_i];\n        if (definition.kind === 'OperationDefinition') {\n            var operation = definition.operation;\n            if (operation === 'query' ||\n                operation === 'mutation' ||\n                operation === 'subscription') {\n                return definition;\n            }\n        }\n        if (definition.kind === 'FragmentDefinition' && !fragmentDefinition) {\n            fragmentDefinition = definition;\n        }\n    }\n    if (fragmentDefinition) {\n        return fragmentDefinition;\n    }\n    throw __DEV__ ? new InvariantError('Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment.') : new InvariantError(51);\n}\nexport function getDefaultValues(definition) {\n    var defaultValues = Object.create(null);\n    var defs = definition && definition.variableDefinitions;\n    if (defs && defs.length) {\n        defs.forEach(function (def) {\n            if (def.defaultValue) {\n                valueToObjectRepresentation(defaultValues, def.variable.name, def.defaultValue);\n            }\n        });\n    }\n    return defaultValues;\n}\n//# sourceMappingURL=getFromAST.js.map","var $TypeError = TypeError;\n\n// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw $TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// runtime helper for setting properties on components\n// in a tree-shakable way\nexports.default = (sfc, props) => {\n    const target = sfc.__vccOpts || sfc;\n    for (const [key, val] of props) {\n        target[key] = val;\n    }\n    return target;\n};\n","var toString = require('../internals/to-string');\n\nmodule.exports = function (argument, $default) {\n  return argument === undefined ? arguments.length < 2 ? '' : $default : toString(argument);\n};\n","export function isNonNullObject(obj) {\n    return obj !== null && typeof obj === 'object';\n}\n//# sourceMappingURL=objects.js.map","import { isObjectLike } from '../jsutils/isObjectLike.mjs';\nimport { getLocation } from '../language/location.mjs';\nimport {\n  printLocation,\n  printSourceLocation,\n} from '../language/printLocation.mjs';\n\nfunction toNormalizedOptions(args) {\n  const firstArg = args[0];\n\n  if (firstArg == null || 'kind' in firstArg || 'length' in firstArg) {\n    return {\n      nodes: firstArg,\n      source: args[1],\n      positions: args[2],\n      path: args[3],\n      originalError: args[4],\n      extensions: args[5],\n    };\n  }\n\n  return firstArg;\n}\n/**\n * A GraphQLError describes an Error found during the parse, validate, or\n * execute phases of performing a GraphQL operation. In addition to a message\n * and stack trace, it also includes information about the locations in a\n * GraphQL document and/or execution result that correspond to the Error.\n */\n\nexport class GraphQLError extends Error {\n  /**\n   * An array of `{ line, column }` locations within the source GraphQL document\n   * which correspond to this error.\n   *\n   * Errors during validation often contain multiple locations, for example to\n   * point out two things with the same name. Errors during execution include a\n   * single location, the field which produced the error.\n   *\n   * Enumerable, and appears in the result of JSON.stringify().\n   */\n\n  /**\n   * An array describing the JSON-path into the execution response which\n   * corresponds to this error. Only included for errors during execution.\n   *\n   * Enumerable, and appears in the result of JSON.stringify().\n   */\n\n  /**\n   * An array of GraphQL AST Nodes corresponding to this error.\n   */\n\n  /**\n   * The source GraphQL document for the first location of this error.\n   *\n   * Note that if this Error represents more than one node, the source may not\n   * represent nodes after the first node.\n   */\n\n  /**\n   * An array of character offsets within the source GraphQL document\n   * which correspond to this error.\n   */\n\n  /**\n   * The original error thrown from a field resolver during execution.\n   */\n\n  /**\n   * Extension fields to add to the formatted error.\n   */\n\n  /**\n   * @deprecated Please use the `GraphQLErrorOptions` constructor overload instead.\n   */\n  constructor(message, ...rawArgs) {\n    var _this$nodes, _nodeLocations$, _ref;\n\n    const { nodes, source, positions, path, originalError, extensions } =\n      toNormalizedOptions(rawArgs);\n    super(message);\n    this.name = 'GraphQLError';\n    this.path = path !== null && path !== void 0 ? path : undefined;\n    this.originalError =\n      originalError !== null && originalError !== void 0\n        ? originalError\n        : undefined; // Compute list of blame nodes.\n\n    this.nodes = undefinedIfEmpty(\n      Array.isArray(nodes) ? nodes : nodes ? [nodes] : undefined,\n    );\n    const nodeLocations = undefinedIfEmpty(\n      (_this$nodes = this.nodes) === null || _this$nodes === void 0\n        ? void 0\n        : _this$nodes.map((node) => node.loc).filter((loc) => loc != null),\n    ); // Compute locations in the source for the given nodes/positions.\n\n    this.source =\n      source !== null && source !== void 0\n        ? source\n        : nodeLocations === null || nodeLocations === void 0\n        ? void 0\n        : (_nodeLocations$ = nodeLocations[0]) === null ||\n          _nodeLocations$ === void 0\n        ? void 0\n        : _nodeLocations$.source;\n    this.positions =\n      positions !== null && positions !== void 0\n        ? positions\n        : nodeLocations === null || nodeLocations === void 0\n        ? void 0\n        : nodeLocations.map((loc) => loc.start);\n    this.locations =\n      positions && source\n        ? positions.map((pos) => getLocation(source, pos))\n        : nodeLocations === null || nodeLocations === void 0\n        ? void 0\n        : nodeLocations.map((loc) => getLocation(loc.source, loc.start));\n    const originalExtensions = isObjectLike(\n      originalError === null || originalError === void 0\n        ? void 0\n        : originalError.extensions,\n    )\n      ? originalError === null || originalError === void 0\n        ? void 0\n        : originalError.extensions\n      : undefined;\n    this.extensions =\n      (_ref =\n        extensions !== null && extensions !== void 0\n          ? extensions\n          : originalExtensions) !== null && _ref !== void 0\n        ? _ref\n        : Object.create(null); // Only properties prescribed by the spec should be enumerable.\n    // Keep the rest as non-enumerable.\n\n    Object.defineProperties(this, {\n      message: {\n        writable: true,\n        enumerable: true,\n      },\n      name: {\n        enumerable: false,\n      },\n      nodes: {\n        enumerable: false,\n      },\n      source: {\n        enumerable: false,\n      },\n      positions: {\n        enumerable: false,\n      },\n      originalError: {\n        enumerable: false,\n      },\n    }); // Include (non-enumerable) stack trace.\n\n    /* c8 ignore start */\n    // FIXME: https://github.com/graphql/graphql-js/issues/2317\n\n    if (\n      originalError !== null &&\n      originalError !== void 0 &&\n      originalError.stack\n    ) {\n      Object.defineProperty(this, 'stack', {\n        value: originalError.stack,\n        writable: true,\n        configurable: true,\n      });\n    } else if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, GraphQLError);\n    } else {\n      Object.defineProperty(this, 'stack', {\n        value: Error().stack,\n        writable: true,\n        configurable: true,\n      });\n    }\n    /* c8 ignore stop */\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'GraphQLError';\n  }\n\n  toString() {\n    let output = this.message;\n\n    if (this.nodes) {\n      for (const node of this.nodes) {\n        if (node.loc) {\n          output += '\\n\\n' + printLocation(node.loc);\n        }\n      }\n    } else if (this.source && this.locations) {\n      for (const location of this.locations) {\n        output += '\\n\\n' + printSourceLocation(this.source, location);\n      }\n    }\n\n    return output;\n  }\n\n  toJSON() {\n    const formattedError = {\n      message: this.message,\n    };\n\n    if (this.locations != null) {\n      formattedError.locations = this.locations;\n    }\n\n    if (this.path != null) {\n      formattedError.path = this.path;\n    }\n\n    if (this.extensions != null && Object.keys(this.extensions).length > 0) {\n      formattedError.extensions = this.extensions;\n    }\n\n    return formattedError;\n  }\n}\n\nfunction undefinedIfEmpty(array) {\n  return array === undefined || array.length === 0 ? undefined : array;\n}\n/**\n * See: https://spec.graphql.org/draft/#sec-Errors\n */\n\n/**\n * Prints a GraphQLError to a string, representing useful location information\n * about the error's position in the source.\n *\n * @deprecated Please use `error.toString` instead. Will be removed in v17\n */\nexport function printError(error) {\n  return error.toString();\n}\n/**\n * Given a GraphQLError, format it according to the rules described by the\n * Response Format, Errors section of the GraphQL Specification.\n *\n * @deprecated Please use `error.toJSON` instead. Will be removed in v17\n */\n\nexport function formatError(error) {\n  return error.toJSON();\n}\n","import { Integrations, getIntegrationsToSetup, initAndBind, getReportDialogEndpoint, getCurrentHub } from '@sentry/core';\nimport { stackParserFromStackParserOptions, supportsFetch, logger, resolvedSyncPromise, addInstrumentationHandler } from '@sentry/utils';\nimport { BrowserClient } from './client.js';\nimport { WINDOW, wrap as wrap$1 } from './helpers.js';\nimport './integrations/index.js';\nimport { defaultStackParser } from './stack-parsers.js';\nimport './transports/index.js';\nimport { TryCatch } from './integrations/trycatch.js';\nimport { Breadcrumbs } from './integrations/breadcrumbs.js';\nimport { GlobalHandlers } from './integrations/globalhandlers.js';\nimport { LinkedErrors } from './integrations/linkederrors.js';\nimport { Dedupe } from './integrations/dedupe.js';\nimport { HttpContext } from './integrations/httpcontext.js';\nimport { makeFetchTransport } from './transports/fetch.js';\nimport { makeXHRTransport } from './transports/xhr.js';\n\nconst defaultIntegrations = [\n  new Integrations.InboundFilters(),\n  new Integrations.FunctionToString(),\n  new TryCatch(),\n  new Breadcrumbs(),\n  new GlobalHandlers(),\n  new LinkedErrors(),\n  new Dedupe(),\n  new HttpContext(),\n];\n\n/**\n * The Sentry Browser SDK Client.\n *\n * To use this SDK, call the {@link init} function as early as possible when\n * loading the web page. To set context information or send manual events, use\n * the provided methods.\n *\n * @example\n *\n * ```\n *\n * import { init } from '@sentry/browser';\n *\n * init({\n *   dsn: '__DSN__',\n *   // ...\n * });\n * ```\n *\n * @example\n * ```\n *\n * import { configureScope } from '@sentry/browser';\n * configureScope((scope: Scope) => {\n *   scope.setExtra({ battery: 0.7 });\n *   scope.setTag({ user_mode: 'admin' });\n *   scope.setUser({ id: '4711' });\n * });\n * ```\n *\n * @example\n * ```\n *\n * import { addBreadcrumb } from '@sentry/browser';\n * addBreadcrumb({\n *   message: 'My Breadcrumb',\n *   // ...\n * });\n * ```\n *\n * @example\n *\n * ```\n *\n * import * as Sentry from '@sentry/browser';\n * Sentry.captureMessage('Hello, world!');\n * Sentry.captureException(new Error('Good bye'));\n * Sentry.captureEvent({\n *   message: 'Manual',\n *   stacktrace: [\n *     // ...\n *   ],\n * });\n * ```\n *\n * @see {@link BrowserOptions} for documentation on configuration options.\n */\nfunction init(options = {}) {\n  if (options.defaultIntegrations === undefined) {\n    options.defaultIntegrations = defaultIntegrations;\n  }\n  if (options.release === undefined) {\n    // This supports the variable that sentry-webpack-plugin injects\n    if (WINDOW.SENTRY_RELEASE && WINDOW.SENTRY_RELEASE.id) {\n      options.release = WINDOW.SENTRY_RELEASE.id;\n    }\n  }\n  if (options.autoSessionTracking === undefined) {\n    options.autoSessionTracking = true;\n  }\n  if (options.sendClientReports === undefined) {\n    options.sendClientReports = true;\n  }\n\n  const clientOptions = {\n    ...options,\n    stackParser: stackParserFromStackParserOptions(options.stackParser || defaultStackParser),\n    integrations: getIntegrationsToSetup(options),\n    transport: options.transport || (supportsFetch() ? makeFetchTransport : makeXHRTransport),\n  };\n\n  initAndBind(BrowserClient, clientOptions);\n\n  if (options.autoSessionTracking) {\n    startSessionTracking();\n  }\n}\n\n/**\n * Present the user with a report dialog.\n *\n * @param options Everything is optional, we try to fetch all info need from the global scope.\n */\nfunction showReportDialog(options = {}, hub = getCurrentHub()) {\n  // doesn't work without a document (React Native)\n  if (!WINDOW.document) {\n    (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.error('Global document not defined in showReportDialog call');\n    return;\n  }\n\n  const { client, scope } = hub.getStackTop();\n  const dsn = options.dsn || (client && client.getDsn());\n  if (!dsn) {\n    (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.error('DSN not configured for showReportDialog call');\n    return;\n  }\n\n  if (scope) {\n    options.user = {\n      ...scope.getUser(),\n      ...options.user,\n    };\n  }\n\n  if (!options.eventId) {\n    options.eventId = hub.lastEventId();\n  }\n\n  const script = WINDOW.document.createElement('script');\n  script.async = true;\n  script.src = getReportDialogEndpoint(dsn, options);\n\n  if (options.onLoad) {\n    // eslint-disable-next-line @typescript-eslint/unbound-method\n    script.onload = options.onLoad;\n  }\n\n  const injectionPoint = WINDOW.document.head || WINDOW.document.body;\n  if (injectionPoint) {\n    injectionPoint.appendChild(script);\n  } else {\n    (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.error('Not injecting report dialog. No injection point found in HTML');\n  }\n}\n\n/**\n * This is the getter for lastEventId.\n *\n * @returns The last event id of a captured event.\n */\nfunction lastEventId() {\n  return getCurrentHub().lastEventId();\n}\n\n/**\n * This function is here to be API compatible with the loader.\n * @hidden\n */\nfunction forceLoad() {\n  // Noop\n}\n\n/**\n * This function is here to be API compatible with the loader.\n * @hidden\n */\nfunction onLoad(callback) {\n  callback();\n}\n\n/**\n * Call `flush()` on the current client, if there is one. See {@link Client.flush}.\n *\n * @param timeout Maximum time in ms the client should wait to flush its event queue. Omitting this parameter will cause\n * the client to wait until all events are sent before resolving the promise.\n * @returns A promise which resolves to `true` if the queue successfully drains before the timeout, or `false` if it\n * doesn't (or if there's no client defined).\n */\nfunction flush(timeout) {\n  const client = getCurrentHub().getClient();\n  if (client) {\n    return client.flush(timeout);\n  }\n  (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.warn('Cannot flush events. No client defined.');\n  return resolvedSyncPromise(false);\n}\n\n/**\n * Call `close()` on the current client, if there is one. See {@link Client.close}.\n *\n * @param timeout Maximum time in ms the client should wait to flush its event queue before shutting down. Omitting this\n * parameter will cause the client to wait until all events are sent before disabling itself.\n * @returns A promise which resolves to `true` if the queue successfully drains before the timeout, or `false` if it\n * doesn't (or if there's no client defined).\n */\nfunction close(timeout) {\n  const client = getCurrentHub().getClient();\n  if (client) {\n    return client.close(timeout);\n  }\n  (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.warn('Cannot flush events and disable SDK. No client defined.');\n  return resolvedSyncPromise(false);\n}\n\n/**\n * Wrap code within a try/catch block so the SDK is able to capture errors.\n *\n * @param fn A function to wrap.\n *\n * @returns The result of wrapped function call.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction wrap(fn) {\n  return wrap$1(fn)();\n}\n\nfunction startSessionOnHub(hub) {\n  hub.startSession({ ignoreDuration: true });\n  hub.captureSession();\n}\n\n/**\n * Enable automatic Session Tracking for the initial page load.\n */\nfunction startSessionTracking() {\n  if (typeof WINDOW.document === 'undefined') {\n    (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) &&\n      logger.warn('Session tracking in non-browser environment with @sentry/browser is not supported.');\n    return;\n  }\n\n  const hub = getCurrentHub();\n\n  // The only way for this to be false is for there to be a version mismatch between @sentry/browser (>= 6.0.0) and\n  // @sentry/hub (< 5.27.0). In the simple case, there won't ever be such a mismatch, because the two packages are\n  // pinned at the same version in package.json, but there are edge cases where it's possible. See\n  // https://github.com/getsentry/sentry-javascript/issues/3207 and\n  // https://github.com/getsentry/sentry-javascript/issues/3234 and\n  // https://github.com/getsentry/sentry-javascript/issues/3278.\n  if (!hub.captureSession) {\n    return;\n  }\n\n  // The session duration for browser sessions does not track a meaningful\n  // concept that can be used as a metric.\n  // Automatically captured sessions are akin to page views, and thus we\n  // discard their duration.\n  startSessionOnHub(hub);\n\n  // We want to create a session for every navigation as well\n  addInstrumentationHandler('history', ({ from, to }) => {\n    // Don't create an additional session for the initial route or if the location did not change\n    if (!(from === undefined || from === to)) {\n      startSessionOnHub(getCurrentHub());\n    }\n  });\n}\n\nexport { close, defaultIntegrations, flush, forceLoad, init, lastEventId, onLoad, showReportDialog, wrap };\n//# sourceMappingURL=sdk.js.map\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","// .dirname, .basename, and .extname methods are extracted from Node.js v8.11.1,\n// backported and transplited with Babel, with backwards-compat fixes\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  if (path.length === 0) return '.';\n  var code = path.charCodeAt(0);\n  var hasRoot = code === 47 /*/*/;\n  var end = -1;\n  var matchedSlash = true;\n  for (var i = path.length - 1; i >= 1; --i) {\n    code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n      // We saw the first non-path separator\n      matchedSlash = false;\n    }\n  }\n\n  if (end === -1) return hasRoot ? '/' : '.';\n  if (hasRoot && end === 1) {\n    // return '//';\n    // Backwards-compat fix:\n    return '/';\n  }\n  return path.slice(0, end);\n};\n\nfunction basename(path) {\n  if (typeof path !== 'string') path = path + '';\n\n  var start = 0;\n  var end = -1;\n  var matchedSlash = true;\n  var i;\n\n  for (i = path.length - 1; i >= 0; --i) {\n    if (path.charCodeAt(i) === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          start = i + 1;\n          break;\n        }\n      } else if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // path component\n      matchedSlash = false;\n      end = i + 1;\n    }\n  }\n\n  if (end === -1) return '';\n  return path.slice(start, end);\n}\n\n// Uses a mixed approach for backwards-compatibility, as ext behavior changed\n// in new Node.js versions, so only basename() above is backported here\nexports.basename = function (path, ext) {\n  var f = basename(path);\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\nexports.extname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  var startDot = -1;\n  var startPart = 0;\n  var end = -1;\n  var matchedSlash = true;\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find\n  var preDotState = 0;\n  for (var i = path.length - 1; i >= 0; --i) {\n    var code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n    if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension\n      matchedSlash = false;\n      end = i + 1;\n    }\n    if (code === 46 /*.*/) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1)\n          startDot = i;\n        else if (preDotState !== 1)\n          preDotState = 1;\n    } else if (startDot !== -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension\n      preDotState = -1;\n    }\n  }\n\n  if (startDot === -1 || end === -1 ||\n      // We saw a non-dot character immediately before the dot\n      preDotState === 0 ||\n      // The (right-most) trimmed path component is exactly '..'\n      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n    return '';\n  }\n  return path.slice(startDot, end);\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n","var NATIVE_BIND = require('../internals/function-bind-native');\n\nvar FunctionPrototype = Function.prototype;\nvar apply = FunctionPrototype.apply;\nvar call = FunctionPrototype.call;\n\n// eslint-disable-next-line es-x/no-reflect -- safe\nmodule.exports = typeof Reflect == 'object' && Reflect.apply || (NATIVE_BIND ? call.bind(apply) : function () {\n  return call.apply(apply, arguments);\n});\n","'use strict';\nconst isObj = require('is-obj');\n\nconst disallowedKeys = new Set([\n\t'__proto__',\n\t'prototype',\n\t'constructor'\n]);\n\nconst isValidPath = pathSegments => !pathSegments.some(segment => disallowedKeys.has(segment));\n\nfunction getPathSegments(path) {\n\tconst pathArray = path.split('.');\n\tconst parts = [];\n\n\tfor (let i = 0; i < pathArray.length; i++) {\n\t\tlet p = pathArray[i];\n\n\t\twhile (p[p.length - 1] === '\\\\' && pathArray[i + 1] !== undefined) {\n\t\t\tp = p.slice(0, -1) + '.';\n\t\t\tp += pathArray[++i];\n\t\t}\n\n\t\tparts.push(p);\n\t}\n\n\tif (!isValidPath(parts)) {\n\t\treturn [];\n\t}\n\n\treturn parts;\n}\n\nmodule.exports = {\n\tget(object, path, value) {\n\t\tif (!isObj(object) || typeof path !== 'string') {\n\t\t\treturn value === undefined ? object : value;\n\t\t}\n\n\t\tconst pathArray = getPathSegments(path);\n\t\tif (pathArray.length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tfor (let i = 0; i < pathArray.length; i++) {\n\t\t\tobject = object[pathArray[i]];\n\n\t\t\tif (object === undefined || object === null) {\n\t\t\t\t// `object` is either `undefined` or `null` so we want to stop the loop, and\n\t\t\t\t// if this is not the last bit of the path, and\n\t\t\t\t// if it did't return `undefined`\n\t\t\t\t// it would return `null` if `object` is `null`\n\t\t\t\t// but we want `get({foo: null}, 'foo.bar')` to equal `undefined`, or the supplied value, not `null`\n\t\t\t\tif (i !== pathArray.length - 1) {\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn object === undefined ? value : object;\n\t},\n\n\tset(object, path, value) {\n\t\tif (!isObj(object) || typeof path !== 'string') {\n\t\t\treturn object;\n\t\t}\n\n\t\tconst root = object;\n\t\tconst pathArray = getPathSegments(path);\n\n\t\tfor (let i = 0; i < pathArray.length; i++) {\n\t\t\tconst p = pathArray[i];\n\n\t\t\tif (!isObj(object[p])) {\n\t\t\t\tobject[p] = {};\n\t\t\t}\n\n\t\t\tif (i === pathArray.length - 1) {\n\t\t\t\tobject[p] = value;\n\t\t\t}\n\n\t\t\tobject = object[p];\n\t\t}\n\n\t\treturn root;\n\t},\n\n\tdelete(object, path) {\n\t\tif (!isObj(object) || typeof path !== 'string') {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst pathArray = getPathSegments(path);\n\n\t\tfor (let i = 0; i < pathArray.length; i++) {\n\t\t\tconst p = pathArray[i];\n\n\t\t\tif (i === pathArray.length - 1) {\n\t\t\t\tdelete object[p];\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tobject = object[p];\n\n\t\t\tif (!isObj(object)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t},\n\n\thas(object, path) {\n\t\tif (!isObj(object) || typeof path !== 'string') {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst pathArray = getPathSegments(path);\n\t\tif (pathArray.length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// eslint-disable-next-line unicorn/no-for-loop\n\t\tfor (let i = 0; i < pathArray.length; i++) {\n\t\t\tif (isObj(object)) {\n\t\t\t\tif (!(pathArray[i] in object)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tobject = object[pathArray[i]];\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n};\n","import global from \"./global.js\";\nimport { maybe } from \"./maybe.js\";\nvar __ = \"__\";\nvar GLOBAL_KEY = [__, __].join(\"DEV\");\nfunction getDEV() {\n    try {\n        return Boolean(__DEV__);\n    }\n    catch (_a) {\n        Object.defineProperty(global, GLOBAL_KEY, {\n            value: maybe(function () { return process.env.NODE_ENV; }) !== \"production\",\n            enumerable: false,\n            configurable: true,\n            writable: true,\n        });\n        return global[GLOBAL_KEY];\n    }\n}\nexport default getDEV();\n//# sourceMappingURL=DEV.js.map","import { remove } from \"ts-invariant/process/index.js\";\nimport { Source } from 'graphql';\nexport function removeTemporaryGlobals() {\n    return typeof Source === \"function\" ? remove() : remove();\n}\n//# sourceMappingURL=fix-graphql.js.map","import { invariant, InvariantError } from \"ts-invariant\";\nimport DEV from \"./DEV.js\";\nexport { DEV };\nexport function checkDEV() {\n    __DEV__ ? invariant(\"boolean\" === typeof DEV, DEV) : invariant(\"boolean\" === typeof DEV, 36);\n}\nimport { removeTemporaryGlobals } from \"./fix-graphql.js\";\nremoveTemporaryGlobals();\nexport { maybe } from \"./maybe.js\";\nexport { default as global } from \"./global.js\";\nexport { invariant, InvariantError };\ncheckDEV();\n//# sourceMappingURL=index.js.map","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar hasOwn = require('../internals/has-own-property');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar OBJECT_ALREADY_INITIALIZED = 'Object already initialized';\nvar TypeError = global.TypeError;\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP || shared.state) {\n  var store = shared.state || (shared.state = new WeakMap());\n  var wmget = uncurryThis(store.get);\n  var wmhas = uncurryThis(store.has);\n  var wmset = uncurryThis(store.set);\n  set = function (it, metadata) {\n    if (wmhas(store, it)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    wmset(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    if (hasOwn(it, STATE)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return hasOwn(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return hasOwn(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var aCallable = require('../internals/a-callable');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\nvar $TypeError = TypeError;\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aCallable(callbackfn);\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = lengthOfArrayLike(O);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw $TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.es/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.es/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n","/**\n * Return true if `value` is object-like. A value is object-like if it's not\n * `null` and has a `typeof` result of \"object\".\n */\nexport function isObjectLike(value) {\n  return typeof value == 'object' && value !== null;\n}\n","const SDK_VERSION = '7.22.0';\n\nexport { SDK_VERSION };\n//# sourceMappingURL=version.js.map\n","import { getCurrentHub } from '@sentry/core';\nimport { isEvent, extractExceptionKeysForMessage, normalizeToSize, addExceptionMechanism, resolvedSyncPromise, isErrorEvent, isDOMError, isDOMException, addExceptionTypeValue, isError, isPlainObject } from '@sentry/utils';\n\n/**\n * This function creates an exception from a JavaScript Error\n */\nfunction exceptionFromError(stackParser, ex) {\n  // Get the frames first since Opera can lose the stack if we touch anything else first\n  const frames = parseStackFrames(stackParser, ex);\n\n  const exception = {\n    type: ex && ex.name,\n    value: extractMessage(ex),\n  };\n\n  if (frames.length) {\n    exception.stacktrace = { frames };\n  }\n\n  if (exception.type === undefined && exception.value === '') {\n    exception.value = 'Unrecoverable error caught';\n  }\n\n  return exception;\n}\n\n/**\n * @hidden\n */\nfunction eventFromPlainObject(\n  stackParser,\n  exception,\n  syntheticException,\n  isUnhandledRejection,\n) {\n  const hub = getCurrentHub();\n  const client = hub.getClient();\n  const normalizeDepth = client && client.getOptions().normalizeDepth;\n\n  const event = {\n    exception: {\n      values: [\n        {\n          type: isEvent(exception) ? exception.constructor.name : isUnhandledRejection ? 'UnhandledRejection' : 'Error',\n          value: `Non-Error ${\n            isUnhandledRejection ? 'promise rejection' : 'exception'\n          } captured with keys: ${extractExceptionKeysForMessage(exception)}`,\n        },\n      ],\n    },\n    extra: {\n      __serialized__: normalizeToSize(exception, normalizeDepth),\n    },\n  };\n\n  if (syntheticException) {\n    const frames = parseStackFrames(stackParser, syntheticException);\n    if (frames.length) {\n      // event.exception.values[0] has been set above\n      (event.exception ).values[0].stacktrace = { frames };\n    }\n  }\n\n  return event;\n}\n\n/**\n * @hidden\n */\nfunction eventFromError(stackParser, ex) {\n  return {\n    exception: {\n      values: [exceptionFromError(stackParser, ex)],\n    },\n  };\n}\n\n/** Parses stack frames from an error */\nfunction parseStackFrames(\n  stackParser,\n  ex,\n) {\n  // Access and store the stacktrace property before doing ANYTHING\n  // else to it because Opera is not very good at providing it\n  // reliably in other circumstances.\n  const stacktrace = ex.stacktrace || ex.stack || '';\n\n  const popSize = getPopSize(ex);\n\n  try {\n    return stackParser(stacktrace, popSize);\n  } catch (e) {\n    // no-empty\n  }\n\n  return [];\n}\n\n// Based on our own mapping pattern - https://github.com/getsentry/sentry/blob/9f08305e09866c8bd6d0c24f5b0aabdd7dd6c59c/src/sentry/lang/javascript/errormapping.py#L83-L108\nconst reactMinifiedRegexp = /Minified React error #\\d+;/i;\n\nfunction getPopSize(ex) {\n  if (ex) {\n    if (typeof ex.framesToPop === 'number') {\n      return ex.framesToPop;\n    }\n\n    if (reactMinifiedRegexp.test(ex.message)) {\n      return 1;\n    }\n  }\n\n  return 0;\n}\n\n/**\n * There are cases where stacktrace.message is an Event object\n * https://github.com/getsentry/sentry-javascript/issues/1949\n * In this specific case we try to extract stacktrace.message.error.message\n */\nfunction extractMessage(ex) {\n  const message = ex && ex.message;\n  if (!message) {\n    return 'No error message';\n  }\n  if (message.error && typeof message.error.message === 'string') {\n    return message.error.message;\n  }\n  return message;\n}\n\n/**\n * Creates an {@link Event} from all inputs to `captureException` and non-primitive inputs to `captureMessage`.\n * @hidden\n */\nfunction eventFromException(\n  stackParser,\n  exception,\n  hint,\n  attachStacktrace,\n) {\n  const syntheticException = (hint && hint.syntheticException) || undefined;\n  const event = eventFromUnknownInput(stackParser, exception, syntheticException, attachStacktrace);\n  addExceptionMechanism(event); // defaults to { type: 'generic', handled: true }\n  event.level = 'error';\n  if (hint && hint.event_id) {\n    event.event_id = hint.event_id;\n  }\n  return resolvedSyncPromise(event);\n}\n\n/**\n * Builds and Event from a Message\n * @hidden\n */\nfunction eventFromMessage(\n  stackParser,\n  message,\n  // eslint-disable-next-line deprecation/deprecation\n  level = 'info',\n  hint,\n  attachStacktrace,\n) {\n  const syntheticException = (hint && hint.syntheticException) || undefined;\n  const event = eventFromString(stackParser, message, syntheticException, attachStacktrace);\n  event.level = level;\n  if (hint && hint.event_id) {\n    event.event_id = hint.event_id;\n  }\n  return resolvedSyncPromise(event);\n}\n\n/**\n * @hidden\n */\nfunction eventFromUnknownInput(\n  stackParser,\n  exception,\n  syntheticException,\n  attachStacktrace,\n  isUnhandledRejection,\n) {\n  let event;\n\n  if (isErrorEvent(exception ) && (exception ).error) {\n    // If it is an ErrorEvent with `error` property, extract it to get actual Error\n    const errorEvent = exception ;\n    return eventFromError(stackParser, errorEvent.error );\n  }\n\n  // If it is a `DOMError` (which is a legacy API, but still supported in some browsers) then we just extract the name\n  // and message, as it doesn't provide anything else. According to the spec, all `DOMExceptions` should also be\n  // `Error`s, but that's not the case in IE11, so in that case we treat it the same as we do a `DOMError`.\n  //\n  // https://developer.mozilla.org/en-US/docs/Web/API/DOMError\n  // https://developer.mozilla.org/en-US/docs/Web/API/DOMException\n  // https://webidl.spec.whatwg.org/#es-DOMException-specialness\n  if (isDOMError(exception ) || isDOMException(exception )) {\n    const domException = exception ;\n\n    if ('stack' in (exception )) {\n      event = eventFromError(stackParser, exception );\n    } else {\n      const name = domException.name || (isDOMError(domException) ? 'DOMError' : 'DOMException');\n      const message = domException.message ? `${name}: ${domException.message}` : name;\n      event = eventFromString(stackParser, message, syntheticException, attachStacktrace);\n      addExceptionTypeValue(event, message);\n    }\n    if ('code' in domException) {\n      event.tags = { ...event.tags, 'DOMException.code': `${domException.code}` };\n    }\n\n    return event;\n  }\n  if (isError(exception)) {\n    // we have a real Error object, do nothing\n    return eventFromError(stackParser, exception);\n  }\n  if (isPlainObject(exception) || isEvent(exception)) {\n    // If it's a plain object or an instance of `Event` (the built-in JS kind, not this SDK's `Event` type), serialize\n    // it manually. This will allow us to group events based on top-level keys which is much better than creating a new\n    // group on any key/value change.\n    const objectException = exception ;\n    event = eventFromPlainObject(stackParser, objectException, syntheticException, isUnhandledRejection);\n    addExceptionMechanism(event, {\n      synthetic: true,\n    });\n    return event;\n  }\n\n  // If none of previous checks were valid, then it means that it's not:\n  // - an instance of DOMError\n  // - an instance of DOMException\n  // - an instance of Event\n  // - an instance of Error\n  // - a valid ErrorEvent (one with an error property)\n  // - a plain Object\n  //\n  // So bail out and capture it as a simple message:\n  event = eventFromString(stackParser, exception , syntheticException, attachStacktrace);\n  addExceptionTypeValue(event, `${exception}`, undefined);\n  addExceptionMechanism(event, {\n    synthetic: true,\n  });\n\n  return event;\n}\n\n/**\n * @hidden\n */\nfunction eventFromString(\n  stackParser,\n  input,\n  syntheticException,\n  attachStacktrace,\n) {\n  const event = {\n    message: input,\n  };\n\n  if (attachStacktrace && syntheticException) {\n    const frames = parseStackFrames(stackParser, syntheticException);\n    if (frames.length) {\n      event.exception = {\n        values: [{ value: input, stacktrace: { frames } }],\n      };\n    }\n  }\n\n  return event;\n}\n\nexport { eventFromError, eventFromException, eventFromMessage, eventFromPlainObject, eventFromString, eventFromUnknownInput, exceptionFromError, parseStackFrames };\n//# sourceMappingURL=eventbuilder.js.map\n","export var selectURI = function (operation, fallbackURI) {\n    var context = operation.getContext();\n    var contextURI = context.uri;\n    if (contextURI) {\n        return contextURI;\n    }\n    else if (typeof fallbackURI === 'function') {\n        return fallbackURI(operation);\n    }\n    else {\n        return fallbackURI || '/graphql';\n    }\n};\n//# sourceMappingURL=selectURI.js.map","import { createStackParser } from '@sentry/utils';\n\n// global reference to slice\nconst UNKNOWN_FUNCTION = '?';\n\nconst OPERA10_PRIORITY = 10;\nconst OPERA11_PRIORITY = 20;\nconst CHROME_PRIORITY = 30;\nconst WINJS_PRIORITY = 40;\nconst GECKO_PRIORITY = 50;\n\nfunction createFrame(filename, func, lineno, colno) {\n  const frame = {\n    filename,\n    function: func,\n    // All browser frames are considered in_app\n    in_app: true,\n  };\n\n  if (lineno !== undefined) {\n    frame.lineno = lineno;\n  }\n\n  if (colno !== undefined) {\n    frame.colno = colno;\n  }\n\n  return frame;\n}\n\n// Chromium based browsers: Chrome, Brave, new Opera, new Edge\nconst chromeRegex =\n  /^\\s*at (?:(.*\\).*?|.*?) ?\\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\\/)?.*?)(?::(\\d+))?(?::(\\d+))?\\)?\\s*$/i;\nconst chromeEvalRegex = /\\((\\S*)(?::(\\d+))(?::(\\d+))\\)/;\n\nconst chrome = line => {\n  const parts = chromeRegex.exec(line);\n\n  if (parts) {\n    const isEval = parts[2] && parts[2].indexOf('eval') === 0; // start of line\n\n    if (isEval) {\n      const subMatch = chromeEvalRegex.exec(parts[2]);\n\n      if (subMatch) {\n        // throw out eval line/column and use top-most line/column number\n        parts[2] = subMatch[1]; // url\n        parts[3] = subMatch[2]; // line\n        parts[4] = subMatch[3]; // column\n      }\n    }\n\n    // Kamil: One more hack won't hurt us right? Understanding and adding more rules on top of these regexps right now\n    // would be way too time consuming. (TODO: Rewrite whole RegExp to be more readable)\n    const [func, filename] = extractSafariExtensionDetails(parts[1] || UNKNOWN_FUNCTION, parts[2]);\n\n    return createFrame(filename, func, parts[3] ? +parts[3] : undefined, parts[4] ? +parts[4] : undefined);\n  }\n\n  return;\n};\n\nconst chromeStackLineParser = [CHROME_PRIORITY, chrome];\n\n// gecko regex: `(?:bundle|\\d+\\.js)`: `bundle` is for react native, `\\d+\\.js` also but specifically for ram bundles because it\n// generates filenames without a prefix like `file://` the filenames in the stacktrace are just 42.js\n// We need this specific case for now because we want no other regex to match.\nconst geckoREgex =\n  /^\\s*(.*?)(?:\\((.*?)\\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|safari-extension|safari-web-extension|capacitor)?:\\/.*?|\\[native code\\]|[^@]*(?:bundle|\\d+\\.js)|\\/[\\w\\-. /=]+)(?::(\\d+))?(?::(\\d+))?\\s*$/i;\nconst geckoEvalRegex = /(\\S+) line (\\d+)(?: > eval line \\d+)* > eval/i;\n\nconst gecko = line => {\n  const parts = geckoREgex.exec(line);\n\n  if (parts) {\n    const isEval = parts[3] && parts[3].indexOf(' > eval') > -1;\n    if (isEval) {\n      const subMatch = geckoEvalRegex.exec(parts[3]);\n\n      if (subMatch) {\n        // throw out eval line/column and use top-most line number\n        parts[1] = parts[1] || 'eval';\n        parts[3] = subMatch[1];\n        parts[4] = subMatch[2];\n        parts[5] = ''; // no column when eval\n      }\n    }\n\n    let filename = parts[3];\n    let func = parts[1] || UNKNOWN_FUNCTION;\n    [func, filename] = extractSafariExtensionDetails(func, filename);\n\n    return createFrame(filename, func, parts[4] ? +parts[4] : undefined, parts[5] ? +parts[5] : undefined);\n  }\n\n  return;\n};\n\nconst geckoStackLineParser = [GECKO_PRIORITY, gecko];\n\nconst winjsRegex =\n  /^\\s*at (?:((?:\\[object object\\])?.+) )?\\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\\d+)(?::(\\d+))?\\)?\\s*$/i;\n\nconst winjs = line => {\n  const parts = winjsRegex.exec(line);\n\n  return parts\n    ? createFrame(parts[2], parts[1] || UNKNOWN_FUNCTION, +parts[3], parts[4] ? +parts[4] : undefined)\n    : undefined;\n};\n\nconst winjsStackLineParser = [WINJS_PRIORITY, winjs];\n\nconst opera10Regex = / line (\\d+).*script (?:in )?(\\S+)(?:: in function (\\S+))?$/i;\n\nconst opera10 = line => {\n  const parts = opera10Regex.exec(line);\n  return parts ? createFrame(parts[2], parts[3] || UNKNOWN_FUNCTION, +parts[1]) : undefined;\n};\n\nconst opera10StackLineParser = [OPERA10_PRIORITY, opera10];\n\nconst opera11Regex =\n  / line (\\d+), column (\\d+)\\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\\(.*\\))? in (.*):\\s*$/i;\n\nconst opera11 = line => {\n  const parts = opera11Regex.exec(line);\n  return parts ? createFrame(parts[5], parts[3] || parts[4] || UNKNOWN_FUNCTION, +parts[1], +parts[2]) : undefined;\n};\n\nconst opera11StackLineParser = [OPERA11_PRIORITY, opera11];\n\nconst defaultStackLineParsers = [chromeStackLineParser, geckoStackLineParser, winjsStackLineParser];\n\nconst defaultStackParser = createStackParser(...defaultStackLineParsers);\n\n/**\n * Safari web extensions, starting version unknown, can produce \"frames-only\" stacktraces.\n * What it means, is that instead of format like:\n *\n * Error: wat\n *   at function@url:row:col\n *   at function@url:row:col\n *   at function@url:row:col\n *\n * it produces something like:\n *\n *   function@url:row:col\n *   function@url:row:col\n *   function@url:row:col\n *\n * Because of that, it won't be captured by `chrome` RegExp and will fall into `Gecko` branch.\n * This function is extracted so that we can use it in both places without duplicating the logic.\n * Unfortunately \"just\" changing RegExp is too complicated now and making it pass all tests\n * and fix this case seems like an impossible, or at least way too time-consuming task.\n */\nconst extractSafariExtensionDetails = (func, filename) => {\n  const isSafariExtension = func.indexOf('safari-extension') !== -1;\n  const isSafariWebExtension = func.indexOf('safari-web-extension') !== -1;\n\n  return isSafariExtension || isSafariWebExtension\n    ? [\n        func.indexOf('@') !== -1 ? func.split('@')[0] : UNKNOWN_FUNCTION,\n        isSafariExtension ? `safari-extension:${filename}` : `safari-web-extension:${filename}`,\n      ]\n    : [func, filename];\n};\n\nexport { chromeStackLineParser, defaultStackLineParsers, defaultStackParser, geckoStackLineParser, opera10StackLineParser, opera11StackLineParser, winjsStackLineParser };\n//# sourceMappingURL=stack-parsers.js.map\n","import { normalize } from './normalize.js';\nimport { dropUndefinedKeys } from './object.js';\n\n/**\n * Creates an envelope.\n * Make sure to always explicitly provide the generic to this function\n * so that the envelope types resolve correctly.\n */\nfunction createEnvelope(headers, items = []) {\n  return [headers, items] ;\n}\n\n/**\n * Add an item to an envelope.\n * Make sure to always explicitly provide the generic to this function\n * so that the envelope types resolve correctly.\n */\nfunction addItemToEnvelope(envelope, newItem) {\n  const [headers, items] = envelope;\n  return [headers, [...items, newItem]] ;\n}\n\n/**\n * Convenience function to loop through the items and item types of an envelope.\n * (This function was mostly created because working with envelope types is painful at the moment)\n */\nfunction forEachEnvelopeItem(\n  envelope,\n  callback,\n) {\n  const envelopeItems = envelope[1];\n  envelopeItems.forEach((envelopeItem) => {\n    const envelopeItemType = envelopeItem[0].type;\n    callback(envelopeItem, envelopeItemType);\n  });\n}\n\nfunction encodeUTF8(input, textEncoder) {\n  const utf8 = textEncoder || new TextEncoder();\n  return utf8.encode(input);\n}\n\n/**\n * Serializes an envelope.\n */\nfunction serializeEnvelope(envelope, textEncoder) {\n  const [envHeaders, items] = envelope;\n\n  // Initially we construct our envelope as a string and only convert to binary chunks if we encounter binary data\n  let parts = JSON.stringify(envHeaders);\n\n  function append(next) {\n    if (typeof parts === 'string') {\n      parts = typeof next === 'string' ? parts + next : [encodeUTF8(parts, textEncoder), next];\n    } else {\n      parts.push(typeof next === 'string' ? encodeUTF8(next, textEncoder) : next);\n    }\n  }\n\n  for (const item of items) {\n    const [itemHeaders, payload] = item;\n\n    append(`\\n${JSON.stringify(itemHeaders)}\\n`);\n\n    if (typeof payload === 'string' || payload instanceof Uint8Array) {\n      append(payload);\n    } else {\n      let stringifiedPayload;\n      try {\n        stringifiedPayload = JSON.stringify(payload);\n      } catch (e) {\n        // In case, despite all our efforts to keep `payload` circular-dependency-free, `JSON.strinify()` still\n        // fails, we try again after normalizing it again with infinite normalization depth. This of course has a\n        // performance impact but in this case a performance hit is better than throwing.\n        stringifiedPayload = JSON.stringify(normalize(payload));\n      }\n      append(stringifiedPayload);\n    }\n  }\n\n  return typeof parts === 'string' ? parts : concatBuffers(parts);\n}\n\nfunction concatBuffers(buffers) {\n  const totalLength = buffers.reduce((acc, buf) => acc + buf.length, 0);\n\n  const merged = new Uint8Array(totalLength);\n  let offset = 0;\n  for (const buffer of buffers) {\n    merged.set(buffer, offset);\n    offset += buffer.length;\n  }\n\n  return merged;\n}\n\n/**\n * Creates attachment envelope items\n */\nfunction createAttachmentEnvelopeItem(\n  attachment,\n  textEncoder,\n) {\n  const buffer = typeof attachment.data === 'string' ? encodeUTF8(attachment.data, textEncoder) : attachment.data;\n\n  return [\n    dropUndefinedKeys({\n      type: 'attachment',\n      length: buffer.length,\n      filename: attachment.filename,\n      content_type: attachment.contentType,\n      attachment_type: attachment.attachmentType,\n    }),\n    buffer,\n  ];\n}\n\nconst ITEM_TYPE_TO_DATA_CATEGORY_MAP = {\n  session: 'session',\n  sessions: 'session',\n  attachment: 'attachment',\n  transaction: 'transaction',\n  event: 'error',\n  client_report: 'internal',\n  user_report: 'default',\n};\n\n/**\n * Maps the type of an envelope item to a data category.\n */\nfunction envelopeItemTypeToDataCategory(type) {\n  return ITEM_TYPE_TO_DATA_CATEGORY_MAP[type];\n}\n\nexport { addItemToEnvelope, createAttachmentEnvelopeItem, createEnvelope, envelopeItemTypeToDataCategory, forEachEnvelopeItem, serializeEnvelope };\n//# sourceMappingURL=envelope.js.map\n","var fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\nvar hasOwn = require('../internals/has-own-property');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar CONFIGURABLE_FUNCTION_NAME = require('../internals/function-name').CONFIGURABLE;\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar enforceInternalState = InternalStateModule.enforce;\nvar getInternalState = InternalStateModule.get;\n// eslint-disable-next-line es-x/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\n\nvar CONFIGURABLE_LENGTH = DESCRIPTORS && !fails(function () {\n  return defineProperty(function () { /* empty */ }, 'length', { value: 8 }).length !== 8;\n});\n\nvar TEMPLATE = String(String).split('String');\n\nvar makeBuiltIn = module.exports = function (value, name, options) {\n  if (String(name).slice(0, 7) === 'Symbol(') {\n    name = '[' + String(name).replace(/^Symbol\\(([^)]*)\\)/, '$1') + ']';\n  }\n  if (options && options.getter) name = 'get ' + name;\n  if (options && options.setter) name = 'set ' + name;\n  if (!hasOwn(value, 'name') || (CONFIGURABLE_FUNCTION_NAME && value.name !== name)) {\n    if (DESCRIPTORS) defineProperty(value, 'name', { value: name, configurable: true });\n    else value.name = name;\n  }\n  if (CONFIGURABLE_LENGTH && options && hasOwn(options, 'arity') && value.length !== options.arity) {\n    defineProperty(value, 'length', { value: options.arity });\n  }\n  try {\n    if (options && hasOwn(options, 'constructor') && options.constructor) {\n      if (DESCRIPTORS) defineProperty(value, 'prototype', { writable: false });\n    // in V8 ~ Chrome 53, prototypes of some methods, like `Array.prototype.values`, are non-writable\n    } else if (value.prototype) value.prototype = undefined;\n  } catch (error) { /* empty */ }\n  var state = enforceInternalState(value);\n  if (!hasOwn(state, 'source')) {\n    state.source = TEMPLATE.join(typeof name == 'string' ? name : '');\n  } return value;\n};\n\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n// eslint-disable-next-line no-extend-native -- required\nFunction.prototype.toString = makeBuiltIn(function toString() {\n  return isCallable(this) && getInternalState(this).source || inspectSource(this);\n}, 'toString');\n","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\n\nvar aFunction = function (argument) {\n  return isCallable(argument) ? argument : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(global[namespace]) : global[namespace] && global[namespace][method];\n};\n","import { Observable } from \"./Observable.js\";\nimport { canUseSymbol } from \"../common/canUse.js\";\nexport function fixObservableSubclass(subclass) {\n    function set(key) {\n        Object.defineProperty(subclass, key, { value: Observable });\n    }\n    if (canUseSymbol && Symbol.species) {\n        set(Symbol.species);\n    }\n    set(\"@@species\");\n    return subclass;\n}\n//# sourceMappingURL=subclassing.js.map","import * as React from 'react';\nimport { canUseSymbol } from \"../../utilities/index.js\";\nvar contextKey = canUseSymbol\n    ? Symbol.for('__APOLLO_CONTEXT__')\n    : '__APOLLO_CONTEXT__';\nexport function getApolloContext() {\n    var context = React.createContext[contextKey];\n    if (!context) {\n        Object.defineProperty(React.createContext, contextKey, {\n            value: context = React.createContext({}),\n            enumerable: false,\n            writable: false,\n            configurable: true,\n        });\n        context.displayName = 'ApolloContext';\n    }\n    return context;\n}\nexport { getApolloContext as resetApolloContext };\n//# sourceMappingURL=ApolloContext.js.map","import { invariant } from \"../../utilities/globals/index.js\";\nimport * as React from 'react';\nimport { getApolloContext } from \"./ApolloContext.js\";\nexport var ApolloProvider = function (_a) {\n    var client = _a.client, children = _a.children;\n    var ApolloContext = getApolloContext();\n    return (React.createElement(ApolloContext.Consumer, null, function (context) {\n        if (context === void 0) { context = {}; }\n        if (client && context.client !== client) {\n            context = Object.assign({}, context, { client: client });\n        }\n        __DEV__ ? invariant(context.client, 'ApolloProvider was not passed a client instance. Make ' +\n            'sure you pass in your client via the \"client\" prop.') : invariant(context.client, 26);\n        return (React.createElement(ApolloContext.Provider, { value: context }, children));\n    }));\n};\n//# sourceMappingURL=ApolloProvider.js.map","import { invariant } from \"../../utilities/globals/index.js\";\nimport * as React from 'react';\nimport { getApolloContext } from \"./ApolloContext.js\";\nexport var ApolloConsumer = function (props) {\n    var ApolloContext = getApolloContext();\n    return (React.createElement(ApolloContext.Consumer, null, function (context) {\n        __DEV__ ? invariant(context && context.client, 'Could not find \"client\" in the context of ApolloConsumer. ' +\n            'Wrap the root component in an <ApolloProvider>.') : invariant(context && context.client, 25);\n        return props.children(context.client);\n    }));\n};\n//# sourceMappingURL=ApolloConsumer.js.map","import { invariant } from \"../../utilities/globals/index.js\";\nimport { useContext } from 'react';\nimport { getApolloContext } from \"../context/index.js\";\nexport function useApolloClient(override) {\n    var context = useContext(getApolloContext());\n    var client = override || context.client;\n    __DEV__ ? invariant(!!client, 'Could not find \"client\" in the context or passed in as an option. ' +\n        'Wrap the root component in an <ApolloProvider>, or pass an ApolloClient ' +\n        'instance in via options.') : invariant(!!client, 29);\n    return client;\n}\n//# sourceMappingURL=useApolloClient.js.map","import { invariant } from \"../../utilities/globals/index.js\";\nimport * as React from 'react';\nimport { canUseLayoutEffect } from \"../../utilities/index.js\";\nvar didWarnUncachedGetSnapshot = false;\nvar uSESKey = \"useSyncExternalStore\";\nvar realHook = React[uSESKey];\nexport var useSyncExternalStore = realHook || (function (subscribe, getSnapshot, getServerSnapshot) {\n    var value = getSnapshot();\n    if (__DEV__ &&\n        !didWarnUncachedGetSnapshot &&\n        value !== getSnapshot()) {\n        didWarnUncachedGetSnapshot = true;\n        __DEV__ && invariant.error('The result of getSnapshot should be cached to avoid an infinite loop');\n    }\n    var _a = React.useState({ inst: { value: value, getSnapshot: getSnapshot } }), inst = _a[0].inst, forceUpdate = _a[1];\n    if (canUseLayoutEffect) {\n        React.useLayoutEffect(function () {\n            Object.assign(inst, { value: value, getSnapshot: getSnapshot });\n            if (checkIfSnapshotChanged(inst)) {\n                forceUpdate({ inst: inst });\n            }\n        }, [subscribe, value, getSnapshot]);\n    }\n    else {\n        Object.assign(inst, { value: value, getSnapshot: getSnapshot });\n    }\n    React.useEffect(function () {\n        if (checkIfSnapshotChanged(inst)) {\n            forceUpdate({ inst: inst });\n        }\n        return subscribe(function handleStoreChange() {\n            if (checkIfSnapshotChanged(inst)) {\n                forceUpdate({ inst: inst });\n            }\n        });\n    }, [subscribe]);\n    return value;\n});\nfunction checkIfSnapshotChanged(_a) {\n    var value = _a.value, getSnapshot = _a.getSnapshot;\n    try {\n        return value !== getSnapshot();\n    }\n    catch (_b) {\n        return true;\n    }\n}\n//# sourceMappingURL=useSyncExternalStore.js.map","import { invariant } from \"../../utilities/globals/index.js\";\nexport var DocumentType;\n(function (DocumentType) {\n    DocumentType[DocumentType[\"Query\"] = 0] = \"Query\";\n    DocumentType[DocumentType[\"Mutation\"] = 1] = \"Mutation\";\n    DocumentType[DocumentType[\"Subscription\"] = 2] = \"Subscription\";\n})(DocumentType || (DocumentType = {}));\nvar cache = new Map();\nexport function operationName(type) {\n    var name;\n    switch (type) {\n        case DocumentType.Query:\n            name = 'Query';\n            break;\n        case DocumentType.Mutation:\n            name = 'Mutation';\n            break;\n        case DocumentType.Subscription:\n            name = 'Subscription';\n            break;\n    }\n    return name;\n}\nexport function parser(document) {\n    var cached = cache.get(document);\n    if (cached)\n        return cached;\n    var variables, type, name;\n    __DEV__ ? invariant(!!document && !!document.kind, \"Argument of \".concat(document, \" passed to parser was not a valid GraphQL \") +\n        \"DocumentNode. You may need to use 'graphql-tag' or another method \" +\n        \"to convert your operation into a document\") : invariant(!!document && !!document.kind, 30);\n    var fragments = [];\n    var queries = [];\n    var mutations = [];\n    var subscriptions = [];\n    for (var _i = 0, _a = document.definitions; _i < _a.length; _i++) {\n        var x = _a[_i];\n        if (x.kind === 'FragmentDefinition') {\n            fragments.push(x);\n            continue;\n        }\n        if (x.kind === 'OperationDefinition') {\n            switch (x.operation) {\n                case 'query':\n                    queries.push(x);\n                    break;\n                case 'mutation':\n                    mutations.push(x);\n                    break;\n                case 'subscription':\n                    subscriptions.push(x);\n                    break;\n            }\n        }\n    }\n    __DEV__ ? invariant(!fragments.length ||\n        (queries.length || mutations.length || subscriptions.length), \"Passing only a fragment to 'graphql' is not yet supported. \" +\n        \"You must include a query, subscription or mutation as well\") : invariant(!fragments.length ||\n        (queries.length || mutations.length || subscriptions.length), 31);\n    __DEV__ ? invariant(queries.length + mutations.length + subscriptions.length <= 1, \"react-apollo only supports a query, subscription, or a mutation per HOC. \" +\n        \"\".concat(document, \" had \").concat(queries.length, \" queries, \").concat(subscriptions.length, \" \") +\n        \"subscriptions and \".concat(mutations.length, \" mutations. \") +\n        \"You can use 'compose' to join multiple operation types to a component\") : invariant(queries.length + mutations.length + subscriptions.length <= 1, 32);\n    type = queries.length ? DocumentType.Query : DocumentType.Mutation;\n    if (!queries.length && !mutations.length)\n        type = DocumentType.Subscription;\n    var definitions = queries.length\n        ? queries\n        : mutations.length\n            ? mutations\n            : subscriptions;\n    __DEV__ ? invariant(definitions.length === 1, \"react-apollo only supports one definition per HOC. \".concat(document, \" had \") +\n        \"\".concat(definitions.length, \" definitions. \") +\n        \"You can use 'compose' to join multiple operation types to a component\") : invariant(definitions.length === 1, 33);\n    var definition = definitions[0];\n    variables = definition.variableDefinitions || [];\n    if (definition.name && definition.name.kind === 'Name') {\n        name = definition.name.value;\n    }\n    else {\n        name = 'data';\n    }\n    var payload = { name: name, type: type, variables: variables };\n    cache.set(document, payload);\n    return payload;\n}\nexport function verifyDocumentType(document, type) {\n    var operation = parser(document);\n    var requiredOperationName = operationName(type);\n    var usedOperationName = operationName(operation.type);\n    __DEV__ ? invariant(operation.type === type, \"Running a \".concat(requiredOperationName, \" requires a graphql \") +\n        \"\".concat(requiredOperationName, \", but a \").concat(usedOperationName, \" was used instead.\")) : invariant(operation.type === type, 34);\n}\n//# sourceMappingURL=index.js.map","import { __assign, __rest } from \"tslib\";\nimport { invariant } from \"../../utilities/globals/index.js\";\nimport { useCallback, useContext, useMemo, useRef, useState, } from 'react';\nimport { useSyncExternalStore } from \"./useSyncExternalStore.js\";\nimport { equal } from '@wry/equality';\nimport { mergeOptions } from \"../../core/index.js\";\nimport { getApolloContext } from \"../context/index.js\";\nimport { ApolloError } from \"../../errors/index.js\";\nimport { NetworkStatus, } from \"../../core/index.js\";\nimport { DocumentType, verifyDocumentType } from \"../parser/index.js\";\nimport { useApolloClient } from \"./useApolloClient.js\";\nimport { canUseWeakMap, canUseWeakSet, compact, isNonEmptyArray, maybeDeepFreeze } from \"../../utilities/index.js\";\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nexport function useQuery(query, options) {\n    if (options === void 0) { options = Object.create(null); }\n    return useInternalState(useApolloClient(options.client), query).useQuery(options);\n}\nexport function useInternalState(client, query) {\n    var stateRef = useRef();\n    if (!stateRef.current ||\n        client !== stateRef.current.client ||\n        query !== stateRef.current.query) {\n        stateRef.current = new InternalState(client, query, stateRef.current);\n    }\n    var state = stateRef.current;\n    var _a = useState(0), _tick = _a[0], setTick = _a[1];\n    state.forceUpdate = function () {\n        setTick(function (tick) { return tick + 1; });\n    };\n    return state;\n}\nvar InternalState = (function () {\n    function InternalState(client, query, previous) {\n        this.client = client;\n        this.query = query;\n        this.asyncResolveFns = new Set();\n        this.optionsToIgnoreOnce = new (canUseWeakSet ? WeakSet : Set)();\n        this.ssrDisabledResult = maybeDeepFreeze({\n            loading: true,\n            data: void 0,\n            error: void 0,\n            networkStatus: NetworkStatus.loading,\n        });\n        this.skipStandbyResult = maybeDeepFreeze({\n            loading: false,\n            data: void 0,\n            error: void 0,\n            networkStatus: NetworkStatus.ready,\n        });\n        this.toQueryResultCache = new (canUseWeakMap ? WeakMap : Map)();\n        verifyDocumentType(query, DocumentType.Query);\n        var previousResult = previous && previous.result;\n        var previousData = previousResult && previousResult.data;\n        if (previousData) {\n            this.previousData = previousData;\n        }\n    }\n    InternalState.prototype.forceUpdate = function () {\n        __DEV__ && invariant.warn(\"Calling default no-op implementation of InternalState#forceUpdate\");\n    };\n    InternalState.prototype.asyncUpdate = function () {\n        var _this = this;\n        return new Promise(function (resolve) {\n            _this.asyncResolveFns.add(resolve);\n            _this.optionsToIgnoreOnce.add(_this.watchQueryOptions);\n            _this.forceUpdate();\n        });\n    };\n    InternalState.prototype.useQuery = function (options) {\n        var _this = this;\n        this.renderPromises = useContext(getApolloContext()).renderPromises;\n        this.useOptions(options);\n        var obsQuery = this.useObservableQuery();\n        var result = useSyncExternalStore(useCallback(function () {\n            if (_this.renderPromises) {\n                return function () { };\n            }\n            var onNext = function () {\n                var previousResult = _this.result;\n                var result = obsQuery.getCurrentResult();\n                if (previousResult &&\n                    previousResult.loading === result.loading &&\n                    previousResult.networkStatus === result.networkStatus &&\n                    equal(previousResult.data, result.data)) {\n                    return;\n                }\n                _this.setResult(result);\n            };\n            var onError = function (error) {\n                var last = obsQuery[\"last\"];\n                subscription.unsubscribe();\n                try {\n                    obsQuery.resetLastResults();\n                    subscription = obsQuery.subscribe(onNext, onError);\n                }\n                finally {\n                    obsQuery[\"last\"] = last;\n                }\n                if (!hasOwnProperty.call(error, 'graphQLErrors')) {\n                    throw error;\n                }\n                var previousResult = _this.result;\n                if (!previousResult ||\n                    (previousResult && previousResult.loading) ||\n                    !equal(error, previousResult.error)) {\n                    _this.setResult({\n                        data: (previousResult && previousResult.data),\n                        error: error,\n                        loading: false,\n                        networkStatus: NetworkStatus.error,\n                    });\n                }\n            };\n            var subscription = obsQuery.subscribe(onNext, onError);\n            return function () { return subscription.unsubscribe(); };\n        }, [\n            obsQuery,\n            this.renderPromises,\n            this.client.disableNetworkFetches,\n        ]), function () { return _this.getCurrentResult(); }, function () { return _this.getCurrentResult(); });\n        this.unsafeHandlePartialRefetch(result);\n        var queryResult = this.toQueryResult(result);\n        if (!queryResult.loading && this.asyncResolveFns.size) {\n            this.asyncResolveFns.forEach(function (resolve) { return resolve(queryResult); });\n            this.asyncResolveFns.clear();\n        }\n        return queryResult;\n    };\n    InternalState.prototype.useOptions = function (options) {\n        var _a;\n        var watchQueryOptions = this.createWatchQueryOptions(this.queryHookOptions = options);\n        var currentWatchQueryOptions = this.watchQueryOptions;\n        if (this.optionsToIgnoreOnce.has(currentWatchQueryOptions) ||\n            !equal(watchQueryOptions, currentWatchQueryOptions)) {\n            this.watchQueryOptions = watchQueryOptions;\n            if (currentWatchQueryOptions && this.observable) {\n                this.optionsToIgnoreOnce.delete(currentWatchQueryOptions);\n                this.observable.reobserve(this.getObsQueryOptions());\n                this.previousData = ((_a = this.result) === null || _a === void 0 ? void 0 : _a.data) || this.previousData;\n                this.result = void 0;\n            }\n        }\n        this.onCompleted = options.onCompleted || InternalState.prototype.onCompleted;\n        this.onError = options.onError || InternalState.prototype.onError;\n        if ((this.renderPromises || this.client.disableNetworkFetches) &&\n            this.queryHookOptions.ssr === false &&\n            !this.queryHookOptions.skip) {\n            this.result = this.ssrDisabledResult;\n        }\n        else if (this.queryHookOptions.skip ||\n            this.watchQueryOptions.fetchPolicy === 'standby') {\n            this.result = this.skipStandbyResult;\n        }\n        else if (this.result === this.ssrDisabledResult ||\n            this.result === this.skipStandbyResult) {\n            this.result = void 0;\n        }\n    };\n    InternalState.prototype.getObsQueryOptions = function () {\n        var toMerge = [];\n        var globalDefaults = this.client.defaultOptions.watchQuery;\n        if (globalDefaults)\n            toMerge.push(globalDefaults);\n        if (this.queryHookOptions.defaultOptions) {\n            toMerge.push(this.queryHookOptions.defaultOptions);\n        }\n        toMerge.push(compact(this.observable && this.observable.options, this.watchQueryOptions));\n        return toMerge.reduce(mergeOptions);\n    };\n    InternalState.prototype.createWatchQueryOptions = function (_a) {\n        var _b;\n        if (_a === void 0) { _a = {}; }\n        var skip = _a.skip, ssr = _a.ssr, onCompleted = _a.onCompleted, onError = _a.onError, displayName = _a.displayName, defaultOptions = _a.defaultOptions, otherOptions = __rest(_a, [\"skip\", \"ssr\", \"onCompleted\", \"onError\", \"displayName\", \"defaultOptions\"]);\n        var watchQueryOptions = Object.assign(otherOptions, { query: this.query });\n        if (this.renderPromises &&\n            (watchQueryOptions.fetchPolicy === 'network-only' ||\n                watchQueryOptions.fetchPolicy === 'cache-and-network')) {\n            watchQueryOptions.fetchPolicy = 'cache-first';\n        }\n        if (!watchQueryOptions.variables) {\n            watchQueryOptions.variables = {};\n        }\n        if (skip) {\n            var _c = watchQueryOptions.fetchPolicy, fetchPolicy = _c === void 0 ? this.getDefaultFetchPolicy() : _c, _d = watchQueryOptions.initialFetchPolicy, initialFetchPolicy = _d === void 0 ? fetchPolicy : _d;\n            Object.assign(watchQueryOptions, {\n                initialFetchPolicy: initialFetchPolicy,\n                fetchPolicy: 'standby',\n            });\n        }\n        else if (!watchQueryOptions.fetchPolicy) {\n            watchQueryOptions.fetchPolicy =\n                ((_b = this.observable) === null || _b === void 0 ? void 0 : _b.options.initialFetchPolicy) ||\n                    this.getDefaultFetchPolicy();\n        }\n        return watchQueryOptions;\n    };\n    InternalState.prototype.getDefaultFetchPolicy = function () {\n        var _a, _b;\n        return (((_a = this.queryHookOptions.defaultOptions) === null || _a === void 0 ? void 0 : _a.fetchPolicy) ||\n            ((_b = this.client.defaultOptions.watchQuery) === null || _b === void 0 ? void 0 : _b.fetchPolicy) ||\n            \"cache-first\");\n    };\n    InternalState.prototype.onCompleted = function (data) { };\n    InternalState.prototype.onError = function (error) { };\n    InternalState.prototype.useObservableQuery = function () {\n        var obsQuery = this.observable =\n            this.renderPromises\n                && this.renderPromises.getSSRObservable(this.watchQueryOptions)\n                || this.observable\n                || this.client.watchQuery(this.getObsQueryOptions());\n        this.obsQueryFields = useMemo(function () { return ({\n            refetch: obsQuery.refetch.bind(obsQuery),\n            reobserve: obsQuery.reobserve.bind(obsQuery),\n            fetchMore: obsQuery.fetchMore.bind(obsQuery),\n            updateQuery: obsQuery.updateQuery.bind(obsQuery),\n            startPolling: obsQuery.startPolling.bind(obsQuery),\n            stopPolling: obsQuery.stopPolling.bind(obsQuery),\n            subscribeToMore: obsQuery.subscribeToMore.bind(obsQuery),\n        }); }, [obsQuery]);\n        var ssrAllowed = !(this.queryHookOptions.ssr === false ||\n            this.queryHookOptions.skip);\n        if (this.renderPromises && ssrAllowed) {\n            this.renderPromises.registerSSRObservable(obsQuery);\n            if (obsQuery.getCurrentResult().loading) {\n                this.renderPromises.addObservableQueryPromise(obsQuery);\n            }\n        }\n        return obsQuery;\n    };\n    InternalState.prototype.setResult = function (nextResult) {\n        var previousResult = this.result;\n        if (previousResult && previousResult.data) {\n            this.previousData = previousResult.data;\n        }\n        this.result = nextResult;\n        this.forceUpdate();\n        this.handleErrorOrCompleted(nextResult);\n    };\n    InternalState.prototype.handleErrorOrCompleted = function (result) {\n        if (!result.loading) {\n            if (result.error) {\n                this.onError(result.error);\n            }\n            else if (result.data) {\n                this.onCompleted(result.data);\n            }\n        }\n    };\n    InternalState.prototype.getCurrentResult = function () {\n        if (!this.result) {\n            this.handleErrorOrCompleted(this.result = this.observable.getCurrentResult());\n        }\n        return this.result;\n    };\n    InternalState.prototype.toQueryResult = function (result) {\n        var queryResult = this.toQueryResultCache.get(result);\n        if (queryResult)\n            return queryResult;\n        var data = result.data, partial = result.partial, resultWithoutPartial = __rest(result, [\"data\", \"partial\"]);\n        this.toQueryResultCache.set(result, queryResult = __assign(__assign(__assign({ data: data }, resultWithoutPartial), this.obsQueryFields), { client: this.client, observable: this.observable, variables: this.observable.variables, called: true, previousData: this.previousData }));\n        if (!queryResult.error && isNonEmptyArray(result.errors)) {\n            queryResult.error = new ApolloError({ graphQLErrors: result.errors });\n        }\n        return queryResult;\n    };\n    InternalState.prototype.unsafeHandlePartialRefetch = function (result) {\n        if (result.partial &&\n            this.queryHookOptions.partialRefetch &&\n            !result.loading &&\n            (!result.data || Object.keys(result.data).length === 0) &&\n            this.observable.options.fetchPolicy !== 'cache-only') {\n            Object.assign(result, {\n                loading: true,\n                networkStatus: NetworkStatus.refetch,\n            });\n            this.observable.refetch();\n        }\n    };\n    return InternalState;\n}());\n//# sourceMappingURL=useQuery.js.map","import { __assign } from \"tslib\";\nimport { useCallback, useMemo, useRef } from 'react';\nimport { mergeOptions } from \"../../utilities/index.js\";\nimport { useInternalState } from \"./useQuery.js\";\nimport { useApolloClient } from \"./useApolloClient.js\";\nvar EAGER_METHODS = [\n    'refetch',\n    'reobserve',\n    'fetchMore',\n    'updateQuery',\n    'startPolling',\n    'subscribeToMore',\n];\nexport function useLazyQuery(query, options) {\n    var internalState = useInternalState(useApolloClient(options && options.client), query);\n    var execOptionsRef = useRef();\n    var merged = execOptionsRef.current\n        ? mergeOptions(options, execOptionsRef.current)\n        : options;\n    var useQueryResult = internalState.useQuery(__assign(__assign({}, merged), { skip: !execOptionsRef.current }));\n    var initialFetchPolicy = useQueryResult.observable.options.initialFetchPolicy ||\n        internalState.getDefaultFetchPolicy();\n    var result = Object.assign(useQueryResult, {\n        called: !!execOptionsRef.current,\n    });\n    var eagerMethods = useMemo(function () {\n        var eagerMethods = {};\n        var _loop_1 = function (key) {\n            var method = result[key];\n            eagerMethods[key] = function () {\n                if (!execOptionsRef.current) {\n                    execOptionsRef.current = Object.create(null);\n                    internalState.forceUpdate();\n                }\n                return method.apply(this, arguments);\n            };\n        };\n        for (var _i = 0, EAGER_METHODS_1 = EAGER_METHODS; _i < EAGER_METHODS_1.length; _i++) {\n            var key = EAGER_METHODS_1[_i];\n            _loop_1(key);\n        }\n        return eagerMethods;\n    }, []);\n    Object.assign(result, eagerMethods);\n    var execute = useCallback(function (executeOptions) {\n        execOptionsRef.current = executeOptions ? __assign(__assign({}, executeOptions), { fetchPolicy: executeOptions.fetchPolicy || initialFetchPolicy }) : {\n            fetchPolicy: initialFetchPolicy,\n        };\n        var promise = internalState\n            .asyncUpdate()\n            .then(function (queryResult) { return Object.assign(queryResult, eagerMethods); });\n        promise.catch(function () { });\n        return promise;\n    }, []);\n    return [execute, result];\n}\n//# sourceMappingURL=useLazyQuery.js.map","import { __assign } from \"tslib\";\nimport { useCallback, useEffect, useRef, useState } from 'react';\nimport { mergeOptions, } from \"../../core/index.js\";\nimport { equal } from '@wry/equality';\nimport { DocumentType, verifyDocumentType } from \"../parser/index.js\";\nimport { ApolloError } from \"../../errors/index.js\";\nimport { useApolloClient } from \"./useApolloClient.js\";\nexport function useMutation(mutation, options) {\n    var client = useApolloClient(options === null || options === void 0 ? void 0 : options.client);\n    verifyDocumentType(mutation, DocumentType.Mutation);\n    var _a = useState({\n        called: false,\n        loading: false,\n        client: client,\n    }), result = _a[0], setResult = _a[1];\n    var ref = useRef({\n        result: result,\n        mutationId: 0,\n        isMounted: true,\n        client: client,\n        mutation: mutation,\n        options: options,\n    });\n    {\n        Object.assign(ref.current, { client: client, options: options, mutation: mutation });\n    }\n    var execute = useCallback(function (executeOptions) {\n        if (executeOptions === void 0) { executeOptions = {}; }\n        var _a = ref.current, client = _a.client, options = _a.options, mutation = _a.mutation;\n        var baseOptions = __assign(__assign({}, options), { mutation: mutation });\n        if (!ref.current.result.loading && !baseOptions.ignoreResults) {\n            setResult(ref.current.result = {\n                loading: true,\n                error: void 0,\n                data: void 0,\n                called: true,\n                client: client,\n            });\n        }\n        var mutationId = ++ref.current.mutationId;\n        var clientOptions = mergeOptions(baseOptions, executeOptions);\n        return client.mutate(clientOptions).then(function (response) {\n            var _a, _b, _c;\n            var data = response.data, errors = response.errors;\n            var error = errors && errors.length > 0\n                ? new ApolloError({ graphQLErrors: errors })\n                : void 0;\n            if (mutationId === ref.current.mutationId &&\n                !clientOptions.ignoreResults) {\n                var result_1 = {\n                    called: true,\n                    loading: false,\n                    data: data,\n                    error: error,\n                    client: client,\n                };\n                if (ref.current.isMounted && !equal(ref.current.result, result_1)) {\n                    setResult(ref.current.result = result_1);\n                }\n            }\n            (_b = (_a = ref.current.options) === null || _a === void 0 ? void 0 : _a.onCompleted) === null || _b === void 0 ? void 0 : _b.call(_a, response.data);\n            (_c = executeOptions.onCompleted) === null || _c === void 0 ? void 0 : _c.call(executeOptions, response.data);\n            return response;\n        }).catch(function (error) {\n            var _a, _b, _c, _d;\n            if (mutationId === ref.current.mutationId &&\n                ref.current.isMounted) {\n                var result_2 = {\n                    loading: false,\n                    error: error,\n                    data: void 0,\n                    called: true,\n                    client: client,\n                };\n                if (!equal(ref.current.result, result_2)) {\n                    setResult(ref.current.result = result_2);\n                }\n            }\n            if (((_a = ref.current.options) === null || _a === void 0 ? void 0 : _a.onError) || clientOptions.onError) {\n                (_c = (_b = ref.current.options) === null || _b === void 0 ? void 0 : _b.onError) === null || _c === void 0 ? void 0 : _c.call(_b, error);\n                (_d = executeOptions.onError) === null || _d === void 0 ? void 0 : _d.call(executeOptions, error);\n                return { data: void 0, errors: error };\n            }\n            throw error;\n        });\n    }, []);\n    var reset = useCallback(function () {\n        setResult({ called: false, loading: false, client: client });\n    }, []);\n    useEffect(function () {\n        ref.current.isMounted = true;\n        return function () {\n            ref.current.isMounted = false;\n        };\n    }, []);\n    return [execute, __assign({ reset: reset }, result)];\n}\n//# sourceMappingURL=useMutation.js.map","import \"../../utilities/globals/index.js\";\nimport { useState, useRef, useEffect } from 'react';\nimport { equal } from '@wry/equality';\nimport { DocumentType, verifyDocumentType } from \"../parser/index.js\";\nimport { useApolloClient } from \"./useApolloClient.js\";\nexport function useSubscription(subscription, options) {\n    var client = useApolloClient(options === null || options === void 0 ? void 0 : options.client);\n    verifyDocumentType(subscription, DocumentType.Subscription);\n    var _a = useState({\n        loading: !(options === null || options === void 0 ? void 0 : options.skip),\n        error: void 0,\n        data: void 0,\n        variables: options === null || options === void 0 ? void 0 : options.variables,\n    }), result = _a[0], setResult = _a[1];\n    var _b = useState(function () {\n        if (options === null || options === void 0 ? void 0 : options.skip) {\n            return null;\n        }\n        return client.subscribe({\n            query: subscription,\n            variables: options === null || options === void 0 ? void 0 : options.variables,\n            fetchPolicy: options === null || options === void 0 ? void 0 : options.fetchPolicy,\n            context: options === null || options === void 0 ? void 0 : options.context,\n        });\n    }), observable = _b[0], setObservable = _b[1];\n    var canResetObservableRef = useRef(false);\n    useEffect(function () {\n        return function () {\n            canResetObservableRef.current = true;\n        };\n    }, []);\n    var ref = useRef({ client: client, subscription: subscription, options: options });\n    useEffect(function () {\n        var _a, _b, _c, _d;\n        var shouldResubscribe = options === null || options === void 0 ? void 0 : options.shouldResubscribe;\n        if (typeof shouldResubscribe === 'function') {\n            shouldResubscribe = !!shouldResubscribe(options);\n        }\n        if (options === null || options === void 0 ? void 0 : options.skip) {\n            if (!(options === null || options === void 0 ? void 0 : options.skip) !== !((_a = ref.current.options) === null || _a === void 0 ? void 0 : _a.skip) || canResetObservableRef.current) {\n                setResult({\n                    loading: false,\n                    data: void 0,\n                    error: void 0,\n                    variables: options === null || options === void 0 ? void 0 : options.variables,\n                });\n                setObservable(null);\n                canResetObservableRef.current = false;\n            }\n        }\n        else if ((shouldResubscribe !== false &&\n            (client !== ref.current.client ||\n                subscription !== ref.current.subscription ||\n                (options === null || options === void 0 ? void 0 : options.fetchPolicy) !== ((_b = ref.current.options) === null || _b === void 0 ? void 0 : _b.fetchPolicy) ||\n                !(options === null || options === void 0 ? void 0 : options.skip) !== !((_c = ref.current.options) === null || _c === void 0 ? void 0 : _c.skip) ||\n                !equal(options === null || options === void 0 ? void 0 : options.variables, (_d = ref.current.options) === null || _d === void 0 ? void 0 : _d.variables))) ||\n            canResetObservableRef.current) {\n            setResult({\n                loading: true,\n                data: void 0,\n                error: void 0,\n                variables: options === null || options === void 0 ? void 0 : options.variables,\n            });\n            setObservable(client.subscribe({\n                query: subscription,\n                variables: options === null || options === void 0 ? void 0 : options.variables,\n                fetchPolicy: options === null || options === void 0 ? void 0 : options.fetchPolicy,\n                context: options === null || options === void 0 ? void 0 : options.context,\n            }));\n            canResetObservableRef.current = false;\n        }\n        Object.assign(ref.current, { client: client, subscription: subscription, options: options });\n    }, [client, subscription, options, canResetObservableRef.current]);\n    useEffect(function () {\n        if (!observable) {\n            return;\n        }\n        var subscription = observable.subscribe({\n            next: function (fetchResult) {\n                var _a, _b;\n                var result = {\n                    loading: false,\n                    data: fetchResult.data,\n                    error: void 0,\n                    variables: options === null || options === void 0 ? void 0 : options.variables,\n                };\n                setResult(result);\n                (_b = (_a = ref.current.options) === null || _a === void 0 ? void 0 : _a.onSubscriptionData) === null || _b === void 0 ? void 0 : _b.call(_a, {\n                    client: client,\n                    subscriptionData: result\n                });\n            },\n            error: function (error) {\n                setResult({\n                    loading: false,\n                    data: void 0,\n                    error: error,\n                    variables: options === null || options === void 0 ? void 0 : options.variables,\n                });\n            },\n            complete: function () {\n                var _a, _b;\n                (_b = (_a = ref.current.options) === null || _a === void 0 ? void 0 : _a.onSubscriptionComplete) === null || _b === void 0 ? void 0 : _b.call(_a);\n            },\n        });\n        return function () {\n            subscription.unsubscribe();\n        };\n    }, [observable]);\n    return result;\n}\n//# sourceMappingURL=useSubscription.js.map","import { useEffect, useState } from 'react';\nexport function useReactiveVar(rv) {\n    var value = rv();\n    var setValue = useState(value)[1];\n    useEffect(function () {\n        var probablySameValue = rv();\n        if (value !== probablySameValue) {\n            setValue(probablySameValue);\n        }\n        else {\n            return rv.onNextChange(setValue);\n        }\n    }, [value]);\n    return value;\n}\n//# sourceMappingURL=useReactiveVar.js.map","import { isString } from './is.js';\nimport { getGlobalObject } from './worldwide.js';\n\n// eslint-disable-next-line deprecation/deprecation\nconst WINDOW = getGlobalObject();\n\n/**\n * Given a child DOM element, returns a query-selector statement describing that\n * and its ancestors\n * e.g. [HTMLElement] => body > div > input#foo.btn[name=baz]\n * @returns generated DOM path\n */\nfunction htmlTreeAsString(elem, keyAttrs) {\n\n  // try/catch both:\n  // - accessing event.target (see getsentry/raven-js#838, #768)\n  // - `htmlTreeAsString` because it's complex, and just accessing the DOM incorrectly\n  // - can throw an exception in some circumstances.\n  try {\n    let currentElem = elem ;\n    const MAX_TRAVERSE_HEIGHT = 5;\n    const MAX_OUTPUT_LEN = 80;\n    const out = [];\n    let height = 0;\n    let len = 0;\n    const separator = ' > ';\n    const sepLength = separator.length;\n    let nextStr;\n\n    // eslint-disable-next-line no-plusplus\n    while (currentElem && height++ < MAX_TRAVERSE_HEIGHT) {\n      nextStr = _htmlElementAsString(currentElem, keyAttrs);\n      // bail out if\n      // - nextStr is the 'html' element\n      // - the length of the string that would be created exceeds MAX_OUTPUT_LEN\n      //   (ignore this limit if we are on the first iteration)\n      if (nextStr === 'html' || (height > 1 && len + out.length * sepLength + nextStr.length >= MAX_OUTPUT_LEN)) {\n        break;\n      }\n\n      out.push(nextStr);\n\n      len += nextStr.length;\n      currentElem = currentElem.parentNode;\n    }\n\n    return out.reverse().join(separator);\n  } catch (_oO) {\n    return '<unknown>';\n  }\n}\n\n/**\n * Returns a simple, query-selector representation of a DOM element\n * e.g. [HTMLElement] => input#foo.btn[name=baz]\n * @returns generated DOM path\n */\nfunction _htmlElementAsString(el, keyAttrs) {\n  const elem = el\n\n;\n\n  const out = [];\n  let className;\n  let classes;\n  let key;\n  let attr;\n  let i;\n\n  if (!elem || !elem.tagName) {\n    return '';\n  }\n\n  out.push(elem.tagName.toLowerCase());\n\n  // Pairs of attribute keys defined in `serializeAttribute` and their values on element.\n  const keyAttrPairs =\n    keyAttrs && keyAttrs.length\n      ? keyAttrs.filter(keyAttr => elem.getAttribute(keyAttr)).map(keyAttr => [keyAttr, elem.getAttribute(keyAttr)])\n      : null;\n\n  if (keyAttrPairs && keyAttrPairs.length) {\n    keyAttrPairs.forEach(keyAttrPair => {\n      out.push(`[${keyAttrPair[0]}=\"${keyAttrPair[1]}\"]`);\n    });\n  } else {\n    if (elem.id) {\n      out.push(`#${elem.id}`);\n    }\n\n    // eslint-disable-next-line prefer-const\n    className = elem.className;\n    if (className && isString(className)) {\n      classes = className.split(/\\s+/);\n      for (i = 0; i < classes.length; i++) {\n        out.push(`.${classes[i]}`);\n      }\n    }\n  }\n  const allowedAttrs = ['type', 'name', 'title', 'alt'];\n  for (i = 0; i < allowedAttrs.length; i++) {\n    key = allowedAttrs[i];\n    attr = elem.getAttribute(key);\n    if (attr) {\n      out.push(`[${key}=\"${attr}\"]`);\n    }\n  }\n  return out.join('');\n}\n\n/**\n * A safe form of location.href\n */\nfunction getLocationHref() {\n  try {\n    return WINDOW.document.location.href;\n  } catch (oO) {\n    return '';\n  }\n}\n\n/**\n * Gets a DOM element by using document.querySelector.\n *\n * This wrapper will first check for the existance of the function before\n * actually calling it so that we don't have to take care of this check,\n * every time we want to access the DOM.\n *\n * Reason: DOM/querySelector is not available in all environments.\n *\n * We have to cast to any because utils can be consumed by a variety of environments,\n * and we don't want to break TS users. If you know what element will be selected by\n * `document.querySelector`, specify it as part of the generic call. For example,\n * `const element = getDomElement<Element>('selector');`\n *\n * @param selector the selector string passed on to document.querySelector\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction getDomElement(selector) {\n  if (WINDOW.document && WINDOW.document.querySelector) {\n    return WINDOW.document.querySelector(selector) ;\n  }\n  return null;\n}\n\nexport { getDomElement, getLocationHref, htmlTreeAsString };\n//# sourceMappingURL=browser.js.map\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var NATIVE_BIND = require('../internals/function-bind-native');\n\nvar FunctionPrototype = Function.prototype;\nvar bind = FunctionPrototype.bind;\nvar call = FunctionPrototype.call;\nvar uncurryThis = NATIVE_BIND && bind.bind(call, call);\n\nmodule.exports = NATIVE_BIND ? function (fn) {\n  return fn && uncurryThis(fn);\n} : function (fn) {\n  return fn && function () {\n    return call.apply(fn, arguments);\n  };\n};\n","'use strict';\n\nvar isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n\treturn Array.isArray(val) ? [] : {}\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n\treturn (options.clone !== false && options.isMergeableObject(value))\n\t\t? deepmerge(emptyTarget(value), value, options)\n\t\t: value\n}\n\nfunction defaultArrayMerge(target, source, options) {\n\treturn target.concat(source).map(function(element) {\n\t\treturn cloneUnlessOtherwiseSpecified(element, options)\n\t})\n}\n\nfunction getMergeFunction(key, options) {\n\tif (!options.customMerge) {\n\t\treturn deepmerge\n\t}\n\tvar customMerge = options.customMerge(key);\n\treturn typeof customMerge === 'function' ? customMerge : deepmerge\n}\n\nfunction getEnumerableOwnPropertySymbols(target) {\n\treturn Object.getOwnPropertySymbols\n\t\t? Object.getOwnPropertySymbols(target).filter(function(symbol) {\n\t\t\treturn target.propertyIsEnumerable(symbol)\n\t\t})\n\t\t: []\n}\n\nfunction getKeys(target) {\n\treturn Object.keys(target).concat(getEnumerableOwnPropertySymbols(target))\n}\n\nfunction propertyIsOnObject(object, property) {\n\ttry {\n\t\treturn property in object\n\t} catch(_) {\n\t\treturn false\n\t}\n}\n\n// Protects from prototype poisoning and unexpected merging up the prototype chain.\nfunction propertyIsUnsafe(target, key) {\n\treturn propertyIsOnObject(target, key) // Properties are safe to merge if they don't exist in the target yet,\n\t\t&& !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,\n\t\t\t&& Object.propertyIsEnumerable.call(target, key)) // and also unsafe if they're nonenumerable.\n}\n\nfunction mergeObject(target, source, options) {\n\tvar destination = {};\n\tif (options.isMergeableObject(target)) {\n\t\tgetKeys(target).forEach(function(key) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n\t\t});\n\t}\n\tgetKeys(source).forEach(function(key) {\n\t\tif (propertyIsUnsafe(target, key)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {\n\t\t\tdestination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n\t\t} else {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n\t\t}\n\t});\n\treturn destination\n}\n\nfunction deepmerge(target, source, options) {\n\toptions = options || {};\n\toptions.arrayMerge = options.arrayMerge || defaultArrayMerge;\n\toptions.isMergeableObject = options.isMergeableObject || isMergeableObject;\n\t// cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()\n\t// implementations can use it. The caller may not replace it.\n\toptions.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;\n\n\tvar sourceIsArray = Array.isArray(source);\n\tvar targetIsArray = Array.isArray(target);\n\tvar sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n\tif (!sourceAndTargetTypesMatch) {\n\t\treturn cloneUnlessOtherwiseSpecified(source, options)\n\t} else if (sourceIsArray) {\n\t\treturn options.arrayMerge(target, source, options)\n\t} else {\n\t\treturn mergeObject(target, source, options)\n\t}\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new Error('first argument should be an array')\n\t}\n\n\treturn array.reduce(function(prev, next) {\n\t\treturn deepmerge(prev, next, options)\n\t}, {})\n};\n\nvar deepmerge_1 = deepmerge;\n\nmodule.exports = deepmerge_1;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.countryPhoneData = exports.phone = void 0;\nconst country_phone_data_1 = __importDefault(require(\"./data/country_phone_data\"));\nexports.countryPhoneData = country_phone_data_1.default;\nconst utility_1 = require(\"./lib/utility\");\n/**\n * @typedef {Object} Option\n * @property {string=} country - country code in ISO3166 alpha 2 or 3\n * @property {boolean=} validateMobilePrefix - true to validate phone number prefix\n * @property {boolean=} strictDetection - true to disable remove truck code and detection logic\n *\n * @param {string} phoneNumber - phone number\n * @param {Option} option\n * @returns {{phoneNumber: string|null, countryIso2: string|null, countryIso3: string|null}}\n */\nfunction phone(phoneNumber, { country = '', validateMobilePrefix = true, strictDetection = false } = {}) {\n    const invalidResult = {\n        isValid: false,\n        phoneNumber: null,\n        countryIso2: null,\n        countryIso3: null,\n        countryCode: null\n    };\n    let processedPhoneNumber = (typeof phoneNumber !== 'string') ? '' : phoneNumber.trim();\n    const processedCountry = (typeof country !== 'string') ? '' : country.trim();\n    const hasPlusSign = Boolean(processedPhoneNumber.match(/^\\+/));\n    // remove any non-digit character, included the +\n    processedPhoneNumber = processedPhoneNumber.replace(/\\D/g, '');\n    let foundCountryPhoneData = (0, utility_1.findCountryPhoneDataByCountry)(processedCountry);\n    if (!foundCountryPhoneData) {\n        return invalidResult;\n    }\n    let defaultCountry = false;\n    // if country provided, only reformat the phone number\n    if (processedCountry) {\n        // remove leading 0s for all countries except 'CIV', 'COG'\n        if (!['CIV', 'COG'].includes(foundCountryPhoneData.alpha3)) {\n            processedPhoneNumber = processedPhoneNumber.replace(/^0+/, '');\n        }\n        // if input 89234567890, RUS, remove the 8\n        if (foundCountryPhoneData.alpha3 === 'RUS' && processedPhoneNumber.length === 11 && processedPhoneNumber.match(/^89/) !== null) {\n            processedPhoneNumber = processedPhoneNumber.replace(/^8+/, '');\n        }\n        // if there's no plus sign and the phone number length is one of the valid length under country phone data\n        // then assume there's no country code, hence add back the country code\n        if (!hasPlusSign && foundCountryPhoneData.phone_number_lengths.includes(processedPhoneNumber.length)) {\n            processedPhoneNumber = `${foundCountryPhoneData.country_code}${processedPhoneNumber}`;\n        }\n    }\n    else if (hasPlusSign) {\n        // if there is a plus sign but no country provided\n        // try to find the country phone data by the phone number\n        const { exactCountryPhoneData, possibleCountryPhoneData } = (0, utility_1.findCountryPhoneDataByPhoneNumber)(processedPhoneNumber, validateMobilePrefix);\n        if (exactCountryPhoneData) {\n            foundCountryPhoneData = exactCountryPhoneData;\n        }\n        else if (possibleCountryPhoneData && !strictDetection) {\n            // for some countries, the phone number usually includes one trunk prefix for local use\n            // The UK mobile phone number 07911 123456 in international format is +44 7911 123456, so without the first zero.\n            // 8 (AAA) BBB-BB-BB, 0AA-BBBBBBB\n            // the numbers should be omitted in international calls\n            foundCountryPhoneData = possibleCountryPhoneData;\n            processedPhoneNumber = foundCountryPhoneData.country_code + processedPhoneNumber.replace(new RegExp(`^${foundCountryPhoneData.country_code}\\\\d`), '');\n        }\n        else {\n            foundCountryPhoneData = null;\n        }\n    }\n    else if (foundCountryPhoneData.phone_number_lengths.indexOf(processedPhoneNumber.length) !== -1) {\n        // B: no country, no plus sign --> treat it as USA\n        // 1. check length if == 11, or 10, if 10, add +1, then go go D\n        // no plus sign, no country is given. then it must be USA\n        // iso3166 = iso3166_data[0]; already assign by the default value\n        processedPhoneNumber = `1${processedPhoneNumber}`;\n        defaultCountry = true;\n    }\n    if (!foundCountryPhoneData) {\n        return invalidResult;\n    }\n    let validateResult = (0, utility_1.validatePhoneISO3166)(processedPhoneNumber, foundCountryPhoneData, validateMobilePrefix, hasPlusSign);\n    if (validateResult) {\n        return {\n            isValid: true,\n            phoneNumber: `+${processedPhoneNumber}`,\n            countryIso2: foundCountryPhoneData.alpha2,\n            countryIso3: foundCountryPhoneData.alpha3,\n            countryCode: `+${foundCountryPhoneData.country_code}`\n        };\n    }\n    if (defaultCountry) {\n        // also try to validate against CAN for default country, as CAN is also start with +1\n        foundCountryPhoneData = (0, utility_1.findCountryPhoneDataByCountry)('CAN');\n        validateResult = (0, utility_1.validatePhoneISO3166)(processedPhoneNumber, foundCountryPhoneData, validateMobilePrefix, hasPlusSign);\n        if (validateResult) {\n            return {\n                isValid: true,\n                phoneNumber: `+${processedPhoneNumber}`,\n                countryIso2: foundCountryPhoneData.alpha2,\n                countryIso3: foundCountryPhoneData.alpha3,\n                countryCode: `+${foundCountryPhoneData.country_code}`\n            };\n        }\n    }\n    return invalidResult;\n}\nexports.default = phone;\nexports.phone = phone;\n;\n","import { _optionalChain } from './buildPolyfills';\n\nconst STACKTRACE_LIMIT = 50;\n\n/**\n * Creates a stack parser with the supplied line parsers\n *\n * StackFrames are returned in the correct order for Sentry Exception\n * frames and with Sentry SDK internal frames removed from the top and bottom\n *\n */\nfunction createStackParser(...parsers) {\n  const sortedParsers = parsers.sort((a, b) => a[0] - b[0]).map(p => p[1]);\n\n  return (stack, skipFirst = 0) => {\n    const frames = [];\n\n    for (const line of stack.split('\\n').slice(skipFirst)) {\n      // https://github.com/getsentry/sentry-javascript/issues/5459\n      // Remove webpack (error: *) wrappers\n      const cleanedLine = line.replace(/\\(error: (.*)\\)/, '$1');\n\n      for (const parser of sortedParsers) {\n        const frame = parser(cleanedLine);\n\n        if (frame) {\n          frames.push(frame);\n          break;\n        }\n      }\n    }\n\n    return stripSentryFramesAndReverse(frames);\n  };\n}\n\n/**\n * Gets a stack parser implementation from Options.stackParser\n * @see Options\n *\n * If options contains an array of line parsers, it is converted into a parser\n */\nfunction stackParserFromStackParserOptions(stackParser) {\n  if (Array.isArray(stackParser)) {\n    return createStackParser(...stackParser);\n  }\n  return stackParser;\n}\n\n/**\n * @hidden\n */\nfunction stripSentryFramesAndReverse(stack) {\n  if (!stack.length) {\n    return [];\n  }\n\n  let localStack = stack;\n\n  const firstFrameFunction = localStack[0].function || '';\n  const lastFrameFunction = localStack[localStack.length - 1].function || '';\n\n  // If stack starts with one of our API calls, remove it (starts, meaning it's the top of the stack - aka last call)\n  if (firstFrameFunction.indexOf('captureMessage') !== -1 || firstFrameFunction.indexOf('captureException') !== -1) {\n    localStack = localStack.slice(1);\n  }\n\n  // If stack ends with one of our internal API calls, remove it (ends, meaning it's the bottom of the stack - aka top-most call)\n  if (lastFrameFunction.indexOf('sentryWrapped') !== -1) {\n    localStack = localStack.slice(0, -1);\n  }\n\n  // The frame where the crash happened, should be the last entry in the array\n  return localStack\n    .slice(0, STACKTRACE_LIMIT)\n    .map(frame => ({\n      ...frame,\n      filename: frame.filename || localStack[0].filename,\n      function: frame.function || '?',\n    }))\n    .reverse();\n}\n\nconst defaultFunctionName = '<anonymous>';\n\n/**\n * Safely extract function name from itself\n */\nfunction getFunctionName(fn) {\n  try {\n    if (!fn || typeof fn !== 'function') {\n      return defaultFunctionName;\n    }\n    return fn.name || defaultFunctionName;\n  } catch (e) {\n    // Just accessing custom props in some Selenium environments\n    // can cause a \"Permission denied\" exception (see raven-js#495).\n    return defaultFunctionName;\n  }\n}\n\n// eslint-disable-next-line complexity\nfunction node(getModule) {\n  const FILENAME_MATCH = /^\\s*[-]{4,}$/;\n  const FULL_MATCH = /at (?:async )?(?:(.+?)\\s+\\()?(?:(.+):(\\d+):(\\d+)?|([^)]+))\\)?/;\n\n  // eslint-disable-next-line complexity\n  return (line) => {\n    if (line.match(FILENAME_MATCH)) {\n      return {\n        filename: line,\n      };\n    }\n\n    const lineMatch = line.match(FULL_MATCH);\n    if (!lineMatch) {\n      return undefined;\n    }\n\n    let object;\n    let method;\n    let functionName;\n    let typeName;\n    let methodName;\n\n    if (lineMatch[1]) {\n      functionName = lineMatch[1];\n\n      let methodStart = functionName.lastIndexOf('.');\n      if (functionName[methodStart - 1] === '.') {\n        // eslint-disable-next-line no-plusplus\n        methodStart--;\n      }\n\n      if (methodStart > 0) {\n        object = functionName.substr(0, methodStart);\n        method = functionName.substr(methodStart + 1);\n        const objectEnd = object.indexOf('.Module');\n        if (objectEnd > 0) {\n          functionName = functionName.substr(objectEnd + 1);\n          object = object.substr(0, objectEnd);\n        }\n      }\n      typeName = undefined;\n    }\n\n    if (method) {\n      typeName = object;\n      methodName = method;\n    }\n\n    if (method === '<anonymous>') {\n      methodName = undefined;\n      functionName = undefined;\n    }\n\n    if (functionName === undefined) {\n      methodName = methodName || '<anonymous>';\n      functionName = typeName ? `${typeName}.${methodName}` : methodName;\n    }\n\n    const filename = _optionalChain([lineMatch, 'access', _ => _[2], 'optionalAccess', _2 => _2.startsWith, 'call', _3 => _3('file://')]) ? lineMatch[2].substr(7) : lineMatch[2];\n    const isNative = lineMatch[5] === 'native';\n    const isInternal =\n      isNative || (filename && !filename.startsWith('/') && !filename.startsWith('.') && filename.indexOf(':\\\\') !== 1);\n\n    // in_app is all that's not an internal Node function or a module within node_modules\n    // note that isNative appears to return true even for node core libraries\n    // see https://github.com/getsentry/raven-node/issues/176\n    const in_app = !isInternal && filename !== undefined && !filename.includes('node_modules/');\n\n    return {\n      filename,\n      module: _optionalChain([getModule, 'optionalCall', _4 => _4(filename)]),\n      function: functionName,\n      lineno: parseInt(lineMatch[3], 10) || undefined,\n      colno: parseInt(lineMatch[4], 10) || undefined,\n      in_app,\n    };\n  };\n}\n\n/**\n * Node.js stack line parser\n *\n * This is in @sentry/utils so it can be used from the Electron SDK in the browser for when `nodeIntegration == true`.\n * This allows it to be used without referencing or importing any node specific code which causes bundlers to complain\n */\nfunction nodeStackLineParser(getModule) {\n  return [90, node(getModule)];\n}\n\nexport { createStackParser, getFunctionName, nodeStackLineParser, stackParserFromStackParserOptions, stripSentryFramesAndReverse };\n//# sourceMappingURL=stacktrace.js.map\n","import { getCurrentHub, addGlobalEventProcessor } from '@sentry/core';\nimport { isInstanceOf } from '@sentry/utils';\nimport { exceptionFromError } from '../eventbuilder.js';\n\nconst DEFAULT_KEY = 'cause';\nconst DEFAULT_LIMIT = 5;\n\n/** Adds SDK info to an event. */\nclass LinkedErrors  {\n  /**\n   * @inheritDoc\n   */\n   static __initStatic() {this.id = 'LinkedErrors';}\n\n  /**\n   * @inheritDoc\n   */\n    __init() {this.name = LinkedErrors.id;}\n\n  /**\n   * @inheritDoc\n   */\n\n  /**\n   * @inheritDoc\n   */\n\n  /**\n   * @inheritDoc\n   */\n   constructor(options = {}) {;LinkedErrors.prototype.__init.call(this);\n    this._key = options.key || DEFAULT_KEY;\n    this._limit = options.limit || DEFAULT_LIMIT;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setupOnce() {\n    const client = getCurrentHub().getClient();\n    if (!client) {\n      return;\n    }\n    addGlobalEventProcessor((event, hint) => {\n      const self = getCurrentHub().getIntegration(LinkedErrors);\n      return self ? _handler(client.getOptions().stackParser, self._key, self._limit, event, hint) : event;\n    });\n  }\n} LinkedErrors.__initStatic();\n\n/**\n * @inheritDoc\n */\nfunction _handler(\n  parser,\n  key,\n  limit,\n  event,\n  hint,\n) {\n  if (!event.exception || !event.exception.values || !hint || !isInstanceOf(hint.originalException, Error)) {\n    return event;\n  }\n  const linkedErrors = _walkErrorTree(parser, limit, hint.originalException , key);\n  event.exception.values = [...linkedErrors, ...event.exception.values];\n  return event;\n}\n\n/**\n * JSDOC\n */\nfunction _walkErrorTree(\n  parser,\n  limit,\n  error,\n  key,\n  stack = [],\n) {\n  if (!isInstanceOf(error[key], Error) || stack.length + 1 >= limit) {\n    return stack;\n  }\n  const exception = exceptionFromError(parser, error[key]);\n  return _walkErrorTree(parser, limit, error[key], key, [exception, ...stack]);\n}\n\nexport { LinkedErrors, _handler, _walkErrorTree };\n//# sourceMappingURL=linkederrors.js.map\n","var call = require('../internals/function-call');\nvar isObject = require('../internals/is-object');\nvar isSymbol = require('../internals/is-symbol');\nvar getMethod = require('../internals/get-method');\nvar ordinaryToPrimitive = require('../internals/ordinary-to-primitive');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar $TypeError = TypeError;\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\nmodule.exports = function (input, pref) {\n  if (!isObject(input) || isSymbol(input)) return input;\n  var exoticToPrim = getMethod(input, TO_PRIMITIVE);\n  var result;\n  if (exoticToPrim) {\n    if (pref === undefined) pref = 'default';\n    result = call(exoticToPrim, input, pref);\n    if (!isObject(result) || isSymbol(result)) return result;\n    throw $TypeError(\"Can't convert object to primitive value\");\n  }\n  if (pref === undefined) pref = 'number';\n  return ordinaryToPrimitive(input, pref);\n};\n","var _a = Object.prototype, toString = _a.toString, hasOwnProperty = _a.hasOwnProperty;\r\nvar fnToStr = Function.prototype.toString;\r\nvar previousComparisons = new Map();\r\n/**\r\n * Performs a deep equality check on two JavaScript values, tolerating cycles.\r\n */\r\nfunction equal(a, b) {\r\n    try {\r\n        return check(a, b);\r\n    }\r\n    finally {\r\n        previousComparisons.clear();\r\n    }\r\n}\r\nfunction check(a, b) {\r\n    // If the two values are strictly equal, our job is easy.\r\n    if (a === b) {\r\n        return true;\r\n    }\r\n    // Object.prototype.toString returns a representation of the runtime type of\r\n    // the given value that is considerably more precise than typeof.\r\n    var aTag = toString.call(a);\r\n    var bTag = toString.call(b);\r\n    // If the runtime types of a and b are different, they could maybe be equal\r\n    // under some interpretation of equality, but for simplicity and performance\r\n    // we just return false instead.\r\n    if (aTag !== bTag) {\r\n        return false;\r\n    }\r\n    switch (aTag) {\r\n        case '[object Array]':\r\n            // Arrays are a lot like other objects, but we can cheaply compare their\r\n            // lengths as a short-cut before comparing their elements.\r\n            if (a.length !== b.length)\r\n                return false;\r\n        // Fall through to object case...\r\n        case '[object Object]': {\r\n            if (previouslyCompared(a, b))\r\n                return true;\r\n            var aKeys = definedKeys(a);\r\n            var bKeys = definedKeys(b);\r\n            // If `a` and `b` have a different number of enumerable keys, they\r\n            // must be different.\r\n            var keyCount = aKeys.length;\r\n            if (keyCount !== bKeys.length)\r\n                return false;\r\n            // Now make sure they have the same keys.\r\n            for (var k = 0; k < keyCount; ++k) {\r\n                if (!hasOwnProperty.call(b, aKeys[k])) {\r\n                    return false;\r\n                }\r\n            }\r\n            // Finally, check deep equality of all child properties.\r\n            for (var k = 0; k < keyCount; ++k) {\r\n                var key = aKeys[k];\r\n                if (!check(a[key], b[key])) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n        case '[object Error]':\r\n            return a.name === b.name && a.message === b.message;\r\n        case '[object Number]':\r\n            // Handle NaN, which is !== itself.\r\n            if (a !== a)\r\n                return b !== b;\r\n        // Fall through to shared +a === +b case...\r\n        case '[object Boolean]':\r\n        case '[object Date]':\r\n            return +a === +b;\r\n        case '[object RegExp]':\r\n        case '[object String]':\r\n            return a == \"\" + b;\r\n        case '[object Map]':\r\n        case '[object Set]': {\r\n            if (a.size !== b.size)\r\n                return false;\r\n            if (previouslyCompared(a, b))\r\n                return true;\r\n            var aIterator = a.entries();\r\n            var isMap = aTag === '[object Map]';\r\n            while (true) {\r\n                var info = aIterator.next();\r\n                if (info.done)\r\n                    break;\r\n                // If a instanceof Set, aValue === aKey.\r\n                var _a = info.value, aKey = _a[0], aValue = _a[1];\r\n                // So this works the same way for both Set and Map.\r\n                if (!b.has(aKey)) {\r\n                    return false;\r\n                }\r\n                // However, we care about deep equality of values only when dealing\r\n                // with Map structures.\r\n                if (isMap && !check(aValue, b.get(aKey))) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n        case '[object Uint16Array]':\r\n        case '[object Uint8Array]': // Buffer, in Node.js.\r\n        case '[object Uint32Array]':\r\n        case '[object Int32Array]':\r\n        case '[object Int8Array]':\r\n        case '[object Int16Array]':\r\n        case '[object ArrayBuffer]':\r\n            // DataView doesn't need these conversions, but the equality check is\r\n            // otherwise the same.\r\n            a = new Uint8Array(a);\r\n            b = new Uint8Array(b);\r\n        // Fall through...\r\n        case '[object DataView]': {\r\n            var len = a.byteLength;\r\n            if (len === b.byteLength) {\r\n                while (len-- && a[len] === b[len]) {\r\n                    // Keep looping as long as the bytes are equal.\r\n                }\r\n            }\r\n            return len === -1;\r\n        }\r\n        case '[object AsyncFunction]':\r\n        case '[object GeneratorFunction]':\r\n        case '[object AsyncGeneratorFunction]':\r\n        case '[object Function]': {\r\n            var aCode = fnToStr.call(a);\r\n            if (aCode !== fnToStr.call(b)) {\r\n                return false;\r\n            }\r\n            // We consider non-native functions equal if they have the same code\r\n            // (native functions require === because their code is censored).\r\n            // Note that this behavior is not entirely sound, since !== function\r\n            // objects with the same code can behave differently depending on\r\n            // their closure scope. However, any function can behave differently\r\n            // depending on the values of its input arguments (including this)\r\n            // and its calling context (including its closure scope), even\r\n            // though the function object is === to itself; and it is entirely\r\n            // possible for functions that are not === to behave exactly the\r\n            // same under all conceivable circumstances. Because none of these\r\n            // factors are statically decidable in JavaScript, JS function\r\n            // equality is not well-defined. This ambiguity allows us to\r\n            // consider the best possible heuristic among various imperfect\r\n            // options, and equating non-native functions that have the same\r\n            // code has enormous practical benefits, such as when comparing\r\n            // functions that are repeatedly passed as fresh function\r\n            // expressions within objects that are otherwise deeply equal. Since\r\n            // any function created from the same syntactic expression (in the\r\n            // same code location) will always stringify to the same code\r\n            // according to fnToStr.call, we can reasonably expect these\r\n            // repeatedly passed function expressions to have the same code, and\r\n            // thus behave \"the same\" (with all the caveats mentioned above),\r\n            // even though the runtime function objects are !== to one another.\r\n            return !endsWith(aCode, nativeCodeSuffix);\r\n        }\r\n    }\r\n    // Otherwise the values are not equal.\r\n    return false;\r\n}\r\nfunction definedKeys(obj) {\r\n    // Remember that the second argument to Array.prototype.filter will be\r\n    // used as `this` within the callback function.\r\n    return Object.keys(obj).filter(isDefinedKey, obj);\r\n}\r\nfunction isDefinedKey(key) {\r\n    return this[key] !== void 0;\r\n}\r\nvar nativeCodeSuffix = \"{ [native code] }\";\r\nfunction endsWith(full, suffix) {\r\n    var fromIndex = full.length - suffix.length;\r\n    return fromIndex >= 0 &&\r\n        full.indexOf(suffix, fromIndex) === fromIndex;\r\n}\r\nfunction previouslyCompared(a, b) {\r\n    // Though cyclic references can make an object graph appear infinite from the\r\n    // perspective of a depth-first traversal, the graph still contains a finite\r\n    // number of distinct object references. We use the previousComparisons cache\r\n    // to avoid comparing the same pair of object references more than once, which\r\n    // guarantees termination (even if we end up comparing every object in one\r\n    // graph to every object in the other graph, which is extremely unlikely),\r\n    // while still allowing weird isomorphic structures (like rings with different\r\n    // lengths) a chance to pass the equality test.\r\n    var bSet = previousComparisons.get(a);\r\n    if (bSet) {\r\n        // Return true here because we can be sure false will be returned somewhere\r\n        // else if the objects are not equivalent.\r\n        if (bSet.has(b))\r\n            return true;\r\n    }\r\n    else {\r\n        previousComparisons.set(a, bSet = new Set);\r\n    }\r\n    bSet.add(b);\r\n    return false;\r\n}\n\nexport { equal as default, equal };\n//# sourceMappingURL=equality.esm.js.map\n","var $String = String;\n\nmodule.exports = function (argument) {\n  try {\n    return $String(argument);\n  } catch (error) {\n    return 'Object';\n  }\n};\n","export { GlobalHandlers } from './globalhandlers.js';\nexport { TryCatch } from './trycatch.js';\nexport { Breadcrumbs } from './breadcrumbs.js';\nexport { LinkedErrors } from './linkederrors.js';\nexport { HttpContext } from './httpcontext.js';\nexport { Dedupe } from './dedupe.js';\n//# sourceMappingURL=index.js.map\n","var classof = require('../internals/classof-raw');\nvar global = require('../internals/global');\n\nmodule.exports = classof(global.process) == 'process';\n","var trunc = require('../internals/math-trunc');\n\n// `ToIntegerOrInfinity` abstract operation\n// https://tc39.es/ecma262/#sec-tointegerorinfinity\nmodule.exports = function (argument) {\n  var number = +argument;\n  // eslint-disable-next-line no-self-compare -- NaN check\n  return number !== number || number === 0 ? 0 : trunc(number);\n};\n","import { InvariantError } from \"../../utilities/globals/index.js\";\nexport var checkFetcher = function (fetcher) {\n    if (!fetcher && typeof fetch === 'undefined') {\n        throw __DEV__ ? new InvariantError(\"\\n\\\"fetch\\\" has not been found globally and no fetcher has been configured. To fix this, install a fetch package (like https://www.npmjs.com/package/cross-fetch), instantiate the fetcher, and pass it into your HttpLink constructor. For example:\\n\\nimport fetch from 'cross-fetch';\\nimport { ApolloClient, HttpLink } from '@apollo/client';\\nconst client = new ApolloClient({\\n  link: new HttpLink({ uri: '/graphql', fetch })\\n});\\n    \") : new InvariantError(20);\n    }\n};\n//# sourceMappingURL=checkFetcher.js.map","import { ApolloLink } from \"./ApolloLink.js\";\nexport var execute = ApolloLink.execute;\n//# sourceMappingURL=execute.js.map","export function invariant(condition, message) {\n  const booleanCondition = Boolean(condition);\n\n  if (!booleanCondition) {\n    throw new Error(\n      message != null ? message : 'Unexpected invariant triggered.',\n    );\n  }\n}\n","import { __assign } from \"tslib\";\nimport { compact } from \"./compact.js\";\nexport function mergeOptions(defaults, options) {\n    return compact(defaults, options, options.variables && {\n        variables: __assign(__assign({}, (defaults && defaults.variables)), options.variables),\n    });\n}\n//# sourceMappingURL=mergeOptions.js.map","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n","var toPrimitive = require('../internals/to-primitive');\nvar isSymbol = require('../internals/is-symbol');\n\n// `ToPropertyKey` abstract operation\n// https://tc39.es/ecma262/#sec-topropertykey\nmodule.exports = function (argument) {\n  var key = toPrimitive(argument, 'string');\n  return isSymbol(key) ? key : key + '';\n};\n","exports.nextTick = function nextTick(fn) {\n    var args = Array.prototype.slice.call(arguments);\n    args.shift();\n    setTimeout(function () {\n        fn.apply(null, args);\n    }, 0);\n};\n\nexports.platform = exports.arch = \nexports.execPath = exports.title = 'browser';\nexports.pid = 1;\nexports.browser = true;\nexports.env = {};\nexports.argv = [];\n\nexports.binding = function (name) {\n\tthrow new Error('No such module. (Possibly not yet loaded)')\n};\n\n(function () {\n    var cwd = '/';\n    var path;\n    exports.cwd = function () { return cwd };\n    exports.chdir = function (dir) {\n        if (!path) path = require('path');\n        cwd = path.resolve(dir, cwd);\n    };\n})();\n\nexports.exit = exports.kill = \nexports.umask = exports.dlopen = \nexports.uptime = exports.memoryUsage = \nexports.uvCounters = function() {};\nexports.features = {};\n","import { syntaxError } from '../error/syntaxError.mjs';\nimport { Token } from './ast.mjs';\nimport { dedentBlockStringLines } from './blockString.mjs';\nimport { isDigit, isNameContinue, isNameStart } from './characterClasses.mjs';\nimport { TokenKind } from './tokenKind.mjs';\n/**\n * Given a Source object, creates a Lexer for that source.\n * A Lexer is a stateful stream generator in that every time\n * it is advanced, it returns the next token in the Source. Assuming the\n * source lexes, the final Token emitted by the lexer will be of kind\n * EOF, after which the lexer will repeatedly return the same EOF token\n * whenever called.\n */\n\nexport class Lexer {\n  /**\n   * The previously focused non-ignored token.\n   */\n\n  /**\n   * The currently focused non-ignored token.\n   */\n\n  /**\n   * The (1-indexed) line containing the current token.\n   */\n\n  /**\n   * The character offset at which the current line begins.\n   */\n  constructor(source) {\n    const startOfFileToken = new Token(TokenKind.SOF, 0, 0, 0, 0);\n    this.source = source;\n    this.lastToken = startOfFileToken;\n    this.token = startOfFileToken;\n    this.line = 1;\n    this.lineStart = 0;\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'Lexer';\n  }\n  /**\n   * Advances the token stream to the next non-ignored token.\n   */\n\n  advance() {\n    this.lastToken = this.token;\n    const token = (this.token = this.lookahead());\n    return token;\n  }\n  /**\n   * Looks ahead and returns the next non-ignored token, but does not change\n   * the state of Lexer.\n   */\n\n  lookahead() {\n    let token = this.token;\n\n    if (token.kind !== TokenKind.EOF) {\n      do {\n        if (token.next) {\n          token = token.next;\n        } else {\n          // Read the next token and form a link in the token linked-list.\n          const nextToken = readNextToken(this, token.end); // @ts-expect-error next is only mutable during parsing.\n\n          token.next = nextToken; // @ts-expect-error prev is only mutable during parsing.\n\n          nextToken.prev = token;\n          token = nextToken;\n        }\n      } while (token.kind === TokenKind.COMMENT);\n    }\n\n    return token;\n  }\n}\n/**\n * @internal\n */\n\nexport function isPunctuatorTokenKind(kind) {\n  return (\n    kind === TokenKind.BANG ||\n    kind === TokenKind.DOLLAR ||\n    kind === TokenKind.AMP ||\n    kind === TokenKind.PAREN_L ||\n    kind === TokenKind.PAREN_R ||\n    kind === TokenKind.SPREAD ||\n    kind === TokenKind.COLON ||\n    kind === TokenKind.EQUALS ||\n    kind === TokenKind.AT ||\n    kind === TokenKind.BRACKET_L ||\n    kind === TokenKind.BRACKET_R ||\n    kind === TokenKind.BRACE_L ||\n    kind === TokenKind.PIPE ||\n    kind === TokenKind.BRACE_R\n  );\n}\n/**\n * A Unicode scalar value is any Unicode code point except surrogate code\n * points. In other words, the inclusive ranges of values 0x0000 to 0xD7FF and\n * 0xE000 to 0x10FFFF.\n *\n * SourceCharacter ::\n *   - \"Any Unicode scalar value\"\n */\n\nfunction isUnicodeScalarValue(code) {\n  return (\n    (code >= 0x0000 && code <= 0xd7ff) || (code >= 0xe000 && code <= 0x10ffff)\n  );\n}\n/**\n * The GraphQL specification defines source text as a sequence of unicode scalar\n * values (which Unicode defines to exclude surrogate code points). However\n * JavaScript defines strings as a sequence of UTF-16 code units which may\n * include surrogates. A surrogate pair is a valid source character as it\n * encodes a supplementary code point (above U+FFFF), but unpaired surrogate\n * code points are not valid source characters.\n */\n\nfunction isSupplementaryCodePoint(body, location) {\n  return (\n    isLeadingSurrogate(body.charCodeAt(location)) &&\n    isTrailingSurrogate(body.charCodeAt(location + 1))\n  );\n}\n\nfunction isLeadingSurrogate(code) {\n  return code >= 0xd800 && code <= 0xdbff;\n}\n\nfunction isTrailingSurrogate(code) {\n  return code >= 0xdc00 && code <= 0xdfff;\n}\n/**\n * Prints the code point (or end of file reference) at a given location in a\n * source for use in error messages.\n *\n * Printable ASCII is printed quoted, while other points are printed in Unicode\n * code point form (ie. U+1234).\n */\n\nfunction printCodePointAt(lexer, location) {\n  const code = lexer.source.body.codePointAt(location);\n\n  if (code === undefined) {\n    return TokenKind.EOF;\n  } else if (code >= 0x0020 && code <= 0x007e) {\n    // Printable ASCII\n    const char = String.fromCodePoint(code);\n    return char === '\"' ? \"'\\\"'\" : `\"${char}\"`;\n  } // Unicode code point\n\n  return 'U+' + code.toString(16).toUpperCase().padStart(4, '0');\n}\n/**\n * Create a token with line and column location information.\n */\n\nfunction createToken(lexer, kind, start, end, value) {\n  const line = lexer.line;\n  const col = 1 + start - lexer.lineStart;\n  return new Token(kind, start, end, line, col, value);\n}\n/**\n * Gets the next token from the source starting at the given position.\n *\n * This skips over whitespace until it finds the next lexable token, then lexes\n * punctuators immediately or calls the appropriate helper function for more\n * complicated tokens.\n */\n\nfunction readNextToken(lexer, start) {\n  const body = lexer.source.body;\n  const bodyLength = body.length;\n  let position = start;\n\n  while (position < bodyLength) {\n    const code = body.charCodeAt(position); // SourceCharacter\n\n    switch (code) {\n      // Ignored ::\n      //   - UnicodeBOM\n      //   - WhiteSpace\n      //   - LineTerminator\n      //   - Comment\n      //   - Comma\n      //\n      // UnicodeBOM :: \"Byte Order Mark (U+FEFF)\"\n      //\n      // WhiteSpace ::\n      //   - \"Horizontal Tab (U+0009)\"\n      //   - \"Space (U+0020)\"\n      //\n      // Comma :: ,\n      case 0xfeff: // <BOM>\n\n      case 0x0009: // \\t\n\n      case 0x0020: // <space>\n\n      case 0x002c:\n        // ,\n        ++position;\n        continue;\n      // LineTerminator ::\n      //   - \"New Line (U+000A)\"\n      //   - \"Carriage Return (U+000D)\" [lookahead != \"New Line (U+000A)\"]\n      //   - \"Carriage Return (U+000D)\" \"New Line (U+000A)\"\n\n      case 0x000a:\n        // \\n\n        ++position;\n        ++lexer.line;\n        lexer.lineStart = position;\n        continue;\n\n      case 0x000d:\n        // \\r\n        if (body.charCodeAt(position + 1) === 0x000a) {\n          position += 2;\n        } else {\n          ++position;\n        }\n\n        ++lexer.line;\n        lexer.lineStart = position;\n        continue;\n      // Comment\n\n      case 0x0023:\n        // #\n        return readComment(lexer, position);\n      // Token ::\n      //   - Punctuator\n      //   - Name\n      //   - IntValue\n      //   - FloatValue\n      //   - StringValue\n      //\n      // Punctuator :: one of ! $ & ( ) ... : = @ [ ] { | }\n\n      case 0x0021:\n        // !\n        return createToken(lexer, TokenKind.BANG, position, position + 1);\n\n      case 0x0024:\n        // $\n        return createToken(lexer, TokenKind.DOLLAR, position, position + 1);\n\n      case 0x0026:\n        // &\n        return createToken(lexer, TokenKind.AMP, position, position + 1);\n\n      case 0x0028:\n        // (\n        return createToken(lexer, TokenKind.PAREN_L, position, position + 1);\n\n      case 0x0029:\n        // )\n        return createToken(lexer, TokenKind.PAREN_R, position, position + 1);\n\n      case 0x002e:\n        // .\n        if (\n          body.charCodeAt(position + 1) === 0x002e &&\n          body.charCodeAt(position + 2) === 0x002e\n        ) {\n          return createToken(lexer, TokenKind.SPREAD, position, position + 3);\n        }\n\n        break;\n\n      case 0x003a:\n        // :\n        return createToken(lexer, TokenKind.COLON, position, position + 1);\n\n      case 0x003d:\n        // =\n        return createToken(lexer, TokenKind.EQUALS, position, position + 1);\n\n      case 0x0040:\n        // @\n        return createToken(lexer, TokenKind.AT, position, position + 1);\n\n      case 0x005b:\n        // [\n        return createToken(lexer, TokenKind.BRACKET_L, position, position + 1);\n\n      case 0x005d:\n        // ]\n        return createToken(lexer, TokenKind.BRACKET_R, position, position + 1);\n\n      case 0x007b:\n        // {\n        return createToken(lexer, TokenKind.BRACE_L, position, position + 1);\n\n      case 0x007c:\n        // |\n        return createToken(lexer, TokenKind.PIPE, position, position + 1);\n\n      case 0x007d:\n        // }\n        return createToken(lexer, TokenKind.BRACE_R, position, position + 1);\n      // StringValue\n\n      case 0x0022:\n        // \"\n        if (\n          body.charCodeAt(position + 1) === 0x0022 &&\n          body.charCodeAt(position + 2) === 0x0022\n        ) {\n          return readBlockString(lexer, position);\n        }\n\n        return readString(lexer, position);\n    } // IntValue | FloatValue (Digit | -)\n\n    if (isDigit(code) || code === 0x002d) {\n      return readNumber(lexer, position, code);\n    } // Name\n\n    if (isNameStart(code)) {\n      return readName(lexer, position);\n    }\n\n    throw syntaxError(\n      lexer.source,\n      position,\n      code === 0x0027\n        ? 'Unexpected single quote character (\\'), did you mean to use a double quote (\")?'\n        : isUnicodeScalarValue(code) || isSupplementaryCodePoint(body, position)\n        ? `Unexpected character: ${printCodePointAt(lexer, position)}.`\n        : `Invalid character: ${printCodePointAt(lexer, position)}.`,\n    );\n  }\n\n  return createToken(lexer, TokenKind.EOF, bodyLength, bodyLength);\n}\n/**\n * Reads a comment token from the source file.\n *\n * ```\n * Comment :: # CommentChar* [lookahead != CommentChar]\n *\n * CommentChar :: SourceCharacter but not LineTerminator\n * ```\n */\n\nfunction readComment(lexer, start) {\n  const body = lexer.source.body;\n  const bodyLength = body.length;\n  let position = start + 1;\n\n  while (position < bodyLength) {\n    const code = body.charCodeAt(position); // LineTerminator (\\n | \\r)\n\n    if (code === 0x000a || code === 0x000d) {\n      break;\n    } // SourceCharacter\n\n    if (isUnicodeScalarValue(code)) {\n      ++position;\n    } else if (isSupplementaryCodePoint(body, position)) {\n      position += 2;\n    } else {\n      break;\n    }\n  }\n\n  return createToken(\n    lexer,\n    TokenKind.COMMENT,\n    start,\n    position,\n    body.slice(start + 1, position),\n  );\n}\n/**\n * Reads a number token from the source file, either a FloatValue or an IntValue\n * depending on whether a FractionalPart or ExponentPart is encountered.\n *\n * ```\n * IntValue :: IntegerPart [lookahead != {Digit, `.`, NameStart}]\n *\n * IntegerPart ::\n *   - NegativeSign? 0\n *   - NegativeSign? NonZeroDigit Digit*\n *\n * NegativeSign :: -\n *\n * NonZeroDigit :: Digit but not `0`\n *\n * FloatValue ::\n *   - IntegerPart FractionalPart ExponentPart [lookahead != {Digit, `.`, NameStart}]\n *   - IntegerPart FractionalPart [lookahead != {Digit, `.`, NameStart}]\n *   - IntegerPart ExponentPart [lookahead != {Digit, `.`, NameStart}]\n *\n * FractionalPart :: . Digit+\n *\n * ExponentPart :: ExponentIndicator Sign? Digit+\n *\n * ExponentIndicator :: one of `e` `E`\n *\n * Sign :: one of + -\n * ```\n */\n\nfunction readNumber(lexer, start, firstCode) {\n  const body = lexer.source.body;\n  let position = start;\n  let code = firstCode;\n  let isFloat = false; // NegativeSign (-)\n\n  if (code === 0x002d) {\n    code = body.charCodeAt(++position);\n  } // Zero (0)\n\n  if (code === 0x0030) {\n    code = body.charCodeAt(++position);\n\n    if (isDigit(code)) {\n      throw syntaxError(\n        lexer.source,\n        position,\n        `Invalid number, unexpected digit after 0: ${printCodePointAt(\n          lexer,\n          position,\n        )}.`,\n      );\n    }\n  } else {\n    position = readDigits(lexer, position, code);\n    code = body.charCodeAt(position);\n  } // Full stop (.)\n\n  if (code === 0x002e) {\n    isFloat = true;\n    code = body.charCodeAt(++position);\n    position = readDigits(lexer, position, code);\n    code = body.charCodeAt(position);\n  } // E e\n\n  if (code === 0x0045 || code === 0x0065) {\n    isFloat = true;\n    code = body.charCodeAt(++position); // + -\n\n    if (code === 0x002b || code === 0x002d) {\n      code = body.charCodeAt(++position);\n    }\n\n    position = readDigits(lexer, position, code);\n    code = body.charCodeAt(position);\n  } // Numbers cannot be followed by . or NameStart\n\n  if (code === 0x002e || isNameStart(code)) {\n    throw syntaxError(\n      lexer.source,\n      position,\n      `Invalid number, expected digit but got: ${printCodePointAt(\n        lexer,\n        position,\n      )}.`,\n    );\n  }\n\n  return createToken(\n    lexer,\n    isFloat ? TokenKind.FLOAT : TokenKind.INT,\n    start,\n    position,\n    body.slice(start, position),\n  );\n}\n/**\n * Returns the new position in the source after reading one or more digits.\n */\n\nfunction readDigits(lexer, start, firstCode) {\n  if (!isDigit(firstCode)) {\n    throw syntaxError(\n      lexer.source,\n      start,\n      `Invalid number, expected digit but got: ${printCodePointAt(\n        lexer,\n        start,\n      )}.`,\n    );\n  }\n\n  const body = lexer.source.body;\n  let position = start + 1; // +1 to skip first firstCode\n\n  while (isDigit(body.charCodeAt(position))) {\n    ++position;\n  }\n\n  return position;\n}\n/**\n * Reads a single-quote string token from the source file.\n *\n * ```\n * StringValue ::\n *   - `\"\"` [lookahead != `\"`]\n *   - `\"` StringCharacter+ `\"`\n *\n * StringCharacter ::\n *   - SourceCharacter but not `\"` or `\\` or LineTerminator\n *   - `\\u` EscapedUnicode\n *   - `\\` EscapedCharacter\n *\n * EscapedUnicode ::\n *   - `{` HexDigit+ `}`\n *   - HexDigit HexDigit HexDigit HexDigit\n *\n * EscapedCharacter :: one of `\"` `\\` `/` `b` `f` `n` `r` `t`\n * ```\n */\n\nfunction readString(lexer, start) {\n  const body = lexer.source.body;\n  const bodyLength = body.length;\n  let position = start + 1;\n  let chunkStart = position;\n  let value = '';\n\n  while (position < bodyLength) {\n    const code = body.charCodeAt(position); // Closing Quote (\")\n\n    if (code === 0x0022) {\n      value += body.slice(chunkStart, position);\n      return createToken(lexer, TokenKind.STRING, start, position + 1, value);\n    } // Escape Sequence (\\)\n\n    if (code === 0x005c) {\n      value += body.slice(chunkStart, position);\n      const escape =\n        body.charCodeAt(position + 1) === 0x0075 // u\n          ? body.charCodeAt(position + 2) === 0x007b // {\n            ? readEscapedUnicodeVariableWidth(lexer, position)\n            : readEscapedUnicodeFixedWidth(lexer, position)\n          : readEscapedCharacter(lexer, position);\n      value += escape.value;\n      position += escape.size;\n      chunkStart = position;\n      continue;\n    } // LineTerminator (\\n | \\r)\n\n    if (code === 0x000a || code === 0x000d) {\n      break;\n    } // SourceCharacter\n\n    if (isUnicodeScalarValue(code)) {\n      ++position;\n    } else if (isSupplementaryCodePoint(body, position)) {\n      position += 2;\n    } else {\n      throw syntaxError(\n        lexer.source,\n        position,\n        `Invalid character within String: ${printCodePointAt(\n          lexer,\n          position,\n        )}.`,\n      );\n    }\n  }\n\n  throw syntaxError(lexer.source, position, 'Unterminated string.');\n} // The string value and lexed size of an escape sequence.\n\nfunction readEscapedUnicodeVariableWidth(lexer, position) {\n  const body = lexer.source.body;\n  let point = 0;\n  let size = 3; // Cannot be larger than 12 chars (\\u{00000000}).\n\n  while (size < 12) {\n    const code = body.charCodeAt(position + size++); // Closing Brace (})\n\n    if (code === 0x007d) {\n      // Must be at least 5 chars (\\u{0}) and encode a Unicode scalar value.\n      if (size < 5 || !isUnicodeScalarValue(point)) {\n        break;\n      }\n\n      return {\n        value: String.fromCodePoint(point),\n        size,\n      };\n    } // Append this hex digit to the code point.\n\n    point = (point << 4) | readHexDigit(code);\n\n    if (point < 0) {\n      break;\n    }\n  }\n\n  throw syntaxError(\n    lexer.source,\n    position,\n    `Invalid Unicode escape sequence: \"${body.slice(\n      position,\n      position + size,\n    )}\".`,\n  );\n}\n\nfunction readEscapedUnicodeFixedWidth(lexer, position) {\n  const body = lexer.source.body;\n  const code = read16BitHexCode(body, position + 2);\n\n  if (isUnicodeScalarValue(code)) {\n    return {\n      value: String.fromCodePoint(code),\n      size: 6,\n    };\n  } // GraphQL allows JSON-style surrogate pair escape sequences, but only when\n  // a valid pair is formed.\n\n  if (isLeadingSurrogate(code)) {\n    // \\u\n    if (\n      body.charCodeAt(position + 6) === 0x005c &&\n      body.charCodeAt(position + 7) === 0x0075\n    ) {\n      const trailingCode = read16BitHexCode(body, position + 8);\n\n      if (isTrailingSurrogate(trailingCode)) {\n        // JavaScript defines strings as a sequence of UTF-16 code units and\n        // encodes Unicode code points above U+FFFF using a surrogate pair of\n        // code units. Since this is a surrogate pair escape sequence, just\n        // include both codes into the JavaScript string value. Had JavaScript\n        // not been internally based on UTF-16, then this surrogate pair would\n        // be decoded to retrieve the supplementary code point.\n        return {\n          value: String.fromCodePoint(code, trailingCode),\n          size: 12,\n        };\n      }\n    }\n  }\n\n  throw syntaxError(\n    lexer.source,\n    position,\n    `Invalid Unicode escape sequence: \"${body.slice(position, position + 6)}\".`,\n  );\n}\n/**\n * Reads four hexadecimal characters and returns the positive integer that 16bit\n * hexadecimal string represents. For example, \"000f\" will return 15, and \"dead\"\n * will return 57005.\n *\n * Returns a negative number if any char was not a valid hexadecimal digit.\n */\n\nfunction read16BitHexCode(body, position) {\n  // readHexDigit() returns -1 on error. ORing a negative value with any other\n  // value always produces a negative value.\n  return (\n    (readHexDigit(body.charCodeAt(position)) << 12) |\n    (readHexDigit(body.charCodeAt(position + 1)) << 8) |\n    (readHexDigit(body.charCodeAt(position + 2)) << 4) |\n    readHexDigit(body.charCodeAt(position + 3))\n  );\n}\n/**\n * Reads a hexadecimal character and returns its positive integer value (0-15).\n *\n * '0' becomes 0, '9' becomes 9\n * 'A' becomes 10, 'F' becomes 15\n * 'a' becomes 10, 'f' becomes 15\n *\n * Returns -1 if the provided character code was not a valid hexadecimal digit.\n *\n * HexDigit :: one of\n *   - `0` `1` `2` `3` `4` `5` `6` `7` `8` `9`\n *   - `A` `B` `C` `D` `E` `F`\n *   - `a` `b` `c` `d` `e` `f`\n */\n\nfunction readHexDigit(code) {\n  return code >= 0x0030 && code <= 0x0039 // 0-9\n    ? code - 0x0030\n    : code >= 0x0041 && code <= 0x0046 // A-F\n    ? code - 0x0037\n    : code >= 0x0061 && code <= 0x0066 // a-f\n    ? code - 0x0057\n    : -1;\n}\n/**\n * | Escaped Character | Code Point | Character Name               |\n * | ----------------- | ---------- | ---------------------------- |\n * | `\"`               | U+0022     | double quote                 |\n * | `\\`               | U+005C     | reverse solidus (back slash) |\n * | `/`               | U+002F     | solidus (forward slash)      |\n * | `b`               | U+0008     | backspace                    |\n * | `f`               | U+000C     | form feed                    |\n * | `n`               | U+000A     | line feed (new line)         |\n * | `r`               | U+000D     | carriage return              |\n * | `t`               | U+0009     | horizontal tab               |\n */\n\nfunction readEscapedCharacter(lexer, position) {\n  const body = lexer.source.body;\n  const code = body.charCodeAt(position + 1);\n\n  switch (code) {\n    case 0x0022:\n      // \"\n      return {\n        value: '\\u0022',\n        size: 2,\n      };\n\n    case 0x005c:\n      // \\\n      return {\n        value: '\\u005c',\n        size: 2,\n      };\n\n    case 0x002f:\n      // /\n      return {\n        value: '\\u002f',\n        size: 2,\n      };\n\n    case 0x0062:\n      // b\n      return {\n        value: '\\u0008',\n        size: 2,\n      };\n\n    case 0x0066:\n      // f\n      return {\n        value: '\\u000c',\n        size: 2,\n      };\n\n    case 0x006e:\n      // n\n      return {\n        value: '\\u000a',\n        size: 2,\n      };\n\n    case 0x0072:\n      // r\n      return {\n        value: '\\u000d',\n        size: 2,\n      };\n\n    case 0x0074:\n      // t\n      return {\n        value: '\\u0009',\n        size: 2,\n      };\n  }\n\n  throw syntaxError(\n    lexer.source,\n    position,\n    `Invalid character escape sequence: \"${body.slice(\n      position,\n      position + 2,\n    )}\".`,\n  );\n}\n/**\n * Reads a block string token from the source file.\n *\n * ```\n * StringValue ::\n *   - `\"\"\"` BlockStringCharacter* `\"\"\"`\n *\n * BlockStringCharacter ::\n *   - SourceCharacter but not `\"\"\"` or `\\\"\"\"`\n *   - `\\\"\"\"`\n * ```\n */\n\nfunction readBlockString(lexer, start) {\n  const body = lexer.source.body;\n  const bodyLength = body.length;\n  let lineStart = lexer.lineStart;\n  let position = start + 3;\n  let chunkStart = position;\n  let currentLine = '';\n  const blockLines = [];\n\n  while (position < bodyLength) {\n    const code = body.charCodeAt(position); // Closing Triple-Quote (\"\"\")\n\n    if (\n      code === 0x0022 &&\n      body.charCodeAt(position + 1) === 0x0022 &&\n      body.charCodeAt(position + 2) === 0x0022\n    ) {\n      currentLine += body.slice(chunkStart, position);\n      blockLines.push(currentLine);\n      const token = createToken(\n        lexer,\n        TokenKind.BLOCK_STRING,\n        start,\n        position + 3, // Return a string of the lines joined with U+000A.\n        dedentBlockStringLines(blockLines).join('\\n'),\n      );\n      lexer.line += blockLines.length - 1;\n      lexer.lineStart = lineStart;\n      return token;\n    } // Escaped Triple-Quote (\\\"\"\")\n\n    if (\n      code === 0x005c &&\n      body.charCodeAt(position + 1) === 0x0022 &&\n      body.charCodeAt(position + 2) === 0x0022 &&\n      body.charCodeAt(position + 3) === 0x0022\n    ) {\n      currentLine += body.slice(chunkStart, position);\n      chunkStart = position + 1; // skip only slash\n\n      position += 4;\n      continue;\n    } // LineTerminator\n\n    if (code === 0x000a || code === 0x000d) {\n      currentLine += body.slice(chunkStart, position);\n      blockLines.push(currentLine);\n\n      if (code === 0x000d && body.charCodeAt(position + 1) === 0x000a) {\n        position += 2;\n      } else {\n        ++position;\n      }\n\n      currentLine = '';\n      chunkStart = position;\n      lineStart = position;\n      continue;\n    } // SourceCharacter\n\n    if (isUnicodeScalarValue(code)) {\n      ++position;\n    } else if (isSupplementaryCodePoint(body, position)) {\n      position += 2;\n    } else {\n      throw syntaxError(\n        lexer.source,\n        position,\n        `Invalid character within String: ${printCodePointAt(\n          lexer,\n          position,\n        )}.`,\n      );\n    }\n  }\n\n  throw syntaxError(lexer.source, position, 'Unterminated string.');\n}\n/**\n * Reads an alphanumeric + underscore name from the source.\n *\n * ```\n * Name ::\n *   - NameStart NameContinue* [lookahead != NameContinue]\n * ```\n */\n\nfunction readName(lexer, start) {\n  const body = lexer.source.body;\n  const bodyLength = body.length;\n  let position = start + 1;\n\n  while (position < bodyLength) {\n    const code = body.charCodeAt(position);\n\n    if (isNameContinue(code)) {\n      ++position;\n    } else {\n      break;\n    }\n  }\n\n  return createToken(\n    lexer,\n    TokenKind.NAME,\n    start,\n    position,\n    body.slice(start, position),\n  );\n}\n","import { dynamicRequire, isNodeEnv } from './node.js';\nimport { getGlobalObject } from './worldwide.js';\n\n// eslint-disable-next-line deprecation/deprecation\nconst WINDOW = getGlobalObject();\n\n/**\n * An object that can return the current timestamp in seconds since the UNIX epoch.\n */\n\n/**\n * A TimestampSource implementation for environments that do not support the Performance Web API natively.\n *\n * Note that this TimestampSource does not use a monotonic clock. A call to `nowSeconds` may return a timestamp earlier\n * than a previously returned value. We do not try to emulate a monotonic behavior in order to facilitate debugging. It\n * is more obvious to explain \"why does my span have negative duration\" than \"why my spans have zero duration\".\n */\nconst dateTimestampSource = {\n  nowSeconds: () => Date.now() / 1000,\n};\n\n/**\n * A partial definition of the [Performance Web API]{@link https://developer.mozilla.org/en-US/docs/Web/API/Performance}\n * for accessing a high-resolution monotonic clock.\n */\n\n/**\n * Returns a wrapper around the native Performance API browser implementation, or undefined for browsers that do not\n * support the API.\n *\n * Wrapping the native API works around differences in behavior from different browsers.\n */\nfunction getBrowserPerformance() {\n  const { performance } = WINDOW;\n  if (!performance || !performance.now) {\n    return undefined;\n  }\n\n  // Replace performance.timeOrigin with our own timeOrigin based on Date.now().\n  //\n  // This is a partial workaround for browsers reporting performance.timeOrigin such that performance.timeOrigin +\n  // performance.now() gives a date arbitrarily in the past.\n  //\n  // Additionally, computing timeOrigin in this way fills the gap for browsers where performance.timeOrigin is\n  // undefined.\n  //\n  // The assumption that performance.timeOrigin + performance.now() ~= Date.now() is flawed, but we depend on it to\n  // interact with data coming out of performance entries.\n  //\n  // Note that despite recommendations against it in the spec, browsers implement the Performance API with a clock that\n  // might stop when the computer is asleep (and perhaps under other circumstances). Such behavior causes\n  // performance.timeOrigin + performance.now() to have an arbitrary skew over Date.now(). In laptop computers, we have\n  // observed skews that can be as long as days, weeks or months.\n  //\n  // See https://github.com/getsentry/sentry-javascript/issues/2590.\n  //\n  // BUG: despite our best intentions, this workaround has its limitations. It mostly addresses timings of pageload\n  // transactions, but ignores the skew built up over time that can aversely affect timestamps of navigation\n  // transactions of long-lived web pages.\n  const timeOrigin = Date.now() - performance.now();\n\n  return {\n    now: () => performance.now(),\n    timeOrigin,\n  };\n}\n\n/**\n * Returns the native Performance API implementation from Node.js. Returns undefined in old Node.js versions that don't\n * implement the API.\n */\nfunction getNodePerformance() {\n  try {\n    const perfHooks = dynamicRequire(module, 'perf_hooks') ;\n    return perfHooks.performance;\n  } catch (_) {\n    return undefined;\n  }\n}\n\n/**\n * The Performance API implementation for the current platform, if available.\n */\nconst platformPerformance = isNodeEnv() ? getNodePerformance() : getBrowserPerformance();\n\nconst timestampSource =\n  platformPerformance === undefined\n    ? dateTimestampSource\n    : {\n        nowSeconds: () => (platformPerformance.timeOrigin + platformPerformance.now()) / 1000,\n      };\n\n/**\n * Returns a timestamp in seconds since the UNIX epoch using the Date API.\n */\nconst dateTimestampInSeconds = dateTimestampSource.nowSeconds.bind(dateTimestampSource);\n\n/**\n * Returns a timestamp in seconds since the UNIX epoch using either the Performance or Date APIs, depending on the\n * availability of the Performance API.\n *\n * See `usingPerformanceAPI` to test whether the Performance API is used.\n *\n * BUG: Note that because of how browsers implement the Performance API, the clock might stop when the computer is\n * asleep. This creates a skew between `dateTimestampInSeconds` and `timestampInSeconds`. The\n * skew can grow to arbitrary amounts like days, weeks or months.\n * See https://github.com/getsentry/sentry-javascript/issues/2590.\n */\nconst timestampInSeconds = timestampSource.nowSeconds.bind(timestampSource);\n\n// Re-exported with an old name for backwards-compatibility.\nconst timestampWithMs = timestampInSeconds;\n\n/**\n * A boolean that is true when timestampInSeconds uses the Performance API to produce monotonic timestamps.\n */\nconst usingPerformanceAPI = platformPerformance !== undefined;\n\n/**\n * Internal helper to store what is the source of browserPerformanceTimeOrigin below. For debugging only.\n */\nlet _browserPerformanceTimeOriginMode;\n\n/**\n * The number of milliseconds since the UNIX epoch. This value is only usable in a browser, and only when the\n * performance API is available.\n */\nconst browserPerformanceTimeOrigin = (() => {\n  // Unfortunately browsers may report an inaccurate time origin data, through either performance.timeOrigin or\n  // performance.timing.navigationStart, which results in poor results in performance data. We only treat time origin\n  // data as reliable if they are within a reasonable threshold of the current time.\n\n  const { performance } = WINDOW;\n  if (!performance || !performance.now) {\n    _browserPerformanceTimeOriginMode = 'none';\n    return undefined;\n  }\n\n  const threshold = 3600 * 1000;\n  const performanceNow = performance.now();\n  const dateNow = Date.now();\n\n  // if timeOrigin isn't available set delta to threshold so it isn't used\n  const timeOriginDelta = performance.timeOrigin\n    ? Math.abs(performance.timeOrigin + performanceNow - dateNow)\n    : threshold;\n  const timeOriginIsReliable = timeOriginDelta < threshold;\n\n  // While performance.timing.navigationStart is deprecated in favor of performance.timeOrigin, performance.timeOrigin\n  // is not as widely supported. Namely, performance.timeOrigin is undefined in Safari as of writing.\n  // Also as of writing, performance.timing is not available in Web Workers in mainstream browsers, so it is not always\n  // a valid fallback. In the absence of an initial time provided by the browser, fallback to the current time from the\n  // Date API.\n  // eslint-disable-next-line deprecation/deprecation\n  const navigationStart = performance.timing && performance.timing.navigationStart;\n  const hasNavigationStart = typeof navigationStart === 'number';\n  // if navigationStart isn't available set delta to threshold so it isn't used\n  const navigationStartDelta = hasNavigationStart ? Math.abs(navigationStart + performanceNow - dateNow) : threshold;\n  const navigationStartIsReliable = navigationStartDelta < threshold;\n\n  if (timeOriginIsReliable || navigationStartIsReliable) {\n    // Use the more reliable time origin\n    if (timeOriginDelta <= navigationStartDelta) {\n      _browserPerformanceTimeOriginMode = 'timeOrigin';\n      return performance.timeOrigin;\n    } else {\n      _browserPerformanceTimeOriginMode = 'navigationStart';\n      return navigationStart;\n    }\n  }\n\n  // Either both timeOrigin and navigationStart are skewed or neither is available, fallback to Date.\n  _browserPerformanceTimeOriginMode = 'dateNow';\n  return dateNow;\n})();\n\nexport { _browserPerformanceTimeOriginMode, browserPerformanceTimeOrigin, dateTimestampInSeconds, timestampInSeconds, timestampWithMs, usingPerformanceAPI };\n//# sourceMappingURL=time.js.map\n","import { arrayify, logger } from '@sentry/utils';\nimport { getCurrentHub } from './hub.js';\nimport { addGlobalEventProcessor } from './scope.js';\n\nconst installedIntegrations = [];\n\n/** Map of integrations assigned to a client */\n\n/**\n * Remove duplicates from the given array, preferring the last instance of any duplicate. Not guaranteed to\n * preseve the order of integrations in the array.\n *\n * @private\n */\nfunction filterDuplicates(integrations) {\n  const integrationsByName = {};\n\n  integrations.forEach(currentInstance => {\n    const { name } = currentInstance;\n\n    const existingInstance = integrationsByName[name];\n\n    // We want integrations later in the array to overwrite earlier ones of the same type, except that we never want a\n    // default instance to overwrite an existing user instance\n    if (existingInstance && !existingInstance.isDefaultInstance && currentInstance.isDefaultInstance) {\n      return;\n    }\n\n    integrationsByName[name] = currentInstance;\n  });\n\n  return Object.values(integrationsByName);\n}\n\n/** Gets integrations to install */\nfunction getIntegrationsToSetup(options) {\n  const defaultIntegrations = options.defaultIntegrations || [];\n  const userIntegrations = options.integrations;\n\n  // We flag default instances, so that later we can tell them apart from any user-created instances of the same class\n  defaultIntegrations.forEach(integration => {\n    integration.isDefaultInstance = true;\n  });\n\n  let integrations;\n\n  if (Array.isArray(userIntegrations)) {\n    integrations = [...defaultIntegrations, ...userIntegrations];\n  } else if (typeof userIntegrations === 'function') {\n    integrations = arrayify(userIntegrations(defaultIntegrations));\n  } else {\n    integrations = defaultIntegrations;\n  }\n\n  const finalIntegrations = filterDuplicates(integrations);\n\n  // The `Debug` integration prints copies of the `event` and `hint` which will be passed to `beforeSend` or\n  // `beforeSendTransaction`. It therefore has to run after all other integrations, so that the changes of all event\n  // processors will be reflected in the printed values. For lack of a more elegant way to guarantee that, we therefore\n  // locate it and, assuming it exists, pop it out of its current spot and shove it onto the end of the array.\n  const debugIndex = finalIntegrations.findIndex(integration => integration.name === 'Debug');\n  if (debugIndex !== -1) {\n    const [debugInstance] = finalIntegrations.splice(debugIndex, 1);\n    finalIntegrations.push(debugInstance);\n  }\n\n  return finalIntegrations;\n}\n\n/**\n * Given a list of integration instances this installs them all. When `withDefaults` is set to `true` then all default\n * integrations are added unless they were already provided before.\n * @param integrations array of integration instances\n * @param withDefault should enable default integrations\n */\nfunction setupIntegrations(integrations) {\n  const integrationIndex = {};\n\n  integrations.forEach(integration => {\n    integrationIndex[integration.name] = integration;\n\n    if (installedIntegrations.indexOf(integration.name) === -1) {\n      integration.setupOnce(addGlobalEventProcessor, getCurrentHub);\n      installedIntegrations.push(integration.name);\n      (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.log(`Integration installed: ${integration.name}`);\n    }\n  });\n\n  return integrationIndex;\n}\n\nexport { getIntegrationsToSetup, installedIntegrations, setupIntegrations };\n//# sourceMappingURL=integration.js.map\n","/* eslint-disable es-x/no-symbol -- required for testing */\nvar V8_VERSION = require('../internals/engine-v8-version');\nvar fails = require('../internals/fails');\n\n// eslint-disable-next-line es-x/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  var symbol = Symbol();\n  // Chrome 38 Symbol has incorrect toString conversion\n  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances\n  return !String(symbol) || !(Object(symbol) instanceof Symbol) ||\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    !Symbol.sham && V8_VERSION && V8_VERSION < 41;\n});\n","import { ApolloLink } from \"./ApolloLink.js\";\nexport var from = ApolloLink.from;\n//# sourceMappingURL=from.js.map","import { isString, isRegExp } from './is.js';\n\n/**\n * Truncates given string to the maximum characters count\n *\n * @param str An object that contains serializable values\n * @param max Maximum number of characters in truncated string (0 = unlimited)\n * @returns string Encoded\n */\nfunction truncate(str, max = 0) {\n  if (typeof str !== 'string' || max === 0) {\n    return str;\n  }\n  return str.length <= max ? str : `${str.substr(0, max)}...`;\n}\n\n/**\n * This is basically just `trim_line` from\n * https://github.com/getsentry/sentry/blob/master/src/sentry/lang/javascript/processor.py#L67\n *\n * @param str An object that contains serializable values\n * @param max Maximum number of characters in truncated string\n * @returns string Encoded\n */\nfunction snipLine(line, colno) {\n  let newLine = line;\n  const lineLength = newLine.length;\n  if (lineLength <= 150) {\n    return newLine;\n  }\n  if (colno > lineLength) {\n    // eslint-disable-next-line no-param-reassign\n    colno = lineLength;\n  }\n\n  let start = Math.max(colno - 60, 0);\n  if (start < 5) {\n    start = 0;\n  }\n\n  let end = Math.min(start + 140, lineLength);\n  if (end > lineLength - 5) {\n    end = lineLength;\n  }\n  if (end === lineLength) {\n    start = Math.max(end - 140, 0);\n  }\n\n  newLine = newLine.slice(start, end);\n  if (start > 0) {\n    newLine = `'{snip} ${newLine}`;\n  }\n  if (end < lineLength) {\n    newLine += ' {snip}';\n  }\n\n  return newLine;\n}\n\n/**\n * Join values in array\n * @param input array of values to be joined together\n * @param delimiter string to be placed in-between values\n * @returns Joined values\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction safeJoin(input, delimiter) {\n  if (!Array.isArray(input)) {\n    return '';\n  }\n\n  const output = [];\n  // eslint-disable-next-line @typescript-eslint/prefer-for-of\n  for (let i = 0; i < input.length; i++) {\n    const value = input[i];\n    try {\n      output.push(String(value));\n    } catch (e) {\n      output.push('[value cannot be serialized]');\n    }\n  }\n\n  return output.join(delimiter);\n}\n\n/**\n * Checks if the given value matches a regex or string\n *\n * @param value The string to test\n * @param pattern Either a regex or a string against which `value` will be matched\n * @param requireExactStringMatch If true, `value` must match `pattern` exactly. If false, `value` will match\n * `pattern` if it contains `pattern`. Only applies to string-type patterns.\n */\nfunction isMatchingPattern(\n  value,\n  pattern,\n  requireExactStringMatch = false,\n) {\n  if (!isString(value)) {\n    return false;\n  }\n\n  if (isRegExp(pattern)) {\n    return pattern.test(value);\n  }\n  if (isString(pattern)) {\n    return requireExactStringMatch ? value === pattern : value.includes(pattern);\n  }\n\n  return false;\n}\n\n/**\n * Test the given string against an array of strings and regexes. By default, string matching is done on a\n * substring-inclusion basis rather than a strict equality basis\n *\n * @param testString The string to test\n * @param patterns The patterns against which to test the string\n * @param requireExactStringMatch If true, `testString` must match one of the given string patterns exactly in order to\n * count. If false, `testString` will match a string pattern if it contains that pattern.\n * @returns\n */\nfunction stringMatchesSomePattern(\n  testString,\n  patterns = [],\n  requireExactStringMatch = false,\n) {\n  return patterns.some(pattern => isMatchingPattern(testString, pattern, requireExactStringMatch));\n}\n\n/**\n * Given a string, escape characters which have meaning in the regex grammar, such that the result is safe to feed to\n * `new RegExp()`.\n *\n * Based on https://github.com/sindresorhus/escape-string-regexp. Vendored to a) reduce the size by skipping the runtime\n * type-checking, and b) ensure it gets down-compiled for old versions of Node (the published package only supports Node\n * 12+).\n *\n * @param regexString The string to escape\n * @returns An version of the string with all special regex characters escaped\n */\nfunction escapeStringForRegex(regexString) {\n  // escape the hyphen separately so we can also replace it with a unicode literal hyphen, to avoid the problems\n  // discussed in https://github.com/sindresorhus/escape-string-regexp/issues/20.\n  return regexString.replace(/[|\\\\{}()[\\]^$+*?.]/g, '\\\\$&').replace(/-/g, '\\\\x2d');\n}\n\nexport { escapeStringForRegex, isMatchingPattern, safeJoin, snipLine, stringMatchesSomePattern, truncate };\n//# sourceMappingURL=string.js.map\n","import { ApolloLink } from \"./ApolloLink.js\";\nexport var empty = ApolloLink.empty;\n//# sourceMappingURL=empty.js.map","import { ApolloLink } from \"./ApolloLink.js\";\nexport var split = ApolloLink.split;\n//# sourceMappingURL=split.js.map","import { ApolloLink } from \"./ApolloLink.js\";\nexport var concat = ApolloLink.concat;\n//# sourceMappingURL=concat.js.map","// A [trie](https://en.wikipedia.org/wiki/Trie) data structure that holds\r\n// object keys weakly, yet can also hold non-object keys, unlike the\r\n// native `WeakMap`.\r\n// If no makeData function is supplied, the looked-up data will be an empty,\r\n// null-prototype Object.\r\nvar defaultMakeData = function () { return Object.create(null); };\r\n// Useful for processing arguments objects as well as arrays.\r\nvar _a = Array.prototype, forEach = _a.forEach, slice = _a.slice;\r\nvar Trie = /** @class */ (function () {\r\n    function Trie(weakness, makeData) {\r\n        if (weakness === void 0) { weakness = true; }\r\n        if (makeData === void 0) { makeData = defaultMakeData; }\r\n        this.weakness = weakness;\r\n        this.makeData = makeData;\r\n    }\r\n    Trie.prototype.lookup = function () {\r\n        var array = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            array[_i] = arguments[_i];\r\n        }\r\n        return this.lookupArray(array);\r\n    };\r\n    Trie.prototype.lookupArray = function (array) {\r\n        var node = this;\r\n        forEach.call(array, function (key) { return node = node.getChildTrie(key); });\r\n        return node.data || (node.data = this.makeData(slice.call(array)));\r\n    };\r\n    Trie.prototype.getChildTrie = function (key) {\r\n        var map = this.weakness && isObjRef(key)\r\n            ? this.weak || (this.weak = new WeakMap())\r\n            : this.strong || (this.strong = new Map());\r\n        var child = map.get(key);\r\n        if (!child)\r\n            map.set(key, child = new Trie(this.weakness, this.makeData));\r\n        return child;\r\n    };\r\n    return Trie;\r\n}());\r\nfunction isObjRef(value) {\r\n    switch (typeof value) {\r\n        case \"object\":\r\n            if (value === null)\r\n                break;\r\n        // Fall through to return true...\r\n        case \"function\":\r\n            return true;\r\n    }\r\n    return false;\r\n}\n\nexport { Trie };\n//# sourceMappingURL=trie.esm.js.map\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  defineProperty(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","export function isNonEmptyArray(value) {\n    return Array.isArray(value) && value.length > 0;\n}\n//# sourceMappingURL=arrays.js.map","import { extend, isArray, isMap, isIntegerKey, isSymbol, hasOwn, isObject, hasChanged, makeMap, capitalize, toRawType, def, isFunction, NOOP } from '@vue/shared';\n\nfunction warn(msg, ...args) {\r\n    console.warn(`[Vue warn] ${msg}`, ...args);\r\n}\n\nlet activeEffectScope;\r\nconst effectScopeStack = [];\r\nclass EffectScope {\r\n    constructor(detached = false) {\r\n        this.active = true;\r\n        this.effects = [];\r\n        this.cleanups = [];\r\n        if (!detached && activeEffectScope) {\r\n            this.parent = activeEffectScope;\r\n            this.index =\r\n                (activeEffectScope.scopes || (activeEffectScope.scopes = [])).push(this) - 1;\r\n        }\r\n    }\r\n    run(fn) {\r\n        if (this.active) {\r\n            try {\r\n                this.on();\r\n                return fn();\r\n            }\r\n            finally {\r\n                this.off();\r\n            }\r\n        }\r\n        else if ((process.env.NODE_ENV !== 'production')) {\r\n            warn(`cannot run an inactive effect scope.`);\r\n        }\r\n    }\r\n    on() {\r\n        if (this.active) {\r\n            effectScopeStack.push(this);\r\n            activeEffectScope = this;\r\n        }\r\n    }\r\n    off() {\r\n        if (this.active) {\r\n            effectScopeStack.pop();\r\n            activeEffectScope = effectScopeStack[effectScopeStack.length - 1];\r\n        }\r\n    }\r\n    stop(fromParent) {\r\n        if (this.active) {\r\n            this.effects.forEach(e => e.stop());\r\n            this.cleanups.forEach(cleanup => cleanup());\r\n            if (this.scopes) {\r\n                this.scopes.forEach(e => e.stop(true));\r\n            }\r\n            // nested scope, dereference from parent to avoid memory leaks\r\n            if (this.parent && !fromParent) {\r\n                // optimized O(1) removal\r\n                const last = this.parent.scopes.pop();\r\n                if (last && last !== this) {\r\n                    this.parent.scopes[this.index] = last;\r\n                    last.index = this.index;\r\n                }\r\n            }\r\n            this.active = false;\r\n        }\r\n    }\r\n}\r\nfunction effectScope(detached) {\r\n    return new EffectScope(detached);\r\n}\r\nfunction recordEffectScope(effect, scope) {\r\n    scope = scope || activeEffectScope;\r\n    if (scope && scope.active) {\r\n        scope.effects.push(effect);\r\n    }\r\n}\r\nfunction getCurrentScope() {\r\n    return activeEffectScope;\r\n}\r\nfunction onScopeDispose(fn) {\r\n    if (activeEffectScope) {\r\n        activeEffectScope.cleanups.push(fn);\r\n    }\r\n    else if ((process.env.NODE_ENV !== 'production')) {\r\n        warn(`onScopeDispose() is called when there is no active effect scope` +\r\n            ` to be associated with.`);\r\n    }\r\n}\n\nconst createDep = (effects) => {\r\n    const dep = new Set(effects);\r\n    dep.w = 0;\r\n    dep.n = 0;\r\n    return dep;\r\n};\r\nconst wasTracked = (dep) => (dep.w & trackOpBit) > 0;\r\nconst newTracked = (dep) => (dep.n & trackOpBit) > 0;\r\nconst initDepMarkers = ({ deps }) => {\r\n    if (deps.length) {\r\n        for (let i = 0; i < deps.length; i++) {\r\n            deps[i].w |= trackOpBit; // set was tracked\r\n        }\r\n    }\r\n};\r\nconst finalizeDepMarkers = (effect) => {\r\n    const { deps } = effect;\r\n    if (deps.length) {\r\n        let ptr = 0;\r\n        for (let i = 0; i < deps.length; i++) {\r\n            const dep = deps[i];\r\n            if (wasTracked(dep) && !newTracked(dep)) {\r\n                dep.delete(effect);\r\n            }\r\n            else {\r\n                deps[ptr++] = dep;\r\n            }\r\n            // clear bits\r\n            dep.w &= ~trackOpBit;\r\n            dep.n &= ~trackOpBit;\r\n        }\r\n        deps.length = ptr;\r\n    }\r\n};\n\nconst targetMap = new WeakMap();\r\n// The number of effects currently being tracked recursively.\r\nlet effectTrackDepth = 0;\r\nlet trackOpBit = 1;\r\n/**\r\n * The bitwise track markers support at most 30 levels of recursion.\r\n * This value is chosen to enable modern JS engines to use a SMI on all platforms.\r\n * When recursion depth is greater, fall back to using a full cleanup.\r\n */\r\nconst maxMarkerBits = 30;\r\nconst effectStack = [];\r\nlet activeEffect;\r\nconst ITERATE_KEY = Symbol((process.env.NODE_ENV !== 'production') ? 'iterate' : '');\r\nconst MAP_KEY_ITERATE_KEY = Symbol((process.env.NODE_ENV !== 'production') ? 'Map key iterate' : '');\r\nclass ReactiveEffect {\r\n    constructor(fn, scheduler = null, scope) {\r\n        this.fn = fn;\r\n        this.scheduler = scheduler;\r\n        this.active = true;\r\n        this.deps = [];\r\n        recordEffectScope(this, scope);\r\n    }\r\n    run() {\r\n        if (!this.active) {\r\n            return this.fn();\r\n        }\r\n        if (!effectStack.includes(this)) {\r\n            try {\r\n                effectStack.push((activeEffect = this));\r\n                enableTracking();\r\n                trackOpBit = 1 << ++effectTrackDepth;\r\n                if (effectTrackDepth <= maxMarkerBits) {\r\n                    initDepMarkers(this);\r\n                }\r\n                else {\r\n                    cleanupEffect(this);\r\n                }\r\n                return this.fn();\r\n            }\r\n            finally {\r\n                if (effectTrackDepth <= maxMarkerBits) {\r\n                    finalizeDepMarkers(this);\r\n                }\r\n                trackOpBit = 1 << --effectTrackDepth;\r\n                resetTracking();\r\n                effectStack.pop();\r\n                const n = effectStack.length;\r\n                activeEffect = n > 0 ? effectStack[n - 1] : undefined;\r\n            }\r\n        }\r\n    }\r\n    stop() {\r\n        if (this.active) {\r\n            cleanupEffect(this);\r\n            if (this.onStop) {\r\n                this.onStop();\r\n            }\r\n            this.active = false;\r\n        }\r\n    }\r\n}\r\nfunction cleanupEffect(effect) {\r\n    const { deps } = effect;\r\n    if (deps.length) {\r\n        for (let i = 0; i < deps.length; i++) {\r\n            deps[i].delete(effect);\r\n        }\r\n        deps.length = 0;\r\n    }\r\n}\r\nfunction effect(fn, options) {\r\n    if (fn.effect) {\r\n        fn = fn.effect.fn;\r\n    }\r\n    const _effect = new ReactiveEffect(fn);\r\n    if (options) {\r\n        extend(_effect, options);\r\n        if (options.scope)\r\n            recordEffectScope(_effect, options.scope);\r\n    }\r\n    if (!options || !options.lazy) {\r\n        _effect.run();\r\n    }\r\n    const runner = _effect.run.bind(_effect);\r\n    runner.effect = _effect;\r\n    return runner;\r\n}\r\nfunction stop(runner) {\r\n    runner.effect.stop();\r\n}\r\nlet shouldTrack = true;\r\nconst trackStack = [];\r\nfunction pauseTracking() {\r\n    trackStack.push(shouldTrack);\r\n    shouldTrack = false;\r\n}\r\nfunction enableTracking() {\r\n    trackStack.push(shouldTrack);\r\n    shouldTrack = true;\r\n}\r\nfunction resetTracking() {\r\n    const last = trackStack.pop();\r\n    shouldTrack = last === undefined ? true : last;\r\n}\r\nfunction track(target, type, key) {\r\n    if (!isTracking()) {\r\n        return;\r\n    }\r\n    let depsMap = targetMap.get(target);\r\n    if (!depsMap) {\r\n        targetMap.set(target, (depsMap = new Map()));\r\n    }\r\n    let dep = depsMap.get(key);\r\n    if (!dep) {\r\n        depsMap.set(key, (dep = createDep()));\r\n    }\r\n    const eventInfo = (process.env.NODE_ENV !== 'production')\r\n        ? { effect: activeEffect, target, type, key }\r\n        : undefined;\r\n    trackEffects(dep, eventInfo);\r\n}\r\nfunction isTracking() {\r\n    return shouldTrack && activeEffect !== undefined;\r\n}\r\nfunction trackEffects(dep, debuggerEventExtraInfo) {\r\n    let shouldTrack = false;\r\n    if (effectTrackDepth <= maxMarkerBits) {\r\n        if (!newTracked(dep)) {\r\n            dep.n |= trackOpBit; // set newly tracked\r\n            shouldTrack = !wasTracked(dep);\r\n        }\r\n    }\r\n    else {\r\n        // Full cleanup mode.\r\n        shouldTrack = !dep.has(activeEffect);\r\n    }\r\n    if (shouldTrack) {\r\n        dep.add(activeEffect);\r\n        activeEffect.deps.push(dep);\r\n        if ((process.env.NODE_ENV !== 'production') && activeEffect.onTrack) {\r\n            activeEffect.onTrack(Object.assign({\r\n                effect: activeEffect\r\n            }, debuggerEventExtraInfo));\r\n        }\r\n    }\r\n}\r\nfunction trigger(target, type, key, newValue, oldValue, oldTarget) {\r\n    const depsMap = targetMap.get(target);\r\n    if (!depsMap) {\r\n        // never been tracked\r\n        return;\r\n    }\r\n    let deps = [];\r\n    if (type === \"clear\" /* CLEAR */) {\r\n        // collection being cleared\r\n        // trigger all effects for target\r\n        deps = [...depsMap.values()];\r\n    }\r\n    else if (key === 'length' && isArray(target)) {\r\n        depsMap.forEach((dep, key) => {\r\n            if (key === 'length' || key >= newValue) {\r\n                deps.push(dep);\r\n            }\r\n        });\r\n    }\r\n    else {\r\n        // schedule runs for SET | ADD | DELETE\r\n        if (key !== void 0) {\r\n            deps.push(depsMap.get(key));\r\n        }\r\n        // also run for iteration key on ADD | DELETE | Map.SET\r\n        switch (type) {\r\n            case \"add\" /* ADD */:\r\n                if (!isArray(target)) {\r\n                    deps.push(depsMap.get(ITERATE_KEY));\r\n                    if (isMap(target)) {\r\n                        deps.push(depsMap.get(MAP_KEY_ITERATE_KEY));\r\n                    }\r\n                }\r\n                else if (isIntegerKey(key)) {\r\n                    // new index added to array -> length changes\r\n                    deps.push(depsMap.get('length'));\r\n                }\r\n                break;\r\n            case \"delete\" /* DELETE */:\r\n                if (!isArray(target)) {\r\n                    deps.push(depsMap.get(ITERATE_KEY));\r\n                    if (isMap(target)) {\r\n                        deps.push(depsMap.get(MAP_KEY_ITERATE_KEY));\r\n                    }\r\n                }\r\n                break;\r\n            case \"set\" /* SET */:\r\n                if (isMap(target)) {\r\n                    deps.push(depsMap.get(ITERATE_KEY));\r\n                }\r\n                break;\r\n        }\r\n    }\r\n    const eventInfo = (process.env.NODE_ENV !== 'production')\r\n        ? { target, type, key, newValue, oldValue, oldTarget }\r\n        : undefined;\r\n    if (deps.length === 1) {\r\n        if (deps[0]) {\r\n            if ((process.env.NODE_ENV !== 'production')) {\r\n                triggerEffects(deps[0], eventInfo);\r\n            }\r\n            else {\r\n                triggerEffects(deps[0]);\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        const effects = [];\r\n        for (const dep of deps) {\r\n            if (dep) {\r\n                effects.push(...dep);\r\n            }\r\n        }\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            triggerEffects(createDep(effects), eventInfo);\r\n        }\r\n        else {\r\n            triggerEffects(createDep(effects));\r\n        }\r\n    }\r\n}\r\nfunction triggerEffects(dep, debuggerEventExtraInfo) {\r\n    // spread into array for stabilization\r\n    for (const effect of isArray(dep) ? dep : [...dep]) {\r\n        if (effect !== activeEffect || effect.allowRecurse) {\r\n            if ((process.env.NODE_ENV !== 'production') && effect.onTrigger) {\r\n                effect.onTrigger(extend({ effect }, debuggerEventExtraInfo));\r\n            }\r\n            if (effect.scheduler) {\r\n                effect.scheduler();\r\n            }\r\n            else {\r\n                effect.run();\r\n            }\r\n        }\r\n    }\r\n}\n\nconst isNonTrackableKeys = /*#__PURE__*/ makeMap(`__proto__,__v_isRef,__isVue`);\r\nconst builtInSymbols = new Set(Object.getOwnPropertyNames(Symbol)\r\n    .map(key => Symbol[key])\r\n    .filter(isSymbol));\r\nconst get = /*#__PURE__*/ createGetter();\r\nconst shallowGet = /*#__PURE__*/ createGetter(false, true);\r\nconst readonlyGet = /*#__PURE__*/ createGetter(true);\r\nconst shallowReadonlyGet = /*#__PURE__*/ createGetter(true, true);\r\nconst arrayInstrumentations = /*#__PURE__*/ createArrayInstrumentations();\r\nfunction createArrayInstrumentations() {\r\n    const instrumentations = {};\r\n    ['includes', 'indexOf', 'lastIndexOf'].forEach(key => {\r\n        instrumentations[key] = function (...args) {\r\n            const arr = toRaw(this);\r\n            for (let i = 0, l = this.length; i < l; i++) {\r\n                track(arr, \"get\" /* GET */, i + '');\r\n            }\r\n            // we run the method using the original args first (which may be reactive)\r\n            const res = arr[key](...args);\r\n            if (res === -1 || res === false) {\r\n                // if that didn't work, run it again using raw values.\r\n                return arr[key](...args.map(toRaw));\r\n            }\r\n            else {\r\n                return res;\r\n            }\r\n        };\r\n    });\r\n    ['push', 'pop', 'shift', 'unshift', 'splice'].forEach(key => {\r\n        instrumentations[key] = function (...args) {\r\n            pauseTracking();\r\n            const res = toRaw(this)[key].apply(this, args);\r\n            resetTracking();\r\n            return res;\r\n        };\r\n    });\r\n    return instrumentations;\r\n}\r\nfunction createGetter(isReadonly = false, shallow = false) {\r\n    return function get(target, key, receiver) {\r\n        if (key === \"__v_isReactive\" /* IS_REACTIVE */) {\r\n            return !isReadonly;\r\n        }\r\n        else if (key === \"__v_isReadonly\" /* IS_READONLY */) {\r\n            return isReadonly;\r\n        }\r\n        else if (key === \"__v_raw\" /* RAW */ &&\r\n            receiver ===\r\n                (isReadonly\r\n                    ? shallow\r\n                        ? shallowReadonlyMap\r\n                        : readonlyMap\r\n                    : shallow\r\n                        ? shallowReactiveMap\r\n                        : reactiveMap).get(target)) {\r\n            return target;\r\n        }\r\n        const targetIsArray = isArray(target);\r\n        if (!isReadonly && targetIsArray && hasOwn(arrayInstrumentations, key)) {\r\n            return Reflect.get(arrayInstrumentations, key, receiver);\r\n        }\r\n        const res = Reflect.get(target, key, receiver);\r\n        if (isSymbol(key) ? builtInSymbols.has(key) : isNonTrackableKeys(key)) {\r\n            return res;\r\n        }\r\n        if (!isReadonly) {\r\n            track(target, \"get\" /* GET */, key);\r\n        }\r\n        if (shallow) {\r\n            return res;\r\n        }\r\n        if (isRef(res)) {\r\n            // ref unwrapping - does not apply for Array + integer key.\r\n            const shouldUnwrap = !targetIsArray || !isIntegerKey(key);\r\n            return shouldUnwrap ? res.value : res;\r\n        }\r\n        if (isObject(res)) {\r\n            // Convert returned value into a proxy as well. we do the isObject check\r\n            // here to avoid invalid value warning. Also need to lazy access readonly\r\n            // and reactive here to avoid circular dependency.\r\n            return isReadonly ? readonly(res) : reactive(res);\r\n        }\r\n        return res;\r\n    };\r\n}\r\nconst set = /*#__PURE__*/ createSetter();\r\nconst shallowSet = /*#__PURE__*/ createSetter(true);\r\nfunction createSetter(shallow = false) {\r\n    return function set(target, key, value, receiver) {\r\n        let oldValue = target[key];\r\n        if (!shallow && !isReadonly(value)) {\r\n            value = toRaw(value);\r\n            oldValue = toRaw(oldValue);\r\n            if (!isArray(target) && isRef(oldValue) && !isRef(value)) {\r\n                oldValue.value = value;\r\n                return true;\r\n            }\r\n        }\r\n        const hadKey = isArray(target) && isIntegerKey(key)\r\n            ? Number(key) < target.length\r\n            : hasOwn(target, key);\r\n        const result = Reflect.set(target, key, value, receiver);\r\n        // don't trigger if target is something up in the prototype chain of original\r\n        if (target === toRaw(receiver)) {\r\n            if (!hadKey) {\r\n                trigger(target, \"add\" /* ADD */, key, value);\r\n            }\r\n            else if (hasChanged(value, oldValue)) {\r\n                trigger(target, \"set\" /* SET */, key, value, oldValue);\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n}\r\nfunction deleteProperty(target, key) {\r\n    const hadKey = hasOwn(target, key);\r\n    const oldValue = target[key];\r\n    const result = Reflect.deleteProperty(target, key);\r\n    if (result && hadKey) {\r\n        trigger(target, \"delete\" /* DELETE */, key, undefined, oldValue);\r\n    }\r\n    return result;\r\n}\r\nfunction has(target, key) {\r\n    const result = Reflect.has(target, key);\r\n    if (!isSymbol(key) || !builtInSymbols.has(key)) {\r\n        track(target, \"has\" /* HAS */, key);\r\n    }\r\n    return result;\r\n}\r\nfunction ownKeys(target) {\r\n    track(target, \"iterate\" /* ITERATE */, isArray(target) ? 'length' : ITERATE_KEY);\r\n    return Reflect.ownKeys(target);\r\n}\r\nconst mutableHandlers = {\r\n    get,\r\n    set,\r\n    deleteProperty,\r\n    has,\r\n    ownKeys\r\n};\r\nconst readonlyHandlers = {\r\n    get: readonlyGet,\r\n    set(target, key) {\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            console.warn(`Set operation on key \"${String(key)}\" failed: target is readonly.`, target);\r\n        }\r\n        return true;\r\n    },\r\n    deleteProperty(target, key) {\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            console.warn(`Delete operation on key \"${String(key)}\" failed: target is readonly.`, target);\r\n        }\r\n        return true;\r\n    }\r\n};\r\nconst shallowReactiveHandlers = /*#__PURE__*/ extend({}, mutableHandlers, {\r\n    get: shallowGet,\r\n    set: shallowSet\r\n});\r\n// Props handlers are special in the sense that it should not unwrap top-level\r\n// refs (in order to allow refs to be explicitly passed down), but should\r\n// retain the reactivity of the normal readonly object.\r\nconst shallowReadonlyHandlers = /*#__PURE__*/ extend({}, readonlyHandlers, {\r\n    get: shallowReadonlyGet\r\n});\n\nconst toShallow = (value) => value;\r\nconst getProto = (v) => Reflect.getPrototypeOf(v);\r\nfunction get$1(target, key, isReadonly = false, isShallow = false) {\r\n    // #1772: readonly(reactive(Map)) should return readonly + reactive version\r\n    // of the value\r\n    target = target[\"__v_raw\" /* RAW */];\r\n    const rawTarget = toRaw(target);\r\n    const rawKey = toRaw(key);\r\n    if (key !== rawKey) {\r\n        !isReadonly && track(rawTarget, \"get\" /* GET */, key);\r\n    }\r\n    !isReadonly && track(rawTarget, \"get\" /* GET */, rawKey);\r\n    const { has } = getProto(rawTarget);\r\n    const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;\r\n    if (has.call(rawTarget, key)) {\r\n        return wrap(target.get(key));\r\n    }\r\n    else if (has.call(rawTarget, rawKey)) {\r\n        return wrap(target.get(rawKey));\r\n    }\r\n    else if (target !== rawTarget) {\r\n        // #3602 readonly(reactive(Map))\r\n        // ensure that the nested reactive `Map` can do tracking for itself\r\n        target.get(key);\r\n    }\r\n}\r\nfunction has$1(key, isReadonly = false) {\r\n    const target = this[\"__v_raw\" /* RAW */];\r\n    const rawTarget = toRaw(target);\r\n    const rawKey = toRaw(key);\r\n    if (key !== rawKey) {\r\n        !isReadonly && track(rawTarget, \"has\" /* HAS */, key);\r\n    }\r\n    !isReadonly && track(rawTarget, \"has\" /* HAS */, rawKey);\r\n    return key === rawKey\r\n        ? target.has(key)\r\n        : target.has(key) || target.has(rawKey);\r\n}\r\nfunction size(target, isReadonly = false) {\r\n    target = target[\"__v_raw\" /* RAW */];\r\n    !isReadonly && track(toRaw(target), \"iterate\" /* ITERATE */, ITERATE_KEY);\r\n    return Reflect.get(target, 'size', target);\r\n}\r\nfunction add(value) {\r\n    value = toRaw(value);\r\n    const target = toRaw(this);\r\n    const proto = getProto(target);\r\n    const hadKey = proto.has.call(target, value);\r\n    if (!hadKey) {\r\n        target.add(value);\r\n        trigger(target, \"add\" /* ADD */, value, value);\r\n    }\r\n    return this;\r\n}\r\nfunction set$1(key, value) {\r\n    value = toRaw(value);\r\n    const target = toRaw(this);\r\n    const { has, get } = getProto(target);\r\n    let hadKey = has.call(target, key);\r\n    if (!hadKey) {\r\n        key = toRaw(key);\r\n        hadKey = has.call(target, key);\r\n    }\r\n    else if ((process.env.NODE_ENV !== 'production')) {\r\n        checkIdentityKeys(target, has, key);\r\n    }\r\n    const oldValue = get.call(target, key);\r\n    target.set(key, value);\r\n    if (!hadKey) {\r\n        trigger(target, \"add\" /* ADD */, key, value);\r\n    }\r\n    else if (hasChanged(value, oldValue)) {\r\n        trigger(target, \"set\" /* SET */, key, value, oldValue);\r\n    }\r\n    return this;\r\n}\r\nfunction deleteEntry(key) {\r\n    const target = toRaw(this);\r\n    const { has, get } = getProto(target);\r\n    let hadKey = has.call(target, key);\r\n    if (!hadKey) {\r\n        key = toRaw(key);\r\n        hadKey = has.call(target, key);\r\n    }\r\n    else if ((process.env.NODE_ENV !== 'production')) {\r\n        checkIdentityKeys(target, has, key);\r\n    }\r\n    const oldValue = get ? get.call(target, key) : undefined;\r\n    // forward the operation before queueing reactions\r\n    const result = target.delete(key);\r\n    if (hadKey) {\r\n        trigger(target, \"delete\" /* DELETE */, key, undefined, oldValue);\r\n    }\r\n    return result;\r\n}\r\nfunction clear() {\r\n    const target = toRaw(this);\r\n    const hadItems = target.size !== 0;\r\n    const oldTarget = (process.env.NODE_ENV !== 'production')\r\n        ? isMap(target)\r\n            ? new Map(target)\r\n            : new Set(target)\r\n        : undefined;\r\n    // forward the operation before queueing reactions\r\n    const result = target.clear();\r\n    if (hadItems) {\r\n        trigger(target, \"clear\" /* CLEAR */, undefined, undefined, oldTarget);\r\n    }\r\n    return result;\r\n}\r\nfunction createForEach(isReadonly, isShallow) {\r\n    return function forEach(callback, thisArg) {\r\n        const observed = this;\r\n        const target = observed[\"__v_raw\" /* RAW */];\r\n        const rawTarget = toRaw(target);\r\n        const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;\r\n        !isReadonly && track(rawTarget, \"iterate\" /* ITERATE */, ITERATE_KEY);\r\n        return target.forEach((value, key) => {\r\n            // important: make sure the callback is\r\n            // 1. invoked with the reactive map as `this` and 3rd arg\r\n            // 2. the value received should be a corresponding reactive/readonly.\r\n            return callback.call(thisArg, wrap(value), wrap(key), observed);\r\n        });\r\n    };\r\n}\r\nfunction createIterableMethod(method, isReadonly, isShallow) {\r\n    return function (...args) {\r\n        const target = this[\"__v_raw\" /* RAW */];\r\n        const rawTarget = toRaw(target);\r\n        const targetIsMap = isMap(rawTarget);\r\n        const isPair = method === 'entries' || (method === Symbol.iterator && targetIsMap);\r\n        const isKeyOnly = method === 'keys' && targetIsMap;\r\n        const innerIterator = target[method](...args);\r\n        const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;\r\n        !isReadonly &&\r\n            track(rawTarget, \"iterate\" /* ITERATE */, isKeyOnly ? MAP_KEY_ITERATE_KEY : ITERATE_KEY);\r\n        // return a wrapped iterator which returns observed versions of the\r\n        // values emitted from the real iterator\r\n        return {\r\n            // iterator protocol\r\n            next() {\r\n                const { value, done } = innerIterator.next();\r\n                return done\r\n                    ? { value, done }\r\n                    : {\r\n                        value: isPair ? [wrap(value[0]), wrap(value[1])] : wrap(value),\r\n                        done\r\n                    };\r\n            },\r\n            // iterable protocol\r\n            [Symbol.iterator]() {\r\n                return this;\r\n            }\r\n        };\r\n    };\r\n}\r\nfunction createReadonlyMethod(type) {\r\n    return function (...args) {\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            const key = args[0] ? `on key \"${args[0]}\" ` : ``;\r\n            console.warn(`${capitalize(type)} operation ${key}failed: target is readonly.`, toRaw(this));\r\n        }\r\n        return type === \"delete\" /* DELETE */ ? false : this;\r\n    };\r\n}\r\nfunction createInstrumentations() {\r\n    const mutableInstrumentations = {\r\n        get(key) {\r\n            return get$1(this, key);\r\n        },\r\n        get size() {\r\n            return size(this);\r\n        },\r\n        has: has$1,\r\n        add,\r\n        set: set$1,\r\n        delete: deleteEntry,\r\n        clear,\r\n        forEach: createForEach(false, false)\r\n    };\r\n    const shallowInstrumentations = {\r\n        get(key) {\r\n            return get$1(this, key, false, true);\r\n        },\r\n        get size() {\r\n            return size(this);\r\n        },\r\n        has: has$1,\r\n        add,\r\n        set: set$1,\r\n        delete: deleteEntry,\r\n        clear,\r\n        forEach: createForEach(false, true)\r\n    };\r\n    const readonlyInstrumentations = {\r\n        get(key) {\r\n            return get$1(this, key, true);\r\n        },\r\n        get size() {\r\n            return size(this, true);\r\n        },\r\n        has(key) {\r\n            return has$1.call(this, key, true);\r\n        },\r\n        add: createReadonlyMethod(\"add\" /* ADD */),\r\n        set: createReadonlyMethod(\"set\" /* SET */),\r\n        delete: createReadonlyMethod(\"delete\" /* DELETE */),\r\n        clear: createReadonlyMethod(\"clear\" /* CLEAR */),\r\n        forEach: createForEach(true, false)\r\n    };\r\n    const shallowReadonlyInstrumentations = {\r\n        get(key) {\r\n            return get$1(this, key, true, true);\r\n        },\r\n        get size() {\r\n            return size(this, true);\r\n        },\r\n        has(key) {\r\n            return has$1.call(this, key, true);\r\n        },\r\n        add: createReadonlyMethod(\"add\" /* ADD */),\r\n        set: createReadonlyMethod(\"set\" /* SET */),\r\n        delete: createReadonlyMethod(\"delete\" /* DELETE */),\r\n        clear: createReadonlyMethod(\"clear\" /* CLEAR */),\r\n        forEach: createForEach(true, true)\r\n    };\r\n    const iteratorMethods = ['keys', 'values', 'entries', Symbol.iterator];\r\n    iteratorMethods.forEach(method => {\r\n        mutableInstrumentations[method] = createIterableMethod(method, false, false);\r\n        readonlyInstrumentations[method] = createIterableMethod(method, true, false);\r\n        shallowInstrumentations[method] = createIterableMethod(method, false, true);\r\n        shallowReadonlyInstrumentations[method] = createIterableMethod(method, true, true);\r\n    });\r\n    return [\r\n        mutableInstrumentations,\r\n        readonlyInstrumentations,\r\n        shallowInstrumentations,\r\n        shallowReadonlyInstrumentations\r\n    ];\r\n}\r\nconst [mutableInstrumentations, readonlyInstrumentations, shallowInstrumentations, shallowReadonlyInstrumentations] = /* #__PURE__*/ createInstrumentations();\r\nfunction createInstrumentationGetter(isReadonly, shallow) {\r\n    const instrumentations = shallow\r\n        ? isReadonly\r\n            ? shallowReadonlyInstrumentations\r\n            : shallowInstrumentations\r\n        : isReadonly\r\n            ? readonlyInstrumentations\r\n            : mutableInstrumentations;\r\n    return (target, key, receiver) => {\r\n        if (key === \"__v_isReactive\" /* IS_REACTIVE */) {\r\n            return !isReadonly;\r\n        }\r\n        else if (key === \"__v_isReadonly\" /* IS_READONLY */) {\r\n            return isReadonly;\r\n        }\r\n        else if (key === \"__v_raw\" /* RAW */) {\r\n            return target;\r\n        }\r\n        return Reflect.get(hasOwn(instrumentations, key) && key in target\r\n            ? instrumentations\r\n            : target, key, receiver);\r\n    };\r\n}\r\nconst mutableCollectionHandlers = {\r\n    get: /*#__PURE__*/ createInstrumentationGetter(false, false)\r\n};\r\nconst shallowCollectionHandlers = {\r\n    get: /*#__PURE__*/ createInstrumentationGetter(false, true)\r\n};\r\nconst readonlyCollectionHandlers = {\r\n    get: /*#__PURE__*/ createInstrumentationGetter(true, false)\r\n};\r\nconst shallowReadonlyCollectionHandlers = {\r\n    get: /*#__PURE__*/ createInstrumentationGetter(true, true)\r\n};\r\nfunction checkIdentityKeys(target, has, key) {\r\n    const rawKey = toRaw(key);\r\n    if (rawKey !== key && has.call(target, rawKey)) {\r\n        const type = toRawType(target);\r\n        console.warn(`Reactive ${type} contains both the raw and reactive ` +\r\n            `versions of the same object${type === `Map` ? ` as keys` : ``}, ` +\r\n            `which can lead to inconsistencies. ` +\r\n            `Avoid differentiating between the raw and reactive versions ` +\r\n            `of an object and only use the reactive version if possible.`);\r\n    }\r\n}\n\nconst reactiveMap = new WeakMap();\r\nconst shallowReactiveMap = new WeakMap();\r\nconst readonlyMap = new WeakMap();\r\nconst shallowReadonlyMap = new WeakMap();\r\nfunction targetTypeMap(rawType) {\r\n    switch (rawType) {\r\n        case 'Object':\r\n        case 'Array':\r\n            return 1 /* COMMON */;\r\n        case 'Map':\r\n        case 'Set':\r\n        case 'WeakMap':\r\n        case 'WeakSet':\r\n            return 2 /* COLLECTION */;\r\n        default:\r\n            return 0 /* INVALID */;\r\n    }\r\n}\r\nfunction getTargetType(value) {\r\n    return value[\"__v_skip\" /* SKIP */] || !Object.isExtensible(value)\r\n        ? 0 /* INVALID */\r\n        : targetTypeMap(toRawType(value));\r\n}\r\nfunction reactive(target) {\r\n    // if trying to observe a readonly proxy, return the readonly version.\r\n    if (target && target[\"__v_isReadonly\" /* IS_READONLY */]) {\r\n        return target;\r\n    }\r\n    return createReactiveObject(target, false, mutableHandlers, mutableCollectionHandlers, reactiveMap);\r\n}\r\n/**\r\n * Return a shallowly-reactive copy of the original object, where only the root\r\n * level properties are reactive. It also does not auto-unwrap refs (even at the\r\n * root level).\r\n */\r\nfunction shallowReactive(target) {\r\n    return createReactiveObject(target, false, shallowReactiveHandlers, shallowCollectionHandlers, shallowReactiveMap);\r\n}\r\n/**\r\n * Creates a readonly copy of the original object. Note the returned copy is not\r\n * made reactive, but `readonly` can be called on an already reactive object.\r\n */\r\nfunction readonly(target) {\r\n    return createReactiveObject(target, true, readonlyHandlers, readonlyCollectionHandlers, readonlyMap);\r\n}\r\n/**\r\n * Returns a reactive-copy of the original object, where only the root level\r\n * properties are readonly, and does NOT unwrap refs nor recursively convert\r\n * returned properties.\r\n * This is used for creating the props proxy object for stateful components.\r\n */\r\nfunction shallowReadonly(target) {\r\n    return createReactiveObject(target, true, shallowReadonlyHandlers, shallowReadonlyCollectionHandlers, shallowReadonlyMap);\r\n}\r\nfunction createReactiveObject(target, isReadonly, baseHandlers, collectionHandlers, proxyMap) {\r\n    if (!isObject(target)) {\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            console.warn(`value cannot be made reactive: ${String(target)}`);\r\n        }\r\n        return target;\r\n    }\r\n    // target is already a Proxy, return it.\r\n    // exception: calling readonly() on a reactive object\r\n    if (target[\"__v_raw\" /* RAW */] &&\r\n        !(isReadonly && target[\"__v_isReactive\" /* IS_REACTIVE */])) {\r\n        return target;\r\n    }\r\n    // target already has corresponding Proxy\r\n    const existingProxy = proxyMap.get(target);\r\n    if (existingProxy) {\r\n        return existingProxy;\r\n    }\r\n    // only a whitelist of value types can be observed.\r\n    const targetType = getTargetType(target);\r\n    if (targetType === 0 /* INVALID */) {\r\n        return target;\r\n    }\r\n    const proxy = new Proxy(target, targetType === 2 /* COLLECTION */ ? collectionHandlers : baseHandlers);\r\n    proxyMap.set(target, proxy);\r\n    return proxy;\r\n}\r\nfunction isReactive(value) {\r\n    if (isReadonly(value)) {\r\n        return isReactive(value[\"__v_raw\" /* RAW */]);\r\n    }\r\n    return !!(value && value[\"__v_isReactive\" /* IS_REACTIVE */]);\r\n}\r\nfunction isReadonly(value) {\r\n    return !!(value && value[\"__v_isReadonly\" /* IS_READONLY */]);\r\n}\r\nfunction isProxy(value) {\r\n    return isReactive(value) || isReadonly(value);\r\n}\r\nfunction toRaw(observed) {\r\n    const raw = observed && observed[\"__v_raw\" /* RAW */];\r\n    return raw ? toRaw(raw) : observed;\r\n}\r\nfunction markRaw(value) {\r\n    def(value, \"__v_skip\" /* SKIP */, true);\r\n    return value;\r\n}\r\nconst toReactive = (value) => isObject(value) ? reactive(value) : value;\r\nconst toReadonly = (value) => isObject(value) ? readonly(value) : value;\n\nfunction trackRefValue(ref) {\r\n    if (isTracking()) {\r\n        ref = toRaw(ref);\r\n        if (!ref.dep) {\r\n            ref.dep = createDep();\r\n        }\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            trackEffects(ref.dep, {\r\n                target: ref,\r\n                type: \"get\" /* GET */,\r\n                key: 'value'\r\n            });\r\n        }\r\n        else {\r\n            trackEffects(ref.dep);\r\n        }\r\n    }\r\n}\r\nfunction triggerRefValue(ref, newVal) {\r\n    ref = toRaw(ref);\r\n    if (ref.dep) {\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            triggerEffects(ref.dep, {\r\n                target: ref,\r\n                type: \"set\" /* SET */,\r\n                key: 'value',\r\n                newValue: newVal\r\n            });\r\n        }\r\n        else {\r\n            triggerEffects(ref.dep);\r\n        }\r\n    }\r\n}\r\nfunction isRef(r) {\r\n    return Boolean(r && r.__v_isRef === true);\r\n}\r\nfunction ref(value) {\r\n    return createRef(value, false);\r\n}\r\nfunction shallowRef(value) {\r\n    return createRef(value, true);\r\n}\r\nfunction createRef(rawValue, shallow) {\r\n    if (isRef(rawValue)) {\r\n        return rawValue;\r\n    }\r\n    return new RefImpl(rawValue, shallow);\r\n}\r\nclass RefImpl {\r\n    constructor(value, _shallow) {\r\n        this._shallow = _shallow;\r\n        this.dep = undefined;\r\n        this.__v_isRef = true;\r\n        this._rawValue = _shallow ? value : toRaw(value);\r\n        this._value = _shallow ? value : toReactive(value);\r\n    }\r\n    get value() {\r\n        trackRefValue(this);\r\n        return this._value;\r\n    }\r\n    set value(newVal) {\r\n        newVal = this._shallow ? newVal : toRaw(newVal);\r\n        if (hasChanged(newVal, this._rawValue)) {\r\n            this._rawValue = newVal;\r\n            this._value = this._shallow ? newVal : toReactive(newVal);\r\n            triggerRefValue(this, newVal);\r\n        }\r\n    }\r\n}\r\nfunction triggerRef(ref) {\r\n    triggerRefValue(ref, (process.env.NODE_ENV !== 'production') ? ref.value : void 0);\r\n}\r\nfunction unref(ref) {\r\n    return isRef(ref) ? ref.value : ref;\r\n}\r\nconst shallowUnwrapHandlers = {\r\n    get: (target, key, receiver) => unref(Reflect.get(target, key, receiver)),\r\n    set: (target, key, value, receiver) => {\r\n        const oldValue = target[key];\r\n        if (isRef(oldValue) && !isRef(value)) {\r\n            oldValue.value = value;\r\n            return true;\r\n        }\r\n        else {\r\n            return Reflect.set(target, key, value, receiver);\r\n        }\r\n    }\r\n};\r\nfunction proxyRefs(objectWithRefs) {\r\n    return isReactive(objectWithRefs)\r\n        ? objectWithRefs\r\n        : new Proxy(objectWithRefs, shallowUnwrapHandlers);\r\n}\r\nclass CustomRefImpl {\r\n    constructor(factory) {\r\n        this.dep = undefined;\r\n        this.__v_isRef = true;\r\n        const { get, set } = factory(() => trackRefValue(this), () => triggerRefValue(this));\r\n        this._get = get;\r\n        this._set = set;\r\n    }\r\n    get value() {\r\n        return this._get();\r\n    }\r\n    set value(newVal) {\r\n        this._set(newVal);\r\n    }\r\n}\r\nfunction customRef(factory) {\r\n    return new CustomRefImpl(factory);\r\n}\r\nfunction toRefs(object) {\r\n    if ((process.env.NODE_ENV !== 'production') && !isProxy(object)) {\r\n        console.warn(`toRefs() expects a reactive object but received a plain one.`);\r\n    }\r\n    const ret = isArray(object) ? new Array(object.length) : {};\r\n    for (const key in object) {\r\n        ret[key] = toRef(object, key);\r\n    }\r\n    return ret;\r\n}\r\nclass ObjectRefImpl {\r\n    constructor(_object, _key, _defaultValue) {\r\n        this._object = _object;\r\n        this._key = _key;\r\n        this._defaultValue = _defaultValue;\r\n        this.__v_isRef = true;\r\n    }\r\n    get value() {\r\n        const val = this._object[this._key];\r\n        return val === undefined ? this._defaultValue : val;\r\n    }\r\n    set value(newVal) {\r\n        this._object[this._key] = newVal;\r\n    }\r\n}\r\nfunction toRef(object, key, defaultValue) {\r\n    const val = object[key];\r\n    return isRef(val)\r\n        ? val\r\n        : new ObjectRefImpl(object, key, defaultValue);\r\n}\n\nclass ComputedRefImpl {\r\n    constructor(getter, _setter, isReadonly, isSSR) {\r\n        this._setter = _setter;\r\n        this.dep = undefined;\r\n        this._dirty = true;\r\n        this.__v_isRef = true;\r\n        this.effect = new ReactiveEffect(getter, () => {\r\n            if (!this._dirty) {\r\n                this._dirty = true;\r\n                triggerRefValue(this);\r\n            }\r\n        });\r\n        this.effect.active = !isSSR;\r\n        this[\"__v_isReadonly\" /* IS_READONLY */] = isReadonly;\r\n    }\r\n    get value() {\r\n        // the computed ref may get wrapped by other proxies e.g. readonly() #3376\r\n        const self = toRaw(this);\r\n        trackRefValue(self);\r\n        if (self._dirty) {\r\n            self._dirty = false;\r\n            self._value = self.effect.run();\r\n        }\r\n        return self._value;\r\n    }\r\n    set value(newValue) {\r\n        this._setter(newValue);\r\n    }\r\n}\r\nfunction computed(getterOrOptions, debugOptions, isSSR = false) {\r\n    let getter;\r\n    let setter;\r\n    const onlyGetter = isFunction(getterOrOptions);\r\n    if (onlyGetter) {\r\n        getter = getterOrOptions;\r\n        setter = (process.env.NODE_ENV !== 'production')\r\n            ? () => {\r\n                console.warn('Write operation failed: computed value is readonly');\r\n            }\r\n            : NOOP;\r\n    }\r\n    else {\r\n        getter = getterOrOptions.get;\r\n        setter = getterOrOptions.set;\r\n    }\r\n    const cRef = new ComputedRefImpl(getter, setter, onlyGetter || !setter, isSSR);\r\n    if ((process.env.NODE_ENV !== 'production') && debugOptions && !isSSR) {\r\n        cRef.effect.onTrack = debugOptions.onTrack;\r\n        cRef.effect.onTrigger = debugOptions.onTrigger;\r\n    }\r\n    return cRef;\r\n}\n\nvar _a;\r\nconst tick = Promise.resolve();\r\nconst queue = [];\r\nlet queued = false;\r\nconst scheduler = (fn) => {\r\n    queue.push(fn);\r\n    if (!queued) {\r\n        queued = true;\r\n        tick.then(flush);\r\n    }\r\n};\r\nconst flush = () => {\r\n    for (let i = 0; i < queue.length; i++) {\r\n        queue[i]();\r\n    }\r\n    queue.length = 0;\r\n    queued = false;\r\n};\r\nclass DeferredComputedRefImpl {\r\n    constructor(getter) {\r\n        this.dep = undefined;\r\n        this._dirty = true;\r\n        this.__v_isRef = true;\r\n        this[_a] = true;\r\n        let compareTarget;\r\n        let hasCompareTarget = false;\r\n        let scheduled = false;\r\n        this.effect = new ReactiveEffect(getter, (computedTrigger) => {\r\n            if (this.dep) {\r\n                if (computedTrigger) {\r\n                    compareTarget = this._value;\r\n                    hasCompareTarget = true;\r\n                }\r\n                else if (!scheduled) {\r\n                    const valueToCompare = hasCompareTarget ? compareTarget : this._value;\r\n                    scheduled = true;\r\n                    hasCompareTarget = false;\r\n                    scheduler(() => {\r\n                        if (this.effect.active && this._get() !== valueToCompare) {\r\n                            triggerRefValue(this);\r\n                        }\r\n                        scheduled = false;\r\n                    });\r\n                }\r\n                // chained upstream computeds are notified synchronously to ensure\r\n                // value invalidation in case of sync access; normal effects are\r\n                // deferred to be triggered in scheduler.\r\n                for (const e of this.dep) {\r\n                    if (e.computed) {\r\n                        e.scheduler(true /* computedTrigger */);\r\n                    }\r\n                }\r\n            }\r\n            this._dirty = true;\r\n        });\r\n        this.effect.computed = true;\r\n    }\r\n    _get() {\r\n        if (this._dirty) {\r\n            this._dirty = false;\r\n            return (this._value = this.effect.run());\r\n        }\r\n        return this._value;\r\n    }\r\n    get value() {\r\n        trackRefValue(this);\r\n        // the computed ref may get wrapped by other proxies e.g. readonly() #3376\r\n        return toRaw(this)._get();\r\n    }\r\n}\r\n_a = \"__v_isReadonly\" /* IS_READONLY */;\r\nfunction deferredComputed(getter) {\r\n    return new DeferredComputedRefImpl(getter);\r\n}\n\nexport { EffectScope, ITERATE_KEY, ReactiveEffect, computed, customRef, deferredComputed, effect, effectScope, enableTracking, getCurrentScope, isProxy, isReactive, isReadonly, isRef, markRaw, onScopeDispose, pauseTracking, proxyRefs, reactive, readonly, ref, resetTracking, shallowReactive, shallowReadonly, shallowRef, stop, toRaw, toRef, toRefs, track, trigger, triggerRef, unref };\n","import { pauseTracking, resetTracking, isRef, toRaw, isReactive, ReactiveEffect, ref, reactive, computed as computed$1, shallowReactive, trigger, isProxy, shallowReadonly, track, EffectScope, markRaw, proxyRefs, isReadonly } from '@vue/reactivity';\nexport { EffectScope, ReactiveEffect, customRef, effect, effectScope, getCurrentScope, isProxy, isReactive, isReadonly, isRef, markRaw, onScopeDispose, proxyRefs, reactive, readonly, ref, shallowReactive, shallowReadonly, shallowRef, stop, toRaw, toRef, toRefs, triggerRef, unref } from '@vue/reactivity';\nimport { isString, isFunction, isPromise, isArray, NOOP, getGlobalThis, extend, EMPTY_OBJ, toHandlerKey, toNumber, hyphenate, camelize, isOn, hasOwn, isModelListener, hasChanged, remove, isObject, isSet, isMap, isPlainObject, invokeArrayFns, def, isReservedProp, EMPTY_ARR, capitalize, toRawType, makeMap, NO, normalizeClass, normalizeStyle, isGloballyWhitelisted } from '@vue/shared';\nexport { camelize, capitalize, normalizeClass, normalizeProps, normalizeStyle, toDisplayString, toHandlerKey } from '@vue/shared';\n\nconst stack = [];\r\nfunction pushWarningContext(vnode) {\r\n    stack.push(vnode);\r\n}\r\nfunction popWarningContext() {\r\n    stack.pop();\r\n}\r\nfunction warn(msg, ...args) {\r\n    // avoid props formatting or warn handler tracking deps that might be mutated\r\n    // during patch, leading to infinite recursion.\r\n    pauseTracking();\r\n    const instance = stack.length ? stack[stack.length - 1].component : null;\r\n    const appWarnHandler = instance && instance.appContext.config.warnHandler;\r\n    const trace = getComponentTrace();\r\n    if (appWarnHandler) {\r\n        callWithErrorHandling(appWarnHandler, instance, 11 /* APP_WARN_HANDLER */, [\r\n            msg + args.join(''),\r\n            instance && instance.proxy,\r\n            trace\r\n                .map(({ vnode }) => `at <${formatComponentName(instance, vnode.type)}>`)\r\n                .join('\\n'),\r\n            trace\r\n        ]);\r\n    }\r\n    else {\r\n        const warnArgs = [`[Vue warn]: ${msg}`, ...args];\r\n        /* istanbul ignore if */\r\n        if (trace.length &&\r\n            // avoid spamming console during tests\r\n            !false) {\r\n            warnArgs.push(`\\n`, ...formatTrace(trace));\r\n        }\r\n        console.warn(...warnArgs);\r\n    }\r\n    resetTracking();\r\n}\r\nfunction getComponentTrace() {\r\n    let currentVNode = stack[stack.length - 1];\r\n    if (!currentVNode) {\r\n        return [];\r\n    }\r\n    // we can't just use the stack because it will be incomplete during updates\r\n    // that did not start from the root. Re-construct the parent chain using\r\n    // instance parent pointers.\r\n    const normalizedStack = [];\r\n    while (currentVNode) {\r\n        const last = normalizedStack[0];\r\n        if (last && last.vnode === currentVNode) {\r\n            last.recurseCount++;\r\n        }\r\n        else {\r\n            normalizedStack.push({\r\n                vnode: currentVNode,\r\n                recurseCount: 0\r\n            });\r\n        }\r\n        const parentInstance = currentVNode.component && currentVNode.component.parent;\r\n        currentVNode = parentInstance && parentInstance.vnode;\r\n    }\r\n    return normalizedStack;\r\n}\r\n/* istanbul ignore next */\r\nfunction formatTrace(trace) {\r\n    const logs = [];\r\n    trace.forEach((entry, i) => {\r\n        logs.push(...(i === 0 ? [] : [`\\n`]), ...formatTraceEntry(entry));\r\n    });\r\n    return logs;\r\n}\r\nfunction formatTraceEntry({ vnode, recurseCount }) {\r\n    const postfix = recurseCount > 0 ? `... (${recurseCount} recursive calls)` : ``;\r\n    const isRoot = vnode.component ? vnode.component.parent == null : false;\r\n    const open = ` at <${formatComponentName(vnode.component, vnode.type, isRoot)}`;\r\n    const close = `>` + postfix;\r\n    return vnode.props\r\n        ? [open, ...formatProps(vnode.props), close]\r\n        : [open + close];\r\n}\r\n/* istanbul ignore next */\r\nfunction formatProps(props) {\r\n    const res = [];\r\n    const keys = Object.keys(props);\r\n    keys.slice(0, 3).forEach(key => {\r\n        res.push(...formatProp(key, props[key]));\r\n    });\r\n    if (keys.length > 3) {\r\n        res.push(` ...`);\r\n    }\r\n    return res;\r\n}\r\n/* istanbul ignore next */\r\nfunction formatProp(key, value, raw) {\r\n    if (isString(value)) {\r\n        value = JSON.stringify(value);\r\n        return raw ? value : [`${key}=${value}`];\r\n    }\r\n    else if (typeof value === 'number' ||\r\n        typeof value === 'boolean' ||\r\n        value == null) {\r\n        return raw ? value : [`${key}=${value}`];\r\n    }\r\n    else if (isRef(value)) {\r\n        value = formatProp(key, toRaw(value.value), true);\r\n        return raw ? value : [`${key}=Ref<`, value, `>`];\r\n    }\r\n    else if (isFunction(value)) {\r\n        return [`${key}=fn${value.name ? `<${value.name}>` : ``}`];\r\n    }\r\n    else {\r\n        value = toRaw(value);\r\n        return raw ? value : [`${key}=`, value];\r\n    }\r\n}\n\nconst ErrorTypeStrings = {\r\n    [\"sp\" /* SERVER_PREFETCH */]: 'serverPrefetch hook',\r\n    [\"bc\" /* BEFORE_CREATE */]: 'beforeCreate hook',\r\n    [\"c\" /* CREATED */]: 'created hook',\r\n    [\"bm\" /* BEFORE_MOUNT */]: 'beforeMount hook',\r\n    [\"m\" /* MOUNTED */]: 'mounted hook',\r\n    [\"bu\" /* BEFORE_UPDATE */]: 'beforeUpdate hook',\r\n    [\"u\" /* UPDATED */]: 'updated',\r\n    [\"bum\" /* BEFORE_UNMOUNT */]: 'beforeUnmount hook',\r\n    [\"um\" /* UNMOUNTED */]: 'unmounted hook',\r\n    [\"a\" /* ACTIVATED */]: 'activated hook',\r\n    [\"da\" /* DEACTIVATED */]: 'deactivated hook',\r\n    [\"ec\" /* ERROR_CAPTURED */]: 'errorCaptured hook',\r\n    [\"rtc\" /* RENDER_TRACKED */]: 'renderTracked hook',\r\n    [\"rtg\" /* RENDER_TRIGGERED */]: 'renderTriggered hook',\r\n    [0 /* SETUP_FUNCTION */]: 'setup function',\r\n    [1 /* RENDER_FUNCTION */]: 'render function',\r\n    [2 /* WATCH_GETTER */]: 'watcher getter',\r\n    [3 /* WATCH_CALLBACK */]: 'watcher callback',\r\n    [4 /* WATCH_CLEANUP */]: 'watcher cleanup function',\r\n    [5 /* NATIVE_EVENT_HANDLER */]: 'native event handler',\r\n    [6 /* COMPONENT_EVENT_HANDLER */]: 'component event handler',\r\n    [7 /* VNODE_HOOK */]: 'vnode hook',\r\n    [8 /* DIRECTIVE_HOOK */]: 'directive hook',\r\n    [9 /* TRANSITION_HOOK */]: 'transition hook',\r\n    [10 /* APP_ERROR_HANDLER */]: 'app errorHandler',\r\n    [11 /* APP_WARN_HANDLER */]: 'app warnHandler',\r\n    [12 /* FUNCTION_REF */]: 'ref function',\r\n    [13 /* ASYNC_COMPONENT_LOADER */]: 'async component loader',\r\n    [14 /* SCHEDULER */]: 'scheduler flush. This is likely a Vue internals bug. ' +\r\n        'Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/vue-next'\r\n};\r\nfunction callWithErrorHandling(fn, instance, type, args) {\r\n    let res;\r\n    try {\r\n        res = args ? fn(...args) : fn();\r\n    }\r\n    catch (err) {\r\n        handleError(err, instance, type);\r\n    }\r\n    return res;\r\n}\r\nfunction callWithAsyncErrorHandling(fn, instance, type, args) {\r\n    if (isFunction(fn)) {\r\n        const res = callWithErrorHandling(fn, instance, type, args);\r\n        if (res && isPromise(res)) {\r\n            res.catch(err => {\r\n                handleError(err, instance, type);\r\n            });\r\n        }\r\n        return res;\r\n    }\r\n    const values = [];\r\n    for (let i = 0; i < fn.length; i++) {\r\n        values.push(callWithAsyncErrorHandling(fn[i], instance, type, args));\r\n    }\r\n    return values;\r\n}\r\nfunction handleError(err, instance, type, throwInDev = true) {\r\n    const contextVNode = instance ? instance.vnode : null;\r\n    if (instance) {\r\n        let cur = instance.parent;\r\n        // the exposed instance is the render proxy to keep it consistent with 2.x\r\n        const exposedInstance = instance.proxy;\r\n        // in production the hook receives only the error code\r\n        const errorInfo = (process.env.NODE_ENV !== 'production') ? ErrorTypeStrings[type] : type;\r\n        while (cur) {\r\n            const errorCapturedHooks = cur.ec;\r\n            if (errorCapturedHooks) {\r\n                for (let i = 0; i < errorCapturedHooks.length; i++) {\r\n                    if (errorCapturedHooks[i](err, exposedInstance, errorInfo) === false) {\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n            cur = cur.parent;\r\n        }\r\n        // app-level handling\r\n        const appErrorHandler = instance.appContext.config.errorHandler;\r\n        if (appErrorHandler) {\r\n            callWithErrorHandling(appErrorHandler, null, 10 /* APP_ERROR_HANDLER */, [err, exposedInstance, errorInfo]);\r\n            return;\r\n        }\r\n    }\r\n    logError(err, type, contextVNode, throwInDev);\r\n}\r\nfunction logError(err, type, contextVNode, throwInDev = true) {\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        const info = ErrorTypeStrings[type];\r\n        if (contextVNode) {\r\n            pushWarningContext(contextVNode);\r\n        }\r\n        warn(`Unhandled error${info ? ` during execution of ${info}` : ``}`);\r\n        if (contextVNode) {\r\n            popWarningContext();\r\n        }\r\n        // crash in dev by default so it's more noticeable\r\n        if (throwInDev) {\r\n            throw err;\r\n        }\r\n        else {\r\n            console.error(err);\r\n        }\r\n    }\r\n    else {\r\n        // recover in prod to reduce the impact on end-user\r\n        console.error(err);\r\n    }\r\n}\n\nlet isFlushing = false;\r\nlet isFlushPending = false;\r\nconst queue = [];\r\nlet flushIndex = 0;\r\nconst pendingPreFlushCbs = [];\r\nlet activePreFlushCbs = null;\r\nlet preFlushIndex = 0;\r\nconst pendingPostFlushCbs = [];\r\nlet activePostFlushCbs = null;\r\nlet postFlushIndex = 0;\r\nconst resolvedPromise = Promise.resolve();\r\nlet currentFlushPromise = null;\r\nlet currentPreFlushParentJob = null;\r\nconst RECURSION_LIMIT = 100;\r\nfunction nextTick(fn) {\r\n    const p = currentFlushPromise || resolvedPromise;\r\n    return fn ? p.then(this ? fn.bind(this) : fn) : p;\r\n}\r\n// #2768\r\n// Use binary-search to find a suitable position in the queue,\r\n// so that the queue maintains the increasing order of job's id,\r\n// which can prevent the job from being skipped and also can avoid repeated patching.\r\nfunction findInsertionIndex(id) {\r\n    // the start index should be `flushIndex + 1`\r\n    let start = flushIndex + 1;\r\n    let end = queue.length;\r\n    while (start < end) {\r\n        const middle = (start + end) >>> 1;\r\n        const middleJobId = getId(queue[middle]);\r\n        middleJobId < id ? (start = middle + 1) : (end = middle);\r\n    }\r\n    return start;\r\n}\r\nfunction queueJob(job) {\r\n    // the dedupe search uses the startIndex argument of Array.includes()\r\n    // by default the search index includes the current job that is being run\r\n    // so it cannot recursively trigger itself again.\r\n    // if the job is a watch() callback, the search will start with a +1 index to\r\n    // allow it recursively trigger itself - it is the user's responsibility to\r\n    // ensure it doesn't end up in an infinite loop.\r\n    if ((!queue.length ||\r\n        !queue.includes(job, isFlushing && job.allowRecurse ? flushIndex + 1 : flushIndex)) &&\r\n        job !== currentPreFlushParentJob) {\r\n        if (job.id == null) {\r\n            queue.push(job);\r\n        }\r\n        else {\r\n            queue.splice(findInsertionIndex(job.id), 0, job);\r\n        }\r\n        queueFlush();\r\n    }\r\n}\r\nfunction queueFlush() {\r\n    if (!isFlushing && !isFlushPending) {\r\n        isFlushPending = true;\r\n        currentFlushPromise = resolvedPromise.then(flushJobs);\r\n    }\r\n}\r\nfunction invalidateJob(job) {\r\n    const i = queue.indexOf(job);\r\n    if (i > flushIndex) {\r\n        queue.splice(i, 1);\r\n    }\r\n}\r\nfunction queueCb(cb, activeQueue, pendingQueue, index) {\r\n    if (!isArray(cb)) {\r\n        if (!activeQueue ||\r\n            !activeQueue.includes(cb, cb.allowRecurse ? index + 1 : index)) {\r\n            pendingQueue.push(cb);\r\n        }\r\n    }\r\n    else {\r\n        // if cb is an array, it is a component lifecycle hook which can only be\r\n        // triggered by a job, which is already deduped in the main queue, so\r\n        // we can skip duplicate check here to improve perf\r\n        pendingQueue.push(...cb);\r\n    }\r\n    queueFlush();\r\n}\r\nfunction queuePreFlushCb(cb) {\r\n    queueCb(cb, activePreFlushCbs, pendingPreFlushCbs, preFlushIndex);\r\n}\r\nfunction queuePostFlushCb(cb) {\r\n    queueCb(cb, activePostFlushCbs, pendingPostFlushCbs, postFlushIndex);\r\n}\r\nfunction flushPreFlushCbs(seen, parentJob = null) {\r\n    if (pendingPreFlushCbs.length) {\r\n        currentPreFlushParentJob = parentJob;\r\n        activePreFlushCbs = [...new Set(pendingPreFlushCbs)];\r\n        pendingPreFlushCbs.length = 0;\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            seen = seen || new Map();\r\n        }\r\n        for (preFlushIndex = 0; preFlushIndex < activePreFlushCbs.length; preFlushIndex++) {\r\n            if ((process.env.NODE_ENV !== 'production') &&\r\n                checkRecursiveUpdates(seen, activePreFlushCbs[preFlushIndex])) {\r\n                continue;\r\n            }\r\n            activePreFlushCbs[preFlushIndex]();\r\n        }\r\n        activePreFlushCbs = null;\r\n        preFlushIndex = 0;\r\n        currentPreFlushParentJob = null;\r\n        // recursively flush until it drains\r\n        flushPreFlushCbs(seen, parentJob);\r\n    }\r\n}\r\nfunction flushPostFlushCbs(seen) {\r\n    if (pendingPostFlushCbs.length) {\r\n        const deduped = [...new Set(pendingPostFlushCbs)];\r\n        pendingPostFlushCbs.length = 0;\r\n        // #1947 already has active queue, nested flushPostFlushCbs call\r\n        if (activePostFlushCbs) {\r\n            activePostFlushCbs.push(...deduped);\r\n            return;\r\n        }\r\n        activePostFlushCbs = deduped;\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            seen = seen || new Map();\r\n        }\r\n        activePostFlushCbs.sort((a, b) => getId(a) - getId(b));\r\n        for (postFlushIndex = 0; postFlushIndex < activePostFlushCbs.length; postFlushIndex++) {\r\n            if ((process.env.NODE_ENV !== 'production') &&\r\n                checkRecursiveUpdates(seen, activePostFlushCbs[postFlushIndex])) {\r\n                continue;\r\n            }\r\n            activePostFlushCbs[postFlushIndex]();\r\n        }\r\n        activePostFlushCbs = null;\r\n        postFlushIndex = 0;\r\n    }\r\n}\r\nconst getId = (job) => job.id == null ? Infinity : job.id;\r\nfunction flushJobs(seen) {\r\n    isFlushPending = false;\r\n    isFlushing = true;\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        seen = seen || new Map();\r\n    }\r\n    flushPreFlushCbs(seen);\r\n    // Sort queue before flush.\r\n    // This ensures that:\r\n    // 1. Components are updated from parent to child. (because parent is always\r\n    //    created before the child so its render effect will have smaller\r\n    //    priority number)\r\n    // 2. If a component is unmounted during a parent component's update,\r\n    //    its update can be skipped.\r\n    queue.sort((a, b) => getId(a) - getId(b));\r\n    // conditional usage of checkRecursiveUpdate must be determined out of\r\n    // try ... catch block since Rollup by default de-optimizes treeshaking\r\n    // inside try-catch. This can leave all warning code unshaked. Although\r\n    // they would get eventually shaken by a minifier like terser, some minifiers\r\n    // would fail to do that (e.g. https://github.com/evanw/esbuild/issues/1610)\r\n    const check = (process.env.NODE_ENV !== 'production')\r\n        ? (job) => checkRecursiveUpdates(seen, job)\r\n        : NOOP;\r\n    try {\r\n        for (flushIndex = 0; flushIndex < queue.length; flushIndex++) {\r\n            const job = queue[flushIndex];\r\n            if (job && job.active !== false) {\r\n                if ((process.env.NODE_ENV !== 'production') && check(job)) {\r\n                    continue;\r\n                }\r\n                // console.log(`running:`, job.id)\r\n                callWithErrorHandling(job, null, 14 /* SCHEDULER */);\r\n            }\r\n        }\r\n    }\r\n    finally {\r\n        flushIndex = 0;\r\n        queue.length = 0;\r\n        flushPostFlushCbs(seen);\r\n        isFlushing = false;\r\n        currentFlushPromise = null;\r\n        // some postFlushCb queued jobs!\r\n        // keep flushing until it drains.\r\n        if (queue.length ||\r\n            pendingPreFlushCbs.length ||\r\n            pendingPostFlushCbs.length) {\r\n            flushJobs(seen);\r\n        }\r\n    }\r\n}\r\nfunction checkRecursiveUpdates(seen, fn) {\r\n    if (!seen.has(fn)) {\r\n        seen.set(fn, 1);\r\n    }\r\n    else {\r\n        const count = seen.get(fn);\r\n        if (count > RECURSION_LIMIT) {\r\n            const instance = fn.ownerInstance;\r\n            const componentName = instance && getComponentName(instance.type);\r\n            warn(`Maximum recursive updates exceeded${componentName ? ` in component <${componentName}>` : ``}. ` +\r\n                `This means you have a reactive effect that is mutating its own ` +\r\n                `dependencies and thus recursively triggering itself. Possible sources ` +\r\n                `include component template, render function, updated hook or ` +\r\n                `watcher source function.`);\r\n            return true;\r\n        }\r\n        else {\r\n            seen.set(fn, count + 1);\r\n        }\r\n    }\r\n}\n\n/* eslint-disable no-restricted-globals */\r\nlet isHmrUpdating = false;\r\nconst hmrDirtyComponents = new Set();\r\n// Expose the HMR runtime on the global object\r\n// This makes it entirely tree-shakable without polluting the exports and makes\r\n// it easier to be used in toolings like vue-loader\r\n// Note: for a component to be eligible for HMR it also needs the __hmrId option\r\n// to be set so that its instances can be registered / removed.\r\nif ((process.env.NODE_ENV !== 'production')) {\r\n    getGlobalThis().__VUE_HMR_RUNTIME__ = {\r\n        createRecord: tryWrap(createRecord),\r\n        rerender: tryWrap(rerender),\r\n        reload: tryWrap(reload)\r\n    };\r\n}\r\nconst map = new Map();\r\nfunction registerHMR(instance) {\r\n    const id = instance.type.__hmrId;\r\n    let record = map.get(id);\r\n    if (!record) {\r\n        createRecord(id, instance.type);\r\n        record = map.get(id);\r\n    }\r\n    record.instances.add(instance);\r\n}\r\nfunction unregisterHMR(instance) {\r\n    map.get(instance.type.__hmrId).instances.delete(instance);\r\n}\r\nfunction createRecord(id, initialDef) {\r\n    if (map.has(id)) {\r\n        return false;\r\n    }\r\n    map.set(id, {\r\n        initialDef: normalizeClassComponent(initialDef),\r\n        instances: new Set()\r\n    });\r\n    return true;\r\n}\r\nfunction normalizeClassComponent(component) {\r\n    return isClassComponent(component) ? component.__vccOpts : component;\r\n}\r\nfunction rerender(id, newRender) {\r\n    const record = map.get(id);\r\n    if (!record) {\r\n        return;\r\n    }\r\n    // update initial record (for not-yet-rendered component)\r\n    record.initialDef.render = newRender;\r\n    [...record.instances].forEach(instance => {\r\n        if (newRender) {\r\n            instance.render = newRender;\r\n            normalizeClassComponent(instance.type).render = newRender;\r\n        }\r\n        instance.renderCache = [];\r\n        // this flag forces child components with slot content to update\r\n        isHmrUpdating = true;\r\n        instance.update();\r\n        isHmrUpdating = false;\r\n    });\r\n}\r\nfunction reload(id, newComp) {\r\n    const record = map.get(id);\r\n    if (!record)\r\n        return;\r\n    newComp = normalizeClassComponent(newComp);\r\n    // update initial def (for not-yet-rendered components)\r\n    updateComponentDef(record.initialDef, newComp);\r\n    // create a snapshot which avoids the set being mutated during updates\r\n    const instances = [...record.instances];\r\n    for (const instance of instances) {\r\n        const oldComp = normalizeClassComponent(instance.type);\r\n        if (!hmrDirtyComponents.has(oldComp)) {\r\n            // 1. Update existing comp definition to match new one\r\n            if (oldComp !== record.initialDef) {\r\n                updateComponentDef(oldComp, newComp);\r\n            }\r\n            // 2. mark definition dirty. This forces the renderer to replace the\r\n            // component on patch.\r\n            hmrDirtyComponents.add(oldComp);\r\n        }\r\n        // 3. invalidate options resolution cache\r\n        instance.appContext.optionsCache.delete(instance.type);\r\n        // 4. actually update\r\n        if (instance.ceReload) {\r\n            // custom element\r\n            hmrDirtyComponents.add(oldComp);\r\n            instance.ceReload(newComp.styles);\r\n            hmrDirtyComponents.delete(oldComp);\r\n        }\r\n        else if (instance.parent) {\r\n            // 4. Force the parent instance to re-render. This will cause all updated\r\n            // components to be unmounted and re-mounted. Queue the update so that we\r\n            // don't end up forcing the same parent to re-render multiple times.\r\n            queueJob(instance.parent.update);\r\n            // instance is the inner component of an async custom element\r\n            // invoke to reset styles\r\n            if (instance.parent.type.__asyncLoader &&\r\n                instance.parent.ceReload) {\r\n                instance.parent.ceReload(newComp.styles);\r\n            }\r\n        }\r\n        else if (instance.appContext.reload) {\r\n            // root instance mounted via createApp() has a reload method\r\n            instance.appContext.reload();\r\n        }\r\n        else if (typeof window !== 'undefined') {\r\n            // root instance inside tree created via raw render(). Force reload.\r\n            window.location.reload();\r\n        }\r\n        else {\r\n            console.warn('[HMR] Root or manually mounted instance modified. Full reload required.');\r\n        }\r\n    }\r\n    // 5. make sure to cleanup dirty hmr components after update\r\n    queuePostFlushCb(() => {\r\n        for (const instance of instances) {\r\n            hmrDirtyComponents.delete(normalizeClassComponent(instance.type));\r\n        }\r\n    });\r\n}\r\nfunction updateComponentDef(oldComp, newComp) {\r\n    extend(oldComp, newComp);\r\n    for (const key in oldComp) {\r\n        if (key !== '__file' && !(key in newComp)) {\r\n            delete oldComp[key];\r\n        }\r\n    }\r\n}\r\nfunction tryWrap(fn) {\r\n    return (id, arg) => {\r\n        try {\r\n            return fn(id, arg);\r\n        }\r\n        catch (e) {\r\n            console.error(e);\r\n            console.warn(`[HMR] Something went wrong during Vue component hot-reload. ` +\r\n                `Full reload required.`);\r\n        }\r\n    };\r\n}\n\nlet devtools;\r\nlet buffer = [];\r\nlet devtoolsNotInstalled = false;\r\nfunction emit(event, ...args) {\r\n    if (devtools) {\r\n        devtools.emit(event, ...args);\r\n    }\r\n    else if (!devtoolsNotInstalled) {\r\n        buffer.push({ event, args });\r\n    }\r\n}\r\nfunction setDevtoolsHook(hook, target) {\r\n    var _a, _b;\r\n    devtools = hook;\r\n    if (devtools) {\r\n        devtools.enabled = true;\r\n        buffer.forEach(({ event, args }) => devtools.emit(event, ...args));\r\n        buffer = [];\r\n    }\r\n    else if (\r\n    // handle late devtools injection - only do this if we are in an actual\r\n    // browser environment to avoid the timer handle stalling test runner exit\r\n    // (#4815)\r\n    // eslint-disable-next-line no-restricted-globals\r\n    typeof window !== 'undefined' &&\r\n        // some envs mock window but not fully\r\n        window.HTMLElement &&\r\n        // also exclude jsdom\r\n        !((_b = (_a = window.navigator) === null || _a === void 0 ? void 0 : _a.userAgent) === null || _b === void 0 ? void 0 : _b.includes('jsdom'))) {\r\n        const replay = (target.__VUE_DEVTOOLS_HOOK_REPLAY__ =\r\n            target.__VUE_DEVTOOLS_HOOK_REPLAY__ || []);\r\n        replay.push((newHook) => {\r\n            setDevtoolsHook(newHook, target);\r\n        });\r\n        // clear buffer after 3s - the user probably doesn't have devtools installed\r\n        // at all, and keeping the buffer will cause memory leaks (#4738)\r\n        setTimeout(() => {\r\n            if (!devtools) {\r\n                target.__VUE_DEVTOOLS_HOOK_REPLAY__ = null;\r\n                devtoolsNotInstalled = true;\r\n                buffer = [];\r\n            }\r\n        }, 3000);\r\n    }\r\n    else {\r\n        // non-browser env, assume not installed\r\n        devtoolsNotInstalled = true;\r\n        buffer = [];\r\n    }\r\n}\r\nfunction devtoolsInitApp(app, version) {\r\n    emit(\"app:init\" /* APP_INIT */, app, version, {\r\n        Fragment,\r\n        Text,\r\n        Comment,\r\n        Static\r\n    });\r\n}\r\nfunction devtoolsUnmountApp(app) {\r\n    emit(\"app:unmount\" /* APP_UNMOUNT */, app);\r\n}\r\nconst devtoolsComponentAdded = /*#__PURE__*/ createDevtoolsComponentHook(\"component:added\" /* COMPONENT_ADDED */);\r\nconst devtoolsComponentUpdated = \r\n/*#__PURE__*/ createDevtoolsComponentHook(\"component:updated\" /* COMPONENT_UPDATED */);\r\nconst devtoolsComponentRemoved = \r\n/*#__PURE__*/ createDevtoolsComponentHook(\"component:removed\" /* COMPONENT_REMOVED */);\r\nfunction createDevtoolsComponentHook(hook) {\r\n    return (component) => {\r\n        emit(hook, component.appContext.app, component.uid, component.parent ? component.parent.uid : undefined, component);\r\n    };\r\n}\r\nconst devtoolsPerfStart = /*#__PURE__*/ createDevtoolsPerformanceHook(\"perf:start\" /* PERFORMANCE_START */);\r\nconst devtoolsPerfEnd = /*#__PURE__*/ createDevtoolsPerformanceHook(\"perf:end\" /* PERFORMANCE_END */);\r\nfunction createDevtoolsPerformanceHook(hook) {\r\n    return (component, type, time) => {\r\n        emit(hook, component.appContext.app, component.uid, component, type, time);\r\n    };\r\n}\r\nfunction devtoolsComponentEmit(component, event, params) {\r\n    emit(\"component:emit\" /* COMPONENT_EMIT */, component.appContext.app, component, event, params);\r\n}\n\nfunction emit$1(instance, event, ...rawArgs) {\r\n    const props = instance.vnode.props || EMPTY_OBJ;\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        const { emitsOptions, propsOptions: [propsOptions] } = instance;\r\n        if (emitsOptions) {\r\n            if (!(event in emitsOptions) &&\r\n                !(false )) {\r\n                if (!propsOptions || !(toHandlerKey(event) in propsOptions)) {\r\n                    warn(`Component emitted event \"${event}\" but it is neither declared in ` +\r\n                        `the emits option nor as an \"${toHandlerKey(event)}\" prop.`);\r\n                }\r\n            }\r\n            else {\r\n                const validator = emitsOptions[event];\r\n                if (isFunction(validator)) {\r\n                    const isValid = validator(...rawArgs);\r\n                    if (!isValid) {\r\n                        warn(`Invalid event arguments: event validation failed for event \"${event}\".`);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    let args = rawArgs;\r\n    const isModelListener = event.startsWith('update:');\r\n    // for v-model update:xxx events, apply modifiers on args\r\n    const modelArg = isModelListener && event.slice(7);\r\n    if (modelArg && modelArg in props) {\r\n        const modifiersKey = `${modelArg === 'modelValue' ? 'model' : modelArg}Modifiers`;\r\n        const { number, trim } = props[modifiersKey] || EMPTY_OBJ;\r\n        if (trim) {\r\n            args = rawArgs.map(a => a.trim());\r\n        }\r\n        else if (number) {\r\n            args = rawArgs.map(toNumber);\r\n        }\r\n    }\r\n    if ((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) {\r\n        devtoolsComponentEmit(instance, event, args);\r\n    }\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        const lowerCaseEvent = event.toLowerCase();\r\n        if (lowerCaseEvent !== event && props[toHandlerKey(lowerCaseEvent)]) {\r\n            warn(`Event \"${lowerCaseEvent}\" is emitted in component ` +\r\n                `${formatComponentName(instance, instance.type)} but the handler is registered for \"${event}\". ` +\r\n                `Note that HTML attributes are case-insensitive and you cannot use ` +\r\n                `v-on to listen to camelCase events when using in-DOM templates. ` +\r\n                `You should probably use \"${hyphenate(event)}\" instead of \"${event}\".`);\r\n        }\r\n    }\r\n    let handlerName;\r\n    let handler = props[(handlerName = toHandlerKey(event))] ||\r\n        // also try camelCase event handler (#2249)\r\n        props[(handlerName = toHandlerKey(camelize(event)))];\r\n    // for v-model update:xxx events, also trigger kebab-case equivalent\r\n    // for props passed via kebab-case\r\n    if (!handler && isModelListener) {\r\n        handler = props[(handlerName = toHandlerKey(hyphenate(event)))];\r\n    }\r\n    if (handler) {\r\n        callWithAsyncErrorHandling(handler, instance, 6 /* COMPONENT_EVENT_HANDLER */, args);\r\n    }\r\n    const onceHandler = props[handlerName + `Once`];\r\n    if (onceHandler) {\r\n        if (!instance.emitted) {\r\n            instance.emitted = {};\r\n        }\r\n        else if (instance.emitted[handlerName]) {\r\n            return;\r\n        }\r\n        instance.emitted[handlerName] = true;\r\n        callWithAsyncErrorHandling(onceHandler, instance, 6 /* COMPONENT_EVENT_HANDLER */, args);\r\n    }\r\n}\r\nfunction normalizeEmitsOptions(comp, appContext, asMixin = false) {\r\n    const cache = appContext.emitsCache;\r\n    const cached = cache.get(comp);\r\n    if (cached !== undefined) {\r\n        return cached;\r\n    }\r\n    const raw = comp.emits;\r\n    let normalized = {};\r\n    // apply mixin/extends props\r\n    let hasExtends = false;\r\n    if (__VUE_OPTIONS_API__ && !isFunction(comp)) {\r\n        const extendEmits = (raw) => {\r\n            const normalizedFromExtend = normalizeEmitsOptions(raw, appContext, true);\r\n            if (normalizedFromExtend) {\r\n                hasExtends = true;\r\n                extend(normalized, normalizedFromExtend);\r\n            }\r\n        };\r\n        if (!asMixin && appContext.mixins.length) {\r\n            appContext.mixins.forEach(extendEmits);\r\n        }\r\n        if (comp.extends) {\r\n            extendEmits(comp.extends);\r\n        }\r\n        if (comp.mixins) {\r\n            comp.mixins.forEach(extendEmits);\r\n        }\r\n    }\r\n    if (!raw && !hasExtends) {\r\n        cache.set(comp, null);\r\n        return null;\r\n    }\r\n    if (isArray(raw)) {\r\n        raw.forEach(key => (normalized[key] = null));\r\n    }\r\n    else {\r\n        extend(normalized, raw);\r\n    }\r\n    cache.set(comp, normalized);\r\n    return normalized;\r\n}\r\n// Check if an incoming prop key is a declared emit event listener.\r\n// e.g. With `emits: { click: null }`, props named `onClick` and `onclick` are\r\n// both considered matched listeners.\r\nfunction isEmitListener(options, key) {\r\n    if (!options || !isOn(key)) {\r\n        return false;\r\n    }\r\n    key = key.slice(2).replace(/Once$/, '');\r\n    return (hasOwn(options, key[0].toLowerCase() + key.slice(1)) ||\r\n        hasOwn(options, hyphenate(key)) ||\r\n        hasOwn(options, key));\r\n}\n\n/**\r\n * mark the current rendering instance for asset resolution (e.g.\r\n * resolveComponent, resolveDirective) during render\r\n */\r\nlet currentRenderingInstance = null;\r\nlet currentScopeId = null;\r\n/**\r\n * Note: rendering calls maybe nested. The function returns the parent rendering\r\n * instance if present, which should be restored after the render is done:\r\n *\r\n * ```js\r\n * const prev = setCurrentRenderingInstance(i)\r\n * // ...render\r\n * setCurrentRenderingInstance(prev)\r\n * ```\r\n */\r\nfunction setCurrentRenderingInstance(instance) {\r\n    const prev = currentRenderingInstance;\r\n    currentRenderingInstance = instance;\r\n    currentScopeId = (instance && instance.type.__scopeId) || null;\r\n    return prev;\r\n}\r\n/**\r\n * Set scope id when creating hoisted vnodes.\r\n * @private compiler helper\r\n */\r\nfunction pushScopeId(id) {\r\n    currentScopeId = id;\r\n}\r\n/**\r\n * Technically we no longer need this after 3.0.8 but we need to keep the same\r\n * API for backwards compat w/ code generated by compilers.\r\n * @private\r\n */\r\nfunction popScopeId() {\r\n    currentScopeId = null;\r\n}\r\n/**\r\n * Only for backwards compat\r\n * @private\r\n */\r\nconst withScopeId = (_id) => withCtx;\r\n/**\r\n * Wrap a slot function to memoize current rendering instance\r\n * @private compiler helper\r\n */\r\nfunction withCtx(fn, ctx = currentRenderingInstance, isNonScopedSlot // false only\r\n) {\r\n    if (!ctx)\r\n        return fn;\r\n    // already normalized\r\n    if (fn._n) {\r\n        return fn;\r\n    }\r\n    const renderFnWithContext = (...args) => {\r\n        // If a user calls a compiled slot inside a template expression (#1745), it\r\n        // can mess up block tracking, so by default we disable block tracking and\r\n        // force bail out when invoking a compiled slot (indicated by the ._d flag).\r\n        // This isn't necessary if rendering a compiled `<slot>`, so we flip the\r\n        // ._d flag off when invoking the wrapped fn inside `renderSlot`.\r\n        if (renderFnWithContext._d) {\r\n            setBlockTracking(-1);\r\n        }\r\n        const prevInstance = setCurrentRenderingInstance(ctx);\r\n        const res = fn(...args);\r\n        setCurrentRenderingInstance(prevInstance);\r\n        if (renderFnWithContext._d) {\r\n            setBlockTracking(1);\r\n        }\r\n        if ((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) {\r\n            devtoolsComponentUpdated(ctx);\r\n        }\r\n        return res;\r\n    };\r\n    // mark normalized to avoid duplicated wrapping\r\n    renderFnWithContext._n = true;\r\n    // mark this as compiled by default\r\n    // this is used in vnode.ts -> normalizeChildren() to set the slot\r\n    // rendering flag.\r\n    renderFnWithContext._c = true;\r\n    // disable block tracking by default\r\n    renderFnWithContext._d = true;\r\n    return renderFnWithContext;\r\n}\n\n/**\r\n * dev only flag to track whether $attrs was used during render.\r\n * If $attrs was used during render then the warning for failed attrs\r\n * fallthrough can be suppressed.\r\n */\r\nlet accessedAttrs = false;\r\nfunction markAttrsAccessed() {\r\n    accessedAttrs = true;\r\n}\r\nfunction renderComponentRoot(instance) {\r\n    const { type: Component, vnode, proxy, withProxy, props, propsOptions: [propsOptions], slots, attrs, emit, render, renderCache, data, setupState, ctx, inheritAttrs } = instance;\r\n    let result;\r\n    let fallthroughAttrs;\r\n    const prev = setCurrentRenderingInstance(instance);\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        accessedAttrs = false;\r\n    }\r\n    try {\r\n        if (vnode.shapeFlag & 4 /* STATEFUL_COMPONENT */) {\r\n            // withProxy is a proxy with a different `has` trap only for\r\n            // runtime-compiled render functions using `with` block.\r\n            const proxyToUse = withProxy || proxy;\r\n            result = normalizeVNode(render.call(proxyToUse, proxyToUse, renderCache, props, setupState, data, ctx));\r\n            fallthroughAttrs = attrs;\r\n        }\r\n        else {\r\n            // functional\r\n            const render = Component;\r\n            // in dev, mark attrs accessed if optional props (attrs === props)\r\n            if ((process.env.NODE_ENV !== 'production') && attrs === props) {\r\n                markAttrsAccessed();\r\n            }\r\n            result = normalizeVNode(render.length > 1\r\n                ? render(props, (process.env.NODE_ENV !== 'production')\r\n                    ? {\r\n                        get attrs() {\r\n                            markAttrsAccessed();\r\n                            return attrs;\r\n                        },\r\n                        slots,\r\n                        emit\r\n                    }\r\n                    : { attrs, slots, emit })\r\n                : render(props, null /* we know it doesn't need it */));\r\n            fallthroughAttrs = Component.props\r\n                ? attrs\r\n                : getFunctionalFallthrough(attrs);\r\n        }\r\n    }\r\n    catch (err) {\r\n        blockStack.length = 0;\r\n        handleError(err, instance, 1 /* RENDER_FUNCTION */);\r\n        result = createVNode(Comment);\r\n    }\r\n    // attr merging\r\n    // in dev mode, comments are preserved, and it's possible for a template\r\n    // to have comments along side the root element which makes it a fragment\r\n    let root = result;\r\n    let setRoot = undefined;\r\n    if ((process.env.NODE_ENV !== 'production') &&\r\n        result.patchFlag > 0 &&\r\n        result.patchFlag & 2048 /* DEV_ROOT_FRAGMENT */) {\r\n        [root, setRoot] = getChildRoot(result);\r\n    }\r\n    if (fallthroughAttrs && inheritAttrs !== false) {\r\n        const keys = Object.keys(fallthroughAttrs);\r\n        const { shapeFlag } = root;\r\n        if (keys.length) {\r\n            if (shapeFlag & (1 /* ELEMENT */ | 6 /* COMPONENT */)) {\r\n                if (propsOptions && keys.some(isModelListener)) {\r\n                    // If a v-model listener (onUpdate:xxx) has a corresponding declared\r\n                    // prop, it indicates this component expects to handle v-model and\r\n                    // it should not fallthrough.\r\n                    // related: #1543, #1643, #1989\r\n                    fallthroughAttrs = filterModelListeners(fallthroughAttrs, propsOptions);\r\n                }\r\n                root = cloneVNode(root, fallthroughAttrs);\r\n            }\r\n            else if ((process.env.NODE_ENV !== 'production') && !accessedAttrs && root.type !== Comment) {\r\n                const allAttrs = Object.keys(attrs);\r\n                const eventAttrs = [];\r\n                const extraAttrs = [];\r\n                for (let i = 0, l = allAttrs.length; i < l; i++) {\r\n                    const key = allAttrs[i];\r\n                    if (isOn(key)) {\r\n                        // ignore v-model handlers when they fail to fallthrough\r\n                        if (!isModelListener(key)) {\r\n                            // remove `on`, lowercase first letter to reflect event casing\r\n                            // accurately\r\n                            eventAttrs.push(key[2].toLowerCase() + key.slice(3));\r\n                        }\r\n                    }\r\n                    else {\r\n                        extraAttrs.push(key);\r\n                    }\r\n                }\r\n                if (extraAttrs.length) {\r\n                    warn(`Extraneous non-props attributes (` +\r\n                        `${extraAttrs.join(', ')}) ` +\r\n                        `were passed to component but could not be automatically inherited ` +\r\n                        `because component renders fragment or text root nodes.`);\r\n                }\r\n                if (eventAttrs.length) {\r\n                    warn(`Extraneous non-emits event listeners (` +\r\n                        `${eventAttrs.join(', ')}) ` +\r\n                        `were passed to component but could not be automatically inherited ` +\r\n                        `because component renders fragment or text root nodes. ` +\r\n                        `If the listener is intended to be a component custom event listener only, ` +\r\n                        `declare it using the \"emits\" option.`);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    // inherit directives\r\n    if (vnode.dirs) {\r\n        if ((process.env.NODE_ENV !== 'production') && !isElementRoot(root)) {\r\n            warn(`Runtime directive used on component with non-element root node. ` +\r\n                `The directives will not function as intended.`);\r\n        }\r\n        root.dirs = root.dirs ? root.dirs.concat(vnode.dirs) : vnode.dirs;\r\n    }\r\n    // inherit transition data\r\n    if (vnode.transition) {\r\n        if ((process.env.NODE_ENV !== 'production') && !isElementRoot(root)) {\r\n            warn(`Component inside <Transition> renders non-element root node ` +\r\n                `that cannot be animated.`);\r\n        }\r\n        root.transition = vnode.transition;\r\n    }\r\n    if ((process.env.NODE_ENV !== 'production') && setRoot) {\r\n        setRoot(root);\r\n    }\r\n    else {\r\n        result = root;\r\n    }\r\n    setCurrentRenderingInstance(prev);\r\n    return result;\r\n}\r\n/**\r\n * dev only\r\n * In dev mode, template root level comments are rendered, which turns the\r\n * template into a fragment root, but we need to locate the single element\r\n * root for attrs and scope id processing.\r\n */\r\nconst getChildRoot = (vnode) => {\r\n    const rawChildren = vnode.children;\r\n    const dynamicChildren = vnode.dynamicChildren;\r\n    const childRoot = filterSingleRoot(rawChildren);\r\n    if (!childRoot) {\r\n        return [vnode, undefined];\r\n    }\r\n    const index = rawChildren.indexOf(childRoot);\r\n    const dynamicIndex = dynamicChildren ? dynamicChildren.indexOf(childRoot) : -1;\r\n    const setRoot = (updatedRoot) => {\r\n        rawChildren[index] = updatedRoot;\r\n        if (dynamicChildren) {\r\n            if (dynamicIndex > -1) {\r\n                dynamicChildren[dynamicIndex] = updatedRoot;\r\n            }\r\n            else if (updatedRoot.patchFlag > 0) {\r\n                vnode.dynamicChildren = [...dynamicChildren, updatedRoot];\r\n            }\r\n        }\r\n    };\r\n    return [normalizeVNode(childRoot), setRoot];\r\n};\r\nfunction filterSingleRoot(children) {\r\n    let singleRoot;\r\n    for (let i = 0; i < children.length; i++) {\r\n        const child = children[i];\r\n        if (isVNode(child)) {\r\n            // ignore user comment\r\n            if (child.type !== Comment || child.children === 'v-if') {\r\n                if (singleRoot) {\r\n                    // has more than 1 non-comment child, return now\r\n                    return;\r\n                }\r\n                else {\r\n                    singleRoot = child;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            return;\r\n        }\r\n    }\r\n    return singleRoot;\r\n}\r\nconst getFunctionalFallthrough = (attrs) => {\r\n    let res;\r\n    for (const key in attrs) {\r\n        if (key === 'class' || key === 'style' || isOn(key)) {\r\n            (res || (res = {}))[key] = attrs[key];\r\n        }\r\n    }\r\n    return res;\r\n};\r\nconst filterModelListeners = (attrs, props) => {\r\n    const res = {};\r\n    for (const key in attrs) {\r\n        if (!isModelListener(key) || !(key.slice(9) in props)) {\r\n            res[key] = attrs[key];\r\n        }\r\n    }\r\n    return res;\r\n};\r\nconst isElementRoot = (vnode) => {\r\n    return (vnode.shapeFlag & (6 /* COMPONENT */ | 1 /* ELEMENT */) ||\r\n        vnode.type === Comment // potential v-if branch switch\r\n    );\r\n};\r\nfunction shouldUpdateComponent(prevVNode, nextVNode, optimized) {\r\n    const { props: prevProps, children: prevChildren, component } = prevVNode;\r\n    const { props: nextProps, children: nextChildren, patchFlag } = nextVNode;\r\n    const emits = component.emitsOptions;\r\n    // Parent component's render function was hot-updated. Since this may have\r\n    // caused the child component's slots content to have changed, we need to\r\n    // force the child to update as well.\r\n    if ((process.env.NODE_ENV !== 'production') && (prevChildren || nextChildren) && isHmrUpdating) {\r\n        return true;\r\n    }\r\n    // force child update for runtime directive or transition on component vnode.\r\n    if (nextVNode.dirs || nextVNode.transition) {\r\n        return true;\r\n    }\r\n    if (optimized && patchFlag >= 0) {\r\n        if (patchFlag & 1024 /* DYNAMIC_SLOTS */) {\r\n            // slot content that references values that might have changed,\r\n            // e.g. in a v-for\r\n            return true;\r\n        }\r\n        if (patchFlag & 16 /* FULL_PROPS */) {\r\n            if (!prevProps) {\r\n                return !!nextProps;\r\n            }\r\n            // presence of this flag indicates props are always non-null\r\n            return hasPropsChanged(prevProps, nextProps, emits);\r\n        }\r\n        else if (patchFlag & 8 /* PROPS */) {\r\n            const dynamicProps = nextVNode.dynamicProps;\r\n            for (let i = 0; i < dynamicProps.length; i++) {\r\n                const key = dynamicProps[i];\r\n                if (nextProps[key] !== prevProps[key] &&\r\n                    !isEmitListener(emits, key)) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        // this path is only taken by manually written render functions\r\n        // so presence of any children leads to a forced update\r\n        if (prevChildren || nextChildren) {\r\n            if (!nextChildren || !nextChildren.$stable) {\r\n                return true;\r\n            }\r\n        }\r\n        if (prevProps === nextProps) {\r\n            return false;\r\n        }\r\n        if (!prevProps) {\r\n            return !!nextProps;\r\n        }\r\n        if (!nextProps) {\r\n            return true;\r\n        }\r\n        return hasPropsChanged(prevProps, nextProps, emits);\r\n    }\r\n    return false;\r\n}\r\nfunction hasPropsChanged(prevProps, nextProps, emitsOptions) {\r\n    const nextKeys = Object.keys(nextProps);\r\n    if (nextKeys.length !== Object.keys(prevProps).length) {\r\n        return true;\r\n    }\r\n    for (let i = 0; i < nextKeys.length; i++) {\r\n        const key = nextKeys[i];\r\n        if (nextProps[key] !== prevProps[key] &&\r\n            !isEmitListener(emitsOptions, key)) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\nfunction updateHOCHostEl({ vnode, parent }, el // HostNode\r\n) {\r\n    while (parent && parent.subTree === vnode) {\r\n        (vnode = parent.vnode).el = el;\r\n        parent = parent.parent;\r\n    }\r\n}\n\nconst isSuspense = (type) => type.__isSuspense;\r\n// Suspense exposes a component-like API, and is treated like a component\r\n// in the compiler, but internally it's a special built-in type that hooks\r\n// directly into the renderer.\r\nconst SuspenseImpl = {\r\n    name: 'Suspense',\r\n    // In order to make Suspense tree-shakable, we need to avoid importing it\r\n    // directly in the renderer. The renderer checks for the __isSuspense flag\r\n    // on a vnode's type and calls the `process` method, passing in renderer\r\n    // internals.\r\n    __isSuspense: true,\r\n    process(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, \r\n    // platform-specific impl passed from renderer\r\n    rendererInternals) {\r\n        if (n1 == null) {\r\n            mountSuspense(n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, rendererInternals);\r\n        }\r\n        else {\r\n            patchSuspense(n1, n2, container, anchor, parentComponent, isSVG, slotScopeIds, optimized, rendererInternals);\r\n        }\r\n    },\r\n    hydrate: hydrateSuspense,\r\n    create: createSuspenseBoundary,\r\n    normalize: normalizeSuspenseChildren\r\n};\r\n// Force-casted public typing for h and TSX props inference\r\nconst Suspense = (SuspenseImpl );\r\nfunction triggerEvent(vnode, name) {\r\n    const eventListener = vnode.props && vnode.props[name];\r\n    if (isFunction(eventListener)) {\r\n        eventListener();\r\n    }\r\n}\r\nfunction mountSuspense(vnode, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, rendererInternals) {\r\n    const { p: patch, o: { createElement } } = rendererInternals;\r\n    const hiddenContainer = createElement('div');\r\n    const suspense = (vnode.suspense = createSuspenseBoundary(vnode, parentSuspense, parentComponent, container, hiddenContainer, anchor, isSVG, slotScopeIds, optimized, rendererInternals));\r\n    // start mounting the content subtree in an off-dom container\r\n    patch(null, (suspense.pendingBranch = vnode.ssContent), hiddenContainer, null, parentComponent, suspense, isSVG, slotScopeIds);\r\n    // now check if we have encountered any async deps\r\n    if (suspense.deps > 0) {\r\n        // has async\r\n        // invoke @fallback event\r\n        triggerEvent(vnode, 'onPending');\r\n        triggerEvent(vnode, 'onFallback');\r\n        // mount the fallback tree\r\n        patch(null, vnode.ssFallback, container, anchor, parentComponent, null, // fallback tree will not have suspense context\r\n        isSVG, slotScopeIds);\r\n        setActiveBranch(suspense, vnode.ssFallback);\r\n    }\r\n    else {\r\n        // Suspense has no async deps. Just resolve.\r\n        suspense.resolve();\r\n    }\r\n}\r\nfunction patchSuspense(n1, n2, container, anchor, parentComponent, isSVG, slotScopeIds, optimized, { p: patch, um: unmount, o: { createElement } }) {\r\n    const suspense = (n2.suspense = n1.suspense);\r\n    suspense.vnode = n2;\r\n    n2.el = n1.el;\r\n    const newBranch = n2.ssContent;\r\n    const newFallback = n2.ssFallback;\r\n    const { activeBranch, pendingBranch, isInFallback, isHydrating } = suspense;\r\n    if (pendingBranch) {\r\n        suspense.pendingBranch = newBranch;\r\n        if (isSameVNodeType(newBranch, pendingBranch)) {\r\n            // same root type but content may have changed.\r\n            patch(pendingBranch, newBranch, suspense.hiddenContainer, null, parentComponent, suspense, isSVG, slotScopeIds, optimized);\r\n            if (suspense.deps <= 0) {\r\n                suspense.resolve();\r\n            }\r\n            else if (isInFallback) {\r\n                patch(activeBranch, newFallback, container, anchor, parentComponent, null, // fallback tree will not have suspense context\r\n                isSVG, slotScopeIds, optimized);\r\n                setActiveBranch(suspense, newFallback);\r\n            }\r\n        }\r\n        else {\r\n            // toggled before pending tree is resolved\r\n            suspense.pendingId++;\r\n            if (isHydrating) {\r\n                // if toggled before hydration is finished, the current DOM tree is\r\n                // no longer valid. set it as the active branch so it will be unmounted\r\n                // when resolved\r\n                suspense.isHydrating = false;\r\n                suspense.activeBranch = pendingBranch;\r\n            }\r\n            else {\r\n                unmount(pendingBranch, parentComponent, suspense);\r\n            }\r\n            // increment pending ID. this is used to invalidate async callbacks\r\n            // reset suspense state\r\n            suspense.deps = 0;\r\n            // discard effects from pending branch\r\n            suspense.effects.length = 0;\r\n            // discard previous container\r\n            suspense.hiddenContainer = createElement('div');\r\n            if (isInFallback) {\r\n                // already in fallback state\r\n                patch(null, newBranch, suspense.hiddenContainer, null, parentComponent, suspense, isSVG, slotScopeIds, optimized);\r\n                if (suspense.deps <= 0) {\r\n                    suspense.resolve();\r\n                }\r\n                else {\r\n                    patch(activeBranch, newFallback, container, anchor, parentComponent, null, // fallback tree will not have suspense context\r\n                    isSVG, slotScopeIds, optimized);\r\n                    setActiveBranch(suspense, newFallback);\r\n                }\r\n            }\r\n            else if (activeBranch && isSameVNodeType(newBranch, activeBranch)) {\r\n                // toggled \"back\" to current active branch\r\n                patch(activeBranch, newBranch, container, anchor, parentComponent, suspense, isSVG, slotScopeIds, optimized);\r\n                // force resolve\r\n                suspense.resolve(true);\r\n            }\r\n            else {\r\n                // switched to a 3rd branch\r\n                patch(null, newBranch, suspense.hiddenContainer, null, parentComponent, suspense, isSVG, slotScopeIds, optimized);\r\n                if (suspense.deps <= 0) {\r\n                    suspense.resolve();\r\n                }\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        if (activeBranch && isSameVNodeType(newBranch, activeBranch)) {\r\n            // root did not change, just normal patch\r\n            patch(activeBranch, newBranch, container, anchor, parentComponent, suspense, isSVG, slotScopeIds, optimized);\r\n            setActiveBranch(suspense, newBranch);\r\n        }\r\n        else {\r\n            // root node toggled\r\n            // invoke @pending event\r\n            triggerEvent(n2, 'onPending');\r\n            // mount pending branch in off-dom container\r\n            suspense.pendingBranch = newBranch;\r\n            suspense.pendingId++;\r\n            patch(null, newBranch, suspense.hiddenContainer, null, parentComponent, suspense, isSVG, slotScopeIds, optimized);\r\n            if (suspense.deps <= 0) {\r\n                // incoming branch has no async deps, resolve now.\r\n                suspense.resolve();\r\n            }\r\n            else {\r\n                const { timeout, pendingId } = suspense;\r\n                if (timeout > 0) {\r\n                    setTimeout(() => {\r\n                        if (suspense.pendingId === pendingId) {\r\n                            suspense.fallback(newFallback);\r\n                        }\r\n                    }, timeout);\r\n                }\r\n                else if (timeout === 0) {\r\n                    suspense.fallback(newFallback);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\nlet hasWarned = false;\r\nfunction createSuspenseBoundary(vnode, parent, parentComponent, container, hiddenContainer, anchor, isSVG, slotScopeIds, optimized, rendererInternals, isHydrating = false) {\r\n    /* istanbul ignore if */\r\n    if ((process.env.NODE_ENV !== 'production') && !false && !hasWarned) {\r\n        hasWarned = true;\r\n        // @ts-ignore `console.info` cannot be null error\r\n        console[console.info ? 'info' : 'log'](`<Suspense> is an experimental feature and its API will likely change.`);\r\n    }\r\n    const { p: patch, m: move, um: unmount, n: next, o: { parentNode, remove } } = rendererInternals;\r\n    const timeout = toNumber(vnode.props && vnode.props.timeout);\r\n    const suspense = {\r\n        vnode,\r\n        parent,\r\n        parentComponent,\r\n        isSVG,\r\n        container,\r\n        hiddenContainer,\r\n        anchor,\r\n        deps: 0,\r\n        pendingId: 0,\r\n        timeout: typeof timeout === 'number' ? timeout : -1,\r\n        activeBranch: null,\r\n        pendingBranch: null,\r\n        isInFallback: true,\r\n        isHydrating,\r\n        isUnmounted: false,\r\n        effects: [],\r\n        resolve(resume = false) {\r\n            if ((process.env.NODE_ENV !== 'production')) {\r\n                if (!resume && !suspense.pendingBranch) {\r\n                    throw new Error(`suspense.resolve() is called without a pending branch.`);\r\n                }\r\n                if (suspense.isUnmounted) {\r\n                    throw new Error(`suspense.resolve() is called on an already unmounted suspense boundary.`);\r\n                }\r\n            }\r\n            const { vnode, activeBranch, pendingBranch, pendingId, effects, parentComponent, container } = suspense;\r\n            if (suspense.isHydrating) {\r\n                suspense.isHydrating = false;\r\n            }\r\n            else if (!resume) {\r\n                const delayEnter = activeBranch &&\r\n                    pendingBranch.transition &&\r\n                    pendingBranch.transition.mode === 'out-in';\r\n                if (delayEnter) {\r\n                    activeBranch.transition.afterLeave = () => {\r\n                        if (pendingId === suspense.pendingId) {\r\n                            move(pendingBranch, container, anchor, 0 /* ENTER */);\r\n                        }\r\n                    };\r\n                }\r\n                // this is initial anchor on mount\r\n                let { anchor } = suspense;\r\n                // unmount current active tree\r\n                if (activeBranch) {\r\n                    // if the fallback tree was mounted, it may have been moved\r\n                    // as part of a parent suspense. get the latest anchor for insertion\r\n                    anchor = next(activeBranch);\r\n                    unmount(activeBranch, parentComponent, suspense, true);\r\n                }\r\n                if (!delayEnter) {\r\n                    // move content from off-dom container to actual container\r\n                    move(pendingBranch, container, anchor, 0 /* ENTER */);\r\n                }\r\n            }\r\n            setActiveBranch(suspense, pendingBranch);\r\n            suspense.pendingBranch = null;\r\n            suspense.isInFallback = false;\r\n            // flush buffered effects\r\n            // check if there is a pending parent suspense\r\n            let parent = suspense.parent;\r\n            let hasUnresolvedAncestor = false;\r\n            while (parent) {\r\n                if (parent.pendingBranch) {\r\n                    // found a pending parent suspense, merge buffered post jobs\r\n                    // into that parent\r\n                    parent.effects.push(...effects);\r\n                    hasUnresolvedAncestor = true;\r\n                    break;\r\n                }\r\n                parent = parent.parent;\r\n            }\r\n            // no pending parent suspense, flush all jobs\r\n            if (!hasUnresolvedAncestor) {\r\n                queuePostFlushCb(effects);\r\n            }\r\n            suspense.effects = [];\r\n            // invoke @resolve event\r\n            triggerEvent(vnode, 'onResolve');\r\n        },\r\n        fallback(fallbackVNode) {\r\n            if (!suspense.pendingBranch) {\r\n                return;\r\n            }\r\n            const { vnode, activeBranch, parentComponent, container, isSVG } = suspense;\r\n            // invoke @fallback event\r\n            triggerEvent(vnode, 'onFallback');\r\n            const anchor = next(activeBranch);\r\n            const mountFallback = () => {\r\n                if (!suspense.isInFallback) {\r\n                    return;\r\n                }\r\n                // mount the fallback tree\r\n                patch(null, fallbackVNode, container, anchor, parentComponent, null, // fallback tree will not have suspense context\r\n                isSVG, slotScopeIds, optimized);\r\n                setActiveBranch(suspense, fallbackVNode);\r\n            };\r\n            const delayEnter = fallbackVNode.transition && fallbackVNode.transition.mode === 'out-in';\r\n            if (delayEnter) {\r\n                activeBranch.transition.afterLeave = mountFallback;\r\n            }\r\n            suspense.isInFallback = true;\r\n            // unmount current active branch\r\n            unmount(activeBranch, parentComponent, null, // no suspense so unmount hooks fire now\r\n            true // shouldRemove\r\n            );\r\n            if (!delayEnter) {\r\n                mountFallback();\r\n            }\r\n        },\r\n        move(container, anchor, type) {\r\n            suspense.activeBranch &&\r\n                move(suspense.activeBranch, container, anchor, type);\r\n            suspense.container = container;\r\n        },\r\n        next() {\r\n            return suspense.activeBranch && next(suspense.activeBranch);\r\n        },\r\n        registerDep(instance, setupRenderEffect) {\r\n            const isInPendingSuspense = !!suspense.pendingBranch;\r\n            if (isInPendingSuspense) {\r\n                suspense.deps++;\r\n            }\r\n            const hydratedEl = instance.vnode.el;\r\n            instance\r\n                .asyncDep.catch(err => {\r\n                handleError(err, instance, 0 /* SETUP_FUNCTION */);\r\n            })\r\n                .then(asyncSetupResult => {\r\n                // retry when the setup() promise resolves.\r\n                // component may have been unmounted before resolve.\r\n                if (instance.isUnmounted ||\r\n                    suspense.isUnmounted ||\r\n                    suspense.pendingId !== instance.suspenseId) {\r\n                    return;\r\n                }\r\n                // retry from this component\r\n                instance.asyncResolved = true;\r\n                const { vnode } = instance;\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    pushWarningContext(vnode);\r\n                }\r\n                handleSetupResult(instance, asyncSetupResult, false);\r\n                if (hydratedEl) {\r\n                    // vnode may have been replaced if an update happened before the\r\n                    // async dep is resolved.\r\n                    vnode.el = hydratedEl;\r\n                }\r\n                const placeholder = !hydratedEl && instance.subTree.el;\r\n                setupRenderEffect(instance, vnode, \r\n                // component may have been moved before resolve.\r\n                // if this is not a hydration, instance.subTree will be the comment\r\n                // placeholder.\r\n                parentNode(hydratedEl || instance.subTree.el), \r\n                // anchor will not be used if this is hydration, so only need to\r\n                // consider the comment placeholder case.\r\n                hydratedEl ? null : next(instance.subTree), suspense, isSVG, optimized);\r\n                if (placeholder) {\r\n                    remove(placeholder);\r\n                }\r\n                updateHOCHostEl(instance, vnode.el);\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    popWarningContext();\r\n                }\r\n                // only decrease deps count if suspense is not already resolved\r\n                if (isInPendingSuspense && --suspense.deps === 0) {\r\n                    suspense.resolve();\r\n                }\r\n            });\r\n        },\r\n        unmount(parentSuspense, doRemove) {\r\n            suspense.isUnmounted = true;\r\n            if (suspense.activeBranch) {\r\n                unmount(suspense.activeBranch, parentComponent, parentSuspense, doRemove);\r\n            }\r\n            if (suspense.pendingBranch) {\r\n                unmount(suspense.pendingBranch, parentComponent, parentSuspense, doRemove);\r\n            }\r\n        }\r\n    };\r\n    return suspense;\r\n}\r\nfunction hydrateSuspense(node, vnode, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, rendererInternals, hydrateNode) {\r\n    /* eslint-disable no-restricted-globals */\r\n    const suspense = (vnode.suspense = createSuspenseBoundary(vnode, parentSuspense, parentComponent, node.parentNode, document.createElement('div'), null, isSVG, slotScopeIds, optimized, rendererInternals, true /* hydrating */));\r\n    // there are two possible scenarios for server-rendered suspense:\r\n    // - success: ssr content should be fully resolved\r\n    // - failure: ssr content should be the fallback branch.\r\n    // however, on the client we don't really know if it has failed or not\r\n    // attempt to hydrate the DOM assuming it has succeeded, but we still\r\n    // need to construct a suspense boundary first\r\n    const result = hydrateNode(node, (suspense.pendingBranch = vnode.ssContent), parentComponent, suspense, slotScopeIds, optimized);\r\n    if (suspense.deps === 0) {\r\n        suspense.resolve();\r\n    }\r\n    return result;\r\n    /* eslint-enable no-restricted-globals */\r\n}\r\nfunction normalizeSuspenseChildren(vnode) {\r\n    const { shapeFlag, children } = vnode;\r\n    const isSlotChildren = shapeFlag & 32 /* SLOTS_CHILDREN */;\r\n    vnode.ssContent = normalizeSuspenseSlot(isSlotChildren ? children.default : children);\r\n    vnode.ssFallback = isSlotChildren\r\n        ? normalizeSuspenseSlot(children.fallback)\r\n        : createVNode(Comment);\r\n}\r\nfunction normalizeSuspenseSlot(s) {\r\n    let block;\r\n    if (isFunction(s)) {\r\n        const trackBlock = isBlockTreeEnabled && s._c;\r\n        if (trackBlock) {\r\n            // disableTracking: false\r\n            // allow block tracking for compiled slots\r\n            // (see ./componentRenderContext.ts)\r\n            s._d = false;\r\n            openBlock();\r\n        }\r\n        s = s();\r\n        if (trackBlock) {\r\n            s._d = true;\r\n            block = currentBlock;\r\n            closeBlock();\r\n        }\r\n    }\r\n    if (isArray(s)) {\r\n        const singleChild = filterSingleRoot(s);\r\n        if ((process.env.NODE_ENV !== 'production') && !singleChild) {\r\n            warn(`<Suspense> slots expect a single root node.`);\r\n        }\r\n        s = singleChild;\r\n    }\r\n    s = normalizeVNode(s);\r\n    if (block && !s.dynamicChildren) {\r\n        s.dynamicChildren = block.filter(c => c !== s);\r\n    }\r\n    return s;\r\n}\r\nfunction queueEffectWithSuspense(fn, suspense) {\r\n    if (suspense && suspense.pendingBranch) {\r\n        if (isArray(fn)) {\r\n            suspense.effects.push(...fn);\r\n        }\r\n        else {\r\n            suspense.effects.push(fn);\r\n        }\r\n    }\r\n    else {\r\n        queuePostFlushCb(fn);\r\n    }\r\n}\r\nfunction setActiveBranch(suspense, branch) {\r\n    suspense.activeBranch = branch;\r\n    const { vnode, parentComponent } = suspense;\r\n    const el = (vnode.el = branch.el);\r\n    // in case suspense is the root node of a component,\r\n    // recursively update the HOC el\r\n    if (parentComponent && parentComponent.subTree === vnode) {\r\n        parentComponent.vnode.el = el;\r\n        updateHOCHostEl(parentComponent, el);\r\n    }\r\n}\n\nfunction provide(key, value) {\r\n    if (!currentInstance) {\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            warn(`provide() can only be used inside setup().`);\r\n        }\r\n    }\r\n    else {\r\n        let provides = currentInstance.provides;\r\n        // by default an instance inherits its parent's provides object\r\n        // but when it needs to provide values of its own, it creates its\r\n        // own provides object using parent provides object as prototype.\r\n        // this way in `inject` we can simply look up injections from direct\r\n        // parent and let the prototype chain do the work.\r\n        const parentProvides = currentInstance.parent && currentInstance.parent.provides;\r\n        if (parentProvides === provides) {\r\n            provides = currentInstance.provides = Object.create(parentProvides);\r\n        }\r\n        // TS doesn't allow symbol as index type\r\n        provides[key] = value;\r\n    }\r\n}\r\nfunction inject(key, defaultValue, treatDefaultAsFactory = false) {\r\n    // fallback to `currentRenderingInstance` so that this can be called in\r\n    // a functional component\r\n    const instance = currentInstance || currentRenderingInstance;\r\n    if (instance) {\r\n        // #2400\r\n        // to support `app.use` plugins,\r\n        // fallback to appContext's `provides` if the intance is at root\r\n        const provides = instance.parent == null\r\n            ? instance.vnode.appContext && instance.vnode.appContext.provides\r\n            : instance.parent.provides;\r\n        if (provides && key in provides) {\r\n            // TS doesn't allow symbol as index type\r\n            return provides[key];\r\n        }\r\n        else if (arguments.length > 1) {\r\n            return treatDefaultAsFactory && isFunction(defaultValue)\r\n                ? defaultValue.call(instance.proxy)\r\n                : defaultValue;\r\n        }\r\n        else if ((process.env.NODE_ENV !== 'production')) {\r\n            warn(`injection \"${String(key)}\" not found.`);\r\n        }\r\n    }\r\n    else if ((process.env.NODE_ENV !== 'production')) {\r\n        warn(`inject() can only be used inside setup() or functional components.`);\r\n    }\r\n}\n\n// Simple effect.\r\nfunction watchEffect(effect, options) {\r\n    return doWatch(effect, null, options);\r\n}\r\nfunction watchPostEffect(effect, options) {\r\n    return doWatch(effect, null, ((process.env.NODE_ENV !== 'production')\r\n        ? Object.assign(options || {}, { flush: 'post' })\r\n        : { flush: 'post' }));\r\n}\r\nfunction watchSyncEffect(effect, options) {\r\n    return doWatch(effect, null, ((process.env.NODE_ENV !== 'production')\r\n        ? Object.assign(options || {}, { flush: 'sync' })\r\n        : { flush: 'sync' }));\r\n}\r\n// initial value for watchers to trigger on undefined initial values\r\nconst INITIAL_WATCHER_VALUE = {};\r\n// implementation\r\nfunction watch(source, cb, options) {\r\n    if ((process.env.NODE_ENV !== 'production') && !isFunction(cb)) {\r\n        warn(`\\`watch(fn, options?)\\` signature has been moved to a separate API. ` +\r\n            `Use \\`watchEffect(fn, options?)\\` instead. \\`watch\\` now only ` +\r\n            `supports \\`watch(source, cb, options?) signature.`);\r\n    }\r\n    return doWatch(source, cb, options);\r\n}\r\nfunction doWatch(source, cb, { immediate, deep, flush, onTrack, onTrigger } = EMPTY_OBJ) {\r\n    if ((process.env.NODE_ENV !== 'production') && !cb) {\r\n        if (immediate !== undefined) {\r\n            warn(`watch() \"immediate\" option is only respected when using the ` +\r\n                `watch(source, callback, options?) signature.`);\r\n        }\r\n        if (deep !== undefined) {\r\n            warn(`watch() \"deep\" option is only respected when using the ` +\r\n                `watch(source, callback, options?) signature.`);\r\n        }\r\n    }\r\n    const warnInvalidSource = (s) => {\r\n        warn(`Invalid watch source: `, s, `A watch source can only be a getter/effect function, a ref, ` +\r\n            `a reactive object, or an array of these types.`);\r\n    };\r\n    const instance = currentInstance;\r\n    let getter;\r\n    let forceTrigger = false;\r\n    let isMultiSource = false;\r\n    if (isRef(source)) {\r\n        getter = () => source.value;\r\n        forceTrigger = !!source._shallow;\r\n    }\r\n    else if (isReactive(source)) {\r\n        getter = () => source;\r\n        deep = true;\r\n    }\r\n    else if (isArray(source)) {\r\n        isMultiSource = true;\r\n        forceTrigger = source.some(isReactive);\r\n        getter = () => source.map(s => {\r\n            if (isRef(s)) {\r\n                return s.value;\r\n            }\r\n            else if (isReactive(s)) {\r\n                return traverse(s);\r\n            }\r\n            else if (isFunction(s)) {\r\n                return callWithErrorHandling(s, instance, 2 /* WATCH_GETTER */);\r\n            }\r\n            else {\r\n                (process.env.NODE_ENV !== 'production') && warnInvalidSource(s);\r\n            }\r\n        });\r\n    }\r\n    else if (isFunction(source)) {\r\n        if (cb) {\r\n            // getter with cb\r\n            getter = () => callWithErrorHandling(source, instance, 2 /* WATCH_GETTER */);\r\n        }\r\n        else {\r\n            // no cb -> simple effect\r\n            getter = () => {\r\n                if (instance && instance.isUnmounted) {\r\n                    return;\r\n                }\r\n                if (cleanup) {\r\n                    cleanup();\r\n                }\r\n                return callWithAsyncErrorHandling(source, instance, 3 /* WATCH_CALLBACK */, [onCleanup]);\r\n            };\r\n        }\r\n    }\r\n    else {\r\n        getter = NOOP;\r\n        (process.env.NODE_ENV !== 'production') && warnInvalidSource(source);\r\n    }\r\n    if (cb && deep) {\r\n        const baseGetter = getter;\r\n        getter = () => traverse(baseGetter());\r\n    }\r\n    let cleanup;\r\n    let onCleanup = (fn) => {\r\n        cleanup = effect.onStop = () => {\r\n            callWithErrorHandling(fn, instance, 4 /* WATCH_CLEANUP */);\r\n        };\r\n    };\r\n    // in SSR there is no need to setup an actual effect, and it should be noop\r\n    // unless it's eager\r\n    if (isInSSRComponentSetup) {\r\n        // we will also not call the invalidate callback (+ runner is not set up)\r\n        onCleanup = NOOP;\r\n        if (!cb) {\r\n            getter();\r\n        }\r\n        else if (immediate) {\r\n            callWithAsyncErrorHandling(cb, instance, 3 /* WATCH_CALLBACK */, [\r\n                getter(),\r\n                isMultiSource ? [] : undefined,\r\n                onCleanup\r\n            ]);\r\n        }\r\n        return NOOP;\r\n    }\r\n    let oldValue = isMultiSource ? [] : INITIAL_WATCHER_VALUE;\r\n    const job = () => {\r\n        if (!effect.active) {\r\n            return;\r\n        }\r\n        if (cb) {\r\n            // watch(source, cb)\r\n            const newValue = effect.run();\r\n            if (deep ||\r\n                forceTrigger ||\r\n                (isMultiSource\r\n                    ? newValue.some((v, i) => hasChanged(v, oldValue[i]))\r\n                    : hasChanged(newValue, oldValue)) ||\r\n                (false  )) {\r\n                // cleanup before running cb again\r\n                if (cleanup) {\r\n                    cleanup();\r\n                }\r\n                callWithAsyncErrorHandling(cb, instance, 3 /* WATCH_CALLBACK */, [\r\n                    newValue,\r\n                    // pass undefined as the old value when it's changed for the first time\r\n                    oldValue === INITIAL_WATCHER_VALUE ? undefined : oldValue,\r\n                    onCleanup\r\n                ]);\r\n                oldValue = newValue;\r\n            }\r\n        }\r\n        else {\r\n            // watchEffect\r\n            effect.run();\r\n        }\r\n    };\r\n    // important: mark the job as a watcher callback so that scheduler knows\r\n    // it is allowed to self-trigger (#1727)\r\n    job.allowRecurse = !!cb;\r\n    let scheduler;\r\n    if (flush === 'sync') {\r\n        scheduler = job; // the scheduler function gets called directly\r\n    }\r\n    else if (flush === 'post') {\r\n        scheduler = () => queuePostRenderEffect(job, instance && instance.suspense);\r\n    }\r\n    else {\r\n        // default: 'pre'\r\n        scheduler = () => {\r\n            if (!instance || instance.isMounted) {\r\n                queuePreFlushCb(job);\r\n            }\r\n            else {\r\n                // with 'pre' option, the first call must happen before\r\n                // the component is mounted so it is called synchronously.\r\n                job();\r\n            }\r\n        };\r\n    }\r\n    const effect = new ReactiveEffect(getter, scheduler);\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        effect.onTrack = onTrack;\r\n        effect.onTrigger = onTrigger;\r\n    }\r\n    // initial run\r\n    if (cb) {\r\n        if (immediate) {\r\n            job();\r\n        }\r\n        else {\r\n            oldValue = effect.run();\r\n        }\r\n    }\r\n    else if (flush === 'post') {\r\n        queuePostRenderEffect(effect.run.bind(effect), instance && instance.suspense);\r\n    }\r\n    else {\r\n        effect.run();\r\n    }\r\n    return () => {\r\n        effect.stop();\r\n        if (instance && instance.scope) {\r\n            remove(instance.scope.effects, effect);\r\n        }\r\n    };\r\n}\r\n// this.$watch\r\nfunction instanceWatch(source, value, options) {\r\n    const publicThis = this.proxy;\r\n    const getter = isString(source)\r\n        ? source.includes('.')\r\n            ? createPathGetter(publicThis, source)\r\n            : () => publicThis[source]\r\n        : source.bind(publicThis, publicThis);\r\n    let cb;\r\n    if (isFunction(value)) {\r\n        cb = value;\r\n    }\r\n    else {\r\n        cb = value.handler;\r\n        options = value;\r\n    }\r\n    const cur = currentInstance;\r\n    setCurrentInstance(this);\r\n    const res = doWatch(getter, cb.bind(publicThis), options);\r\n    if (cur) {\r\n        setCurrentInstance(cur);\r\n    }\r\n    else {\r\n        unsetCurrentInstance();\r\n    }\r\n    return res;\r\n}\r\nfunction createPathGetter(ctx, path) {\r\n    const segments = path.split('.');\r\n    return () => {\r\n        let cur = ctx;\r\n        for (let i = 0; i < segments.length && cur; i++) {\r\n            cur = cur[segments[i]];\r\n        }\r\n        return cur;\r\n    };\r\n}\r\nfunction traverse(value, seen) {\r\n    if (!isObject(value) || value[\"__v_skip\" /* SKIP */]) {\r\n        return value;\r\n    }\r\n    seen = seen || new Set();\r\n    if (seen.has(value)) {\r\n        return value;\r\n    }\r\n    seen.add(value);\r\n    if (isRef(value)) {\r\n        traverse(value.value, seen);\r\n    }\r\n    else if (isArray(value)) {\r\n        for (let i = 0; i < value.length; i++) {\r\n            traverse(value[i], seen);\r\n        }\r\n    }\r\n    else if (isSet(value) || isMap(value)) {\r\n        value.forEach((v) => {\r\n            traverse(v, seen);\r\n        });\r\n    }\r\n    else if (isPlainObject(value)) {\r\n        for (const key in value) {\r\n            traverse(value[key], seen);\r\n        }\r\n    }\r\n    return value;\r\n}\n\nfunction useTransitionState() {\r\n    const state = {\r\n        isMounted: false,\r\n        isLeaving: false,\r\n        isUnmounting: false,\r\n        leavingVNodes: new Map()\r\n    };\r\n    onMounted(() => {\r\n        state.isMounted = true;\r\n    });\r\n    onBeforeUnmount(() => {\r\n        state.isUnmounting = true;\r\n    });\r\n    return state;\r\n}\r\nconst TransitionHookValidator = [Function, Array];\r\nconst BaseTransitionImpl = {\r\n    name: `BaseTransition`,\r\n    props: {\r\n        mode: String,\r\n        appear: Boolean,\r\n        persisted: Boolean,\r\n        // enter\r\n        onBeforeEnter: TransitionHookValidator,\r\n        onEnter: TransitionHookValidator,\r\n        onAfterEnter: TransitionHookValidator,\r\n        onEnterCancelled: TransitionHookValidator,\r\n        // leave\r\n        onBeforeLeave: TransitionHookValidator,\r\n        onLeave: TransitionHookValidator,\r\n        onAfterLeave: TransitionHookValidator,\r\n        onLeaveCancelled: TransitionHookValidator,\r\n        // appear\r\n        onBeforeAppear: TransitionHookValidator,\r\n        onAppear: TransitionHookValidator,\r\n        onAfterAppear: TransitionHookValidator,\r\n        onAppearCancelled: TransitionHookValidator\r\n    },\r\n    setup(props, { slots }) {\r\n        const instance = getCurrentInstance();\r\n        const state = useTransitionState();\r\n        let prevTransitionKey;\r\n        return () => {\r\n            const children = slots.default && getTransitionRawChildren(slots.default(), true);\r\n            if (!children || !children.length) {\r\n                return;\r\n            }\r\n            // warn multiple elements\r\n            if ((process.env.NODE_ENV !== 'production') && children.length > 1) {\r\n                warn('<transition> can only be used on a single element or component. Use ' +\r\n                    '<transition-group> for lists.');\r\n            }\r\n            // there's no need to track reactivity for these props so use the raw\r\n            // props for a bit better perf\r\n            const rawProps = toRaw(props);\r\n            const { mode } = rawProps;\r\n            // check mode\r\n            if ((process.env.NODE_ENV !== 'production') &&\r\n                mode &&\r\n                mode !== 'in-out' && mode !== 'out-in' && mode !== 'default') {\r\n                warn(`invalid <transition> mode: ${mode}`);\r\n            }\r\n            // at this point children has a guaranteed length of 1.\r\n            const child = children[0];\r\n            if (state.isLeaving) {\r\n                return emptyPlaceholder(child);\r\n            }\r\n            // in the case of <transition><keep-alive/></transition>, we need to\r\n            // compare the type of the kept-alive children.\r\n            const innerChild = getKeepAliveChild(child);\r\n            if (!innerChild) {\r\n                return emptyPlaceholder(child);\r\n            }\r\n            const enterHooks = resolveTransitionHooks(innerChild, rawProps, state, instance);\r\n            setTransitionHooks(innerChild, enterHooks);\r\n            const oldChild = instance.subTree;\r\n            const oldInnerChild = oldChild && getKeepAliveChild(oldChild);\r\n            let transitionKeyChanged = false;\r\n            const { getTransitionKey } = innerChild.type;\r\n            if (getTransitionKey) {\r\n                const key = getTransitionKey();\r\n                if (prevTransitionKey === undefined) {\r\n                    prevTransitionKey = key;\r\n                }\r\n                else if (key !== prevTransitionKey) {\r\n                    prevTransitionKey = key;\r\n                    transitionKeyChanged = true;\r\n                }\r\n            }\r\n            // handle mode\r\n            if (oldInnerChild &&\r\n                oldInnerChild.type !== Comment &&\r\n                (!isSameVNodeType(innerChild, oldInnerChild) || transitionKeyChanged)) {\r\n                const leavingHooks = resolveTransitionHooks(oldInnerChild, rawProps, state, instance);\r\n                // update old tree's hooks in case of dynamic transition\r\n                setTransitionHooks(oldInnerChild, leavingHooks);\r\n                // switching between different views\r\n                if (mode === 'out-in') {\r\n                    state.isLeaving = true;\r\n                    // return placeholder node and queue update when leave finishes\r\n                    leavingHooks.afterLeave = () => {\r\n                        state.isLeaving = false;\r\n                        instance.update();\r\n                    };\r\n                    return emptyPlaceholder(child);\r\n                }\r\n                else if (mode === 'in-out' && innerChild.type !== Comment) {\r\n                    leavingHooks.delayLeave = (el, earlyRemove, delayedLeave) => {\r\n                        const leavingVNodesCache = getLeavingNodesForType(state, oldInnerChild);\r\n                        leavingVNodesCache[String(oldInnerChild.key)] = oldInnerChild;\r\n                        // early removal callback\r\n                        el._leaveCb = () => {\r\n                            earlyRemove();\r\n                            el._leaveCb = undefined;\r\n                            delete enterHooks.delayedLeave;\r\n                        };\r\n                        enterHooks.delayedLeave = delayedLeave;\r\n                    };\r\n                }\r\n            }\r\n            return child;\r\n        };\r\n    }\r\n};\r\n// export the public type for h/tsx inference\r\n// also to avoid inline import() in generated d.ts files\r\nconst BaseTransition = BaseTransitionImpl;\r\nfunction getLeavingNodesForType(state, vnode) {\r\n    const { leavingVNodes } = state;\r\n    let leavingVNodesCache = leavingVNodes.get(vnode.type);\r\n    if (!leavingVNodesCache) {\r\n        leavingVNodesCache = Object.create(null);\r\n        leavingVNodes.set(vnode.type, leavingVNodesCache);\r\n    }\r\n    return leavingVNodesCache;\r\n}\r\n// The transition hooks are attached to the vnode as vnode.transition\r\n// and will be called at appropriate timing in the renderer.\r\nfunction resolveTransitionHooks(vnode, props, state, instance) {\r\n    const { appear, mode, persisted = false, onBeforeEnter, onEnter, onAfterEnter, onEnterCancelled, onBeforeLeave, onLeave, onAfterLeave, onLeaveCancelled, onBeforeAppear, onAppear, onAfterAppear, onAppearCancelled } = props;\r\n    const key = String(vnode.key);\r\n    const leavingVNodesCache = getLeavingNodesForType(state, vnode);\r\n    const callHook = (hook, args) => {\r\n        hook &&\r\n            callWithAsyncErrorHandling(hook, instance, 9 /* TRANSITION_HOOK */, args);\r\n    };\r\n    const hooks = {\r\n        mode,\r\n        persisted,\r\n        beforeEnter(el) {\r\n            let hook = onBeforeEnter;\r\n            if (!state.isMounted) {\r\n                if (appear) {\r\n                    hook = onBeforeAppear || onBeforeEnter;\r\n                }\r\n                else {\r\n                    return;\r\n                }\r\n            }\r\n            // for same element (v-show)\r\n            if (el._leaveCb) {\r\n                el._leaveCb(true /* cancelled */);\r\n            }\r\n            // for toggled element with same key (v-if)\r\n            const leavingVNode = leavingVNodesCache[key];\r\n            if (leavingVNode &&\r\n                isSameVNodeType(vnode, leavingVNode) &&\r\n                leavingVNode.el._leaveCb) {\r\n                // force early removal (not cancelled)\r\n                leavingVNode.el._leaveCb();\r\n            }\r\n            callHook(hook, [el]);\r\n        },\r\n        enter(el) {\r\n            let hook = onEnter;\r\n            let afterHook = onAfterEnter;\r\n            let cancelHook = onEnterCancelled;\r\n            if (!state.isMounted) {\r\n                if (appear) {\r\n                    hook = onAppear || onEnter;\r\n                    afterHook = onAfterAppear || onAfterEnter;\r\n                    cancelHook = onAppearCancelled || onEnterCancelled;\r\n                }\r\n                else {\r\n                    return;\r\n                }\r\n            }\r\n            let called = false;\r\n            const done = (el._enterCb = (cancelled) => {\r\n                if (called)\r\n                    return;\r\n                called = true;\r\n                if (cancelled) {\r\n                    callHook(cancelHook, [el]);\r\n                }\r\n                else {\r\n                    callHook(afterHook, [el]);\r\n                }\r\n                if (hooks.delayedLeave) {\r\n                    hooks.delayedLeave();\r\n                }\r\n                el._enterCb = undefined;\r\n            });\r\n            if (hook) {\r\n                hook(el, done);\r\n                if (hook.length <= 1) {\r\n                    done();\r\n                }\r\n            }\r\n            else {\r\n                done();\r\n            }\r\n        },\r\n        leave(el, remove) {\r\n            const key = String(vnode.key);\r\n            if (el._enterCb) {\r\n                el._enterCb(true /* cancelled */);\r\n            }\r\n            if (state.isUnmounting) {\r\n                return remove();\r\n            }\r\n            callHook(onBeforeLeave, [el]);\r\n            let called = false;\r\n            const done = (el._leaveCb = (cancelled) => {\r\n                if (called)\r\n                    return;\r\n                called = true;\r\n                remove();\r\n                if (cancelled) {\r\n                    callHook(onLeaveCancelled, [el]);\r\n                }\r\n                else {\r\n                    callHook(onAfterLeave, [el]);\r\n                }\r\n                el._leaveCb = undefined;\r\n                if (leavingVNodesCache[key] === vnode) {\r\n                    delete leavingVNodesCache[key];\r\n                }\r\n            });\r\n            leavingVNodesCache[key] = vnode;\r\n            if (onLeave) {\r\n                onLeave(el, done);\r\n                if (onLeave.length <= 1) {\r\n                    done();\r\n                }\r\n            }\r\n            else {\r\n                done();\r\n            }\r\n        },\r\n        clone(vnode) {\r\n            return resolveTransitionHooks(vnode, props, state, instance);\r\n        }\r\n    };\r\n    return hooks;\r\n}\r\n// the placeholder really only handles one special case: KeepAlive\r\n// in the case of a KeepAlive in a leave phase we need to return a KeepAlive\r\n// placeholder with empty content to avoid the KeepAlive instance from being\r\n// unmounted.\r\nfunction emptyPlaceholder(vnode) {\r\n    if (isKeepAlive(vnode)) {\r\n        vnode = cloneVNode(vnode);\r\n        vnode.children = null;\r\n        return vnode;\r\n    }\r\n}\r\nfunction getKeepAliveChild(vnode) {\r\n    return isKeepAlive(vnode)\r\n        ? vnode.children\r\n            ? vnode.children[0]\r\n            : undefined\r\n        : vnode;\r\n}\r\nfunction setTransitionHooks(vnode, hooks) {\r\n    if (vnode.shapeFlag & 6 /* COMPONENT */ && vnode.component) {\r\n        setTransitionHooks(vnode.component.subTree, hooks);\r\n    }\r\n    else if (vnode.shapeFlag & 128 /* SUSPENSE */) {\r\n        vnode.ssContent.transition = hooks.clone(vnode.ssContent);\r\n        vnode.ssFallback.transition = hooks.clone(vnode.ssFallback);\r\n    }\r\n    else {\r\n        vnode.transition = hooks;\r\n    }\r\n}\r\nfunction getTransitionRawChildren(children, keepComment = false) {\r\n    let ret = [];\r\n    let keyedFragmentCount = 0;\r\n    for (let i = 0; i < children.length; i++) {\r\n        const child = children[i];\r\n        // handle fragment children case, e.g. v-for\r\n        if (child.type === Fragment) {\r\n            if (child.patchFlag & 128 /* KEYED_FRAGMENT */)\r\n                keyedFragmentCount++;\r\n            ret = ret.concat(getTransitionRawChildren(child.children, keepComment));\r\n        }\r\n        // comment placeholders should be skipped, e.g. v-if\r\n        else if (keepComment || child.type !== Comment) {\r\n            ret.push(child);\r\n        }\r\n    }\r\n    // #1126 if a transition children list contains multiple sub fragments, these\r\n    // fragments will be merged into a flat children array. Since each v-for\r\n    // fragment may contain different static bindings inside, we need to de-op\r\n    // these children to force full diffs to ensure correct behavior.\r\n    if (keyedFragmentCount > 1) {\r\n        for (let i = 0; i < ret.length; i++) {\r\n            ret[i].patchFlag = -2 /* BAIL */;\r\n        }\r\n    }\r\n    return ret;\r\n}\n\n// implementation, close to no-op\r\nfunction defineComponent(options) {\r\n    return isFunction(options) ? { setup: options, name: options.name } : options;\r\n}\n\nconst isAsyncWrapper = (i) => !!i.type.__asyncLoader;\r\nfunction defineAsyncComponent(source) {\r\n    if (isFunction(source)) {\r\n        source = { loader: source };\r\n    }\r\n    const { loader, loadingComponent, errorComponent, delay = 200, timeout, // undefined = never times out\r\n    suspensible = true, onError: userOnError } = source;\r\n    let pendingRequest = null;\r\n    let resolvedComp;\r\n    let retries = 0;\r\n    const retry = () => {\r\n        retries++;\r\n        pendingRequest = null;\r\n        return load();\r\n    };\r\n    const load = () => {\r\n        let thisRequest;\r\n        return (pendingRequest ||\r\n            (thisRequest = pendingRequest =\r\n                loader()\r\n                    .catch(err => {\r\n                    err = err instanceof Error ? err : new Error(String(err));\r\n                    if (userOnError) {\r\n                        return new Promise((resolve, reject) => {\r\n                            const userRetry = () => resolve(retry());\r\n                            const userFail = () => reject(err);\r\n                            userOnError(err, userRetry, userFail, retries + 1);\r\n                        });\r\n                    }\r\n                    else {\r\n                        throw err;\r\n                    }\r\n                })\r\n                    .then((comp) => {\r\n                    if (thisRequest !== pendingRequest && pendingRequest) {\r\n                        return pendingRequest;\r\n                    }\r\n                    if ((process.env.NODE_ENV !== 'production') && !comp) {\r\n                        warn(`Async component loader resolved to undefined. ` +\r\n                            `If you are using retry(), make sure to return its return value.`);\r\n                    }\r\n                    // interop module default\r\n                    if (comp &&\r\n                        (comp.__esModule || comp[Symbol.toStringTag] === 'Module')) {\r\n                        comp = comp.default;\r\n                    }\r\n                    if ((process.env.NODE_ENV !== 'production') && comp && !isObject(comp) && !isFunction(comp)) {\r\n                        throw new Error(`Invalid async component load result: ${comp}`);\r\n                    }\r\n                    resolvedComp = comp;\r\n                    return comp;\r\n                })));\r\n    };\r\n    return defineComponent({\r\n        name: 'AsyncComponentWrapper',\r\n        __asyncLoader: load,\r\n        get __asyncResolved() {\r\n            return resolvedComp;\r\n        },\r\n        setup() {\r\n            const instance = currentInstance;\r\n            // already resolved\r\n            if (resolvedComp) {\r\n                return () => createInnerComp(resolvedComp, instance);\r\n            }\r\n            const onError = (err) => {\r\n                pendingRequest = null;\r\n                handleError(err, instance, 13 /* ASYNC_COMPONENT_LOADER */, !errorComponent /* do not throw in dev if user provided error component */);\r\n            };\r\n            // suspense-controlled or SSR.\r\n            if ((suspensible && instance.suspense) ||\r\n                (isInSSRComponentSetup)) {\r\n                return load()\r\n                    .then(comp => {\r\n                    return () => createInnerComp(comp, instance);\r\n                })\r\n                    .catch(err => {\r\n                    onError(err);\r\n                    return () => errorComponent\r\n                        ? createVNode(errorComponent, {\r\n                            error: err\r\n                        })\r\n                        : null;\r\n                });\r\n            }\r\n            const loaded = ref(false);\r\n            const error = ref();\r\n            const delayed = ref(!!delay);\r\n            if (delay) {\r\n                setTimeout(() => {\r\n                    delayed.value = false;\r\n                }, delay);\r\n            }\r\n            if (timeout != null) {\r\n                setTimeout(() => {\r\n                    if (!loaded.value && !error.value) {\r\n                        const err = new Error(`Async component timed out after ${timeout}ms.`);\r\n                        onError(err);\r\n                        error.value = err;\r\n                    }\r\n                }, timeout);\r\n            }\r\n            load()\r\n                .then(() => {\r\n                loaded.value = true;\r\n                if (instance.parent && isKeepAlive(instance.parent.vnode)) {\r\n                    // parent is keep-alive, force update so the loaded component's\r\n                    // name is taken into account\r\n                    queueJob(instance.parent.update);\r\n                }\r\n            })\r\n                .catch(err => {\r\n                onError(err);\r\n                error.value = err;\r\n            });\r\n            return () => {\r\n                if (loaded.value && resolvedComp) {\r\n                    return createInnerComp(resolvedComp, instance);\r\n                }\r\n                else if (error.value && errorComponent) {\r\n                    return createVNode(errorComponent, {\r\n                        error: error.value\r\n                    });\r\n                }\r\n                else if (loadingComponent && !delayed.value) {\r\n                    return createVNode(loadingComponent);\r\n                }\r\n            };\r\n        }\r\n    });\r\n}\r\nfunction createInnerComp(comp, { vnode: { ref, props, children } }) {\r\n    const vnode = createVNode(comp, props, children);\r\n    // ensure inner component inherits the async wrapper's ref owner\r\n    vnode.ref = ref;\r\n    return vnode;\r\n}\n\nconst isKeepAlive = (vnode) => vnode.type.__isKeepAlive;\r\nconst KeepAliveImpl = {\r\n    name: `KeepAlive`,\r\n    // Marker for special handling inside the renderer. We are not using a ===\r\n    // check directly on KeepAlive in the renderer, because importing it directly\r\n    // would prevent it from being tree-shaken.\r\n    __isKeepAlive: true,\r\n    props: {\r\n        include: [String, RegExp, Array],\r\n        exclude: [String, RegExp, Array],\r\n        max: [String, Number]\r\n    },\r\n    setup(props, { slots }) {\r\n        const instance = getCurrentInstance();\r\n        // KeepAlive communicates with the instantiated renderer via the\r\n        // ctx where the renderer passes in its internals,\r\n        // and the KeepAlive instance exposes activate/deactivate implementations.\r\n        // The whole point of this is to avoid importing KeepAlive directly in the\r\n        // renderer to facilitate tree-shaking.\r\n        const sharedContext = instance.ctx;\r\n        // if the internal renderer is not registered, it indicates that this is server-side rendering,\r\n        // for KeepAlive, we just need to render its children\r\n        if (!sharedContext.renderer) {\r\n            return slots.default;\r\n        }\r\n        const cache = new Map();\r\n        const keys = new Set();\r\n        let current = null;\r\n        if ((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) {\r\n            instance.__v_cache = cache;\r\n        }\r\n        const parentSuspense = instance.suspense;\r\n        const { renderer: { p: patch, m: move, um: _unmount, o: { createElement } } } = sharedContext;\r\n        const storageContainer = createElement('div');\r\n        sharedContext.activate = (vnode, container, anchor, isSVG, optimized) => {\r\n            const instance = vnode.component;\r\n            move(vnode, container, anchor, 0 /* ENTER */, parentSuspense);\r\n            // in case props have changed\r\n            patch(instance.vnode, vnode, container, anchor, instance, parentSuspense, isSVG, vnode.slotScopeIds, optimized);\r\n            queuePostRenderEffect(() => {\r\n                instance.isDeactivated = false;\r\n                if (instance.a) {\r\n                    invokeArrayFns(instance.a);\r\n                }\r\n                const vnodeHook = vnode.props && vnode.props.onVnodeMounted;\r\n                if (vnodeHook) {\r\n                    invokeVNodeHook(vnodeHook, instance.parent, vnode);\r\n                }\r\n            }, parentSuspense);\r\n            if ((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) {\r\n                // Update components tree\r\n                devtoolsComponentAdded(instance);\r\n            }\r\n        };\r\n        sharedContext.deactivate = (vnode) => {\r\n            const instance = vnode.component;\r\n            move(vnode, storageContainer, null, 1 /* LEAVE */, parentSuspense);\r\n            queuePostRenderEffect(() => {\r\n                if (instance.da) {\r\n                    invokeArrayFns(instance.da);\r\n                }\r\n                const vnodeHook = vnode.props && vnode.props.onVnodeUnmounted;\r\n                if (vnodeHook) {\r\n                    invokeVNodeHook(vnodeHook, instance.parent, vnode);\r\n                }\r\n                instance.isDeactivated = true;\r\n            }, parentSuspense);\r\n            if ((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) {\r\n                // Update components tree\r\n                devtoolsComponentAdded(instance);\r\n            }\r\n        };\r\n        function unmount(vnode) {\r\n            // reset the shapeFlag so it can be properly unmounted\r\n            resetShapeFlag(vnode);\r\n            _unmount(vnode, instance, parentSuspense, true);\r\n        }\r\n        function pruneCache(filter) {\r\n            cache.forEach((vnode, key) => {\r\n                const name = getComponentName(vnode.type);\r\n                if (name && (!filter || !filter(name))) {\r\n                    pruneCacheEntry(key);\r\n                }\r\n            });\r\n        }\r\n        function pruneCacheEntry(key) {\r\n            const cached = cache.get(key);\r\n            if (!current || cached.type !== current.type) {\r\n                unmount(cached);\r\n            }\r\n            else if (current) {\r\n                // current active instance should no longer be kept-alive.\r\n                // we can't unmount it now but it might be later, so reset its flag now.\r\n                resetShapeFlag(current);\r\n            }\r\n            cache.delete(key);\r\n            keys.delete(key);\r\n        }\r\n        // prune cache on include/exclude prop change\r\n        watch(() => [props.include, props.exclude], ([include, exclude]) => {\r\n            include && pruneCache(name => matches(include, name));\r\n            exclude && pruneCache(name => !matches(exclude, name));\r\n        }, \r\n        // prune post-render after `current` has been updated\r\n        { flush: 'post', deep: true });\r\n        // cache sub tree after render\r\n        let pendingCacheKey = null;\r\n        const cacheSubtree = () => {\r\n            // fix #1621, the pendingCacheKey could be 0\r\n            if (pendingCacheKey != null) {\r\n                cache.set(pendingCacheKey, getInnerChild(instance.subTree));\r\n            }\r\n        };\r\n        onMounted(cacheSubtree);\r\n        onUpdated(cacheSubtree);\r\n        onBeforeUnmount(() => {\r\n            cache.forEach(cached => {\r\n                const { subTree, suspense } = instance;\r\n                const vnode = getInnerChild(subTree);\r\n                if (cached.type === vnode.type) {\r\n                    // current instance will be unmounted as part of keep-alive's unmount\r\n                    resetShapeFlag(vnode);\r\n                    // but invoke its deactivated hook here\r\n                    const da = vnode.component.da;\r\n                    da && queuePostRenderEffect(da, suspense);\r\n                    return;\r\n                }\r\n                unmount(cached);\r\n            });\r\n        });\r\n        return () => {\r\n            pendingCacheKey = null;\r\n            if (!slots.default) {\r\n                return null;\r\n            }\r\n            const children = slots.default();\r\n            const rawVNode = children[0];\r\n            if (children.length > 1) {\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    warn(`KeepAlive should contain exactly one component child.`);\r\n                }\r\n                current = null;\r\n                return children;\r\n            }\r\n            else if (!isVNode(rawVNode) ||\r\n                (!(rawVNode.shapeFlag & 4 /* STATEFUL_COMPONENT */) &&\r\n                    !(rawVNode.shapeFlag & 128 /* SUSPENSE */))) {\r\n                current = null;\r\n                return rawVNode;\r\n            }\r\n            let vnode = getInnerChild(rawVNode);\r\n            const comp = vnode.type;\r\n            // for async components, name check should be based in its loaded\r\n            // inner component if available\r\n            const name = getComponentName(isAsyncWrapper(vnode)\r\n                ? vnode.type.__asyncResolved || {}\r\n                : comp);\r\n            const { include, exclude, max } = props;\r\n            if ((include && (!name || !matches(include, name))) ||\r\n                (exclude && name && matches(exclude, name))) {\r\n                current = vnode;\r\n                return rawVNode;\r\n            }\r\n            const key = vnode.key == null ? comp : vnode.key;\r\n            const cachedVNode = cache.get(key);\r\n            // clone vnode if it's reused because we are going to mutate it\r\n            if (vnode.el) {\r\n                vnode = cloneVNode(vnode);\r\n                if (rawVNode.shapeFlag & 128 /* SUSPENSE */) {\r\n                    rawVNode.ssContent = vnode;\r\n                }\r\n            }\r\n            // #1513 it's possible for the returned vnode to be cloned due to attr\r\n            // fallthrough or scopeId, so the vnode here may not be the final vnode\r\n            // that is mounted. Instead of caching it directly, we store the pending\r\n            // key and cache `instance.subTree` (the normalized vnode) in\r\n            // beforeMount/beforeUpdate hooks.\r\n            pendingCacheKey = key;\r\n            if (cachedVNode) {\r\n                // copy over mounted state\r\n                vnode.el = cachedVNode.el;\r\n                vnode.component = cachedVNode.component;\r\n                if (vnode.transition) {\r\n                    // recursively update transition hooks on subTree\r\n                    setTransitionHooks(vnode, vnode.transition);\r\n                }\r\n                // avoid vnode being mounted as fresh\r\n                vnode.shapeFlag |= 512 /* COMPONENT_KEPT_ALIVE */;\r\n                // make this key the freshest\r\n                keys.delete(key);\r\n                keys.add(key);\r\n            }\r\n            else {\r\n                keys.add(key);\r\n                // prune oldest entry\r\n                if (max && keys.size > parseInt(max, 10)) {\r\n                    pruneCacheEntry(keys.values().next().value);\r\n                }\r\n            }\r\n            // avoid vnode being unmounted\r\n            vnode.shapeFlag |= 256 /* COMPONENT_SHOULD_KEEP_ALIVE */;\r\n            current = vnode;\r\n            return rawVNode;\r\n        };\r\n    }\r\n};\r\n// export the public type for h/tsx inference\r\n// also to avoid inline import() in generated d.ts files\r\nconst KeepAlive = KeepAliveImpl;\r\nfunction matches(pattern, name) {\r\n    if (isArray(pattern)) {\r\n        return pattern.some((p) => matches(p, name));\r\n    }\r\n    else if (isString(pattern)) {\r\n        return pattern.split(',').indexOf(name) > -1;\r\n    }\r\n    else if (pattern.test) {\r\n        return pattern.test(name);\r\n    }\r\n    /* istanbul ignore next */\r\n    return false;\r\n}\r\nfunction onActivated(hook, target) {\r\n    registerKeepAliveHook(hook, \"a\" /* ACTIVATED */, target);\r\n}\r\nfunction onDeactivated(hook, target) {\r\n    registerKeepAliveHook(hook, \"da\" /* DEACTIVATED */, target);\r\n}\r\nfunction registerKeepAliveHook(hook, type, target = currentInstance) {\r\n    // cache the deactivate branch check wrapper for injected hooks so the same\r\n    // hook can be properly deduped by the scheduler. \"__wdc\" stands for \"with\r\n    // deactivation check\".\r\n    const wrappedHook = hook.__wdc ||\r\n        (hook.__wdc = () => {\r\n            // only fire the hook if the target instance is NOT in a deactivated branch.\r\n            let current = target;\r\n            while (current) {\r\n                if (current.isDeactivated) {\r\n                    return;\r\n                }\r\n                current = current.parent;\r\n            }\r\n            return hook();\r\n        });\r\n    injectHook(type, wrappedHook, target);\r\n    // In addition to registering it on the target instance, we walk up the parent\r\n    // chain and register it on all ancestor instances that are keep-alive roots.\r\n    // This avoids the need to walk the entire component tree when invoking these\r\n    // hooks, and more importantly, avoids the need to track child components in\r\n    // arrays.\r\n    if (target) {\r\n        let current = target.parent;\r\n        while (current && current.parent) {\r\n            if (isKeepAlive(current.parent.vnode)) {\r\n                injectToKeepAliveRoot(wrappedHook, type, target, current);\r\n            }\r\n            current = current.parent;\r\n        }\r\n    }\r\n}\r\nfunction injectToKeepAliveRoot(hook, type, target, keepAliveRoot) {\r\n    // injectHook wraps the original for error handling, so make sure to remove\r\n    // the wrapped version.\r\n    const injected = injectHook(type, hook, keepAliveRoot, true /* prepend */);\r\n    onUnmounted(() => {\r\n        remove(keepAliveRoot[type], injected);\r\n    }, target);\r\n}\r\nfunction resetShapeFlag(vnode) {\r\n    let shapeFlag = vnode.shapeFlag;\r\n    if (shapeFlag & 256 /* COMPONENT_SHOULD_KEEP_ALIVE */) {\r\n        shapeFlag -= 256 /* COMPONENT_SHOULD_KEEP_ALIVE */;\r\n    }\r\n    if (shapeFlag & 512 /* COMPONENT_KEPT_ALIVE */) {\r\n        shapeFlag -= 512 /* COMPONENT_KEPT_ALIVE */;\r\n    }\r\n    vnode.shapeFlag = shapeFlag;\r\n}\r\nfunction getInnerChild(vnode) {\r\n    return vnode.shapeFlag & 128 /* SUSPENSE */ ? vnode.ssContent : vnode;\r\n}\n\nfunction injectHook(type, hook, target = currentInstance, prepend = false) {\r\n    if (target) {\r\n        const hooks = target[type] || (target[type] = []);\r\n        // cache the error handling wrapper for injected hooks so the same hook\r\n        // can be properly deduped by the scheduler. \"__weh\" stands for \"with error\r\n        // handling\".\r\n        const wrappedHook = hook.__weh ||\r\n            (hook.__weh = (...args) => {\r\n                if (target.isUnmounted) {\r\n                    return;\r\n                }\r\n                // disable tracking inside all lifecycle hooks\r\n                // since they can potentially be called inside effects.\r\n                pauseTracking();\r\n                // Set currentInstance during hook invocation.\r\n                // This assumes the hook does not synchronously trigger other hooks, which\r\n                // can only be false when the user does something really funky.\r\n                setCurrentInstance(target);\r\n                const res = callWithAsyncErrorHandling(hook, target, type, args);\r\n                unsetCurrentInstance();\r\n                resetTracking();\r\n                return res;\r\n            });\r\n        if (prepend) {\r\n            hooks.unshift(wrappedHook);\r\n        }\r\n        else {\r\n            hooks.push(wrappedHook);\r\n        }\r\n        return wrappedHook;\r\n    }\r\n    else if ((process.env.NODE_ENV !== 'production')) {\r\n        const apiName = toHandlerKey(ErrorTypeStrings[type].replace(/ hook$/, ''));\r\n        warn(`${apiName} is called when there is no active component instance to be ` +\r\n            `associated with. ` +\r\n            `Lifecycle injection APIs can only be used during execution of setup().` +\r\n            (` If you are using async setup(), make sure to register lifecycle ` +\r\n                    `hooks before the first await statement.`\r\n                ));\r\n    }\r\n}\r\nconst createHook = (lifecycle) => (hook, target = currentInstance) => \r\n// post-create lifecycle registrations are noops during SSR (except for serverPrefetch)\r\n(!isInSSRComponentSetup || lifecycle === \"sp\" /* SERVER_PREFETCH */) &&\r\n    injectHook(lifecycle, hook, target);\r\nconst onBeforeMount = createHook(\"bm\" /* BEFORE_MOUNT */);\r\nconst onMounted = createHook(\"m\" /* MOUNTED */);\r\nconst onBeforeUpdate = createHook(\"bu\" /* BEFORE_UPDATE */);\r\nconst onUpdated = createHook(\"u\" /* UPDATED */);\r\nconst onBeforeUnmount = createHook(\"bum\" /* BEFORE_UNMOUNT */);\r\nconst onUnmounted = createHook(\"um\" /* UNMOUNTED */);\r\nconst onServerPrefetch = createHook(\"sp\" /* SERVER_PREFETCH */);\r\nconst onRenderTriggered = createHook(\"rtg\" /* RENDER_TRIGGERED */);\r\nconst onRenderTracked = createHook(\"rtc\" /* RENDER_TRACKED */);\r\nfunction onErrorCaptured(hook, target = currentInstance) {\r\n    injectHook(\"ec\" /* ERROR_CAPTURED */, hook, target);\r\n}\n\nfunction createDuplicateChecker() {\r\n    const cache = Object.create(null);\r\n    return (type, key) => {\r\n        if (cache[key]) {\r\n            warn(`${type} property \"${key}\" is already defined in ${cache[key]}.`);\r\n        }\r\n        else {\r\n            cache[key] = type;\r\n        }\r\n    };\r\n}\r\nlet shouldCacheAccess = true;\r\nfunction applyOptions(instance) {\r\n    const options = resolveMergedOptions(instance);\r\n    const publicThis = instance.proxy;\r\n    const ctx = instance.ctx;\r\n    // do not cache property access on public proxy during state initialization\r\n    shouldCacheAccess = false;\r\n    // call beforeCreate first before accessing other options since\r\n    // the hook may mutate resolved options (#2791)\r\n    if (options.beforeCreate) {\r\n        callHook(options.beforeCreate, instance, \"bc\" /* BEFORE_CREATE */);\r\n    }\r\n    const { \r\n    // state\r\n    data: dataOptions, computed: computedOptions, methods, watch: watchOptions, provide: provideOptions, inject: injectOptions, \r\n    // lifecycle\r\n    created, beforeMount, mounted, beforeUpdate, updated, activated, deactivated, beforeDestroy, beforeUnmount, destroyed, unmounted, render, renderTracked, renderTriggered, errorCaptured, serverPrefetch, \r\n    // public API\r\n    expose, inheritAttrs, \r\n    // assets\r\n    components, directives, filters } = options;\r\n    const checkDuplicateProperties = (process.env.NODE_ENV !== 'production') ? createDuplicateChecker() : null;\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        const [propsOptions] = instance.propsOptions;\r\n        if (propsOptions) {\r\n            for (const key in propsOptions) {\r\n                checkDuplicateProperties(\"Props\" /* PROPS */, key);\r\n            }\r\n        }\r\n    }\r\n    // options initialization order (to be consistent with Vue 2):\r\n    // - props (already done outside of this function)\r\n    // - inject\r\n    // - methods\r\n    // - data (deferred since it relies on `this` access)\r\n    // - computed\r\n    // - watch (deferred since it relies on `this` access)\r\n    if (injectOptions) {\r\n        resolveInjections(injectOptions, ctx, checkDuplicateProperties, instance.appContext.config.unwrapInjectedRef);\r\n    }\r\n    if (methods) {\r\n        for (const key in methods) {\r\n            const methodHandler = methods[key];\r\n            if (isFunction(methodHandler)) {\r\n                // In dev mode, we use the `createRenderContext` function to define\r\n                // methods to the proxy target, and those are read-only but\r\n                // reconfigurable, so it needs to be redefined here\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    Object.defineProperty(ctx, key, {\r\n                        value: methodHandler.bind(publicThis),\r\n                        configurable: true,\r\n                        enumerable: true,\r\n                        writable: true\r\n                    });\r\n                }\r\n                else {\r\n                    ctx[key] = methodHandler.bind(publicThis);\r\n                }\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    checkDuplicateProperties(\"Methods\" /* METHODS */, key);\r\n                }\r\n            }\r\n            else if ((process.env.NODE_ENV !== 'production')) {\r\n                warn(`Method \"${key}\" has type \"${typeof methodHandler}\" in the component definition. ` +\r\n                    `Did you reference the function correctly?`);\r\n            }\r\n        }\r\n    }\r\n    if (dataOptions) {\r\n        if ((process.env.NODE_ENV !== 'production') && !isFunction(dataOptions)) {\r\n            warn(`The data option must be a function. ` +\r\n                `Plain object usage is no longer supported.`);\r\n        }\r\n        const data = dataOptions.call(publicThis, publicThis);\r\n        if ((process.env.NODE_ENV !== 'production') && isPromise(data)) {\r\n            warn(`data() returned a Promise - note data() cannot be async; If you ` +\r\n                `intend to perform data fetching before component renders, use ` +\r\n                `async setup() + <Suspense>.`);\r\n        }\r\n        if (!isObject(data)) {\r\n            (process.env.NODE_ENV !== 'production') && warn(`data() should return an object.`);\r\n        }\r\n        else {\r\n            instance.data = reactive(data);\r\n            if ((process.env.NODE_ENV !== 'production')) {\r\n                for (const key in data) {\r\n                    checkDuplicateProperties(\"Data\" /* DATA */, key);\r\n                    // expose data on ctx during dev\r\n                    if (key[0] !== '$' && key[0] !== '_') {\r\n                        Object.defineProperty(ctx, key, {\r\n                            configurable: true,\r\n                            enumerable: true,\r\n                            get: () => data[key],\r\n                            set: NOOP\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    // state initialization complete at this point - start caching access\r\n    shouldCacheAccess = true;\r\n    if (computedOptions) {\r\n        for (const key in computedOptions) {\r\n            const opt = computedOptions[key];\r\n            const get = isFunction(opt)\r\n                ? opt.bind(publicThis, publicThis)\r\n                : isFunction(opt.get)\r\n                    ? opt.get.bind(publicThis, publicThis)\r\n                    : NOOP;\r\n            if ((process.env.NODE_ENV !== 'production') && get === NOOP) {\r\n                warn(`Computed property \"${key}\" has no getter.`);\r\n            }\r\n            const set = !isFunction(opt) && isFunction(opt.set)\r\n                ? opt.set.bind(publicThis)\r\n                : (process.env.NODE_ENV !== 'production')\r\n                    ? () => {\r\n                        warn(`Write operation failed: computed property \"${key}\" is readonly.`);\r\n                    }\r\n                    : NOOP;\r\n            const c = computed$1({\r\n                get,\r\n                set\r\n            });\r\n            Object.defineProperty(ctx, key, {\r\n                enumerable: true,\r\n                configurable: true,\r\n                get: () => c.value,\r\n                set: v => (c.value = v)\r\n            });\r\n            if ((process.env.NODE_ENV !== 'production')) {\r\n                checkDuplicateProperties(\"Computed\" /* COMPUTED */, key);\r\n            }\r\n        }\r\n    }\r\n    if (watchOptions) {\r\n        for (const key in watchOptions) {\r\n            createWatcher(watchOptions[key], ctx, publicThis, key);\r\n        }\r\n    }\r\n    if (provideOptions) {\r\n        const provides = isFunction(provideOptions)\r\n            ? provideOptions.call(publicThis)\r\n            : provideOptions;\r\n        Reflect.ownKeys(provides).forEach(key => {\r\n            provide(key, provides[key]);\r\n        });\r\n    }\r\n    if (created) {\r\n        callHook(created, instance, \"c\" /* CREATED */);\r\n    }\r\n    function registerLifecycleHook(register, hook) {\r\n        if (isArray(hook)) {\r\n            hook.forEach(_hook => register(_hook.bind(publicThis)));\r\n        }\r\n        else if (hook) {\r\n            register(hook.bind(publicThis));\r\n        }\r\n    }\r\n    registerLifecycleHook(onBeforeMount, beforeMount);\r\n    registerLifecycleHook(onMounted, mounted);\r\n    registerLifecycleHook(onBeforeUpdate, beforeUpdate);\r\n    registerLifecycleHook(onUpdated, updated);\r\n    registerLifecycleHook(onActivated, activated);\r\n    registerLifecycleHook(onDeactivated, deactivated);\r\n    registerLifecycleHook(onErrorCaptured, errorCaptured);\r\n    registerLifecycleHook(onRenderTracked, renderTracked);\r\n    registerLifecycleHook(onRenderTriggered, renderTriggered);\r\n    registerLifecycleHook(onBeforeUnmount, beforeUnmount);\r\n    registerLifecycleHook(onUnmounted, unmounted);\r\n    registerLifecycleHook(onServerPrefetch, serverPrefetch);\r\n    if (isArray(expose)) {\r\n        if (expose.length) {\r\n            const exposed = instance.exposed || (instance.exposed = {});\r\n            expose.forEach(key => {\r\n                Object.defineProperty(exposed, key, {\r\n                    get: () => publicThis[key],\r\n                    set: val => (publicThis[key] = val)\r\n                });\r\n            });\r\n        }\r\n        else if (!instance.exposed) {\r\n            instance.exposed = {};\r\n        }\r\n    }\r\n    // options that are handled when creating the instance but also need to be\r\n    // applied from mixins\r\n    if (render && instance.render === NOOP) {\r\n        instance.render = render;\r\n    }\r\n    if (inheritAttrs != null) {\r\n        instance.inheritAttrs = inheritAttrs;\r\n    }\r\n    // asset options.\r\n    if (components)\r\n        instance.components = components;\r\n    if (directives)\r\n        instance.directives = directives;\r\n}\r\nfunction resolveInjections(injectOptions, ctx, checkDuplicateProperties = NOOP, unwrapRef = false) {\r\n    if (isArray(injectOptions)) {\r\n        injectOptions = normalizeInject(injectOptions);\r\n    }\r\n    for (const key in injectOptions) {\r\n        const opt = injectOptions[key];\r\n        let injected;\r\n        if (isObject(opt)) {\r\n            if ('default' in opt) {\r\n                injected = inject(opt.from || key, opt.default, true /* treat default function as factory */);\r\n            }\r\n            else {\r\n                injected = inject(opt.from || key);\r\n            }\r\n        }\r\n        else {\r\n            injected = inject(opt);\r\n        }\r\n        if (isRef(injected)) {\r\n            // TODO remove the check in 3.3\r\n            if (unwrapRef) {\r\n                Object.defineProperty(ctx, key, {\r\n                    enumerable: true,\r\n                    configurable: true,\r\n                    get: () => injected.value,\r\n                    set: v => (injected.value = v)\r\n                });\r\n            }\r\n            else {\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    warn(`injected property \"${key}\" is a ref and will be auto-unwrapped ` +\r\n                        `and no longer needs \\`.value\\` in the next minor release. ` +\r\n                        `To opt-in to the new behavior now, ` +\r\n                        `set \\`app.config.unwrapInjectedRef = true\\` (this config is ` +\r\n                        `temporary and will not be needed in the future.)`);\r\n                }\r\n                ctx[key] = injected;\r\n            }\r\n        }\r\n        else {\r\n            ctx[key] = injected;\r\n        }\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            checkDuplicateProperties(\"Inject\" /* INJECT */, key);\r\n        }\r\n    }\r\n}\r\nfunction callHook(hook, instance, type) {\r\n    callWithAsyncErrorHandling(isArray(hook)\r\n        ? hook.map(h => h.bind(instance.proxy))\r\n        : hook.bind(instance.proxy), instance, type);\r\n}\r\nfunction createWatcher(raw, ctx, publicThis, key) {\r\n    const getter = key.includes('.')\r\n        ? createPathGetter(publicThis, key)\r\n        : () => publicThis[key];\r\n    if (isString(raw)) {\r\n        const handler = ctx[raw];\r\n        if (isFunction(handler)) {\r\n            watch(getter, handler);\r\n        }\r\n        else if ((process.env.NODE_ENV !== 'production')) {\r\n            warn(`Invalid watch handler specified by key \"${raw}\"`, handler);\r\n        }\r\n    }\r\n    else if (isFunction(raw)) {\r\n        watch(getter, raw.bind(publicThis));\r\n    }\r\n    else if (isObject(raw)) {\r\n        if (isArray(raw)) {\r\n            raw.forEach(r => createWatcher(r, ctx, publicThis, key));\r\n        }\r\n        else {\r\n            const handler = isFunction(raw.handler)\r\n                ? raw.handler.bind(publicThis)\r\n                : ctx[raw.handler];\r\n            if (isFunction(handler)) {\r\n                watch(getter, handler, raw);\r\n            }\r\n            else if ((process.env.NODE_ENV !== 'production')) {\r\n                warn(`Invalid watch handler specified by key \"${raw.handler}\"`, handler);\r\n            }\r\n        }\r\n    }\r\n    else if ((process.env.NODE_ENV !== 'production')) {\r\n        warn(`Invalid watch option: \"${key}\"`, raw);\r\n    }\r\n}\r\n/**\r\n * Resolve merged options and cache it on the component.\r\n * This is done only once per-component since the merging does not involve\r\n * instances.\r\n */\r\nfunction resolveMergedOptions(instance) {\r\n    const base = instance.type;\r\n    const { mixins, extends: extendsOptions } = base;\r\n    const { mixins: globalMixins, optionsCache: cache, config: { optionMergeStrategies } } = instance.appContext;\r\n    const cached = cache.get(base);\r\n    let resolved;\r\n    if (cached) {\r\n        resolved = cached;\r\n    }\r\n    else if (!globalMixins.length && !mixins && !extendsOptions) {\r\n        {\r\n            resolved = base;\r\n        }\r\n    }\r\n    else {\r\n        resolved = {};\r\n        if (globalMixins.length) {\r\n            globalMixins.forEach(m => mergeOptions(resolved, m, optionMergeStrategies, true));\r\n        }\r\n        mergeOptions(resolved, base, optionMergeStrategies);\r\n    }\r\n    cache.set(base, resolved);\r\n    return resolved;\r\n}\r\nfunction mergeOptions(to, from, strats, asMixin = false) {\r\n    const { mixins, extends: extendsOptions } = from;\r\n    if (extendsOptions) {\r\n        mergeOptions(to, extendsOptions, strats, true);\r\n    }\r\n    if (mixins) {\r\n        mixins.forEach((m) => mergeOptions(to, m, strats, true));\r\n    }\r\n    for (const key in from) {\r\n        if (asMixin && key === 'expose') {\r\n            (process.env.NODE_ENV !== 'production') &&\r\n                warn(`\"expose\" option is ignored when declared in mixins or extends. ` +\r\n                    `It should only be declared in the base component itself.`);\r\n        }\r\n        else {\r\n            const strat = internalOptionMergeStrats[key] || (strats && strats[key]);\r\n            to[key] = strat ? strat(to[key], from[key]) : from[key];\r\n        }\r\n    }\r\n    return to;\r\n}\r\nconst internalOptionMergeStrats = {\r\n    data: mergeDataFn,\r\n    props: mergeObjectOptions,\r\n    emits: mergeObjectOptions,\r\n    // objects\r\n    methods: mergeObjectOptions,\r\n    computed: mergeObjectOptions,\r\n    // lifecycle\r\n    beforeCreate: mergeAsArray,\r\n    created: mergeAsArray,\r\n    beforeMount: mergeAsArray,\r\n    mounted: mergeAsArray,\r\n    beforeUpdate: mergeAsArray,\r\n    updated: mergeAsArray,\r\n    beforeDestroy: mergeAsArray,\r\n    beforeUnmount: mergeAsArray,\r\n    destroyed: mergeAsArray,\r\n    unmounted: mergeAsArray,\r\n    activated: mergeAsArray,\r\n    deactivated: mergeAsArray,\r\n    errorCaptured: mergeAsArray,\r\n    serverPrefetch: mergeAsArray,\r\n    // assets\r\n    components: mergeObjectOptions,\r\n    directives: mergeObjectOptions,\r\n    // watch\r\n    watch: mergeWatchOptions,\r\n    // provide / inject\r\n    provide: mergeDataFn,\r\n    inject: mergeInject\r\n};\r\nfunction mergeDataFn(to, from) {\r\n    if (!from) {\r\n        return to;\r\n    }\r\n    if (!to) {\r\n        return from;\r\n    }\r\n    return function mergedDataFn() {\r\n        return (extend)(isFunction(to) ? to.call(this, this) : to, isFunction(from) ? from.call(this, this) : from);\r\n    };\r\n}\r\nfunction mergeInject(to, from) {\r\n    return mergeObjectOptions(normalizeInject(to), normalizeInject(from));\r\n}\r\nfunction normalizeInject(raw) {\r\n    if (isArray(raw)) {\r\n        const res = {};\r\n        for (let i = 0; i < raw.length; i++) {\r\n            res[raw[i]] = raw[i];\r\n        }\r\n        return res;\r\n    }\r\n    return raw;\r\n}\r\nfunction mergeAsArray(to, from) {\r\n    return to ? [...new Set([].concat(to, from))] : from;\r\n}\r\nfunction mergeObjectOptions(to, from) {\r\n    return to ? extend(extend(Object.create(null), to), from) : from;\r\n}\r\nfunction mergeWatchOptions(to, from) {\r\n    if (!to)\r\n        return from;\r\n    if (!from)\r\n        return to;\r\n    const merged = extend(Object.create(null), to);\r\n    for (const key in from) {\r\n        merged[key] = mergeAsArray(to[key], from[key]);\r\n    }\r\n    return merged;\r\n}\n\nfunction initProps(instance, rawProps, isStateful, // result of bitwise flag comparison\r\nisSSR = false) {\r\n    const props = {};\r\n    const attrs = {};\r\n    def(attrs, InternalObjectKey, 1);\r\n    instance.propsDefaults = Object.create(null);\r\n    setFullProps(instance, rawProps, props, attrs);\r\n    // ensure all declared prop keys are present\r\n    for (const key in instance.propsOptions[0]) {\r\n        if (!(key in props)) {\r\n            props[key] = undefined;\r\n        }\r\n    }\r\n    // validation\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        validateProps(rawProps || {}, props, instance);\r\n    }\r\n    if (isStateful) {\r\n        // stateful\r\n        instance.props = isSSR ? props : shallowReactive(props);\r\n    }\r\n    else {\r\n        if (!instance.type.props) {\r\n            // functional w/ optional props, props === attrs\r\n            instance.props = attrs;\r\n        }\r\n        else {\r\n            // functional w/ declared props\r\n            instance.props = props;\r\n        }\r\n    }\r\n    instance.attrs = attrs;\r\n}\r\nfunction updateProps(instance, rawProps, rawPrevProps, optimized) {\r\n    const { props, attrs, vnode: { patchFlag } } = instance;\r\n    const rawCurrentProps = toRaw(props);\r\n    const [options] = instance.propsOptions;\r\n    let hasAttrsChanged = false;\r\n    if (\r\n    // always force full diff in dev\r\n    // - #1942 if hmr is enabled with sfc component\r\n    // - vite#872 non-sfc component used by sfc component\r\n    !((process.env.NODE_ENV !== 'production') &&\r\n        (instance.type.__hmrId ||\r\n            (instance.parent && instance.parent.type.__hmrId))) &&\r\n        (optimized || patchFlag > 0) &&\r\n        !(patchFlag & 16 /* FULL_PROPS */)) {\r\n        if (patchFlag & 8 /* PROPS */) {\r\n            // Compiler-generated props & no keys change, just set the updated\r\n            // the props.\r\n            const propsToUpdate = instance.vnode.dynamicProps;\r\n            for (let i = 0; i < propsToUpdate.length; i++) {\r\n                let key = propsToUpdate[i];\r\n                // PROPS flag guarantees rawProps to be non-null\r\n                const value = rawProps[key];\r\n                if (options) {\r\n                    // attr / props separation was done on init and will be consistent\r\n                    // in this code path, so just check if attrs have it.\r\n                    if (hasOwn(attrs, key)) {\r\n                        if (value !== attrs[key]) {\r\n                            attrs[key] = value;\r\n                            hasAttrsChanged = true;\r\n                        }\r\n                    }\r\n                    else {\r\n                        const camelizedKey = camelize(key);\r\n                        props[camelizedKey] = resolvePropValue(options, rawCurrentProps, camelizedKey, value, instance, false /* isAbsent */);\r\n                    }\r\n                }\r\n                else {\r\n                    if (value !== attrs[key]) {\r\n                        attrs[key] = value;\r\n                        hasAttrsChanged = true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        // full props update.\r\n        if (setFullProps(instance, rawProps, props, attrs)) {\r\n            hasAttrsChanged = true;\r\n        }\r\n        // in case of dynamic props, check if we need to delete keys from\r\n        // the props object\r\n        let kebabKey;\r\n        for (const key in rawCurrentProps) {\r\n            if (!rawProps ||\r\n                // for camelCase\r\n                (!hasOwn(rawProps, key) &&\r\n                    // it's possible the original props was passed in as kebab-case\r\n                    // and converted to camelCase (#955)\r\n                    ((kebabKey = hyphenate(key)) === key || !hasOwn(rawProps, kebabKey)))) {\r\n                if (options) {\r\n                    if (rawPrevProps &&\r\n                        // for camelCase\r\n                        (rawPrevProps[key] !== undefined ||\r\n                            // for kebab-case\r\n                            rawPrevProps[kebabKey] !== undefined)) {\r\n                        props[key] = resolvePropValue(options, rawCurrentProps, key, undefined, instance, true /* isAbsent */);\r\n                    }\r\n                }\r\n                else {\r\n                    delete props[key];\r\n                }\r\n            }\r\n        }\r\n        // in the case of functional component w/o props declaration, props and\r\n        // attrs point to the same object so it should already have been updated.\r\n        if (attrs !== rawCurrentProps) {\r\n            for (const key in attrs) {\r\n                if (!rawProps || !hasOwn(rawProps, key)) {\r\n                    delete attrs[key];\r\n                    hasAttrsChanged = true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    // trigger updates for $attrs in case it's used in component slots\r\n    if (hasAttrsChanged) {\r\n        trigger(instance, \"set\" /* SET */, '$attrs');\r\n    }\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        validateProps(rawProps || {}, props, instance);\r\n    }\r\n}\r\nfunction setFullProps(instance, rawProps, props, attrs) {\r\n    const [options, needCastKeys] = instance.propsOptions;\r\n    let hasAttrsChanged = false;\r\n    let rawCastValues;\r\n    if (rawProps) {\r\n        for (let key in rawProps) {\r\n            // key, ref are reserved and never passed down\r\n            if (isReservedProp(key)) {\r\n                continue;\r\n            }\r\n            const value = rawProps[key];\r\n            // prop option names are camelized during normalization, so to support\r\n            // kebab -> camel conversion here we need to camelize the key.\r\n            let camelKey;\r\n            if (options && hasOwn(options, (camelKey = camelize(key)))) {\r\n                if (!needCastKeys || !needCastKeys.includes(camelKey)) {\r\n                    props[camelKey] = value;\r\n                }\r\n                else {\r\n                    (rawCastValues || (rawCastValues = {}))[camelKey] = value;\r\n                }\r\n            }\r\n            else if (!isEmitListener(instance.emitsOptions, key)) {\r\n                if (!(key in attrs) || value !== attrs[key]) {\r\n                    attrs[key] = value;\r\n                    hasAttrsChanged = true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    if (needCastKeys) {\r\n        const rawCurrentProps = toRaw(props);\r\n        const castValues = rawCastValues || EMPTY_OBJ;\r\n        for (let i = 0; i < needCastKeys.length; i++) {\r\n            const key = needCastKeys[i];\r\n            props[key] = resolvePropValue(options, rawCurrentProps, key, castValues[key], instance, !hasOwn(castValues, key));\r\n        }\r\n    }\r\n    return hasAttrsChanged;\r\n}\r\nfunction resolvePropValue(options, props, key, value, instance, isAbsent) {\r\n    const opt = options[key];\r\n    if (opt != null) {\r\n        const hasDefault = hasOwn(opt, 'default');\r\n        // default values\r\n        if (hasDefault && value === undefined) {\r\n            const defaultValue = opt.default;\r\n            if (opt.type !== Function && isFunction(defaultValue)) {\r\n                const { propsDefaults } = instance;\r\n                if (key in propsDefaults) {\r\n                    value = propsDefaults[key];\r\n                }\r\n                else {\r\n                    setCurrentInstance(instance);\r\n                    value = propsDefaults[key] = defaultValue.call(null, props);\r\n                    unsetCurrentInstance();\r\n                }\r\n            }\r\n            else {\r\n                value = defaultValue;\r\n            }\r\n        }\r\n        // boolean casting\r\n        if (opt[0 /* shouldCast */]) {\r\n            if (isAbsent && !hasDefault) {\r\n                value = false;\r\n            }\r\n            else if (opt[1 /* shouldCastTrue */] &&\r\n                (value === '' || value === hyphenate(key))) {\r\n                value = true;\r\n            }\r\n        }\r\n    }\r\n    return value;\r\n}\r\nfunction normalizePropsOptions(comp, appContext, asMixin = false) {\r\n    const cache = appContext.propsCache;\r\n    const cached = cache.get(comp);\r\n    if (cached) {\r\n        return cached;\r\n    }\r\n    const raw = comp.props;\r\n    const normalized = {};\r\n    const needCastKeys = [];\r\n    // apply mixin/extends props\r\n    let hasExtends = false;\r\n    if (__VUE_OPTIONS_API__ && !isFunction(comp)) {\r\n        const extendProps = (raw) => {\r\n            hasExtends = true;\r\n            const [props, keys] = normalizePropsOptions(raw, appContext, true);\r\n            extend(normalized, props);\r\n            if (keys)\r\n                needCastKeys.push(...keys);\r\n        };\r\n        if (!asMixin && appContext.mixins.length) {\r\n            appContext.mixins.forEach(extendProps);\r\n        }\r\n        if (comp.extends) {\r\n            extendProps(comp.extends);\r\n        }\r\n        if (comp.mixins) {\r\n            comp.mixins.forEach(extendProps);\r\n        }\r\n    }\r\n    if (!raw && !hasExtends) {\r\n        cache.set(comp, EMPTY_ARR);\r\n        return EMPTY_ARR;\r\n    }\r\n    if (isArray(raw)) {\r\n        for (let i = 0; i < raw.length; i++) {\r\n            if ((process.env.NODE_ENV !== 'production') && !isString(raw[i])) {\r\n                warn(`props must be strings when using array syntax.`, raw[i]);\r\n            }\r\n            const normalizedKey = camelize(raw[i]);\r\n            if (validatePropName(normalizedKey)) {\r\n                normalized[normalizedKey] = EMPTY_OBJ;\r\n            }\r\n        }\r\n    }\r\n    else if (raw) {\r\n        if ((process.env.NODE_ENV !== 'production') && !isObject(raw)) {\r\n            warn(`invalid props options`, raw);\r\n        }\r\n        for (const key in raw) {\r\n            const normalizedKey = camelize(key);\r\n            if (validatePropName(normalizedKey)) {\r\n                const opt = raw[key];\r\n                const prop = (normalized[normalizedKey] =\r\n                    isArray(opt) || isFunction(opt) ? { type: opt } : opt);\r\n                if (prop) {\r\n                    const booleanIndex = getTypeIndex(Boolean, prop.type);\r\n                    const stringIndex = getTypeIndex(String, prop.type);\r\n                    prop[0 /* shouldCast */] = booleanIndex > -1;\r\n                    prop[1 /* shouldCastTrue */] =\r\n                        stringIndex < 0 || booleanIndex < stringIndex;\r\n                    // if the prop needs boolean casting or default value\r\n                    if (booleanIndex > -1 || hasOwn(prop, 'default')) {\r\n                        needCastKeys.push(normalizedKey);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    const res = [normalized, needCastKeys];\r\n    cache.set(comp, res);\r\n    return res;\r\n}\r\nfunction validatePropName(key) {\r\n    if (key[0] !== '$') {\r\n        return true;\r\n    }\r\n    else if ((process.env.NODE_ENV !== 'production')) {\r\n        warn(`Invalid prop name: \"${key}\" is a reserved property.`);\r\n    }\r\n    return false;\r\n}\r\n// use function string name to check type constructors\r\n// so that it works across vms / iframes.\r\nfunction getType(ctor) {\r\n    const match = ctor && ctor.toString().match(/^\\s*function (\\w+)/);\r\n    return match ? match[1] : ctor === null ? 'null' : '';\r\n}\r\nfunction isSameType(a, b) {\r\n    return getType(a) === getType(b);\r\n}\r\nfunction getTypeIndex(type, expectedTypes) {\r\n    if (isArray(expectedTypes)) {\r\n        return expectedTypes.findIndex(t => isSameType(t, type));\r\n    }\r\n    else if (isFunction(expectedTypes)) {\r\n        return isSameType(expectedTypes, type) ? 0 : -1;\r\n    }\r\n    return -1;\r\n}\r\n/**\r\n * dev only\r\n */\r\nfunction validateProps(rawProps, props, instance) {\r\n    const resolvedValues = toRaw(props);\r\n    const options = instance.propsOptions[0];\r\n    for (const key in options) {\r\n        let opt = options[key];\r\n        if (opt == null)\r\n            continue;\r\n        validateProp(key, resolvedValues[key], opt, !hasOwn(rawProps, key) && !hasOwn(rawProps, hyphenate(key)));\r\n    }\r\n}\r\n/**\r\n * dev only\r\n */\r\nfunction validateProp(name, value, prop, isAbsent) {\r\n    const { type, required, validator } = prop;\r\n    // required!\r\n    if (required && isAbsent) {\r\n        warn('Missing required prop: \"' + name + '\"');\r\n        return;\r\n    }\r\n    // missing but optional\r\n    if (value == null && !prop.required) {\r\n        return;\r\n    }\r\n    // type check\r\n    if (type != null && type !== true) {\r\n        let isValid = false;\r\n        const types = isArray(type) ? type : [type];\r\n        const expectedTypes = [];\r\n        // value is valid as long as one of the specified types match\r\n        for (let i = 0; i < types.length && !isValid; i++) {\r\n            const { valid, expectedType } = assertType(value, types[i]);\r\n            expectedTypes.push(expectedType || '');\r\n            isValid = valid;\r\n        }\r\n        if (!isValid) {\r\n            warn(getInvalidTypeMessage(name, value, expectedTypes));\r\n            return;\r\n        }\r\n    }\r\n    // custom validator\r\n    if (validator && !validator(value)) {\r\n        warn('Invalid prop: custom validator check failed for prop \"' + name + '\".');\r\n    }\r\n}\r\nconst isSimpleType = /*#__PURE__*/ makeMap('String,Number,Boolean,Function,Symbol,BigInt');\r\n/**\r\n * dev only\r\n */\r\nfunction assertType(value, type) {\r\n    let valid;\r\n    const expectedType = getType(type);\r\n    if (isSimpleType(expectedType)) {\r\n        const t = typeof value;\r\n        valid = t === expectedType.toLowerCase();\r\n        // for primitive wrapper objects\r\n        if (!valid && t === 'object') {\r\n            valid = value instanceof type;\r\n        }\r\n    }\r\n    else if (expectedType === 'Object') {\r\n        valid = isObject(value);\r\n    }\r\n    else if (expectedType === 'Array') {\r\n        valid = isArray(value);\r\n    }\r\n    else if (expectedType === 'null') {\r\n        valid = value === null;\r\n    }\r\n    else {\r\n        valid = value instanceof type;\r\n    }\r\n    return {\r\n        valid,\r\n        expectedType\r\n    };\r\n}\r\n/**\r\n * dev only\r\n */\r\nfunction getInvalidTypeMessage(name, value, expectedTypes) {\r\n    let message = `Invalid prop: type check failed for prop \"${name}\".` +\r\n        ` Expected ${expectedTypes.map(capitalize).join(' | ')}`;\r\n    const expectedType = expectedTypes[0];\r\n    const receivedType = toRawType(value);\r\n    const expectedValue = styleValue(value, expectedType);\r\n    const receivedValue = styleValue(value, receivedType);\r\n    // check if we need to specify expected value\r\n    if (expectedTypes.length === 1 &&\r\n        isExplicable(expectedType) &&\r\n        !isBoolean(expectedType, receivedType)) {\r\n        message += ` with value ${expectedValue}`;\r\n    }\r\n    message += `, got ${receivedType} `;\r\n    // check if we need to specify received value\r\n    if (isExplicable(receivedType)) {\r\n        message += `with value ${receivedValue}.`;\r\n    }\r\n    return message;\r\n}\r\n/**\r\n * dev only\r\n */\r\nfunction styleValue(value, type) {\r\n    if (type === 'String') {\r\n        return `\"${value}\"`;\r\n    }\r\n    else if (type === 'Number') {\r\n        return `${Number(value)}`;\r\n    }\r\n    else {\r\n        return `${value}`;\r\n    }\r\n}\r\n/**\r\n * dev only\r\n */\r\nfunction isExplicable(type) {\r\n    const explicitTypes = ['string', 'number', 'boolean'];\r\n    return explicitTypes.some(elem => type.toLowerCase() === elem);\r\n}\r\n/**\r\n * dev only\r\n */\r\nfunction isBoolean(...args) {\r\n    return args.some(elem => elem.toLowerCase() === 'boolean');\r\n}\n\nconst isInternalKey = (key) => key[0] === '_' || key === '$stable';\r\nconst normalizeSlotValue = (value) => isArray(value)\r\n    ? value.map(normalizeVNode)\r\n    : [normalizeVNode(value)];\r\nconst normalizeSlot = (key, rawSlot, ctx) => {\r\n    const normalized = withCtx((...args) => {\r\n        if ((process.env.NODE_ENV !== 'production') && currentInstance) {\r\n            warn(`Slot \"${key}\" invoked outside of the render function: ` +\r\n                `this will not track dependencies used in the slot. ` +\r\n                `Invoke the slot function inside the render function instead.`);\r\n        }\r\n        return normalizeSlotValue(rawSlot(...args));\r\n    }, ctx);\r\n    normalized._c = false;\r\n    return normalized;\r\n};\r\nconst normalizeObjectSlots = (rawSlots, slots, instance) => {\r\n    const ctx = rawSlots._ctx;\r\n    for (const key in rawSlots) {\r\n        if (isInternalKey(key))\r\n            continue;\r\n        const value = rawSlots[key];\r\n        if (isFunction(value)) {\r\n            slots[key] = normalizeSlot(key, value, ctx);\r\n        }\r\n        else if (value != null) {\r\n            if ((process.env.NODE_ENV !== 'production') &&\r\n                !(false )) {\r\n                warn(`Non-function value encountered for slot \"${key}\". ` +\r\n                    `Prefer function slots for better performance.`);\r\n            }\r\n            const normalized = normalizeSlotValue(value);\r\n            slots[key] = () => normalized;\r\n        }\r\n    }\r\n};\r\nconst normalizeVNodeSlots = (instance, children) => {\r\n    if ((process.env.NODE_ENV !== 'production') &&\r\n        !isKeepAlive(instance.vnode) &&\r\n        !(false )) {\r\n        warn(`Non-function value encountered for default slot. ` +\r\n            `Prefer function slots for better performance.`);\r\n    }\r\n    const normalized = normalizeSlotValue(children);\r\n    instance.slots.default = () => normalized;\r\n};\r\nconst initSlots = (instance, children) => {\r\n    if (instance.vnode.shapeFlag & 32 /* SLOTS_CHILDREN */) {\r\n        const type = children._;\r\n        if (type) {\r\n            // users can get the shallow readonly version of the slots object through `this.$slots`,\r\n            // we should avoid the proxy object polluting the slots of the internal instance\r\n            instance.slots = toRaw(children);\r\n            // make compiler marker non-enumerable\r\n            def(children, '_', type);\r\n        }\r\n        else {\r\n            normalizeObjectSlots(children, (instance.slots = {}));\r\n        }\r\n    }\r\n    else {\r\n        instance.slots = {};\r\n        if (children) {\r\n            normalizeVNodeSlots(instance, children);\r\n        }\r\n    }\r\n    def(instance.slots, InternalObjectKey, 1);\r\n};\r\nconst updateSlots = (instance, children, optimized) => {\r\n    const { vnode, slots } = instance;\r\n    let needDeletionCheck = true;\r\n    let deletionComparisonTarget = EMPTY_OBJ;\r\n    if (vnode.shapeFlag & 32 /* SLOTS_CHILDREN */) {\r\n        const type = children._;\r\n        if (type) {\r\n            // compiled slots.\r\n            if ((process.env.NODE_ENV !== 'production') && isHmrUpdating) {\r\n                // Parent was HMR updated so slot content may have changed.\r\n                // force update slots and mark instance for hmr as well\r\n                extend(slots, children);\r\n            }\r\n            else if (optimized && type === 1 /* STABLE */) {\r\n                // compiled AND stable.\r\n                // no need to update, and skip stale slots removal.\r\n                needDeletionCheck = false;\r\n            }\r\n            else {\r\n                // compiled but dynamic (v-if/v-for on slots) - update slots, but skip\r\n                // normalization.\r\n                extend(slots, children);\r\n                // #2893\r\n                // when rendering the optimized slots by manually written render function,\r\n                // we need to delete the `slots._` flag if necessary to make subsequent updates reliable,\r\n                // i.e. let the `renderSlot` create the bailed Fragment\r\n                if (!optimized && type === 1 /* STABLE */) {\r\n                    delete slots._;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            needDeletionCheck = !children.$stable;\r\n            normalizeObjectSlots(children, slots);\r\n        }\r\n        deletionComparisonTarget = children;\r\n    }\r\n    else if (children) {\r\n        // non slot object children (direct value) passed to a component\r\n        normalizeVNodeSlots(instance, children);\r\n        deletionComparisonTarget = { default: 1 };\r\n    }\r\n    // delete stale slots\r\n    if (needDeletionCheck) {\r\n        for (const key in slots) {\r\n            if (!isInternalKey(key) && !(key in deletionComparisonTarget)) {\r\n                delete slots[key];\r\n            }\r\n        }\r\n    }\r\n};\n\n/**\r\nRuntime helper for applying directives to a vnode. Example usage:\r\n\nconst comp = resolveComponent('comp')\r\nconst foo = resolveDirective('foo')\r\nconst bar = resolveDirective('bar')\r\n\nreturn withDirectives(h(comp), [\r\n  [foo, this.x],\r\n  [bar, this.y]\r\n])\r\n*/\r\nconst isBuiltInDirective = /*#__PURE__*/ makeMap('bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo');\r\nfunction validateDirectiveName(name) {\r\n    if (isBuiltInDirective(name)) {\r\n        warn('Do not use built-in directive ids as custom directive id: ' + name);\r\n    }\r\n}\r\n/**\r\n * Adds directives to a VNode.\r\n */\r\nfunction withDirectives(vnode, directives) {\r\n    const internalInstance = currentRenderingInstance;\r\n    if (internalInstance === null) {\r\n        (process.env.NODE_ENV !== 'production') && warn(`withDirectives can only be used inside render functions.`);\r\n        return vnode;\r\n    }\r\n    const instance = internalInstance.proxy;\r\n    const bindings = vnode.dirs || (vnode.dirs = []);\r\n    for (let i = 0; i < directives.length; i++) {\r\n        let [dir, value, arg, modifiers = EMPTY_OBJ] = directives[i];\r\n        if (isFunction(dir)) {\r\n            dir = {\r\n                mounted: dir,\r\n                updated: dir\r\n            };\r\n        }\r\n        if (dir.deep) {\r\n            traverse(value);\r\n        }\r\n        bindings.push({\r\n            dir,\r\n            instance,\r\n            value,\r\n            oldValue: void 0,\r\n            arg,\r\n            modifiers\r\n        });\r\n    }\r\n    return vnode;\r\n}\r\nfunction invokeDirectiveHook(vnode, prevVNode, instance, name) {\r\n    const bindings = vnode.dirs;\r\n    const oldBindings = prevVNode && prevVNode.dirs;\r\n    for (let i = 0; i < bindings.length; i++) {\r\n        const binding = bindings[i];\r\n        if (oldBindings) {\r\n            binding.oldValue = oldBindings[i].value;\r\n        }\r\n        let hook = binding.dir[name];\r\n        if (hook) {\r\n            // disable tracking inside all lifecycle hooks\r\n            // since they can potentially be called inside effects.\r\n            pauseTracking();\r\n            callWithAsyncErrorHandling(hook, instance, 8 /* DIRECTIVE_HOOK */, [\r\n                vnode.el,\r\n                binding,\r\n                vnode,\r\n                prevVNode\r\n            ]);\r\n            resetTracking();\r\n        }\r\n    }\r\n}\n\nfunction createAppContext() {\r\n    return {\r\n        app: null,\r\n        config: {\r\n            isNativeTag: NO,\r\n            performance: false,\r\n            globalProperties: {},\r\n            optionMergeStrategies: {},\r\n            errorHandler: undefined,\r\n            warnHandler: undefined,\r\n            compilerOptions: {}\r\n        },\r\n        mixins: [],\r\n        components: {},\r\n        directives: {},\r\n        provides: Object.create(null),\r\n        optionsCache: new WeakMap(),\r\n        propsCache: new WeakMap(),\r\n        emitsCache: new WeakMap()\r\n    };\r\n}\r\nlet uid = 0;\r\nfunction createAppAPI(render, hydrate) {\r\n    return function createApp(rootComponent, rootProps = null) {\r\n        if (rootProps != null && !isObject(rootProps)) {\r\n            (process.env.NODE_ENV !== 'production') && warn(`root props passed to app.mount() must be an object.`);\r\n            rootProps = null;\r\n        }\r\n        const context = createAppContext();\r\n        const installedPlugins = new Set();\r\n        let isMounted = false;\r\n        const app = (context.app = {\r\n            _uid: uid++,\r\n            _component: rootComponent,\r\n            _props: rootProps,\r\n            _container: null,\r\n            _context: context,\r\n            _instance: null,\r\n            version,\r\n            get config() {\r\n                return context.config;\r\n            },\r\n            set config(v) {\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    warn(`app.config cannot be replaced. Modify individual options instead.`);\r\n                }\r\n            },\r\n            use(plugin, ...options) {\r\n                if (installedPlugins.has(plugin)) {\r\n                    (process.env.NODE_ENV !== 'production') && warn(`Plugin has already been applied to target app.`);\r\n                }\r\n                else if (plugin && isFunction(plugin.install)) {\r\n                    installedPlugins.add(plugin);\r\n                    plugin.install(app, ...options);\r\n                }\r\n                else if (isFunction(plugin)) {\r\n                    installedPlugins.add(plugin);\r\n                    plugin(app, ...options);\r\n                }\r\n                else if ((process.env.NODE_ENV !== 'production')) {\r\n                    warn(`A plugin must either be a function or an object with an \"install\" ` +\r\n                        `function.`);\r\n                }\r\n                return app;\r\n            },\r\n            mixin(mixin) {\r\n                if (__VUE_OPTIONS_API__) {\r\n                    if (!context.mixins.includes(mixin)) {\r\n                        context.mixins.push(mixin);\r\n                    }\r\n                    else if ((process.env.NODE_ENV !== 'production')) {\r\n                        warn('Mixin has already been applied to target app' +\r\n                            (mixin.name ? `: ${mixin.name}` : ''));\r\n                    }\r\n                }\r\n                else if ((process.env.NODE_ENV !== 'production')) {\r\n                    warn('Mixins are only available in builds supporting Options API');\r\n                }\r\n                return app;\r\n            },\r\n            component(name, component) {\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    validateComponentName(name, context.config);\r\n                }\r\n                if (!component) {\r\n                    return context.components[name];\r\n                }\r\n                if ((process.env.NODE_ENV !== 'production') && context.components[name]) {\r\n                    warn(`Component \"${name}\" has already been registered in target app.`);\r\n                }\r\n                context.components[name] = component;\r\n                return app;\r\n            },\r\n            directive(name, directive) {\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    validateDirectiveName(name);\r\n                }\r\n                if (!directive) {\r\n                    return context.directives[name];\r\n                }\r\n                if ((process.env.NODE_ENV !== 'production') && context.directives[name]) {\r\n                    warn(`Directive \"${name}\" has already been registered in target app.`);\r\n                }\r\n                context.directives[name] = directive;\r\n                return app;\r\n            },\r\n            mount(rootContainer, isHydrate, isSVG) {\r\n                if (!isMounted) {\r\n                    const vnode = createVNode(rootComponent, rootProps);\r\n                    // store app context on the root VNode.\r\n                    // this will be set on the root instance on initial mount.\r\n                    vnode.appContext = context;\r\n                    // HMR root reload\r\n                    if ((process.env.NODE_ENV !== 'production')) {\r\n                        context.reload = () => {\r\n                            render(cloneVNode(vnode), rootContainer, isSVG);\r\n                        };\r\n                    }\r\n                    if (isHydrate && hydrate) {\r\n                        hydrate(vnode, rootContainer);\r\n                    }\r\n                    else {\r\n                        render(vnode, rootContainer, isSVG);\r\n                    }\r\n                    isMounted = true;\r\n                    app._container = rootContainer;\r\n                    rootContainer.__vue_app__ = app;\r\n                    if ((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) {\r\n                        app._instance = vnode.component;\r\n                        devtoolsInitApp(app, version);\r\n                    }\r\n                    return getExposeProxy(vnode.component) || vnode.component.proxy;\r\n                }\r\n                else if ((process.env.NODE_ENV !== 'production')) {\r\n                    warn(`App has already been mounted.\\n` +\r\n                        `If you want to remount the same app, move your app creation logic ` +\r\n                        `into a factory function and create fresh app instances for each ` +\r\n                        `mount - e.g. \\`const createMyApp = () => createApp(App)\\``);\r\n                }\r\n            },\r\n            unmount() {\r\n                if (isMounted) {\r\n                    render(null, app._container);\r\n                    if ((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) {\r\n                        app._instance = null;\r\n                        devtoolsUnmountApp(app);\r\n                    }\r\n                    delete app._container.__vue_app__;\r\n                }\r\n                else if ((process.env.NODE_ENV !== 'production')) {\r\n                    warn(`Cannot unmount an app that is not mounted.`);\r\n                }\r\n            },\r\n            provide(key, value) {\r\n                if ((process.env.NODE_ENV !== 'production') && key in context.provides) {\r\n                    warn(`App already provides property with key \"${String(key)}\". ` +\r\n                        `It will be overwritten with the new value.`);\r\n                }\r\n                // TypeScript doesn't allow symbols as index type\r\n                // https://github.com/Microsoft/TypeScript/issues/24587\r\n                context.provides[key] = value;\r\n                return app;\r\n            }\r\n        });\r\n        return app;\r\n    };\r\n}\n\n/**\r\n * Function for handling a template ref\r\n */\r\nfunction setRef(rawRef, oldRawRef, parentSuspense, vnode, isUnmount = false) {\r\n    if (isArray(rawRef)) {\r\n        rawRef.forEach((r, i) => setRef(r, oldRawRef && (isArray(oldRawRef) ? oldRawRef[i] : oldRawRef), parentSuspense, vnode, isUnmount));\r\n        return;\r\n    }\r\n    if (isAsyncWrapper(vnode) && !isUnmount) {\r\n        // when mounting async components, nothing needs to be done,\r\n        // because the template ref is forwarded to inner component\r\n        return;\r\n    }\r\n    const refValue = vnode.shapeFlag & 4 /* STATEFUL_COMPONENT */\r\n        ? getExposeProxy(vnode.component) || vnode.component.proxy\r\n        : vnode.el;\r\n    const value = isUnmount ? null : refValue;\r\n    const { i: owner, r: ref } = rawRef;\r\n    if ((process.env.NODE_ENV !== 'production') && !owner) {\r\n        warn(`Missing ref owner context. ref cannot be used on hoisted vnodes. ` +\r\n            `A vnode with ref must be created inside the render function.`);\r\n        return;\r\n    }\r\n    const oldRef = oldRawRef && oldRawRef.r;\r\n    const refs = owner.refs === EMPTY_OBJ ? (owner.refs = {}) : owner.refs;\r\n    const setupState = owner.setupState;\r\n    // dynamic ref changed. unset old ref\r\n    if (oldRef != null && oldRef !== ref) {\r\n        if (isString(oldRef)) {\r\n            refs[oldRef] = null;\r\n            if (hasOwn(setupState, oldRef)) {\r\n                setupState[oldRef] = null;\r\n            }\r\n        }\r\n        else if (isRef(oldRef)) {\r\n            oldRef.value = null;\r\n        }\r\n    }\r\n    if (isFunction(ref)) {\r\n        callWithErrorHandling(ref, owner, 12 /* FUNCTION_REF */, [value, refs]);\r\n    }\r\n    else {\r\n        const _isString = isString(ref);\r\n        const _isRef = isRef(ref);\r\n        if (_isString || _isRef) {\r\n            const doSet = () => {\r\n                if (rawRef.f) {\r\n                    const existing = _isString ? refs[ref] : ref.value;\r\n                    if (isUnmount) {\r\n                        isArray(existing) && remove(existing, refValue);\r\n                    }\r\n                    else {\r\n                        if (!isArray(existing)) {\r\n                            if (_isString) {\r\n                                refs[ref] = [refValue];\r\n                            }\r\n                            else {\r\n                                ref.value = [refValue];\r\n                                if (rawRef.k)\r\n                                    refs[rawRef.k] = ref.value;\r\n                            }\r\n                        }\r\n                        else if (!existing.includes(refValue)) {\r\n                            existing.push(refValue);\r\n                        }\r\n                    }\r\n                }\r\n                else if (_isString) {\r\n                    refs[ref] = value;\r\n                    if (hasOwn(setupState, ref)) {\r\n                        setupState[ref] = value;\r\n                    }\r\n                }\r\n                else if (isRef(ref)) {\r\n                    ref.value = value;\r\n                    if (rawRef.k)\r\n                        refs[rawRef.k] = value;\r\n                }\r\n                else if ((process.env.NODE_ENV !== 'production')) {\r\n                    warn('Invalid template ref type:', ref, `(${typeof ref})`);\r\n                }\r\n            };\r\n            if (value) {\r\n                doSet.id = -1;\r\n                queuePostRenderEffect(doSet, parentSuspense);\r\n            }\r\n            else {\r\n                doSet();\r\n            }\r\n        }\r\n        else if ((process.env.NODE_ENV !== 'production')) {\r\n            warn('Invalid template ref type:', ref, `(${typeof ref})`);\r\n        }\r\n    }\r\n}\n\nlet hasMismatch = false;\r\nconst isSVGContainer = (container) => /svg/.test(container.namespaceURI) && container.tagName !== 'foreignObject';\r\nconst isComment = (node) => node.nodeType === 8 /* COMMENT */;\r\n// Note: hydration is DOM-specific\r\n// But we have to place it in core due to tight coupling with core - splitting\r\n// it out creates a ton of unnecessary complexity.\r\n// Hydration also depends on some renderer internal logic which needs to be\r\n// passed in via arguments.\r\nfunction createHydrationFunctions(rendererInternals) {\r\n    const { mt: mountComponent, p: patch, o: { patchProp, nextSibling, parentNode, remove, insert, createComment } } = rendererInternals;\r\n    const hydrate = (vnode, container) => {\r\n        if (!container.hasChildNodes()) {\r\n            (process.env.NODE_ENV !== 'production') &&\r\n                warn(`Attempting to hydrate existing markup but container is empty. ` +\r\n                    `Performing full mount instead.`);\r\n            patch(null, vnode, container);\r\n            flushPostFlushCbs();\r\n            return;\r\n        }\r\n        hasMismatch = false;\r\n        hydrateNode(container.firstChild, vnode, null, null, null);\r\n        flushPostFlushCbs();\r\n        if (hasMismatch && !false) {\r\n            // this error should show up in production\r\n            console.error(`Hydration completed but contains mismatches.`);\r\n        }\r\n    };\r\n    const hydrateNode = (node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized = false) => {\r\n        const isFragmentStart = isComment(node) && node.data === '[';\r\n        const onMismatch = () => handleMismatch(node, vnode, parentComponent, parentSuspense, slotScopeIds, isFragmentStart);\r\n        const { type, ref, shapeFlag } = vnode;\r\n        const domType = node.nodeType;\r\n        vnode.el = node;\r\n        let nextNode = null;\r\n        switch (type) {\r\n            case Text:\r\n                if (domType !== 3 /* TEXT */) {\r\n                    nextNode = onMismatch();\r\n                }\r\n                else {\r\n                    if (node.data !== vnode.children) {\r\n                        hasMismatch = true;\r\n                        (process.env.NODE_ENV !== 'production') &&\r\n                            warn(`Hydration text mismatch:` +\r\n                                `\\n- Client: ${JSON.stringify(node.data)}` +\r\n                                `\\n- Server: ${JSON.stringify(vnode.children)}`);\r\n                        node.data = vnode.children;\r\n                    }\r\n                    nextNode = nextSibling(node);\r\n                }\r\n                break;\r\n            case Comment:\r\n                if (domType !== 8 /* COMMENT */ || isFragmentStart) {\r\n                    nextNode = onMismatch();\r\n                }\r\n                else {\r\n                    nextNode = nextSibling(node);\r\n                }\r\n                break;\r\n            case Static:\r\n                if (domType !== 1 /* ELEMENT */) {\r\n                    nextNode = onMismatch();\r\n                }\r\n                else {\r\n                    // determine anchor, adopt content\r\n                    nextNode = node;\r\n                    // if the static vnode has its content stripped during build,\r\n                    // adopt it from the server-rendered HTML.\r\n                    const needToAdoptContent = !vnode.children.length;\r\n                    for (let i = 0; i < vnode.staticCount; i++) {\r\n                        if (needToAdoptContent)\r\n                            vnode.children += nextNode.outerHTML;\r\n                        if (i === vnode.staticCount - 1) {\r\n                            vnode.anchor = nextNode;\r\n                        }\r\n                        nextNode = nextSibling(nextNode);\r\n                    }\r\n                    return nextNode;\r\n                }\r\n                break;\r\n            case Fragment:\r\n                if (!isFragmentStart) {\r\n                    nextNode = onMismatch();\r\n                }\r\n                else {\r\n                    nextNode = hydrateFragment(node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized);\r\n                }\r\n                break;\r\n            default:\r\n                if (shapeFlag & 1 /* ELEMENT */) {\r\n                    if (domType !== 1 /* ELEMENT */ ||\r\n                        vnode.type.toLowerCase() !==\r\n                            node.tagName.toLowerCase()) {\r\n                        nextNode = onMismatch();\r\n                    }\r\n                    else {\r\n                        nextNode = hydrateElement(node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized);\r\n                    }\r\n                }\r\n                else if (shapeFlag & 6 /* COMPONENT */) {\r\n                    // when setting up the render effect, if the initial vnode already\r\n                    // has .el set, the component will perform hydration instead of mount\r\n                    // on its sub-tree.\r\n                    vnode.slotScopeIds = slotScopeIds;\r\n                    const container = parentNode(node);\r\n                    mountComponent(vnode, container, null, parentComponent, parentSuspense, isSVGContainer(container), optimized);\r\n                    // component may be async, so in the case of fragments we cannot rely\r\n                    // on component's rendered output to determine the end of the fragment\r\n                    // instead, we do a lookahead to find the end anchor node.\r\n                    nextNode = isFragmentStart\r\n                        ? locateClosingAsyncAnchor(node)\r\n                        : nextSibling(node);\r\n                    // #3787\r\n                    // if component is async, it may get moved / unmounted before its\r\n                    // inner component is loaded, so we need to give it a placeholder\r\n                    // vnode that matches its adopted DOM.\r\n                    if (isAsyncWrapper(vnode)) {\r\n                        let subTree;\r\n                        if (isFragmentStart) {\r\n                            subTree = createVNode(Fragment);\r\n                            subTree.anchor = nextNode\r\n                                ? nextNode.previousSibling\r\n                                : container.lastChild;\r\n                        }\r\n                        else {\r\n                            subTree =\r\n                                node.nodeType === 3 ? createTextVNode('') : createVNode('div');\r\n                        }\r\n                        subTree.el = node;\r\n                        vnode.component.subTree = subTree;\r\n                    }\r\n                }\r\n                else if (shapeFlag & 64 /* TELEPORT */) {\r\n                    if (domType !== 8 /* COMMENT */) {\r\n                        nextNode = onMismatch();\r\n                    }\r\n                    else {\r\n                        nextNode = vnode.type.hydrate(node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized, rendererInternals, hydrateChildren);\r\n                    }\r\n                }\r\n                else if (shapeFlag & 128 /* SUSPENSE */) {\r\n                    nextNode = vnode.type.hydrate(node, vnode, parentComponent, parentSuspense, isSVGContainer(parentNode(node)), slotScopeIds, optimized, rendererInternals, hydrateNode);\r\n                }\r\n                else if ((process.env.NODE_ENV !== 'production')) {\r\n                    warn('Invalid HostVNode type:', type, `(${typeof type})`);\r\n                }\r\n        }\r\n        if (ref != null) {\r\n            setRef(ref, null, parentSuspense, vnode);\r\n        }\r\n        return nextNode;\r\n    };\r\n    const hydrateElement = (el, vnode, parentComponent, parentSuspense, slotScopeIds, optimized) => {\r\n        optimized = optimized || !!vnode.dynamicChildren;\r\n        const { type, props, patchFlag, shapeFlag, dirs } = vnode;\r\n        // #4006 for form elements with non-string v-model value bindings\r\n        // e.g. <option :value=\"obj\">, <input type=\"checkbox\" :true-value=\"1\">\r\n        const forcePatchValue = (type === 'input' && dirs) || type === 'option';\r\n        // skip props & children if this is hoisted static nodes\r\n        if (forcePatchValue || patchFlag !== -1 /* HOISTED */) {\r\n            if (dirs) {\r\n                invokeDirectiveHook(vnode, null, parentComponent, 'created');\r\n            }\r\n            // props\r\n            if (props) {\r\n                if (forcePatchValue ||\r\n                    !optimized ||\r\n                    patchFlag & (16 /* FULL_PROPS */ | 32 /* HYDRATE_EVENTS */)) {\r\n                    for (const key in props) {\r\n                        if ((forcePatchValue && key.endsWith('value')) ||\r\n                            (isOn(key) && !isReservedProp(key))) {\r\n                            patchProp(el, key, null, props[key], false, undefined, parentComponent);\r\n                        }\r\n                    }\r\n                }\r\n                else if (props.onClick) {\r\n                    // Fast path for click listeners (which is most often) to avoid\r\n                    // iterating through props.\r\n                    patchProp(el, 'onClick', null, props.onClick, false, undefined, parentComponent);\r\n                }\r\n            }\r\n            // vnode / directive hooks\r\n            let vnodeHooks;\r\n            if ((vnodeHooks = props && props.onVnodeBeforeMount)) {\r\n                invokeVNodeHook(vnodeHooks, parentComponent, vnode);\r\n            }\r\n            if (dirs) {\r\n                invokeDirectiveHook(vnode, null, parentComponent, 'beforeMount');\r\n            }\r\n            if ((vnodeHooks = props && props.onVnodeMounted) || dirs) {\r\n                queueEffectWithSuspense(() => {\r\n                    vnodeHooks && invokeVNodeHook(vnodeHooks, parentComponent, vnode);\r\n                    dirs && invokeDirectiveHook(vnode, null, parentComponent, 'mounted');\r\n                }, parentSuspense);\r\n            }\r\n            // children\r\n            if (shapeFlag & 16 /* ARRAY_CHILDREN */ &&\r\n                // skip if element has innerHTML / textContent\r\n                !(props && (props.innerHTML || props.textContent))) {\r\n                let next = hydrateChildren(el.firstChild, vnode, el, parentComponent, parentSuspense, slotScopeIds, optimized);\r\n                let hasWarned = false;\r\n                while (next) {\r\n                    hasMismatch = true;\r\n                    if ((process.env.NODE_ENV !== 'production') && !hasWarned) {\r\n                        warn(`Hydration children mismatch in <${vnode.type}>: ` +\r\n                            `server rendered element contains more child nodes than client vdom.`);\r\n                        hasWarned = true;\r\n                    }\r\n                    // The SSRed DOM contains more nodes than it should. Remove them.\r\n                    const cur = next;\r\n                    next = next.nextSibling;\r\n                    remove(cur);\r\n                }\r\n            }\r\n            else if (shapeFlag & 8 /* TEXT_CHILDREN */) {\r\n                if (el.textContent !== vnode.children) {\r\n                    hasMismatch = true;\r\n                    (process.env.NODE_ENV !== 'production') &&\r\n                        warn(`Hydration text content mismatch in <${vnode.type}>:\\n` +\r\n                            `- Client: ${el.textContent}\\n` +\r\n                            `- Server: ${vnode.children}`);\r\n                    el.textContent = vnode.children;\r\n                }\r\n            }\r\n        }\r\n        return el.nextSibling;\r\n    };\r\n    const hydrateChildren = (node, parentVNode, container, parentComponent, parentSuspense, slotScopeIds, optimized) => {\r\n        optimized = optimized || !!parentVNode.dynamicChildren;\r\n        const children = parentVNode.children;\r\n        const l = children.length;\r\n        let hasWarned = false;\r\n        for (let i = 0; i < l; i++) {\r\n            const vnode = optimized\r\n                ? children[i]\r\n                : (children[i] = normalizeVNode(children[i]));\r\n            if (node) {\r\n                node = hydrateNode(node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized);\r\n            }\r\n            else if (vnode.type === Text && !vnode.children) {\r\n                continue;\r\n            }\r\n            else {\r\n                hasMismatch = true;\r\n                if ((process.env.NODE_ENV !== 'production') && !hasWarned) {\r\n                    warn(`Hydration children mismatch in <${container.tagName.toLowerCase()}>: ` +\r\n                        `server rendered element contains fewer child nodes than client vdom.`);\r\n                    hasWarned = true;\r\n                }\r\n                // the SSRed DOM didn't contain enough nodes. Mount the missing ones.\r\n                patch(null, vnode, container, null, parentComponent, parentSuspense, isSVGContainer(container), slotScopeIds);\r\n            }\r\n        }\r\n        return node;\r\n    };\r\n    const hydrateFragment = (node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized) => {\r\n        const { slotScopeIds: fragmentSlotScopeIds } = vnode;\r\n        if (fragmentSlotScopeIds) {\r\n            slotScopeIds = slotScopeIds\r\n                ? slotScopeIds.concat(fragmentSlotScopeIds)\r\n                : fragmentSlotScopeIds;\r\n        }\r\n        const container = parentNode(node);\r\n        const next = hydrateChildren(nextSibling(node), vnode, container, parentComponent, parentSuspense, slotScopeIds, optimized);\r\n        if (next && isComment(next) && next.data === ']') {\r\n            return nextSibling((vnode.anchor = next));\r\n        }\r\n        else {\r\n            // fragment didn't hydrate successfully, since we didn't get a end anchor\r\n            // back. This should have led to node/children mismatch warnings.\r\n            hasMismatch = true;\r\n            // since the anchor is missing, we need to create one and insert it\r\n            insert((vnode.anchor = createComment(`]`)), container, next);\r\n            return next;\r\n        }\r\n    };\r\n    const handleMismatch = (node, vnode, parentComponent, parentSuspense, slotScopeIds, isFragment) => {\r\n        hasMismatch = true;\r\n        (process.env.NODE_ENV !== 'production') &&\r\n            warn(`Hydration node mismatch:\\n- Client vnode:`, vnode.type, `\\n- Server rendered DOM:`, node, node.nodeType === 3 /* TEXT */\r\n                ? `(text)`\r\n                : isComment(node) && node.data === '['\r\n                    ? `(start of fragment)`\r\n                    : ``);\r\n        vnode.el = null;\r\n        if (isFragment) {\r\n            // remove excessive fragment nodes\r\n            const end = locateClosingAsyncAnchor(node);\r\n            while (true) {\r\n                const next = nextSibling(node);\r\n                if (next && next !== end) {\r\n                    remove(next);\r\n                }\r\n                else {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        const next = nextSibling(node);\r\n        const container = parentNode(node);\r\n        remove(node);\r\n        patch(null, vnode, container, next, parentComponent, parentSuspense, isSVGContainer(container), slotScopeIds);\r\n        return next;\r\n    };\r\n    const locateClosingAsyncAnchor = (node) => {\r\n        let match = 0;\r\n        while (node) {\r\n            node = nextSibling(node);\r\n            if (node && isComment(node)) {\r\n                if (node.data === '[')\r\n                    match++;\r\n                if (node.data === ']') {\r\n                    if (match === 0) {\r\n                        return nextSibling(node);\r\n                    }\r\n                    else {\r\n                        match--;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return node;\r\n    };\r\n    return [hydrate, hydrateNode];\r\n}\n\nlet supported;\r\nlet perf;\r\nfunction startMeasure(instance, type) {\r\n    if (instance.appContext.config.performance && isSupported()) {\r\n        perf.mark(`vue-${type}-${instance.uid}`);\r\n    }\r\n    if ((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) {\r\n        devtoolsPerfStart(instance, type, supported ? perf.now() : Date.now());\r\n    }\r\n}\r\nfunction endMeasure(instance, type) {\r\n    if (instance.appContext.config.performance && isSupported()) {\r\n        const startTag = `vue-${type}-${instance.uid}`;\r\n        const endTag = startTag + `:end`;\r\n        perf.mark(endTag);\r\n        perf.measure(`<${formatComponentName(instance, instance.type)}> ${type}`, startTag, endTag);\r\n        perf.clearMarks(startTag);\r\n        perf.clearMarks(endTag);\r\n    }\r\n    if ((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) {\r\n        devtoolsPerfEnd(instance, type, supported ? perf.now() : Date.now());\r\n    }\r\n}\r\nfunction isSupported() {\r\n    if (supported !== undefined) {\r\n        return supported;\r\n    }\r\n    /* eslint-disable no-restricted-globals */\r\n    if (typeof window !== 'undefined' && window.performance) {\r\n        supported = true;\r\n        perf = window.performance;\r\n    }\r\n    else {\r\n        supported = false;\r\n    }\r\n    /* eslint-enable no-restricted-globals */\r\n    return supported;\r\n}\n\n/**\r\n * This is only called in esm-bundler builds.\r\n * It is called when a renderer is created, in `baseCreateRenderer` so that\r\n * importing runtime-core is side-effects free.\r\n *\r\n * istanbul-ignore-next\r\n */\r\nfunction initFeatureFlags() {\r\n    const needWarn = [];\r\n    if (typeof __VUE_OPTIONS_API__ !== 'boolean') {\r\n        (process.env.NODE_ENV !== 'production') && needWarn.push(`__VUE_OPTIONS_API__`);\r\n        getGlobalThis().__VUE_OPTIONS_API__ = true;\r\n    }\r\n    if (typeof __VUE_PROD_DEVTOOLS__ !== 'boolean') {\r\n        (process.env.NODE_ENV !== 'production') && needWarn.push(`__VUE_PROD_DEVTOOLS__`);\r\n        getGlobalThis().__VUE_PROD_DEVTOOLS__ = false;\r\n    }\r\n    if ((process.env.NODE_ENV !== 'production') && needWarn.length) {\r\n        const multi = needWarn.length > 1;\r\n        console.warn(`Feature flag${multi ? `s` : ``} ${needWarn.join(', ')} ${multi ? `are` : `is`} not explicitly defined. You are running the esm-bundler build of Vue, ` +\r\n            `which expects these compile-time feature flags to be globally injected ` +\r\n            `via the bundler config in order to get better tree-shaking in the ` +\r\n            `production bundle.\\n\\n` +\r\n            `For more details, see https://link.vuejs.org/feature-flags.`);\r\n    }\r\n}\n\nconst queuePostRenderEffect = queueEffectWithSuspense\r\n    ;\r\n/**\r\n * The createRenderer function accepts two generic arguments:\r\n * HostNode and HostElement, corresponding to Node and Element types in the\r\n * host environment. For example, for runtime-dom, HostNode would be the DOM\r\n * `Node` interface and HostElement would be the DOM `Element` interface.\r\n *\r\n * Custom renderers can pass in the platform specific types like this:\r\n *\r\n * ``` js\r\n * const { render, createApp } = createRenderer<Node, Element>({\r\n *   patchProp,\r\n *   ...nodeOps\r\n * })\r\n * ```\r\n */\r\nfunction createRenderer(options) {\r\n    return baseCreateRenderer(options);\r\n}\r\n// Separate API for creating hydration-enabled renderer.\r\n// Hydration logic is only used when calling this function, making it\r\n// tree-shakable.\r\nfunction createHydrationRenderer(options) {\r\n    return baseCreateRenderer(options, createHydrationFunctions);\r\n}\r\n// implementation\r\nfunction baseCreateRenderer(options, createHydrationFns) {\r\n    // compile-time feature flags check\r\n    {\r\n        initFeatureFlags();\r\n    }\r\n    const target = getGlobalThis();\r\n    target.__VUE__ = true;\r\n    if ((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) {\r\n        setDevtoolsHook(target.__VUE_DEVTOOLS_GLOBAL_HOOK__, target);\r\n    }\r\n    const { insert: hostInsert, remove: hostRemove, patchProp: hostPatchProp, createElement: hostCreateElement, createText: hostCreateText, createComment: hostCreateComment, setText: hostSetText, setElementText: hostSetElementText, parentNode: hostParentNode, nextSibling: hostNextSibling, setScopeId: hostSetScopeId = NOOP, cloneNode: hostCloneNode, insertStaticContent: hostInsertStaticContent } = options;\r\n    // Note: functions inside this closure should use `const xxx = () => {}`\r\n    // style in order to prevent being inlined by minifiers.\r\n    const patch = (n1, n2, container, anchor = null, parentComponent = null, parentSuspense = null, isSVG = false, slotScopeIds = null, optimized = (process.env.NODE_ENV !== 'production') && isHmrUpdating ? false : !!n2.dynamicChildren) => {\r\n        if (n1 === n2) {\r\n            return;\r\n        }\r\n        // patching & not same type, unmount old tree\r\n        if (n1 && !isSameVNodeType(n1, n2)) {\r\n            anchor = getNextHostNode(n1);\r\n            unmount(n1, parentComponent, parentSuspense, true);\r\n            n1 = null;\r\n        }\r\n        if (n2.patchFlag === -2 /* BAIL */) {\r\n            optimized = false;\r\n            n2.dynamicChildren = null;\r\n        }\r\n        const { type, ref, shapeFlag } = n2;\r\n        switch (type) {\r\n            case Text:\r\n                processText(n1, n2, container, anchor);\r\n                break;\r\n            case Comment:\r\n                processCommentNode(n1, n2, container, anchor);\r\n                break;\r\n            case Static:\r\n                if (n1 == null) {\r\n                    mountStaticNode(n2, container, anchor, isSVG);\r\n                }\r\n                else if ((process.env.NODE_ENV !== 'production')) {\r\n                    patchStaticNode(n1, n2, container, isSVG);\r\n                }\r\n                break;\r\n            case Fragment:\r\n                processFragment(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n                break;\r\n            default:\r\n                if (shapeFlag & 1 /* ELEMENT */) {\r\n                    processElement(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n                }\r\n                else if (shapeFlag & 6 /* COMPONENT */) {\r\n                    processComponent(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n                }\r\n                else if (shapeFlag & 64 /* TELEPORT */) {\r\n                    type.process(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, internals);\r\n                }\r\n                else if (shapeFlag & 128 /* SUSPENSE */) {\r\n                    type.process(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, internals);\r\n                }\r\n                else if ((process.env.NODE_ENV !== 'production')) {\r\n                    warn('Invalid VNode type:', type, `(${typeof type})`);\r\n                }\r\n        }\r\n        // set ref\r\n        if (ref != null && parentComponent) {\r\n            setRef(ref, n1 && n1.ref, parentSuspense, n2 || n1, !n2);\r\n        }\r\n    };\r\n    const processText = (n1, n2, container, anchor) => {\r\n        if (n1 == null) {\r\n            hostInsert((n2.el = hostCreateText(n2.children)), container, anchor);\r\n        }\r\n        else {\r\n            const el = (n2.el = n1.el);\r\n            if (n2.children !== n1.children) {\r\n                hostSetText(el, n2.children);\r\n            }\r\n        }\r\n    };\r\n    const processCommentNode = (n1, n2, container, anchor) => {\r\n        if (n1 == null) {\r\n            hostInsert((n2.el = hostCreateComment(n2.children || '')), container, anchor);\r\n        }\r\n        else {\r\n            // there's no support for dynamic comments\r\n            n2.el = n1.el;\r\n        }\r\n    };\r\n    const mountStaticNode = (n2, container, anchor, isSVG) => {\r\n        [n2.el, n2.anchor] = hostInsertStaticContent(n2.children, container, anchor, isSVG, n2.el, n2.anchor);\r\n    };\r\n    /**\r\n     * Dev / HMR only\r\n     */\r\n    const patchStaticNode = (n1, n2, container, isSVG) => {\r\n        // static nodes are only patched during dev for HMR\r\n        if (n2.children !== n1.children) {\r\n            const anchor = hostNextSibling(n1.anchor);\r\n            // remove existing\r\n            removeStaticNode(n1);\r\n            [n2.el, n2.anchor] = hostInsertStaticContent(n2.children, container, anchor, isSVG);\r\n        }\r\n        else {\r\n            n2.el = n1.el;\r\n            n2.anchor = n1.anchor;\r\n        }\r\n    };\r\n    const moveStaticNode = ({ el, anchor }, container, nextSibling) => {\r\n        let next;\r\n        while (el && el !== anchor) {\r\n            next = hostNextSibling(el);\r\n            hostInsert(el, container, nextSibling);\r\n            el = next;\r\n        }\r\n        hostInsert(anchor, container, nextSibling);\r\n    };\r\n    const removeStaticNode = ({ el, anchor }) => {\r\n        let next;\r\n        while (el && el !== anchor) {\r\n            next = hostNextSibling(el);\r\n            hostRemove(el);\r\n            el = next;\r\n        }\r\n        hostRemove(anchor);\r\n    };\r\n    const processElement = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\r\n        isSVG = isSVG || n2.type === 'svg';\r\n        if (n1 == null) {\r\n            mountElement(n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n        }\r\n        else {\r\n            patchElement(n1, n2, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n        }\r\n    };\r\n    const mountElement = (vnode, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\r\n        let el;\r\n        let vnodeHook;\r\n        const { type, props, shapeFlag, transition, patchFlag, dirs } = vnode;\r\n        if (!(process.env.NODE_ENV !== 'production') &&\r\n            vnode.el &&\r\n            hostCloneNode !== undefined &&\r\n            patchFlag === -1 /* HOISTED */) {\r\n            // If a vnode has non-null el, it means it's being reused.\r\n            // Only static vnodes can be reused, so its mounted DOM nodes should be\r\n            // exactly the same, and we can simply do a clone here.\r\n            // only do this in production since cloned trees cannot be HMR updated.\r\n            el = vnode.el = hostCloneNode(vnode.el);\r\n        }\r\n        else {\r\n            el = vnode.el = hostCreateElement(vnode.type, isSVG, props && props.is, props);\r\n            // mount children first, since some props may rely on child content\r\n            // being already rendered, e.g. `<select value>`\r\n            if (shapeFlag & 8 /* TEXT_CHILDREN */) {\r\n                hostSetElementText(el, vnode.children);\r\n            }\r\n            else if (shapeFlag & 16 /* ARRAY_CHILDREN */) {\r\n                mountChildren(vnode.children, el, null, parentComponent, parentSuspense, isSVG && type !== 'foreignObject', slotScopeIds, optimized);\r\n            }\r\n            if (dirs) {\r\n                invokeDirectiveHook(vnode, null, parentComponent, 'created');\r\n            }\r\n            // props\r\n            if (props) {\r\n                for (const key in props) {\r\n                    if (key !== 'value' && !isReservedProp(key)) {\r\n                        hostPatchProp(el, key, null, props[key], isSVG, vnode.children, parentComponent, parentSuspense, unmountChildren);\r\n                    }\r\n                }\r\n                /**\r\n                 * Special case for setting value on DOM elements:\r\n                 * - it can be order-sensitive (e.g. should be set *after* min/max, #2325, #4024)\r\n                 * - it needs to be forced (#1471)\r\n                 * #2353 proposes adding another renderer option to configure this, but\r\n                 * the properties affects are so finite it is worth special casing it\r\n                 * here to reduce the complexity. (Special casing it also should not\r\n                 * affect non-DOM renderers)\r\n                 */\r\n                if ('value' in props) {\r\n                    hostPatchProp(el, 'value', null, props.value);\r\n                }\r\n                if ((vnodeHook = props.onVnodeBeforeMount)) {\r\n                    invokeVNodeHook(vnodeHook, parentComponent, vnode);\r\n                }\r\n            }\r\n            // scopeId\r\n            setScopeId(el, vnode, vnode.scopeId, slotScopeIds, parentComponent);\r\n        }\r\n        if ((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) {\r\n            Object.defineProperty(el, '__vnode', {\r\n                value: vnode,\r\n                enumerable: false\r\n            });\r\n            Object.defineProperty(el, '__vueParentComponent', {\r\n                value: parentComponent,\r\n                enumerable: false\r\n            });\r\n        }\r\n        if (dirs) {\r\n            invokeDirectiveHook(vnode, null, parentComponent, 'beforeMount');\r\n        }\r\n        // #1583 For inside suspense + suspense not resolved case, enter hook should call when suspense resolved\r\n        // #1689 For inside suspense + suspense resolved case, just call it\r\n        const needCallTransitionHooks = (!parentSuspense || (parentSuspense && !parentSuspense.pendingBranch)) &&\r\n            transition &&\r\n            !transition.persisted;\r\n        if (needCallTransitionHooks) {\r\n            transition.beforeEnter(el);\r\n        }\r\n        hostInsert(el, container, anchor);\r\n        if ((vnodeHook = props && props.onVnodeMounted) ||\r\n            needCallTransitionHooks ||\r\n            dirs) {\r\n            queuePostRenderEffect(() => {\r\n                vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, vnode);\r\n                needCallTransitionHooks && transition.enter(el);\r\n                dirs && invokeDirectiveHook(vnode, null, parentComponent, 'mounted');\r\n            }, parentSuspense);\r\n        }\r\n    };\r\n    const setScopeId = (el, vnode, scopeId, slotScopeIds, parentComponent) => {\r\n        if (scopeId) {\r\n            hostSetScopeId(el, scopeId);\r\n        }\r\n        if (slotScopeIds) {\r\n            for (let i = 0; i < slotScopeIds.length; i++) {\r\n                hostSetScopeId(el, slotScopeIds[i]);\r\n            }\r\n        }\r\n        if (parentComponent) {\r\n            let subTree = parentComponent.subTree;\r\n            if ((process.env.NODE_ENV !== 'production') &&\r\n                subTree.patchFlag > 0 &&\r\n                subTree.patchFlag & 2048 /* DEV_ROOT_FRAGMENT */) {\r\n                subTree =\r\n                    filterSingleRoot(subTree.children) || subTree;\r\n            }\r\n            if (vnode === subTree) {\r\n                const parentVNode = parentComponent.vnode;\r\n                setScopeId(el, parentVNode, parentVNode.scopeId, parentVNode.slotScopeIds, parentComponent.parent);\r\n            }\r\n        }\r\n    };\r\n    const mountChildren = (children, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, start = 0) => {\r\n        for (let i = start; i < children.length; i++) {\r\n            const child = (children[i] = optimized\r\n                ? cloneIfMounted(children[i])\r\n                : normalizeVNode(children[i]));\r\n            patch(null, child, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n        }\r\n    };\r\n    const patchElement = (n1, n2, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\r\n        const el = (n2.el = n1.el);\r\n        let { patchFlag, dynamicChildren, dirs } = n2;\r\n        // #1426 take the old vnode's patch flag into account since user may clone a\r\n        // compiler-generated vnode, which de-opts to FULL_PROPS\r\n        patchFlag |= n1.patchFlag & 16 /* FULL_PROPS */;\r\n        const oldProps = n1.props || EMPTY_OBJ;\r\n        const newProps = n2.props || EMPTY_OBJ;\r\n        let vnodeHook;\r\n        // disable recurse in beforeUpdate hooks\r\n        parentComponent && toggleRecurse(parentComponent, false);\r\n        if ((vnodeHook = newProps.onVnodeBeforeUpdate)) {\r\n            invokeVNodeHook(vnodeHook, parentComponent, n2, n1);\r\n        }\r\n        if (dirs) {\r\n            invokeDirectiveHook(n2, n1, parentComponent, 'beforeUpdate');\r\n        }\r\n        parentComponent && toggleRecurse(parentComponent, true);\r\n        if ((process.env.NODE_ENV !== 'production') && isHmrUpdating) {\r\n            // HMR updated, force full diff\r\n            patchFlag = 0;\r\n            optimized = false;\r\n            dynamicChildren = null;\r\n        }\r\n        const areChildrenSVG = isSVG && n2.type !== 'foreignObject';\r\n        if (dynamicChildren) {\r\n            patchBlockChildren(n1.dynamicChildren, dynamicChildren, el, parentComponent, parentSuspense, areChildrenSVG, slotScopeIds);\r\n            if ((process.env.NODE_ENV !== 'production') && parentComponent && parentComponent.type.__hmrId) {\r\n                traverseStaticChildren(n1, n2);\r\n            }\r\n        }\r\n        else if (!optimized) {\r\n            // full diff\r\n            patchChildren(n1, n2, el, null, parentComponent, parentSuspense, areChildrenSVG, slotScopeIds, false);\r\n        }\r\n        if (patchFlag > 0) {\r\n            // the presence of a patchFlag means this element's render code was\r\n            // generated by the compiler and can take the fast path.\r\n            // in this path old node and new node are guaranteed to have the same shape\r\n            // (i.e. at the exact same position in the source template)\r\n            if (patchFlag & 16 /* FULL_PROPS */) {\r\n                // element props contain dynamic keys, full diff needed\r\n                patchProps(el, n2, oldProps, newProps, parentComponent, parentSuspense, isSVG);\r\n            }\r\n            else {\r\n                // class\r\n                // this flag is matched when the element has dynamic class bindings.\r\n                if (patchFlag & 2 /* CLASS */) {\r\n                    if (oldProps.class !== newProps.class) {\r\n                        hostPatchProp(el, 'class', null, newProps.class, isSVG);\r\n                    }\r\n                }\r\n                // style\r\n                // this flag is matched when the element has dynamic style bindings\r\n                if (patchFlag & 4 /* STYLE */) {\r\n                    hostPatchProp(el, 'style', oldProps.style, newProps.style, isSVG);\r\n                }\r\n                // props\r\n                // This flag is matched when the element has dynamic prop/attr bindings\r\n                // other than class and style. The keys of dynamic prop/attrs are saved for\r\n                // faster iteration.\r\n                // Note dynamic keys like :[foo]=\"bar\" will cause this optimization to\r\n                // bail out and go through a full diff because we need to unset the old key\r\n                if (patchFlag & 8 /* PROPS */) {\r\n                    // if the flag is present then dynamicProps must be non-null\r\n                    const propsToUpdate = n2.dynamicProps;\r\n                    for (let i = 0; i < propsToUpdate.length; i++) {\r\n                        const key = propsToUpdate[i];\r\n                        const prev = oldProps[key];\r\n                        const next = newProps[key];\r\n                        // #1471 force patch value\r\n                        if (next !== prev || key === 'value') {\r\n                            hostPatchProp(el, key, prev, next, isSVG, n1.children, parentComponent, parentSuspense, unmountChildren);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            // text\r\n            // This flag is matched when the element has only dynamic text children.\r\n            if (patchFlag & 1 /* TEXT */) {\r\n                if (n1.children !== n2.children) {\r\n                    hostSetElementText(el, n2.children);\r\n                }\r\n            }\r\n        }\r\n        else if (!optimized && dynamicChildren == null) {\r\n            // unoptimized, full diff\r\n            patchProps(el, n2, oldProps, newProps, parentComponent, parentSuspense, isSVG);\r\n        }\r\n        if ((vnodeHook = newProps.onVnodeUpdated) || dirs) {\r\n            queuePostRenderEffect(() => {\r\n                vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, n2, n1);\r\n                dirs && invokeDirectiveHook(n2, n1, parentComponent, 'updated');\r\n            }, parentSuspense);\r\n        }\r\n    };\r\n    // The fast path for blocks.\r\n    const patchBlockChildren = (oldChildren, newChildren, fallbackContainer, parentComponent, parentSuspense, isSVG, slotScopeIds) => {\r\n        for (let i = 0; i < newChildren.length; i++) {\r\n            const oldVNode = oldChildren[i];\r\n            const newVNode = newChildren[i];\r\n            // Determine the container (parent element) for the patch.\r\n            const container = \r\n            // oldVNode may be an errored async setup() component inside Suspense\r\n            // which will not have a mounted element\r\n            oldVNode.el &&\r\n                // - In the case of a Fragment, we need to provide the actual parent\r\n                // of the Fragment itself so it can move its children.\r\n                (oldVNode.type === Fragment ||\r\n                    // - In the case of different nodes, there is going to be a replacement\r\n                    // which also requires the correct parent container\r\n                    !isSameVNodeType(oldVNode, newVNode) ||\r\n                    // - In the case of a component, it could contain anything.\r\n                    oldVNode.shapeFlag & (6 /* COMPONENT */ | 64 /* TELEPORT */))\r\n                ? hostParentNode(oldVNode.el)\r\n                : // In other cases, the parent container is not actually used so we\r\n                    // just pass the block element here to avoid a DOM parentNode call.\r\n                    fallbackContainer;\r\n            patch(oldVNode, newVNode, container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, true);\r\n        }\r\n    };\r\n    const patchProps = (el, vnode, oldProps, newProps, parentComponent, parentSuspense, isSVG) => {\r\n        if (oldProps !== newProps) {\r\n            for (const key in newProps) {\r\n                // empty string is not valid prop\r\n                if (isReservedProp(key))\r\n                    continue;\r\n                const next = newProps[key];\r\n                const prev = oldProps[key];\r\n                // defer patching value\r\n                if (next !== prev && key !== 'value') {\r\n                    hostPatchProp(el, key, prev, next, isSVG, vnode.children, parentComponent, parentSuspense, unmountChildren);\r\n                }\r\n            }\r\n            if (oldProps !== EMPTY_OBJ) {\r\n                for (const key in oldProps) {\r\n                    if (!isReservedProp(key) && !(key in newProps)) {\r\n                        hostPatchProp(el, key, oldProps[key], null, isSVG, vnode.children, parentComponent, parentSuspense, unmountChildren);\r\n                    }\r\n                }\r\n            }\r\n            if ('value' in newProps) {\r\n                hostPatchProp(el, 'value', oldProps.value, newProps.value);\r\n            }\r\n        }\r\n    };\r\n    const processFragment = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\r\n        const fragmentStartAnchor = (n2.el = n1 ? n1.el : hostCreateText(''));\r\n        const fragmentEndAnchor = (n2.anchor = n1 ? n1.anchor : hostCreateText(''));\r\n        let { patchFlag, dynamicChildren, slotScopeIds: fragmentSlotScopeIds } = n2;\r\n        if ((process.env.NODE_ENV !== 'production') && isHmrUpdating) {\r\n            // HMR updated, force full diff\r\n            patchFlag = 0;\r\n            optimized = false;\r\n            dynamicChildren = null;\r\n        }\r\n        // check if this is a slot fragment with :slotted scope ids\r\n        if (fragmentSlotScopeIds) {\r\n            slotScopeIds = slotScopeIds\r\n                ? slotScopeIds.concat(fragmentSlotScopeIds)\r\n                : fragmentSlotScopeIds;\r\n        }\r\n        if (n1 == null) {\r\n            hostInsert(fragmentStartAnchor, container, anchor);\r\n            hostInsert(fragmentEndAnchor, container, anchor);\r\n            // a fragment can only have array children\r\n            // since they are either generated by the compiler, or implicitly created\r\n            // from arrays.\r\n            mountChildren(n2.children, container, fragmentEndAnchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n        }\r\n        else {\r\n            if (patchFlag > 0 &&\r\n                patchFlag & 64 /* STABLE_FRAGMENT */ &&\r\n                dynamicChildren &&\r\n                // #2715 the previous fragment could've been a BAILed one as a result\r\n                // of renderSlot() with no valid children\r\n                n1.dynamicChildren) {\r\n                // a stable fragment (template root or <template v-for>) doesn't need to\r\n                // patch children order, but it may contain dynamicChildren.\r\n                patchBlockChildren(n1.dynamicChildren, dynamicChildren, container, parentComponent, parentSuspense, isSVG, slotScopeIds);\r\n                if ((process.env.NODE_ENV !== 'production') && parentComponent && parentComponent.type.__hmrId) {\r\n                    traverseStaticChildren(n1, n2);\r\n                }\r\n                else if (\r\n                // #2080 if the stable fragment has a key, it's a <template v-for> that may\r\n                //  get moved around. Make sure all root level vnodes inherit el.\r\n                // #2134 or if it's a component root, it may also get moved around\r\n                // as the component is being moved.\r\n                n2.key != null ||\r\n                    (parentComponent && n2 === parentComponent.subTree)) {\r\n                    traverseStaticChildren(n1, n2, true /* shallow */);\r\n                }\r\n            }\r\n            else {\r\n                // keyed / unkeyed, or manual fragments.\r\n                // for keyed & unkeyed, since they are compiler generated from v-for,\r\n                // each child is guaranteed to be a block so the fragment will never\r\n                // have dynamicChildren.\r\n                patchChildren(n1, n2, container, fragmentEndAnchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n            }\r\n        }\r\n    };\r\n    const processComponent = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\r\n        n2.slotScopeIds = slotScopeIds;\r\n        if (n1 == null) {\r\n            if (n2.shapeFlag & 512 /* COMPONENT_KEPT_ALIVE */) {\r\n                parentComponent.ctx.activate(n2, container, anchor, isSVG, optimized);\r\n            }\r\n            else {\r\n                mountComponent(n2, container, anchor, parentComponent, parentSuspense, isSVG, optimized);\r\n            }\r\n        }\r\n        else {\r\n            updateComponent(n1, n2, optimized);\r\n        }\r\n    };\r\n    const mountComponent = (initialVNode, container, anchor, parentComponent, parentSuspense, isSVG, optimized) => {\r\n        const instance = (initialVNode.component = createComponentInstance(initialVNode, parentComponent, parentSuspense));\r\n        if ((process.env.NODE_ENV !== 'production') && instance.type.__hmrId) {\r\n            registerHMR(instance);\r\n        }\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            pushWarningContext(initialVNode);\r\n            startMeasure(instance, `mount`);\r\n        }\r\n        // inject renderer internals for keepAlive\r\n        if (isKeepAlive(initialVNode)) {\r\n            instance.ctx.renderer = internals;\r\n        }\r\n        // resolve props and slots for setup context\r\n        {\r\n            if ((process.env.NODE_ENV !== 'production')) {\r\n                startMeasure(instance, `init`);\r\n            }\r\n            setupComponent(instance);\r\n            if ((process.env.NODE_ENV !== 'production')) {\r\n                endMeasure(instance, `init`);\r\n            }\r\n        }\r\n        // setup() is async. This component relies on async logic to be resolved\r\n        // before proceeding\r\n        if (instance.asyncDep) {\r\n            parentSuspense && parentSuspense.registerDep(instance, setupRenderEffect);\r\n            // Give it a placeholder if this is not hydration\r\n            // TODO handle self-defined fallback\r\n            if (!initialVNode.el) {\r\n                const placeholder = (instance.subTree = createVNode(Comment));\r\n                processCommentNode(null, placeholder, container, anchor);\r\n            }\r\n            return;\r\n        }\r\n        setupRenderEffect(instance, initialVNode, container, anchor, parentSuspense, isSVG, optimized);\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            popWarningContext();\r\n            endMeasure(instance, `mount`);\r\n        }\r\n    };\r\n    const updateComponent = (n1, n2, optimized) => {\r\n        const instance = (n2.component = n1.component);\r\n        if (shouldUpdateComponent(n1, n2, optimized)) {\r\n            if (instance.asyncDep &&\r\n                !instance.asyncResolved) {\r\n                // async & still pending - just update props and slots\r\n                // since the component's reactive effect for render isn't set-up yet\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    pushWarningContext(n2);\r\n                }\r\n                updateComponentPreRender(instance, n2, optimized);\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    popWarningContext();\r\n                }\r\n                return;\r\n            }\r\n            else {\r\n                // normal update\r\n                instance.next = n2;\r\n                // in case the child component is also queued, remove it to avoid\r\n                // double updating the same child component in the same flush.\r\n                invalidateJob(instance.update);\r\n                // instance.update is the reactive effect.\r\n                instance.update();\r\n            }\r\n        }\r\n        else {\r\n            // no update needed. just copy over properties\r\n            n2.component = n1.component;\r\n            n2.el = n1.el;\r\n            instance.vnode = n2;\r\n        }\r\n    };\r\n    const setupRenderEffect = (instance, initialVNode, container, anchor, parentSuspense, isSVG, optimized) => {\r\n        const componentUpdateFn = () => {\r\n            if (!instance.isMounted) {\r\n                let vnodeHook;\r\n                const { el, props } = initialVNode;\r\n                const { bm, m, parent } = instance;\r\n                const isAsyncWrapperVNode = isAsyncWrapper(initialVNode);\r\n                toggleRecurse(instance, false);\r\n                // beforeMount hook\r\n                if (bm) {\r\n                    invokeArrayFns(bm);\r\n                }\r\n                // onVnodeBeforeMount\r\n                if (!isAsyncWrapperVNode &&\r\n                    (vnodeHook = props && props.onVnodeBeforeMount)) {\r\n                    invokeVNodeHook(vnodeHook, parent, initialVNode);\r\n                }\r\n                toggleRecurse(instance, true);\r\n                if (el && hydrateNode) {\r\n                    // vnode has adopted host node - perform hydration instead of mount.\r\n                    const hydrateSubTree = () => {\r\n                        if ((process.env.NODE_ENV !== 'production')) {\r\n                            startMeasure(instance, `render`);\r\n                        }\r\n                        instance.subTree = renderComponentRoot(instance);\r\n                        if ((process.env.NODE_ENV !== 'production')) {\r\n                            endMeasure(instance, `render`);\r\n                        }\r\n                        if ((process.env.NODE_ENV !== 'production')) {\r\n                            startMeasure(instance, `hydrate`);\r\n                        }\r\n                        hydrateNode(el, instance.subTree, instance, parentSuspense, null);\r\n                        if ((process.env.NODE_ENV !== 'production')) {\r\n                            endMeasure(instance, `hydrate`);\r\n                        }\r\n                    };\r\n                    if (isAsyncWrapperVNode) {\r\n                        initialVNode.type.__asyncLoader().then(\r\n                        // note: we are moving the render call into an async callback,\r\n                        // which means it won't track dependencies - but it's ok because\r\n                        // a server-rendered async wrapper is already in resolved state\r\n                        // and it will never need to change.\r\n                        () => !instance.isUnmounted && hydrateSubTree());\r\n                    }\r\n                    else {\r\n                        hydrateSubTree();\r\n                    }\r\n                }\r\n                else {\r\n                    if ((process.env.NODE_ENV !== 'production')) {\r\n                        startMeasure(instance, `render`);\r\n                    }\r\n                    const subTree = (instance.subTree = renderComponentRoot(instance));\r\n                    if ((process.env.NODE_ENV !== 'production')) {\r\n                        endMeasure(instance, `render`);\r\n                    }\r\n                    if ((process.env.NODE_ENV !== 'production')) {\r\n                        startMeasure(instance, `patch`);\r\n                    }\r\n                    patch(null, subTree, container, anchor, instance, parentSuspense, isSVG);\r\n                    if ((process.env.NODE_ENV !== 'production')) {\r\n                        endMeasure(instance, `patch`);\r\n                    }\r\n                    initialVNode.el = subTree.el;\r\n                }\r\n                // mounted hook\r\n                if (m) {\r\n                    queuePostRenderEffect(m, parentSuspense);\r\n                }\r\n                // onVnodeMounted\r\n                if (!isAsyncWrapperVNode &&\r\n                    (vnodeHook = props && props.onVnodeMounted)) {\r\n                    const scopedInitialVNode = initialVNode;\r\n                    queuePostRenderEffect(() => invokeVNodeHook(vnodeHook, parent, scopedInitialVNode), parentSuspense);\r\n                }\r\n                // activated hook for keep-alive roots.\r\n                // #1742 activated hook must be accessed after first render\r\n                // since the hook may be injected by a child keep-alive\r\n                if (initialVNode.shapeFlag & 256 /* COMPONENT_SHOULD_KEEP_ALIVE */) {\r\n                    instance.a && queuePostRenderEffect(instance.a, parentSuspense);\r\n                }\r\n                instance.isMounted = true;\r\n                if ((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) {\r\n                    devtoolsComponentAdded(instance);\r\n                }\r\n                // #2458: deference mount-only object parameters to prevent memleaks\r\n                initialVNode = container = anchor = null;\r\n            }\r\n            else {\r\n                // updateComponent\r\n                // This is triggered by mutation of component's own state (next: null)\r\n                // OR parent calling processComponent (next: VNode)\r\n                let { next, bu, u, parent, vnode } = instance;\r\n                let originNext = next;\r\n                let vnodeHook;\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    pushWarningContext(next || instance.vnode);\r\n                }\r\n                // Disallow component effect recursion during pre-lifecycle hooks.\r\n                toggleRecurse(instance, false);\r\n                if (next) {\r\n                    next.el = vnode.el;\r\n                    updateComponentPreRender(instance, next, optimized);\r\n                }\r\n                else {\r\n                    next = vnode;\r\n                }\r\n                // beforeUpdate hook\r\n                if (bu) {\r\n                    invokeArrayFns(bu);\r\n                }\r\n                // onVnodeBeforeUpdate\r\n                if ((vnodeHook = next.props && next.props.onVnodeBeforeUpdate)) {\r\n                    invokeVNodeHook(vnodeHook, parent, next, vnode);\r\n                }\r\n                toggleRecurse(instance, true);\r\n                // render\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    startMeasure(instance, `render`);\r\n                }\r\n                const nextTree = renderComponentRoot(instance);\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    endMeasure(instance, `render`);\r\n                }\r\n                const prevTree = instance.subTree;\r\n                instance.subTree = nextTree;\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    startMeasure(instance, `patch`);\r\n                }\r\n                patch(prevTree, nextTree, \r\n                // parent may have changed if it's in a teleport\r\n                hostParentNode(prevTree.el), \r\n                // anchor may have changed if it's in a fragment\r\n                getNextHostNode(prevTree), instance, parentSuspense, isSVG);\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    endMeasure(instance, `patch`);\r\n                }\r\n                next.el = nextTree.el;\r\n                if (originNext === null) {\r\n                    // self-triggered update. In case of HOC, update parent component\r\n                    // vnode el. HOC is indicated by parent instance's subTree pointing\r\n                    // to child component's vnode\r\n                    updateHOCHostEl(instance, nextTree.el);\r\n                }\r\n                // updated hook\r\n                if (u) {\r\n                    queuePostRenderEffect(u, parentSuspense);\r\n                }\r\n                // onVnodeUpdated\r\n                if ((vnodeHook = next.props && next.props.onVnodeUpdated)) {\r\n                    queuePostRenderEffect(() => invokeVNodeHook(vnodeHook, parent, next, vnode), parentSuspense);\r\n                }\r\n                if ((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) {\r\n                    devtoolsComponentUpdated(instance);\r\n                }\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    popWarningContext();\r\n                }\r\n            }\r\n        };\r\n        // create reactive effect for rendering\r\n        const effect = (instance.effect = new ReactiveEffect(componentUpdateFn, () => queueJob(instance.update), instance.scope // track it in component's effect scope\r\n        ));\r\n        const update = (instance.update = effect.run.bind(effect));\r\n        update.id = instance.uid;\r\n        // allowRecurse\r\n        // #1801, #2043 component render effects should allow recursive updates\r\n        toggleRecurse(instance, true);\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            effect.onTrack = instance.rtc\r\n                ? e => invokeArrayFns(instance.rtc, e)\r\n                : void 0;\r\n            effect.onTrigger = instance.rtg\r\n                ? e => invokeArrayFns(instance.rtg, e)\r\n                : void 0;\r\n            // @ts-ignore (for scheduler)\r\n            update.ownerInstance = instance;\r\n        }\r\n        update();\r\n    };\r\n    const updateComponentPreRender = (instance, nextVNode, optimized) => {\r\n        nextVNode.component = instance;\r\n        const prevProps = instance.vnode.props;\r\n        instance.vnode = nextVNode;\r\n        instance.next = null;\r\n        updateProps(instance, nextVNode.props, prevProps, optimized);\r\n        updateSlots(instance, nextVNode.children, optimized);\r\n        pauseTracking();\r\n        // props update may have triggered pre-flush watchers.\r\n        // flush them before the render update.\r\n        flushPreFlushCbs(undefined, instance.update);\r\n        resetTracking();\r\n    };\r\n    const patchChildren = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized = false) => {\r\n        const c1 = n1 && n1.children;\r\n        const prevShapeFlag = n1 ? n1.shapeFlag : 0;\r\n        const c2 = n2.children;\r\n        const { patchFlag, shapeFlag } = n2;\r\n        // fast path\r\n        if (patchFlag > 0) {\r\n            if (patchFlag & 128 /* KEYED_FRAGMENT */) {\r\n                // this could be either fully-keyed or mixed (some keyed some not)\r\n                // presence of patchFlag means children are guaranteed to be arrays\r\n                patchKeyedChildren(c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n                return;\r\n            }\r\n            else if (patchFlag & 256 /* UNKEYED_FRAGMENT */) {\r\n                // unkeyed\r\n                patchUnkeyedChildren(c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n                return;\r\n            }\r\n        }\r\n        // children has 3 possibilities: text, array or no children.\r\n        if (shapeFlag & 8 /* TEXT_CHILDREN */) {\r\n            // text children fast path\r\n            if (prevShapeFlag & 16 /* ARRAY_CHILDREN */) {\r\n                unmountChildren(c1, parentComponent, parentSuspense);\r\n            }\r\n            if (c2 !== c1) {\r\n                hostSetElementText(container, c2);\r\n            }\r\n        }\r\n        else {\r\n            if (prevShapeFlag & 16 /* ARRAY_CHILDREN */) {\r\n                // prev children was array\r\n                if (shapeFlag & 16 /* ARRAY_CHILDREN */) {\r\n                    // two arrays, cannot assume anything, do full diff\r\n                    patchKeyedChildren(c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n                }\r\n                else {\r\n                    // no new children, just unmount old\r\n                    unmountChildren(c1, parentComponent, parentSuspense, true);\r\n                }\r\n            }\r\n            else {\r\n                // prev children was text OR null\r\n                // new children is array OR null\r\n                if (prevShapeFlag & 8 /* TEXT_CHILDREN */) {\r\n                    hostSetElementText(container, '');\r\n                }\r\n                // mount new if array\r\n                if (shapeFlag & 16 /* ARRAY_CHILDREN */) {\r\n                    mountChildren(c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    const patchUnkeyedChildren = (c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\r\n        c1 = c1 || EMPTY_ARR;\r\n        c2 = c2 || EMPTY_ARR;\r\n        const oldLength = c1.length;\r\n        const newLength = c2.length;\r\n        const commonLength = Math.min(oldLength, newLength);\r\n        let i;\r\n        for (i = 0; i < commonLength; i++) {\r\n            const nextChild = (c2[i] = optimized\r\n                ? cloneIfMounted(c2[i])\r\n                : normalizeVNode(c2[i]));\r\n            patch(c1[i], nextChild, container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n        }\r\n        if (oldLength > newLength) {\r\n            // remove old\r\n            unmountChildren(c1, parentComponent, parentSuspense, true, false, commonLength);\r\n        }\r\n        else {\r\n            // mount new\r\n            mountChildren(c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, commonLength);\r\n        }\r\n    };\r\n    // can be all-keyed or mixed\r\n    const patchKeyedChildren = (c1, c2, container, parentAnchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\r\n        let i = 0;\r\n        const l2 = c2.length;\r\n        let e1 = c1.length - 1; // prev ending index\r\n        let e2 = l2 - 1; // next ending index\r\n        // 1. sync from start\r\n        // (a b) c\r\n        // (a b) d e\r\n        while (i <= e1 && i <= e2) {\r\n            const n1 = c1[i];\r\n            const n2 = (c2[i] = optimized\r\n                ? cloneIfMounted(c2[i])\r\n                : normalizeVNode(c2[i]));\r\n            if (isSameVNodeType(n1, n2)) {\r\n                patch(n1, n2, container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n            }\r\n            else {\r\n                break;\r\n            }\r\n            i++;\r\n        }\r\n        // 2. sync from end\r\n        // a (b c)\r\n        // d e (b c)\r\n        while (i <= e1 && i <= e2) {\r\n            const n1 = c1[e1];\r\n            const n2 = (c2[e2] = optimized\r\n                ? cloneIfMounted(c2[e2])\r\n                : normalizeVNode(c2[e2]));\r\n            if (isSameVNodeType(n1, n2)) {\r\n                patch(n1, n2, container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n            }\r\n            else {\r\n                break;\r\n            }\r\n            e1--;\r\n            e2--;\r\n        }\r\n        // 3. common sequence + mount\r\n        // (a b)\r\n        // (a b) c\r\n        // i = 2, e1 = 1, e2 = 2\r\n        // (a b)\r\n        // c (a b)\r\n        // i = 0, e1 = -1, e2 = 0\r\n        if (i > e1) {\r\n            if (i <= e2) {\r\n                const nextPos = e2 + 1;\r\n                const anchor = nextPos < l2 ? c2[nextPos].el : parentAnchor;\r\n                while (i <= e2) {\r\n                    patch(null, (c2[i] = optimized\r\n                        ? cloneIfMounted(c2[i])\r\n                        : normalizeVNode(c2[i])), container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n                    i++;\r\n                }\r\n            }\r\n        }\r\n        // 4. common sequence + unmount\r\n        // (a b) c\r\n        // (a b)\r\n        // i = 2, e1 = 2, e2 = 1\r\n        // a (b c)\r\n        // (b c)\r\n        // i = 0, e1 = 0, e2 = -1\r\n        else if (i > e2) {\r\n            while (i <= e1) {\r\n                unmount(c1[i], parentComponent, parentSuspense, true);\r\n                i++;\r\n            }\r\n        }\r\n        // 5. unknown sequence\r\n        // [i ... e1 + 1]: a b [c d e] f g\r\n        // [i ... e2 + 1]: a b [e d c h] f g\r\n        // i = 2, e1 = 4, e2 = 5\r\n        else {\r\n            const s1 = i; // prev starting index\r\n            const s2 = i; // next starting index\r\n            // 5.1 build key:index map for newChildren\r\n            const keyToNewIndexMap = new Map();\r\n            for (i = s2; i <= e2; i++) {\r\n                const nextChild = (c2[i] = optimized\r\n                    ? cloneIfMounted(c2[i])\r\n                    : normalizeVNode(c2[i]));\r\n                if (nextChild.key != null) {\r\n                    if ((process.env.NODE_ENV !== 'production') && keyToNewIndexMap.has(nextChild.key)) {\r\n                        warn(`Duplicate keys found during update:`, JSON.stringify(nextChild.key), `Make sure keys are unique.`);\r\n                    }\r\n                    keyToNewIndexMap.set(nextChild.key, i);\r\n                }\r\n            }\r\n            // 5.2 loop through old children left to be patched and try to patch\r\n            // matching nodes & remove nodes that are no longer present\r\n            let j;\r\n            let patched = 0;\r\n            const toBePatched = e2 - s2 + 1;\r\n            let moved = false;\r\n            // used to track whether any node has moved\r\n            let maxNewIndexSoFar = 0;\r\n            // works as Map<newIndex, oldIndex>\r\n            // Note that oldIndex is offset by +1\r\n            // and oldIndex = 0 is a special value indicating the new node has\r\n            // no corresponding old node.\r\n            // used for determining longest stable subsequence\r\n            const newIndexToOldIndexMap = new Array(toBePatched);\r\n            for (i = 0; i < toBePatched; i++)\r\n                newIndexToOldIndexMap[i] = 0;\r\n            for (i = s1; i <= e1; i++) {\r\n                const prevChild = c1[i];\r\n                if (patched >= toBePatched) {\r\n                    // all new children have been patched so this can only be a removal\r\n                    unmount(prevChild, parentComponent, parentSuspense, true);\r\n                    continue;\r\n                }\r\n                let newIndex;\r\n                if (prevChild.key != null) {\r\n                    newIndex = keyToNewIndexMap.get(prevChild.key);\r\n                }\r\n                else {\r\n                    // key-less node, try to locate a key-less node of the same type\r\n                    for (j = s2; j <= e2; j++) {\r\n                        if (newIndexToOldIndexMap[j - s2] === 0 &&\r\n                            isSameVNodeType(prevChild, c2[j])) {\r\n                            newIndex = j;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                if (newIndex === undefined) {\r\n                    unmount(prevChild, parentComponent, parentSuspense, true);\r\n                }\r\n                else {\r\n                    newIndexToOldIndexMap[newIndex - s2] = i + 1;\r\n                    if (newIndex >= maxNewIndexSoFar) {\r\n                        maxNewIndexSoFar = newIndex;\r\n                    }\r\n                    else {\r\n                        moved = true;\r\n                    }\r\n                    patch(prevChild, c2[newIndex], container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n                    patched++;\r\n                }\r\n            }\r\n            // 5.3 move and mount\r\n            // generate longest stable subsequence only when nodes have moved\r\n            const increasingNewIndexSequence = moved\r\n                ? getSequence(newIndexToOldIndexMap)\r\n                : EMPTY_ARR;\r\n            j = increasingNewIndexSequence.length - 1;\r\n            // looping backwards so that we can use last patched node as anchor\r\n            for (i = toBePatched - 1; i >= 0; i--) {\r\n                const nextIndex = s2 + i;\r\n                const nextChild = c2[nextIndex];\r\n                const anchor = nextIndex + 1 < l2 ? c2[nextIndex + 1].el : parentAnchor;\r\n                if (newIndexToOldIndexMap[i] === 0) {\r\n                    // mount new\r\n                    patch(null, nextChild, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n                }\r\n                else if (moved) {\r\n                    // move if:\r\n                    // There is no stable subsequence (e.g. a reverse)\r\n                    // OR current node is not among the stable sequence\r\n                    if (j < 0 || i !== increasingNewIndexSequence[j]) {\r\n                        move(nextChild, container, anchor, 2 /* REORDER */);\r\n                    }\r\n                    else {\r\n                        j--;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    const move = (vnode, container, anchor, moveType, parentSuspense = null) => {\r\n        const { el, type, transition, children, shapeFlag } = vnode;\r\n        if (shapeFlag & 6 /* COMPONENT */) {\r\n            move(vnode.component.subTree, container, anchor, moveType);\r\n            return;\r\n        }\r\n        if (shapeFlag & 128 /* SUSPENSE */) {\r\n            vnode.suspense.move(container, anchor, moveType);\r\n            return;\r\n        }\r\n        if (shapeFlag & 64 /* TELEPORT */) {\r\n            type.move(vnode, container, anchor, internals);\r\n            return;\r\n        }\r\n        if (type === Fragment) {\r\n            hostInsert(el, container, anchor);\r\n            for (let i = 0; i < children.length; i++) {\r\n                move(children[i], container, anchor, moveType);\r\n            }\r\n            hostInsert(vnode.anchor, container, anchor);\r\n            return;\r\n        }\r\n        if (type === Static) {\r\n            moveStaticNode(vnode, container, anchor);\r\n            return;\r\n        }\r\n        // single nodes\r\n        const needTransition = moveType !== 2 /* REORDER */ &&\r\n            shapeFlag & 1 /* ELEMENT */ &&\r\n            transition;\r\n        if (needTransition) {\r\n            if (moveType === 0 /* ENTER */) {\r\n                transition.beforeEnter(el);\r\n                hostInsert(el, container, anchor);\r\n                queuePostRenderEffect(() => transition.enter(el), parentSuspense);\r\n            }\r\n            else {\r\n                const { leave, delayLeave, afterLeave } = transition;\r\n                const remove = () => hostInsert(el, container, anchor);\r\n                const performLeave = () => {\r\n                    leave(el, () => {\r\n                        remove();\r\n                        afterLeave && afterLeave();\r\n                    });\r\n                };\r\n                if (delayLeave) {\r\n                    delayLeave(el, remove, performLeave);\r\n                }\r\n                else {\r\n                    performLeave();\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            hostInsert(el, container, anchor);\r\n        }\r\n    };\r\n    const unmount = (vnode, parentComponent, parentSuspense, doRemove = false, optimized = false) => {\r\n        const { type, props, ref, children, dynamicChildren, shapeFlag, patchFlag, dirs } = vnode;\r\n        // unset ref\r\n        if (ref != null) {\r\n            setRef(ref, null, parentSuspense, vnode, true);\r\n        }\r\n        if (shapeFlag & 256 /* COMPONENT_SHOULD_KEEP_ALIVE */) {\r\n            parentComponent.ctx.deactivate(vnode);\r\n            return;\r\n        }\r\n        const shouldInvokeDirs = shapeFlag & 1 /* ELEMENT */ && dirs;\r\n        const shouldInvokeVnodeHook = !isAsyncWrapper(vnode);\r\n        let vnodeHook;\r\n        if (shouldInvokeVnodeHook &&\r\n            (vnodeHook = props && props.onVnodeBeforeUnmount)) {\r\n            invokeVNodeHook(vnodeHook, parentComponent, vnode);\r\n        }\r\n        if (shapeFlag & 6 /* COMPONENT */) {\r\n            unmountComponent(vnode.component, parentSuspense, doRemove);\r\n        }\r\n        else {\r\n            if (shapeFlag & 128 /* SUSPENSE */) {\r\n                vnode.suspense.unmount(parentSuspense, doRemove);\r\n                return;\r\n            }\r\n            if (shouldInvokeDirs) {\r\n                invokeDirectiveHook(vnode, null, parentComponent, 'beforeUnmount');\r\n            }\r\n            if (shapeFlag & 64 /* TELEPORT */) {\r\n                vnode.type.remove(vnode, parentComponent, parentSuspense, optimized, internals, doRemove);\r\n            }\r\n            else if (dynamicChildren &&\r\n                // #1153: fast path should not be taken for non-stable (v-for) fragments\r\n                (type !== Fragment ||\r\n                    (patchFlag > 0 && patchFlag & 64 /* STABLE_FRAGMENT */))) {\r\n                // fast path for block nodes: only need to unmount dynamic children.\r\n                unmountChildren(dynamicChildren, parentComponent, parentSuspense, false, true);\r\n            }\r\n            else if ((type === Fragment &&\r\n                patchFlag &\r\n                    (128 /* KEYED_FRAGMENT */ | 256 /* UNKEYED_FRAGMENT */)) ||\r\n                (!optimized && shapeFlag & 16 /* ARRAY_CHILDREN */)) {\r\n                unmountChildren(children, parentComponent, parentSuspense);\r\n            }\r\n            if (doRemove) {\r\n                remove(vnode);\r\n            }\r\n        }\r\n        if ((shouldInvokeVnodeHook &&\r\n            (vnodeHook = props && props.onVnodeUnmounted)) ||\r\n            shouldInvokeDirs) {\r\n            queuePostRenderEffect(() => {\r\n                vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, vnode);\r\n                shouldInvokeDirs &&\r\n                    invokeDirectiveHook(vnode, null, parentComponent, 'unmounted');\r\n            }, parentSuspense);\r\n        }\r\n    };\r\n    const remove = vnode => {\r\n        const { type, el, anchor, transition } = vnode;\r\n        if (type === Fragment) {\r\n            removeFragment(el, anchor);\r\n            return;\r\n        }\r\n        if (type === Static) {\r\n            removeStaticNode(vnode);\r\n            return;\r\n        }\r\n        const performRemove = () => {\r\n            hostRemove(el);\r\n            if (transition && !transition.persisted && transition.afterLeave) {\r\n                transition.afterLeave();\r\n            }\r\n        };\r\n        if (vnode.shapeFlag & 1 /* ELEMENT */ &&\r\n            transition &&\r\n            !transition.persisted) {\r\n            const { leave, delayLeave } = transition;\r\n            const performLeave = () => leave(el, performRemove);\r\n            if (delayLeave) {\r\n                delayLeave(vnode.el, performRemove, performLeave);\r\n            }\r\n            else {\r\n                performLeave();\r\n            }\r\n        }\r\n        else {\r\n            performRemove();\r\n        }\r\n    };\r\n    const removeFragment = (cur, end) => {\r\n        // For fragments, directly remove all contained DOM nodes.\r\n        // (fragment child nodes cannot have transition)\r\n        let next;\r\n        while (cur !== end) {\r\n            next = hostNextSibling(cur);\r\n            hostRemove(cur);\r\n            cur = next;\r\n        }\r\n        hostRemove(end);\r\n    };\r\n    const unmountComponent = (instance, parentSuspense, doRemove) => {\r\n        if ((process.env.NODE_ENV !== 'production') && instance.type.__hmrId) {\r\n            unregisterHMR(instance);\r\n        }\r\n        const { bum, scope, update, subTree, um } = instance;\r\n        // beforeUnmount hook\r\n        if (bum) {\r\n            invokeArrayFns(bum);\r\n        }\r\n        // stop effects in component scope\r\n        scope.stop();\r\n        // update may be null if a component is unmounted before its async\r\n        // setup has resolved.\r\n        if (update) {\r\n            // so that scheduler will no longer invoke it\r\n            update.active = false;\r\n            unmount(subTree, instance, parentSuspense, doRemove);\r\n        }\r\n        // unmounted hook\r\n        if (um) {\r\n            queuePostRenderEffect(um, parentSuspense);\r\n        }\r\n        queuePostRenderEffect(() => {\r\n            instance.isUnmounted = true;\r\n        }, parentSuspense);\r\n        // A component with async dep inside a pending suspense is unmounted before\r\n        // its async dep resolves. This should remove the dep from the suspense, and\r\n        // cause the suspense to resolve immediately if that was the last dep.\r\n        if (parentSuspense &&\r\n            parentSuspense.pendingBranch &&\r\n            !parentSuspense.isUnmounted &&\r\n            instance.asyncDep &&\r\n            !instance.asyncResolved &&\r\n            instance.suspenseId === parentSuspense.pendingId) {\r\n            parentSuspense.deps--;\r\n            if (parentSuspense.deps === 0) {\r\n                parentSuspense.resolve();\r\n            }\r\n        }\r\n        if ((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) {\r\n            devtoolsComponentRemoved(instance);\r\n        }\r\n    };\r\n    const unmountChildren = (children, parentComponent, parentSuspense, doRemove = false, optimized = false, start = 0) => {\r\n        for (let i = start; i < children.length; i++) {\r\n            unmount(children[i], parentComponent, parentSuspense, doRemove, optimized);\r\n        }\r\n    };\r\n    const getNextHostNode = vnode => {\r\n        if (vnode.shapeFlag & 6 /* COMPONENT */) {\r\n            return getNextHostNode(vnode.component.subTree);\r\n        }\r\n        if (vnode.shapeFlag & 128 /* SUSPENSE */) {\r\n            return vnode.suspense.next();\r\n        }\r\n        return hostNextSibling((vnode.anchor || vnode.el));\r\n    };\r\n    const render = (vnode, container, isSVG) => {\r\n        if (vnode == null) {\r\n            if (container._vnode) {\r\n                unmount(container._vnode, null, null, true);\r\n            }\r\n        }\r\n        else {\r\n            patch(container._vnode || null, vnode, container, null, null, null, isSVG);\r\n        }\r\n        flushPostFlushCbs();\r\n        container._vnode = vnode;\r\n    };\r\n    const internals = {\r\n        p: patch,\r\n        um: unmount,\r\n        m: move,\r\n        r: remove,\r\n        mt: mountComponent,\r\n        mc: mountChildren,\r\n        pc: patchChildren,\r\n        pbc: patchBlockChildren,\r\n        n: getNextHostNode,\r\n        o: options\r\n    };\r\n    let hydrate;\r\n    let hydrateNode;\r\n    if (createHydrationFns) {\r\n        [hydrate, hydrateNode] = createHydrationFns(internals);\r\n    }\r\n    return {\r\n        render,\r\n        hydrate,\r\n        createApp: createAppAPI(render, hydrate)\r\n    };\r\n}\r\nfunction toggleRecurse({ effect, update }, allowed) {\r\n    effect.allowRecurse = update.allowRecurse = allowed;\r\n}\r\n/**\r\n * #1156\r\n * When a component is HMR-enabled, we need to make sure that all static nodes\r\n * inside a block also inherit the DOM element from the previous tree so that\r\n * HMR updates (which are full updates) can retrieve the element for patching.\r\n *\r\n * #2080\r\n * Inside keyed `template` fragment static children, if a fragment is moved,\r\n * the children will always be moved. Therefore, in order to ensure correct move\r\n * position, el should be inherited from previous nodes.\r\n */\r\nfunction traverseStaticChildren(n1, n2, shallow = false) {\r\n    const ch1 = n1.children;\r\n    const ch2 = n2.children;\r\n    if (isArray(ch1) && isArray(ch2)) {\r\n        for (let i = 0; i < ch1.length; i++) {\r\n            // this is only called in the optimized path so array children are\r\n            // guaranteed to be vnodes\r\n            const c1 = ch1[i];\r\n            let c2 = ch2[i];\r\n            if (c2.shapeFlag & 1 /* ELEMENT */ && !c2.dynamicChildren) {\r\n                if (c2.patchFlag <= 0 || c2.patchFlag === 32 /* HYDRATE_EVENTS */) {\r\n                    c2 = ch2[i] = cloneIfMounted(ch2[i]);\r\n                    c2.el = c1.el;\r\n                }\r\n                if (!shallow)\r\n                    traverseStaticChildren(c1, c2);\r\n            }\r\n            // also inherit for comment nodes, but not placeholders (e.g. v-if which\r\n            // would have received .el during block patch)\r\n            if ((process.env.NODE_ENV !== 'production') && c2.type === Comment && !c2.el) {\r\n                c2.el = c1.el;\r\n            }\r\n        }\r\n    }\r\n}\r\n// https://en.wikipedia.org/wiki/Longest_increasing_subsequence\r\nfunction getSequence(arr) {\r\n    const p = arr.slice();\r\n    const result = [0];\r\n    let i, j, u, v, c;\r\n    const len = arr.length;\r\n    for (i = 0; i < len; i++) {\r\n        const arrI = arr[i];\r\n        if (arrI !== 0) {\r\n            j = result[result.length - 1];\r\n            if (arr[j] < arrI) {\r\n                p[i] = j;\r\n                result.push(i);\r\n                continue;\r\n            }\r\n            u = 0;\r\n            v = result.length - 1;\r\n            while (u < v) {\r\n                c = (u + v) >> 1;\r\n                if (arr[result[c]] < arrI) {\r\n                    u = c + 1;\r\n                }\r\n                else {\r\n                    v = c;\r\n                }\r\n            }\r\n            if (arrI < arr[result[u]]) {\r\n                if (u > 0) {\r\n                    p[i] = result[u - 1];\r\n                }\r\n                result[u] = i;\r\n            }\r\n        }\r\n    }\r\n    u = result.length;\r\n    v = result[u - 1];\r\n    while (u-- > 0) {\r\n        result[u] = v;\r\n        v = p[v];\r\n    }\r\n    return result;\r\n}\n\nconst isTeleport = (type) => type.__isTeleport;\r\nconst isTeleportDisabled = (props) => props && (props.disabled || props.disabled === '');\r\nconst isTargetSVG = (target) => typeof SVGElement !== 'undefined' && target instanceof SVGElement;\r\nconst resolveTarget = (props, select) => {\r\n    const targetSelector = props && props.to;\r\n    if (isString(targetSelector)) {\r\n        if (!select) {\r\n            (process.env.NODE_ENV !== 'production') &&\r\n                warn(`Current renderer does not support string target for Teleports. ` +\r\n                    `(missing querySelector renderer option)`);\r\n            return null;\r\n        }\r\n        else {\r\n            const target = select(targetSelector);\r\n            if (!target) {\r\n                (process.env.NODE_ENV !== 'production') &&\r\n                    warn(`Failed to locate Teleport target with selector \"${targetSelector}\". ` +\r\n                        `Note the target element must exist before the component is mounted - ` +\r\n                        `i.e. the target cannot be rendered by the component itself, and ` +\r\n                        `ideally should be outside of the entire Vue component tree.`);\r\n            }\r\n            return target;\r\n        }\r\n    }\r\n    else {\r\n        if ((process.env.NODE_ENV !== 'production') && !targetSelector && !isTeleportDisabled(props)) {\r\n            warn(`Invalid Teleport target: ${targetSelector}`);\r\n        }\r\n        return targetSelector;\r\n    }\r\n};\r\nconst TeleportImpl = {\r\n    __isTeleport: true,\r\n    process(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, internals) {\r\n        const { mc: mountChildren, pc: patchChildren, pbc: patchBlockChildren, o: { insert, querySelector, createText, createComment } } = internals;\r\n        const disabled = isTeleportDisabled(n2.props);\r\n        let { shapeFlag, children, dynamicChildren } = n2;\r\n        // #3302\r\n        // HMR updated, force full diff\r\n        if ((process.env.NODE_ENV !== 'production') && isHmrUpdating) {\r\n            optimized = false;\r\n            dynamicChildren = null;\r\n        }\r\n        if (n1 == null) {\r\n            // insert anchors in the main view\r\n            const placeholder = (n2.el = (process.env.NODE_ENV !== 'production')\r\n                ? createComment('teleport start')\r\n                : createText(''));\r\n            const mainAnchor = (n2.anchor = (process.env.NODE_ENV !== 'production')\r\n                ? createComment('teleport end')\r\n                : createText(''));\r\n            insert(placeholder, container, anchor);\r\n            insert(mainAnchor, container, anchor);\r\n            const target = (n2.target = resolveTarget(n2.props, querySelector));\r\n            const targetAnchor = (n2.targetAnchor = createText(''));\r\n            if (target) {\r\n                insert(targetAnchor, target);\r\n                // #2652 we could be teleporting from a non-SVG tree into an SVG tree\r\n                isSVG = isSVG || isTargetSVG(target);\r\n            }\r\n            else if ((process.env.NODE_ENV !== 'production') && !disabled) {\r\n                warn('Invalid Teleport target on mount:', target, `(${typeof target})`);\r\n            }\r\n            const mount = (container, anchor) => {\r\n                // Teleport *always* has Array children. This is enforced in both the\r\n                // compiler and vnode children normalization.\r\n                if (shapeFlag & 16 /* ARRAY_CHILDREN */) {\r\n                    mountChildren(children, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n                }\r\n            };\r\n            if (disabled) {\r\n                mount(container, mainAnchor);\r\n            }\r\n            else if (target) {\r\n                mount(target, targetAnchor);\r\n            }\r\n        }\r\n        else {\r\n            // update content\r\n            n2.el = n1.el;\r\n            const mainAnchor = (n2.anchor = n1.anchor);\r\n            const target = (n2.target = n1.target);\r\n            const targetAnchor = (n2.targetAnchor = n1.targetAnchor);\r\n            const wasDisabled = isTeleportDisabled(n1.props);\r\n            const currentContainer = wasDisabled ? container : target;\r\n            const currentAnchor = wasDisabled ? mainAnchor : targetAnchor;\r\n            isSVG = isSVG || isTargetSVG(target);\r\n            if (dynamicChildren) {\r\n                // fast path when the teleport happens to be a block root\r\n                patchBlockChildren(n1.dynamicChildren, dynamicChildren, currentContainer, parentComponent, parentSuspense, isSVG, slotScopeIds);\r\n                // even in block tree mode we need to make sure all root-level nodes\r\n                // in the teleport inherit previous DOM references so that they can\r\n                // be moved in future patches.\r\n                traverseStaticChildren(n1, n2, true);\r\n            }\r\n            else if (!optimized) {\r\n                patchChildren(n1, n2, currentContainer, currentAnchor, parentComponent, parentSuspense, isSVG, slotScopeIds, false);\r\n            }\r\n            if (disabled) {\r\n                if (!wasDisabled) {\r\n                    // enabled -> disabled\r\n                    // move into main container\r\n                    moveTeleport(n2, container, mainAnchor, internals, 1 /* TOGGLE */);\r\n                }\r\n            }\r\n            else {\r\n                // target changed\r\n                if ((n2.props && n2.props.to) !== (n1.props && n1.props.to)) {\r\n                    const nextTarget = (n2.target = resolveTarget(n2.props, querySelector));\r\n                    if (nextTarget) {\r\n                        moveTeleport(n2, nextTarget, null, internals, 0 /* TARGET_CHANGE */);\r\n                    }\r\n                    else if ((process.env.NODE_ENV !== 'production')) {\r\n                        warn('Invalid Teleport target on update:', target, `(${typeof target})`);\r\n                    }\r\n                }\r\n                else if (wasDisabled) {\r\n                    // disabled -> enabled\r\n                    // move into teleport target\r\n                    moveTeleport(n2, target, targetAnchor, internals, 1 /* TOGGLE */);\r\n                }\r\n            }\r\n        }\r\n    },\r\n    remove(vnode, parentComponent, parentSuspense, optimized, { um: unmount, o: { remove: hostRemove } }, doRemove) {\r\n        const { shapeFlag, children, anchor, targetAnchor, target, props } = vnode;\r\n        if (target) {\r\n            hostRemove(targetAnchor);\r\n        }\r\n        // an unmounted teleport should always remove its children if not disabled\r\n        if (doRemove || !isTeleportDisabled(props)) {\r\n            hostRemove(anchor);\r\n            if (shapeFlag & 16 /* ARRAY_CHILDREN */) {\r\n                for (let i = 0; i < children.length; i++) {\r\n                    const child = children[i];\r\n                    unmount(child, parentComponent, parentSuspense, true, !!child.dynamicChildren);\r\n                }\r\n            }\r\n        }\r\n    },\r\n    move: moveTeleport,\r\n    hydrate: hydrateTeleport\r\n};\r\nfunction moveTeleport(vnode, container, parentAnchor, { o: { insert }, m: move }, moveType = 2 /* REORDER */) {\r\n    // move target anchor if this is a target change.\r\n    if (moveType === 0 /* TARGET_CHANGE */) {\r\n        insert(vnode.targetAnchor, container, parentAnchor);\r\n    }\r\n    const { el, anchor, shapeFlag, children, props } = vnode;\r\n    const isReorder = moveType === 2 /* REORDER */;\r\n    // move main view anchor if this is a re-order.\r\n    if (isReorder) {\r\n        insert(el, container, parentAnchor);\r\n    }\r\n    // if this is a re-order and teleport is enabled (content is in target)\r\n    // do not move children. So the opposite is: only move children if this\r\n    // is not a reorder, or the teleport is disabled\r\n    if (!isReorder || isTeleportDisabled(props)) {\r\n        // Teleport has either Array children or no children.\r\n        if (shapeFlag & 16 /* ARRAY_CHILDREN */) {\r\n            for (let i = 0; i < children.length; i++) {\r\n                move(children[i], container, parentAnchor, 2 /* REORDER */);\r\n            }\r\n        }\r\n    }\r\n    // move main view anchor if this is a re-order.\r\n    if (isReorder) {\r\n        insert(anchor, container, parentAnchor);\r\n    }\r\n}\r\nfunction hydrateTeleport(node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized, { o: { nextSibling, parentNode, querySelector } }, hydrateChildren) {\r\n    const target = (vnode.target = resolveTarget(vnode.props, querySelector));\r\n    if (target) {\r\n        // if multiple teleports rendered to the same target element, we need to\r\n        // pick up from where the last teleport finished instead of the first node\r\n        const targetNode = target._lpa || target.firstChild;\r\n        if (vnode.shapeFlag & 16 /* ARRAY_CHILDREN */) {\r\n            if (isTeleportDisabled(vnode.props)) {\r\n                vnode.anchor = hydrateChildren(nextSibling(node), vnode, parentNode(node), parentComponent, parentSuspense, slotScopeIds, optimized);\r\n                vnode.targetAnchor = targetNode;\r\n            }\r\n            else {\r\n                vnode.anchor = nextSibling(node);\r\n                vnode.targetAnchor = hydrateChildren(targetNode, vnode, target, parentComponent, parentSuspense, slotScopeIds, optimized);\r\n            }\r\n            target._lpa =\r\n                vnode.targetAnchor && nextSibling(vnode.targetAnchor);\r\n        }\r\n    }\r\n    return vnode.anchor && nextSibling(vnode.anchor);\r\n}\r\n// Force-casted public typing for h and TSX props inference\r\nconst Teleport = TeleportImpl;\n\nconst COMPONENTS = 'components';\r\nconst DIRECTIVES = 'directives';\r\n/**\r\n * @private\r\n */\r\nfunction resolveComponent(name, maybeSelfReference) {\r\n    return resolveAsset(COMPONENTS, name, true, maybeSelfReference) || name;\r\n}\r\nconst NULL_DYNAMIC_COMPONENT = Symbol();\r\n/**\r\n * @private\r\n */\r\nfunction resolveDynamicComponent(component) {\r\n    if (isString(component)) {\r\n        return resolveAsset(COMPONENTS, component, false) || component;\r\n    }\r\n    else {\r\n        // invalid types will fallthrough to createVNode and raise warning\r\n        return (component || NULL_DYNAMIC_COMPONENT);\r\n    }\r\n}\r\n/**\r\n * @private\r\n */\r\nfunction resolveDirective(name) {\r\n    return resolveAsset(DIRECTIVES, name);\r\n}\r\n// implementation\r\nfunction resolveAsset(type, name, warnMissing = true, maybeSelfReference = false) {\r\n    const instance = currentRenderingInstance || currentInstance;\r\n    if (instance) {\r\n        const Component = instance.type;\r\n        // explicit self name has highest priority\r\n        if (type === COMPONENTS) {\r\n            const selfName = getComponentName(Component);\r\n            if (selfName &&\r\n                (selfName === name ||\r\n                    selfName === camelize(name) ||\r\n                    selfName === capitalize(camelize(name)))) {\r\n                return Component;\r\n            }\r\n        }\r\n        const res = \r\n        // local registration\r\n        // check instance[type] first which is resolved for options API\r\n        resolve(instance[type] || Component[type], name) ||\r\n            // global registration\r\n            resolve(instance.appContext[type], name);\r\n        if (!res && maybeSelfReference) {\r\n            // fallback to implicit self-reference\r\n            return Component;\r\n        }\r\n        if ((process.env.NODE_ENV !== 'production') && warnMissing && !res) {\r\n            const extra = type === COMPONENTS\r\n                ? `\\nIf this is a native custom element, make sure to exclude it from ` +\r\n                    `component resolution via compilerOptions.isCustomElement.`\r\n                : ``;\r\n            warn(`Failed to resolve ${type.slice(0, -1)}: ${name}${extra}`);\r\n        }\r\n        return res;\r\n    }\r\n    else if ((process.env.NODE_ENV !== 'production')) {\r\n        warn(`resolve${capitalize(type.slice(0, -1))} ` +\r\n            `can only be used in render() or setup().`);\r\n    }\r\n}\r\nfunction resolve(registry, name) {\r\n    return (registry &&\r\n        (registry[name] ||\r\n            registry[camelize(name)] ||\r\n            registry[capitalize(camelize(name))]));\r\n}\n\nconst Fragment = Symbol((process.env.NODE_ENV !== 'production') ? 'Fragment' : undefined);\r\nconst Text = Symbol((process.env.NODE_ENV !== 'production') ? 'Text' : undefined);\r\nconst Comment = Symbol((process.env.NODE_ENV !== 'production') ? 'Comment' : undefined);\r\nconst Static = Symbol((process.env.NODE_ENV !== 'production') ? 'Static' : undefined);\r\n// Since v-if and v-for are the two possible ways node structure can dynamically\r\n// change, once we consider v-if branches and each v-for fragment a block, we\r\n// can divide a template into nested blocks, and within each block the node\r\n// structure would be stable. This allows us to skip most children diffing\r\n// and only worry about the dynamic nodes (indicated by patch flags).\r\nconst blockStack = [];\r\nlet currentBlock = null;\r\n/**\r\n * Open a block.\r\n * This must be called before `createBlock`. It cannot be part of `createBlock`\r\n * because the children of the block are evaluated before `createBlock` itself\r\n * is called. The generated code typically looks like this:\r\n *\r\n * ```js\r\n * function render() {\r\n *   return (openBlock(),createBlock('div', null, [...]))\r\n * }\r\n * ```\r\n * disableTracking is true when creating a v-for fragment block, since a v-for\r\n * fragment always diffs its children.\r\n *\r\n * @private\r\n */\r\nfunction openBlock(disableTracking = false) {\r\n    blockStack.push((currentBlock = disableTracking ? null : []));\r\n}\r\nfunction closeBlock() {\r\n    blockStack.pop();\r\n    currentBlock = blockStack[blockStack.length - 1] || null;\r\n}\r\n// Whether we should be tracking dynamic child nodes inside a block.\r\n// Only tracks when this value is > 0\r\n// We are not using a simple boolean because this value may need to be\r\n// incremented/decremented by nested usage of v-once (see below)\r\nlet isBlockTreeEnabled = 1;\r\n/**\r\n * Block tracking sometimes needs to be disabled, for example during the\r\n * creation of a tree that needs to be cached by v-once. The compiler generates\r\n * code like this:\r\n *\r\n * ``` js\r\n * _cache[1] || (\r\n *   setBlockTracking(-1),\r\n *   _cache[1] = createVNode(...),\r\n *   setBlockTracking(1),\r\n *   _cache[1]\r\n * )\r\n * ```\r\n *\r\n * @private\r\n */\r\nfunction setBlockTracking(value) {\r\n    isBlockTreeEnabled += value;\r\n}\r\nfunction setupBlock(vnode) {\r\n    // save current block children on the block vnode\r\n    vnode.dynamicChildren =\r\n        isBlockTreeEnabled > 0 ? currentBlock || EMPTY_ARR : null;\r\n    // close block\r\n    closeBlock();\r\n    // a block is always going to be patched, so track it as a child of its\r\n    // parent block\r\n    if (isBlockTreeEnabled > 0 && currentBlock) {\r\n        currentBlock.push(vnode);\r\n    }\r\n    return vnode;\r\n}\r\n/**\r\n * @private\r\n */\r\nfunction createElementBlock(type, props, children, patchFlag, dynamicProps, shapeFlag) {\r\n    return setupBlock(createBaseVNode(type, props, children, patchFlag, dynamicProps, shapeFlag, true /* isBlock */));\r\n}\r\n/**\r\n * Create a block root vnode. Takes the same exact arguments as `createVNode`.\r\n * A block root keeps track of dynamic nodes within the block in the\r\n * `dynamicChildren` array.\r\n *\r\n * @private\r\n */\r\nfunction createBlock(type, props, children, patchFlag, dynamicProps) {\r\n    return setupBlock(createVNode(type, props, children, patchFlag, dynamicProps, true /* isBlock: prevent a block from tracking itself */));\r\n}\r\nfunction isVNode(value) {\r\n    return value ? value.__v_isVNode === true : false;\r\n}\r\nfunction isSameVNodeType(n1, n2) {\r\n    if ((process.env.NODE_ENV !== 'production') &&\r\n        n2.shapeFlag & 6 /* COMPONENT */ &&\r\n        hmrDirtyComponents.has(n2.type)) {\r\n        // HMR only: if the component has been hot-updated, force a reload.\r\n        return false;\r\n    }\r\n    return n1.type === n2.type && n1.key === n2.key;\r\n}\r\nlet vnodeArgsTransformer;\r\n/**\r\n * Internal API for registering an arguments transform for createVNode\r\n * used for creating stubs in the test-utils\r\n * It is *internal* but needs to be exposed for test-utils to pick up proper\r\n * typings\r\n */\r\nfunction transformVNodeArgs(transformer) {\r\n    vnodeArgsTransformer = transformer;\r\n}\r\nconst createVNodeWithArgsTransform = (...args) => {\r\n    return _createVNode(...(vnodeArgsTransformer\r\n        ? vnodeArgsTransformer(args, currentRenderingInstance)\r\n        : args));\r\n};\r\nconst InternalObjectKey = `__vInternal`;\r\nconst normalizeKey = ({ key }) => key != null ? key : null;\r\nconst normalizeRef = ({ ref, ref_key, ref_for }) => {\r\n    return (ref != null\r\n        ? isString(ref) || isRef(ref) || isFunction(ref)\r\n            ? { i: currentRenderingInstance, r: ref, k: ref_key, f: !!ref_for }\r\n            : ref\r\n        : null);\r\n};\r\nfunction createBaseVNode(type, props = null, children = null, patchFlag = 0, dynamicProps = null, shapeFlag = type === Fragment ? 0 : 1 /* ELEMENT */, isBlockNode = false, needFullChildrenNormalization = false) {\r\n    const vnode = {\r\n        __v_isVNode: true,\r\n        __v_skip: true,\r\n        type,\r\n        props,\r\n        key: props && normalizeKey(props),\r\n        ref: props && normalizeRef(props),\r\n        scopeId: currentScopeId,\r\n        slotScopeIds: null,\r\n        children,\r\n        component: null,\r\n        suspense: null,\r\n        ssContent: null,\r\n        ssFallback: null,\r\n        dirs: null,\r\n        transition: null,\r\n        el: null,\r\n        anchor: null,\r\n        target: null,\r\n        targetAnchor: null,\r\n        staticCount: 0,\r\n        shapeFlag,\r\n        patchFlag,\r\n        dynamicProps,\r\n        dynamicChildren: null,\r\n        appContext: null\r\n    };\r\n    if (needFullChildrenNormalization) {\r\n        normalizeChildren(vnode, children);\r\n        // normalize suspense children\r\n        if (shapeFlag & 128 /* SUSPENSE */) {\r\n            type.normalize(vnode);\r\n        }\r\n    }\r\n    else if (children) {\r\n        // compiled element vnode - if children is passed, only possible types are\r\n        // string or Array.\r\n        vnode.shapeFlag |= isString(children)\r\n            ? 8 /* TEXT_CHILDREN */\r\n            : 16 /* ARRAY_CHILDREN */;\r\n    }\r\n    // validate key\r\n    if ((process.env.NODE_ENV !== 'production') && vnode.key !== vnode.key) {\r\n        warn(`VNode created with invalid key (NaN). VNode type:`, vnode.type);\r\n    }\r\n    // track vnode for block tree\r\n    if (isBlockTreeEnabled > 0 &&\r\n        // avoid a block node from tracking itself\r\n        !isBlockNode &&\r\n        // has current parent block\r\n        currentBlock &&\r\n        // presence of a patch flag indicates this node needs patching on updates.\r\n        // component nodes also should always be patched, because even if the\r\n        // component doesn't need to update, it needs to persist the instance on to\r\n        // the next vnode so that it can be properly unmounted later.\r\n        (vnode.patchFlag > 0 || shapeFlag & 6 /* COMPONENT */) &&\r\n        // the EVENTS flag is only for hydration and if it is the only flag, the\r\n        // vnode should not be considered dynamic due to handler caching.\r\n        vnode.patchFlag !== 32 /* HYDRATE_EVENTS */) {\r\n        currentBlock.push(vnode);\r\n    }\r\n    return vnode;\r\n}\r\nconst createVNode = ((process.env.NODE_ENV !== 'production') ? createVNodeWithArgsTransform : _createVNode);\r\nfunction _createVNode(type, props = null, children = null, patchFlag = 0, dynamicProps = null, isBlockNode = false) {\r\n    if (!type || type === NULL_DYNAMIC_COMPONENT) {\r\n        if ((process.env.NODE_ENV !== 'production') && !type) {\r\n            warn(`Invalid vnode type when creating vnode: ${type}.`);\r\n        }\r\n        type = Comment;\r\n    }\r\n    if (isVNode(type)) {\r\n        // createVNode receiving an existing vnode. This happens in cases like\r\n        // <component :is=\"vnode\"/>\r\n        // #2078 make sure to merge refs during the clone instead of overwriting it\r\n        const cloned = cloneVNode(type, props, true /* mergeRef: true */);\r\n        if (children) {\r\n            normalizeChildren(cloned, children);\r\n        }\r\n        return cloned;\r\n    }\r\n    // class component normalization.\r\n    if (isClassComponent(type)) {\r\n        type = type.__vccOpts;\r\n    }\r\n    // class & style normalization.\r\n    if (props) {\r\n        // for reactive or proxy objects, we need to clone it to enable mutation.\r\n        props = guardReactiveProps(props);\r\n        let { class: klass, style } = props;\r\n        if (klass && !isString(klass)) {\r\n            props.class = normalizeClass(klass);\r\n        }\r\n        if (isObject(style)) {\r\n            // reactive state objects need to be cloned since they are likely to be\r\n            // mutated\r\n            if (isProxy(style) && !isArray(style)) {\r\n                style = extend({}, style);\r\n            }\r\n            props.style = normalizeStyle(style);\r\n        }\r\n    }\r\n    // encode the vnode type information into a bitmap\r\n    const shapeFlag = isString(type)\r\n        ? 1 /* ELEMENT */\r\n        : isSuspense(type)\r\n            ? 128 /* SUSPENSE */\r\n            : isTeleport(type)\r\n                ? 64 /* TELEPORT */\r\n                : isObject(type)\r\n                    ? 4 /* STATEFUL_COMPONENT */\r\n                    : isFunction(type)\r\n                        ? 2 /* FUNCTIONAL_COMPONENT */\r\n                        : 0;\r\n    if ((process.env.NODE_ENV !== 'production') && shapeFlag & 4 /* STATEFUL_COMPONENT */ && isProxy(type)) {\r\n        type = toRaw(type);\r\n        warn(`Vue received a Component which was made a reactive object. This can ` +\r\n            `lead to unnecessary performance overhead, and should be avoided by ` +\r\n            `marking the component with \\`markRaw\\` or using \\`shallowRef\\` ` +\r\n            `instead of \\`ref\\`.`, `\\nComponent that was made reactive: `, type);\r\n    }\r\n    return createBaseVNode(type, props, children, patchFlag, dynamicProps, shapeFlag, isBlockNode, true);\r\n}\r\nfunction guardReactiveProps(props) {\r\n    if (!props)\r\n        return null;\r\n    return isProxy(props) || InternalObjectKey in props\r\n        ? extend({}, props)\r\n        : props;\r\n}\r\nfunction cloneVNode(vnode, extraProps, mergeRef = false) {\r\n    // This is intentionally NOT using spread or extend to avoid the runtime\r\n    // key enumeration cost.\r\n    const { props, ref, patchFlag, children } = vnode;\r\n    const mergedProps = extraProps ? mergeProps(props || {}, extraProps) : props;\r\n    const cloned = {\r\n        __v_isVNode: true,\r\n        __v_skip: true,\r\n        type: vnode.type,\r\n        props: mergedProps,\r\n        key: mergedProps && normalizeKey(mergedProps),\r\n        ref: extraProps && extraProps.ref\r\n            ? // #2078 in the case of <component :is=\"vnode\" ref=\"extra\"/>\r\n                // if the vnode itself already has a ref, cloneVNode will need to merge\r\n                // the refs so the single vnode can be set on multiple refs\r\n                mergeRef && ref\r\n                    ? isArray(ref)\r\n                        ? ref.concat(normalizeRef(extraProps))\r\n                        : [ref, normalizeRef(extraProps)]\r\n                    : normalizeRef(extraProps)\r\n            : ref,\r\n        scopeId: vnode.scopeId,\r\n        slotScopeIds: vnode.slotScopeIds,\r\n        children: (process.env.NODE_ENV !== 'production') && patchFlag === -1 /* HOISTED */ && isArray(children)\r\n            ? children.map(deepCloneVNode)\r\n            : children,\r\n        target: vnode.target,\r\n        targetAnchor: vnode.targetAnchor,\r\n        staticCount: vnode.staticCount,\r\n        shapeFlag: vnode.shapeFlag,\r\n        // if the vnode is cloned with extra props, we can no longer assume its\r\n        // existing patch flag to be reliable and need to add the FULL_PROPS flag.\r\n        // note: perserve flag for fragments since they use the flag for children\r\n        // fast paths only.\r\n        patchFlag: extraProps && vnode.type !== Fragment\r\n            ? patchFlag === -1 // hoisted node\r\n                ? 16 /* FULL_PROPS */\r\n                : patchFlag | 16 /* FULL_PROPS */\r\n            : patchFlag,\r\n        dynamicProps: vnode.dynamicProps,\r\n        dynamicChildren: vnode.dynamicChildren,\r\n        appContext: vnode.appContext,\r\n        dirs: vnode.dirs,\r\n        transition: vnode.transition,\r\n        // These should technically only be non-null on mounted VNodes. However,\r\n        // they *should* be copied for kept-alive vnodes. So we just always copy\r\n        // them since them being non-null during a mount doesn't affect the logic as\r\n        // they will simply be overwritten.\r\n        component: vnode.component,\r\n        suspense: vnode.suspense,\r\n        ssContent: vnode.ssContent && cloneVNode(vnode.ssContent),\r\n        ssFallback: vnode.ssFallback && cloneVNode(vnode.ssFallback),\r\n        el: vnode.el,\r\n        anchor: vnode.anchor\r\n    };\r\n    return cloned;\r\n}\r\n/**\r\n * Dev only, for HMR of hoisted vnodes reused in v-for\r\n * https://github.com/vitejs/vite/issues/2022\r\n */\r\nfunction deepCloneVNode(vnode) {\r\n    const cloned = cloneVNode(vnode);\r\n    if (isArray(vnode.children)) {\r\n        cloned.children = vnode.children.map(deepCloneVNode);\r\n    }\r\n    return cloned;\r\n}\r\n/**\r\n * @private\r\n */\r\nfunction createTextVNode(text = ' ', flag = 0) {\r\n    return createVNode(Text, null, text, flag);\r\n}\r\n/**\r\n * @private\r\n */\r\nfunction createStaticVNode(content, numberOfNodes) {\r\n    // A static vnode can contain multiple stringified elements, and the number\r\n    // of elements is necessary for hydration.\r\n    const vnode = createVNode(Static, null, content);\r\n    vnode.staticCount = numberOfNodes;\r\n    return vnode;\r\n}\r\n/**\r\n * @private\r\n */\r\nfunction createCommentVNode(text = '', \r\n// when used as the v-else branch, the comment node must be created as a\r\n// block to ensure correct updates.\r\nasBlock = false) {\r\n    return asBlock\r\n        ? (openBlock(), createBlock(Comment, null, text))\r\n        : createVNode(Comment, null, text);\r\n}\r\nfunction normalizeVNode(child) {\r\n    if (child == null || typeof child === 'boolean') {\r\n        // empty placeholder\r\n        return createVNode(Comment);\r\n    }\r\n    else if (isArray(child)) {\r\n        // fragment\r\n        return createVNode(Fragment, null, \r\n        // #3666, avoid reference pollution when reusing vnode\r\n        child.slice());\r\n    }\r\n    else if (typeof child === 'object') {\r\n        // already vnode, this should be the most common since compiled templates\r\n        // always produce all-vnode children arrays\r\n        return cloneIfMounted(child);\r\n    }\r\n    else {\r\n        // strings and numbers\r\n        return createVNode(Text, null, String(child));\r\n    }\r\n}\r\n// optimized normalization for template-compiled render fns\r\nfunction cloneIfMounted(child) {\r\n    return child.el === null || child.memo ? child : cloneVNode(child);\r\n}\r\nfunction normalizeChildren(vnode, children) {\r\n    let type = 0;\r\n    const { shapeFlag } = vnode;\r\n    if (children == null) {\r\n        children = null;\r\n    }\r\n    else if (isArray(children)) {\r\n        type = 16 /* ARRAY_CHILDREN */;\r\n    }\r\n    else if (typeof children === 'object') {\r\n        if (shapeFlag & (1 /* ELEMENT */ | 64 /* TELEPORT */)) {\r\n            // Normalize slot to plain children for plain element and Teleport\r\n            const slot = children.default;\r\n            if (slot) {\r\n                // _c marker is added by withCtx() indicating this is a compiled slot\r\n                slot._c && (slot._d = false);\r\n                normalizeChildren(vnode, slot());\r\n                slot._c && (slot._d = true);\r\n            }\r\n            return;\r\n        }\r\n        else {\r\n            type = 32 /* SLOTS_CHILDREN */;\r\n            const slotFlag = children._;\r\n            if (!slotFlag && !(InternalObjectKey in children)) {\r\n                children._ctx = currentRenderingInstance;\r\n            }\r\n            else if (slotFlag === 3 /* FORWARDED */ && currentRenderingInstance) {\r\n                // a child component receives forwarded slots from the parent.\r\n                // its slot type is determined by its parent's slot type.\r\n                if (currentRenderingInstance.slots._ === 1 /* STABLE */) {\r\n                    children._ = 1 /* STABLE */;\r\n                }\r\n                else {\r\n                    children._ = 2 /* DYNAMIC */;\r\n                    vnode.patchFlag |= 1024 /* DYNAMIC_SLOTS */;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    else if (isFunction(children)) {\r\n        children = { default: children, _ctx: currentRenderingInstance };\r\n        type = 32 /* SLOTS_CHILDREN */;\r\n    }\r\n    else {\r\n        children = String(children);\r\n        // force teleport children to array so it can be moved around\r\n        if (shapeFlag & 64 /* TELEPORT */) {\r\n            type = 16 /* ARRAY_CHILDREN */;\r\n            children = [createTextVNode(children)];\r\n        }\r\n        else {\r\n            type = 8 /* TEXT_CHILDREN */;\r\n        }\r\n    }\r\n    vnode.children = children;\r\n    vnode.shapeFlag |= type;\r\n}\r\nfunction mergeProps(...args) {\r\n    const ret = {};\r\n    for (let i = 0; i < args.length; i++) {\r\n        const toMerge = args[i];\r\n        for (const key in toMerge) {\r\n            if (key === 'class') {\r\n                if (ret.class !== toMerge.class) {\r\n                    ret.class = normalizeClass([ret.class, toMerge.class]);\r\n                }\r\n            }\r\n            else if (key === 'style') {\r\n                ret.style = normalizeStyle([ret.style, toMerge.style]);\r\n            }\r\n            else if (isOn(key)) {\r\n                const existing = ret[key];\r\n                const incoming = toMerge[key];\r\n                if (existing !== incoming &&\r\n                    !(isArray(existing) && existing.includes(incoming))) {\r\n                    ret[key] = existing\r\n                        ? [].concat(existing, incoming)\r\n                        : incoming;\r\n                }\r\n            }\r\n            else if (key !== '') {\r\n                ret[key] = toMerge[key];\r\n            }\r\n        }\r\n    }\r\n    return ret;\r\n}\r\nfunction invokeVNodeHook(hook, instance, vnode, prevVNode = null) {\r\n    callWithAsyncErrorHandling(hook, instance, 7 /* VNODE_HOOK */, [\r\n        vnode,\r\n        prevVNode\r\n    ]);\r\n}\n\n/**\r\n * Actual implementation\r\n */\r\nfunction renderList(source, renderItem, cache, index) {\r\n    let ret;\r\n    const cached = (cache && cache[index]);\r\n    if (isArray(source) || isString(source)) {\r\n        ret = new Array(source.length);\r\n        for (let i = 0, l = source.length; i < l; i++) {\r\n            ret[i] = renderItem(source[i], i, undefined, cached && cached[i]);\r\n        }\r\n    }\r\n    else if (typeof source === 'number') {\r\n        if ((process.env.NODE_ENV !== 'production') && !Number.isInteger(source)) {\r\n            warn(`The v-for range expect an integer value but got ${source}.`);\r\n            return [];\r\n        }\r\n        ret = new Array(source);\r\n        for (let i = 0; i < source; i++) {\r\n            ret[i] = renderItem(i + 1, i, undefined, cached && cached[i]);\r\n        }\r\n    }\r\n    else if (isObject(source)) {\r\n        if (source[Symbol.iterator]) {\r\n            ret = Array.from(source, (item, i) => renderItem(item, i, undefined, cached && cached[i]));\r\n        }\r\n        else {\r\n            const keys = Object.keys(source);\r\n            ret = new Array(keys.length);\r\n            for (let i = 0, l = keys.length; i < l; i++) {\r\n                const key = keys[i];\r\n                ret[i] = renderItem(source[key], key, i, cached && cached[i]);\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        ret = [];\r\n    }\r\n    if (cache) {\r\n        cache[index] = ret;\r\n    }\r\n    return ret;\r\n}\n\n/**\r\n * Compiler runtime helper for creating dynamic slots object\r\n * @private\r\n */\r\nfunction createSlots(slots, dynamicSlots) {\r\n    for (let i = 0; i < dynamicSlots.length; i++) {\r\n        const slot = dynamicSlots[i];\r\n        // array of dynamic slot generated by <template v-for=\"...\" #[...]>\r\n        if (isArray(slot)) {\r\n            for (let j = 0; j < slot.length; j++) {\r\n                slots[slot[j].name] = slot[j].fn;\r\n            }\r\n        }\r\n        else if (slot) {\r\n            // conditional single slot generated by <template v-if=\"...\" #foo>\r\n            slots[slot.name] = slot.fn;\r\n        }\r\n    }\r\n    return slots;\r\n}\n\n/**\r\n * Compiler runtime helper for rendering `<slot/>`\r\n * @private\r\n */\r\nfunction renderSlot(slots, name, props = {}, \r\n// this is not a user-facing function, so the fallback is always generated by\r\n// the compiler and guaranteed to be a function returning an array\r\nfallback, noSlotted) {\r\n    if (currentRenderingInstance.isCE) {\r\n        return createVNode('slot', name === 'default' ? null : { name }, fallback && fallback());\r\n    }\r\n    let slot = slots[name];\r\n    if ((process.env.NODE_ENV !== 'production') && slot && slot.length > 1) {\r\n        warn(`SSR-optimized slot function detected in a non-SSR-optimized render ` +\r\n            `function. You need to mark this component with $dynamic-slots in the ` +\r\n            `parent template.`);\r\n        slot = () => [];\r\n    }\r\n    // a compiled slot disables block tracking by default to avoid manual\r\n    // invocation interfering with template-based block tracking, but in\r\n    // `renderSlot` we can be sure that it's template-based so we can force\r\n    // enable it.\r\n    if (slot && slot._c) {\r\n        slot._d = false;\r\n    }\r\n    openBlock();\r\n    const validSlotContent = slot && ensureValidVNode(slot(props));\r\n    const rendered = createBlock(Fragment, { key: props.key || `_${name}` }, validSlotContent || (fallback ? fallback() : []), validSlotContent && slots._ === 1 /* STABLE */\r\n        ? 64 /* STABLE_FRAGMENT */\r\n        : -2 /* BAIL */);\r\n    if (!noSlotted && rendered.scopeId) {\r\n        rendered.slotScopeIds = [rendered.scopeId + '-s'];\r\n    }\r\n    if (slot && slot._c) {\r\n        slot._d = true;\r\n    }\r\n    return rendered;\r\n}\r\nfunction ensureValidVNode(vnodes) {\r\n    return vnodes.some(child => {\r\n        if (!isVNode(child))\r\n            return true;\r\n        if (child.type === Comment)\r\n            return false;\r\n        if (child.type === Fragment &&\r\n            !ensureValidVNode(child.children))\r\n            return false;\r\n        return true;\r\n    })\r\n        ? vnodes\r\n        : null;\r\n}\n\n/**\r\n * For prefixing keys in v-on=\"obj\" with \"on\"\r\n * @private\r\n */\r\nfunction toHandlers(obj) {\r\n    const ret = {};\r\n    if ((process.env.NODE_ENV !== 'production') && !isObject(obj)) {\r\n        warn(`v-on with no argument expects an object value.`);\r\n        return ret;\r\n    }\r\n    for (const key in obj) {\r\n        ret[toHandlerKey(key)] = obj[key];\r\n    }\r\n    return ret;\r\n}\n\n/**\r\n * #2437 In Vue 3, functional components do not have a public instance proxy but\r\n * they exist in the internal parent chain. For code that relies on traversing\r\n * public $parent chains, skip functional ones and go to the parent instead.\r\n */\r\nconst getPublicInstance = (i) => {\r\n    if (!i)\r\n        return null;\r\n    if (isStatefulComponent(i))\r\n        return getExposeProxy(i) || i.proxy;\r\n    return getPublicInstance(i.parent);\r\n};\r\nconst publicPropertiesMap = extend(Object.create(null), {\r\n    $: i => i,\r\n    $el: i => i.vnode.el,\r\n    $data: i => i.data,\r\n    $props: i => ((process.env.NODE_ENV !== 'production') ? shallowReadonly(i.props) : i.props),\r\n    $attrs: i => ((process.env.NODE_ENV !== 'production') ? shallowReadonly(i.attrs) : i.attrs),\r\n    $slots: i => ((process.env.NODE_ENV !== 'production') ? shallowReadonly(i.slots) : i.slots),\r\n    $refs: i => ((process.env.NODE_ENV !== 'production') ? shallowReadonly(i.refs) : i.refs),\r\n    $parent: i => getPublicInstance(i.parent),\r\n    $root: i => getPublicInstance(i.root),\r\n    $emit: i => i.emit,\r\n    $options: i => (__VUE_OPTIONS_API__ ? resolveMergedOptions(i) : i.type),\r\n    $forceUpdate: i => () => queueJob(i.update),\r\n    $nextTick: i => nextTick.bind(i.proxy),\r\n    $watch: i => (__VUE_OPTIONS_API__ ? instanceWatch.bind(i) : NOOP)\r\n});\r\nconst PublicInstanceProxyHandlers = {\r\n    get({ _: instance }, key) {\r\n        const { ctx, setupState, data, props, accessCache, type, appContext } = instance;\r\n        // for internal formatters to know that this is a Vue instance\r\n        if ((process.env.NODE_ENV !== 'production') && key === '__isVue') {\r\n            return true;\r\n        }\r\n        // prioritize <script setup> bindings during dev.\r\n        // this allows even properties that start with _ or $ to be used - so that\r\n        // it aligns with the production behavior where the render fn is inlined and\r\n        // indeed has access to all declared variables.\r\n        if ((process.env.NODE_ENV !== 'production') &&\r\n            setupState !== EMPTY_OBJ &&\r\n            setupState.__isScriptSetup &&\r\n            hasOwn(setupState, key)) {\r\n            return setupState[key];\r\n        }\r\n        // data / props / ctx\r\n        // This getter gets called for every property access on the render context\r\n        // during render and is a major hotspot. The most expensive part of this\r\n        // is the multiple hasOwn() calls. It's much faster to do a simple property\r\n        // access on a plain object, so we use an accessCache object (with null\r\n        // prototype) to memoize what access type a key corresponds to.\r\n        let normalizedProps;\r\n        if (key[0] !== '$') {\r\n            const n = accessCache[key];\r\n            if (n !== undefined) {\r\n                switch (n) {\r\n                    case 1 /* SETUP */:\r\n                        return setupState[key];\r\n                    case 2 /* DATA */:\r\n                        return data[key];\r\n                    case 4 /* CONTEXT */:\r\n                        return ctx[key];\r\n                    case 3 /* PROPS */:\r\n                        return props[key];\r\n                    // default: just fallthrough\r\n                }\r\n            }\r\n            else if (setupState !== EMPTY_OBJ && hasOwn(setupState, key)) {\r\n                accessCache[key] = 1 /* SETUP */;\r\n                return setupState[key];\r\n            }\r\n            else if (data !== EMPTY_OBJ && hasOwn(data, key)) {\r\n                accessCache[key] = 2 /* DATA */;\r\n                return data[key];\r\n            }\r\n            else if (\r\n            // only cache other properties when instance has declared (thus stable)\r\n            // props\r\n            (normalizedProps = instance.propsOptions[0]) &&\r\n                hasOwn(normalizedProps, key)) {\r\n                accessCache[key] = 3 /* PROPS */;\r\n                return props[key];\r\n            }\r\n            else if (ctx !== EMPTY_OBJ && hasOwn(ctx, key)) {\r\n                accessCache[key] = 4 /* CONTEXT */;\r\n                return ctx[key];\r\n            }\r\n            else if (!__VUE_OPTIONS_API__ || shouldCacheAccess) {\r\n                accessCache[key] = 0 /* OTHER */;\r\n            }\r\n        }\r\n        const publicGetter = publicPropertiesMap[key];\r\n        let cssModule, globalProperties;\r\n        // public $xxx properties\r\n        if (publicGetter) {\r\n            if (key === '$attrs') {\r\n                track(instance, \"get\" /* GET */, key);\r\n                (process.env.NODE_ENV !== 'production') && markAttrsAccessed();\r\n            }\r\n            return publicGetter(instance);\r\n        }\r\n        else if (\r\n        // css module (injected by vue-loader)\r\n        (cssModule = type.__cssModules) &&\r\n            (cssModule = cssModule[key])) {\r\n            return cssModule;\r\n        }\r\n        else if (ctx !== EMPTY_OBJ && hasOwn(ctx, key)) {\r\n            // user may set custom properties to `this` that start with `$`\r\n            accessCache[key] = 4 /* CONTEXT */;\r\n            return ctx[key];\r\n        }\r\n        else if (\r\n        // global properties\r\n        ((globalProperties = appContext.config.globalProperties),\r\n            hasOwn(globalProperties, key))) {\r\n            {\r\n                return globalProperties[key];\r\n            }\r\n        }\r\n        else if ((process.env.NODE_ENV !== 'production') &&\r\n            currentRenderingInstance &&\r\n            (!isString(key) ||\r\n                // #1091 avoid internal isRef/isVNode checks on component instance leading\r\n                // to infinite warning loop\r\n                key.indexOf('__v') !== 0)) {\r\n            if (data !== EMPTY_OBJ &&\r\n                (key[0] === '$' || key[0] === '_') &&\r\n                hasOwn(data, key)) {\r\n                warn(`Property ${JSON.stringify(key)} must be accessed via $data because it starts with a reserved ` +\r\n                    `character (\"$\" or \"_\") and is not proxied on the render context.`);\r\n            }\r\n            else if (instance === currentRenderingInstance) {\r\n                warn(`Property ${JSON.stringify(key)} was accessed during render ` +\r\n                    `but is not defined on instance.`);\r\n            }\r\n        }\r\n    },\r\n    set({ _: instance }, key, value) {\r\n        const { data, setupState, ctx } = instance;\r\n        if (setupState !== EMPTY_OBJ && hasOwn(setupState, key)) {\r\n            setupState[key] = value;\r\n        }\r\n        else if (data !== EMPTY_OBJ && hasOwn(data, key)) {\r\n            data[key] = value;\r\n        }\r\n        else if (hasOwn(instance.props, key)) {\r\n            (process.env.NODE_ENV !== 'production') &&\r\n                warn(`Attempting to mutate prop \"${key}\". Props are readonly.`, instance);\r\n            return false;\r\n        }\r\n        if (key[0] === '$' && key.slice(1) in instance) {\r\n            (process.env.NODE_ENV !== 'production') &&\r\n                warn(`Attempting to mutate public property \"${key}\". ` +\r\n                    `Properties starting with $ are reserved and readonly.`, instance);\r\n            return false;\r\n        }\r\n        else {\r\n            if ((process.env.NODE_ENV !== 'production') && key in instance.appContext.config.globalProperties) {\r\n                Object.defineProperty(ctx, key, {\r\n                    enumerable: true,\r\n                    configurable: true,\r\n                    value\r\n                });\r\n            }\r\n            else {\r\n                ctx[key] = value;\r\n            }\r\n        }\r\n        return true;\r\n    },\r\n    has({ _: { data, setupState, accessCache, ctx, appContext, propsOptions } }, key) {\r\n        let normalizedProps;\r\n        return (!!accessCache[key] ||\r\n            (data !== EMPTY_OBJ && hasOwn(data, key)) ||\r\n            (setupState !== EMPTY_OBJ && hasOwn(setupState, key)) ||\r\n            ((normalizedProps = propsOptions[0]) && hasOwn(normalizedProps, key)) ||\r\n            hasOwn(ctx, key) ||\r\n            hasOwn(publicPropertiesMap, key) ||\r\n            hasOwn(appContext.config.globalProperties, key));\r\n    }\r\n};\r\nif ((process.env.NODE_ENV !== 'production') && !false) {\r\n    PublicInstanceProxyHandlers.ownKeys = (target) => {\r\n        warn(`Avoid app logic that relies on enumerating keys on a component instance. ` +\r\n            `The keys will be empty in production mode to avoid performance overhead.`);\r\n        return Reflect.ownKeys(target);\r\n    };\r\n}\r\nconst RuntimeCompiledPublicInstanceProxyHandlers = /*#__PURE__*/ extend({}, PublicInstanceProxyHandlers, {\r\n    get(target, key) {\r\n        // fast path for unscopables when using `with` block\r\n        if (key === Symbol.unscopables) {\r\n            return;\r\n        }\r\n        return PublicInstanceProxyHandlers.get(target, key, target);\r\n    },\r\n    has(_, key) {\r\n        const has = key[0] !== '_' && !isGloballyWhitelisted(key);\r\n        if ((process.env.NODE_ENV !== 'production') && !has && PublicInstanceProxyHandlers.has(_, key)) {\r\n            warn(`Property ${JSON.stringify(key)} should not start with _ which is a reserved prefix for Vue internals.`);\r\n        }\r\n        return has;\r\n    }\r\n});\r\n// dev only\r\n// In dev mode, the proxy target exposes the same properties as seen on `this`\r\n// for easier console inspection. In prod mode it will be an empty object so\r\n// these properties definitions can be skipped.\r\nfunction createDevRenderContext(instance) {\r\n    const target = {};\r\n    // expose internal instance for proxy handlers\r\n    Object.defineProperty(target, `_`, {\r\n        configurable: true,\r\n        enumerable: false,\r\n        get: () => instance\r\n    });\r\n    // expose public properties\r\n    Object.keys(publicPropertiesMap).forEach(key => {\r\n        Object.defineProperty(target, key, {\r\n            configurable: true,\r\n            enumerable: false,\r\n            get: () => publicPropertiesMap[key](instance),\r\n            // intercepted by the proxy so no need for implementation,\r\n            // but needed to prevent set errors\r\n            set: NOOP\r\n        });\r\n    });\r\n    return target;\r\n}\r\n// dev only\r\nfunction exposePropsOnRenderContext(instance) {\r\n    const { ctx, propsOptions: [propsOptions] } = instance;\r\n    if (propsOptions) {\r\n        Object.keys(propsOptions).forEach(key => {\r\n            Object.defineProperty(ctx, key, {\r\n                enumerable: true,\r\n                configurable: true,\r\n                get: () => instance.props[key],\r\n                set: NOOP\r\n            });\r\n        });\r\n    }\r\n}\r\n// dev only\r\nfunction exposeSetupStateOnRenderContext(instance) {\r\n    const { ctx, setupState } = instance;\r\n    Object.keys(toRaw(setupState)).forEach(key => {\r\n        if (!setupState.__isScriptSetup) {\r\n            if (key[0] === '$' || key[0] === '_') {\r\n                warn(`setup() return property ${JSON.stringify(key)} should not start with \"$\" or \"_\" ` +\r\n                    `which are reserved prefixes for Vue internals.`);\r\n                return;\r\n            }\r\n            Object.defineProperty(ctx, key, {\r\n                enumerable: true,\r\n                configurable: true,\r\n                get: () => setupState[key],\r\n                set: NOOP\r\n            });\r\n        }\r\n    });\r\n}\n\nconst emptyAppContext = createAppContext();\r\nlet uid$1 = 0;\r\nfunction createComponentInstance(vnode, parent, suspense) {\r\n    const type = vnode.type;\r\n    // inherit parent app context - or - if root, adopt from root vnode\r\n    const appContext = (parent ? parent.appContext : vnode.appContext) || emptyAppContext;\r\n    const instance = {\r\n        uid: uid$1++,\r\n        vnode,\r\n        type,\r\n        parent,\r\n        appContext,\r\n        root: null,\r\n        next: null,\r\n        subTree: null,\r\n        effect: null,\r\n        update: null,\r\n        scope: new EffectScope(true /* detached */),\r\n        render: null,\r\n        proxy: null,\r\n        exposed: null,\r\n        exposeProxy: null,\r\n        withProxy: null,\r\n        provides: parent ? parent.provides : Object.create(appContext.provides),\r\n        accessCache: null,\r\n        renderCache: [],\r\n        // local resovled assets\r\n        components: null,\r\n        directives: null,\r\n        // resolved props and emits options\r\n        propsOptions: normalizePropsOptions(type, appContext),\r\n        emitsOptions: normalizeEmitsOptions(type, appContext),\r\n        // emit\r\n        emit: null,\r\n        emitted: null,\r\n        // props default value\r\n        propsDefaults: EMPTY_OBJ,\r\n        // inheritAttrs\r\n        inheritAttrs: type.inheritAttrs,\r\n        // state\r\n        ctx: EMPTY_OBJ,\r\n        data: EMPTY_OBJ,\r\n        props: EMPTY_OBJ,\r\n        attrs: EMPTY_OBJ,\r\n        slots: EMPTY_OBJ,\r\n        refs: EMPTY_OBJ,\r\n        setupState: EMPTY_OBJ,\r\n        setupContext: null,\r\n        // suspense related\r\n        suspense,\r\n        suspenseId: suspense ? suspense.pendingId : 0,\r\n        asyncDep: null,\r\n        asyncResolved: false,\r\n        // lifecycle hooks\r\n        // not using enums here because it results in computed properties\r\n        isMounted: false,\r\n        isUnmounted: false,\r\n        isDeactivated: false,\r\n        bc: null,\r\n        c: null,\r\n        bm: null,\r\n        m: null,\r\n        bu: null,\r\n        u: null,\r\n        um: null,\r\n        bum: null,\r\n        da: null,\r\n        a: null,\r\n        rtg: null,\r\n        rtc: null,\r\n        ec: null,\r\n        sp: null\r\n    };\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        instance.ctx = createDevRenderContext(instance);\r\n    }\r\n    else {\r\n        instance.ctx = { _: instance };\r\n    }\r\n    instance.root = parent ? parent.root : instance;\r\n    instance.emit = emit$1.bind(null, instance);\r\n    // apply custom element special handling\r\n    if (vnode.ce) {\r\n        vnode.ce(instance);\r\n    }\r\n    return instance;\r\n}\r\nlet currentInstance = null;\r\nconst getCurrentInstance = () => currentInstance || currentRenderingInstance;\r\nconst setCurrentInstance = (instance) => {\r\n    currentInstance = instance;\r\n    instance.scope.on();\r\n};\r\nconst unsetCurrentInstance = () => {\r\n    currentInstance && currentInstance.scope.off();\r\n    currentInstance = null;\r\n};\r\nconst isBuiltInTag = /*#__PURE__*/ makeMap('slot,component');\r\nfunction validateComponentName(name, config) {\r\n    const appIsNativeTag = config.isNativeTag || NO;\r\n    if (isBuiltInTag(name) || appIsNativeTag(name)) {\r\n        warn('Do not use built-in or reserved HTML elements as component id: ' + name);\r\n    }\r\n}\r\nfunction isStatefulComponent(instance) {\r\n    return instance.vnode.shapeFlag & 4 /* STATEFUL_COMPONENT */;\r\n}\r\nlet isInSSRComponentSetup = false;\r\nfunction setupComponent(instance, isSSR = false) {\r\n    isInSSRComponentSetup = isSSR;\r\n    const { props, children } = instance.vnode;\r\n    const isStateful = isStatefulComponent(instance);\r\n    initProps(instance, props, isStateful, isSSR);\r\n    initSlots(instance, children);\r\n    const setupResult = isStateful\r\n        ? setupStatefulComponent(instance, isSSR)\r\n        : undefined;\r\n    isInSSRComponentSetup = false;\r\n    return setupResult;\r\n}\r\nfunction setupStatefulComponent(instance, isSSR) {\r\n    const Component = instance.type;\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        if (Component.name) {\r\n            validateComponentName(Component.name, instance.appContext.config);\r\n        }\r\n        if (Component.components) {\r\n            const names = Object.keys(Component.components);\r\n            for (let i = 0; i < names.length; i++) {\r\n                validateComponentName(names[i], instance.appContext.config);\r\n            }\r\n        }\r\n        if (Component.directives) {\r\n            const names = Object.keys(Component.directives);\r\n            for (let i = 0; i < names.length; i++) {\r\n                validateDirectiveName(names[i]);\r\n            }\r\n        }\r\n        if (Component.compilerOptions && isRuntimeOnly()) {\r\n            warn(`\"compilerOptions\" is only supported when using a build of Vue that ` +\r\n                `includes the runtime compiler. Since you are using a runtime-only ` +\r\n                `build, the options should be passed via your build tool config instead.`);\r\n        }\r\n    }\r\n    // 0. create render proxy property access cache\r\n    instance.accessCache = Object.create(null);\r\n    // 1. create public instance / render proxy\r\n    // also mark it raw so it's never observed\r\n    instance.proxy = markRaw(new Proxy(instance.ctx, PublicInstanceProxyHandlers));\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        exposePropsOnRenderContext(instance);\r\n    }\r\n    // 2. call setup()\r\n    const { setup } = Component;\r\n    if (setup) {\r\n        const setupContext = (instance.setupContext =\r\n            setup.length > 1 ? createSetupContext(instance) : null);\r\n        setCurrentInstance(instance);\r\n        pauseTracking();\r\n        const setupResult = callWithErrorHandling(setup, instance, 0 /* SETUP_FUNCTION */, [(process.env.NODE_ENV !== 'production') ? shallowReadonly(instance.props) : instance.props, setupContext]);\r\n        resetTracking();\r\n        unsetCurrentInstance();\r\n        if (isPromise(setupResult)) {\r\n            setupResult.then(unsetCurrentInstance, unsetCurrentInstance);\r\n            if (isSSR) {\r\n                // return the promise so server-renderer can wait on it\r\n                return setupResult\r\n                    .then((resolvedResult) => {\r\n                    handleSetupResult(instance, resolvedResult, isSSR);\r\n                })\r\n                    .catch(e => {\r\n                    handleError(e, instance, 0 /* SETUP_FUNCTION */);\r\n                });\r\n            }\r\n            else {\r\n                // async setup returned Promise.\r\n                // bail here and wait for re-entry.\r\n                instance.asyncDep = setupResult;\r\n            }\r\n        }\r\n        else {\r\n            handleSetupResult(instance, setupResult, isSSR);\r\n        }\r\n    }\r\n    else {\r\n        finishComponentSetup(instance, isSSR);\r\n    }\r\n}\r\nfunction handleSetupResult(instance, setupResult, isSSR) {\r\n    if (isFunction(setupResult)) {\r\n        // setup returned an inline render function\r\n        if (instance.type.__ssrInlineRender) {\r\n            // when the function's name is `ssrRender` (compiled by SFC inline mode),\r\n            // set it as ssrRender instead.\r\n            instance.ssrRender = setupResult;\r\n        }\r\n        else {\r\n            instance.render = setupResult;\r\n        }\r\n    }\r\n    else if (isObject(setupResult)) {\r\n        if ((process.env.NODE_ENV !== 'production') && isVNode(setupResult)) {\r\n            warn(`setup() should not return VNodes directly - ` +\r\n                `return a render function instead.`);\r\n        }\r\n        // setup returned bindings.\r\n        // assuming a render function compiled from template is present.\r\n        if ((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) {\r\n            instance.devtoolsRawSetupState = setupResult;\r\n        }\r\n        instance.setupState = proxyRefs(setupResult);\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            exposeSetupStateOnRenderContext(instance);\r\n        }\r\n    }\r\n    else if ((process.env.NODE_ENV !== 'production') && setupResult !== undefined) {\r\n        warn(`setup() should return an object. Received: ${setupResult === null ? 'null' : typeof setupResult}`);\r\n    }\r\n    finishComponentSetup(instance, isSSR);\r\n}\r\nlet compile;\r\nlet installWithProxy;\r\n/**\r\n * For runtime-dom to register the compiler.\r\n * Note the exported method uses any to avoid d.ts relying on the compiler types.\r\n */\r\nfunction registerRuntimeCompiler(_compile) {\r\n    compile = _compile;\r\n    installWithProxy = i => {\r\n        if (i.render._rc) {\r\n            i.withProxy = new Proxy(i.ctx, RuntimeCompiledPublicInstanceProxyHandlers);\r\n        }\r\n    };\r\n}\r\n// dev only\r\nconst isRuntimeOnly = () => !compile;\r\nfunction finishComponentSetup(instance, isSSR, skipOptions) {\r\n    const Component = instance.type;\r\n    // template / render function normalization\r\n    // could be already set when returned from setup()\r\n    if (!instance.render) {\r\n        // only do on-the-fly compile if not in SSR - SSR on-the-fly compilation\r\n        // is done by server-renderer\r\n        if (!isSSR && compile && !Component.render) {\r\n            const template = Component.template;\r\n            if (template) {\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    startMeasure(instance, `compile`);\r\n                }\r\n                const { isCustomElement, compilerOptions } = instance.appContext.config;\r\n                const { delimiters, compilerOptions: componentCompilerOptions } = Component;\r\n                const finalCompilerOptions = extend(extend({\r\n                    isCustomElement,\r\n                    delimiters\r\n                }, compilerOptions), componentCompilerOptions);\r\n                Component.render = compile(template, finalCompilerOptions);\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    endMeasure(instance, `compile`);\r\n                }\r\n            }\r\n        }\r\n        instance.render = (Component.render || NOOP);\r\n        // for runtime-compiled render functions using `with` blocks, the render\r\n        // proxy used needs a different `has` handler which is more performant and\r\n        // also only allows a whitelist of globals to fallthrough.\r\n        if (installWithProxy) {\r\n            installWithProxy(instance);\r\n        }\r\n    }\r\n    // support for 2.x options\r\n    if (__VUE_OPTIONS_API__ && !(false )) {\r\n        setCurrentInstance(instance);\r\n        pauseTracking();\r\n        applyOptions(instance);\r\n        resetTracking();\r\n        unsetCurrentInstance();\r\n    }\r\n    // warn missing template/render\r\n    // the runtime compilation of template in SSR is done by server-render\r\n    if ((process.env.NODE_ENV !== 'production') && !Component.render && instance.render === NOOP && !isSSR) {\r\n        /* istanbul ignore if */\r\n        if (!compile && Component.template) {\r\n            warn(`Component provided template option but ` +\r\n                `runtime compilation is not supported in this build of Vue.` +\r\n                (` Configure your bundler to alias \"vue\" to \"vue/dist/vue.esm-bundler.js\".`\r\n                    ) /* should not happen */);\r\n        }\r\n        else {\r\n            warn(`Component is missing template or render function.`);\r\n        }\r\n    }\r\n}\r\nfunction createAttrsProxy(instance) {\r\n    return new Proxy(instance.attrs, (process.env.NODE_ENV !== 'production')\r\n        ? {\r\n            get(target, key) {\r\n                markAttrsAccessed();\r\n                track(instance, \"get\" /* GET */, '$attrs');\r\n                return target[key];\r\n            },\r\n            set() {\r\n                warn(`setupContext.attrs is readonly.`);\r\n                return false;\r\n            },\r\n            deleteProperty() {\r\n                warn(`setupContext.attrs is readonly.`);\r\n                return false;\r\n            }\r\n        }\r\n        : {\r\n            get(target, key) {\r\n                track(instance, \"get\" /* GET */, '$attrs');\r\n                return target[key];\r\n            }\r\n        });\r\n}\r\nfunction createSetupContext(instance) {\r\n    const expose = exposed => {\r\n        if ((process.env.NODE_ENV !== 'production') && instance.exposed) {\r\n            warn(`expose() should be called only once per setup().`);\r\n        }\r\n        instance.exposed = exposed || {};\r\n    };\r\n    let attrs;\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        // We use getters in dev in case libs like test-utils overwrite instance\r\n        // properties (overwrites should not be done in prod)\r\n        return Object.freeze({\r\n            get attrs() {\r\n                return attrs || (attrs = createAttrsProxy(instance));\r\n            },\r\n            get slots() {\r\n                return shallowReadonly(instance.slots);\r\n            },\r\n            get emit() {\r\n                return (event, ...args) => instance.emit(event, ...args);\r\n            },\r\n            expose\r\n        });\r\n    }\r\n    else {\r\n        return {\r\n            get attrs() {\r\n                return attrs || (attrs = createAttrsProxy(instance));\r\n            },\r\n            slots: instance.slots,\r\n            emit: instance.emit,\r\n            expose\r\n        };\r\n    }\r\n}\r\nfunction getExposeProxy(instance) {\r\n    if (instance.exposed) {\r\n        return (instance.exposeProxy ||\r\n            (instance.exposeProxy = new Proxy(proxyRefs(markRaw(instance.exposed)), {\r\n                get(target, key) {\r\n                    if (key in target) {\r\n                        return target[key];\r\n                    }\r\n                    else if (key in publicPropertiesMap) {\r\n                        return publicPropertiesMap[key](instance);\r\n                    }\r\n                }\r\n            })));\r\n    }\r\n}\r\nconst classifyRE = /(?:^|[-_])(\\w)/g;\r\nconst classify = (str) => str.replace(classifyRE, c => c.toUpperCase()).replace(/[-_]/g, '');\r\nfunction getComponentName(Component) {\r\n    return isFunction(Component)\r\n        ? Component.displayName || Component.name\r\n        : Component.name;\r\n}\r\n/* istanbul ignore next */\r\nfunction formatComponentName(instance, Component, isRoot = false) {\r\n    let name = getComponentName(Component);\r\n    if (!name && Component.__file) {\r\n        const match = Component.__file.match(/([^/\\\\]+)\\.\\w+$/);\r\n        if (match) {\r\n            name = match[1];\r\n        }\r\n    }\r\n    if (!name && instance && instance.parent) {\r\n        // try to infer the name based on reverse resolution\r\n        const inferFromRegistry = (registry) => {\r\n            for (const key in registry) {\r\n                if (registry[key] === Component) {\r\n                    return key;\r\n                }\r\n            }\r\n        };\r\n        name =\r\n            inferFromRegistry(instance.components ||\r\n                instance.parent.type.components) || inferFromRegistry(instance.appContext.components);\r\n    }\r\n    return name ? classify(name) : isRoot ? `App` : `Anonymous`;\r\n}\r\nfunction isClassComponent(value) {\r\n    return isFunction(value) && '__vccOpts' in value;\r\n}\n\nconst computed = ((getterOrOptions, debugOptions) => {\r\n    // @ts-ignore\r\n    return computed$1(getterOrOptions, debugOptions, isInSSRComponentSetup);\r\n});\n\n// dev only\r\nconst warnRuntimeUsage = (method) => warn(`${method}() is a compiler-hint helper that is only usable inside ` +\r\n    `<script setup> of a single file component. Its arguments should be ` +\r\n    `compiled away and passing it at runtime has no effect.`);\r\n// implementation\r\nfunction defineProps() {\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        warnRuntimeUsage(`defineProps`);\r\n    }\r\n    return null;\r\n}\r\n// implementation\r\nfunction defineEmits() {\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        warnRuntimeUsage(`defineEmits`);\r\n    }\r\n    return null;\r\n}\r\n/**\r\n * Vue `<script setup>` compiler macro for declaring a component's exposed\r\n * instance properties when it is accessed by a parent component via template\r\n * refs.\r\n *\r\n * `<script setup>` components are closed by default - i.e. varaibles inside\r\n * the `<script setup>` scope is not exposed to parent unless explicitly exposed\r\n * via `defineExpose`.\r\n *\r\n * This is only usable inside `<script setup>`, is compiled away in the\r\n * output and should **not** be actually called at runtime.\r\n */\r\nfunction defineExpose(exposed) {\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        warnRuntimeUsage(`defineExpose`);\r\n    }\r\n}\r\n/**\r\n * Vue `<script setup>` compiler macro for providing props default values when\r\n * using type-based `defineProps` declaration.\r\n *\r\n * Example usage:\r\n * ```ts\r\n * withDefaults(defineProps<{\r\n *   size?: number\r\n *   labels?: string[]\r\n * }>(), {\r\n *   size: 3,\r\n *   labels: () => ['default label']\r\n * })\r\n * ```\r\n *\r\n * This is only usable inside `<script setup>`, is compiled away in the output\r\n * and should **not** be actually called at runtime.\r\n */\r\nfunction withDefaults(props, defaults) {\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        warnRuntimeUsage(`withDefaults`);\r\n    }\r\n    return null;\r\n}\r\nfunction useSlots() {\r\n    return getContext().slots;\r\n}\r\nfunction useAttrs() {\r\n    return getContext().attrs;\r\n}\r\nfunction getContext() {\r\n    const i = getCurrentInstance();\r\n    if ((process.env.NODE_ENV !== 'production') && !i) {\r\n        warn(`useContext() called without active instance.`);\r\n    }\r\n    return i.setupContext || (i.setupContext = createSetupContext(i));\r\n}\r\n/**\r\n * Runtime helper for merging default declarations. Imported by compiled code\r\n * only.\r\n * @internal\r\n */\r\nfunction mergeDefaults(raw, defaults) {\r\n    const props = isArray(raw)\r\n        ? raw.reduce((normalized, p) => ((normalized[p] = {}), normalized), {})\r\n        : raw;\r\n    for (const key in defaults) {\r\n        const opt = props[key];\r\n        if (opt) {\r\n            if (isArray(opt) || isFunction(opt)) {\r\n                props[key] = { type: opt, default: defaults[key] };\r\n            }\r\n            else {\r\n                opt.default = defaults[key];\r\n            }\r\n        }\r\n        else if (opt === null) {\r\n            props[key] = { default: defaults[key] };\r\n        }\r\n        else if ((process.env.NODE_ENV !== 'production')) {\r\n            warn(`props default key \"${key}\" has no corresponding declaration.`);\r\n        }\r\n    }\r\n    return props;\r\n}\r\n/**\r\n * Used to create a proxy for the rest element when destructuring props with\r\n * defineProps().\r\n * @internal\r\n */\r\nfunction createPropsRestProxy(props, excludedKeys) {\r\n    const ret = {};\r\n    for (const key in props) {\r\n        if (!excludedKeys.includes(key)) {\r\n            Object.defineProperty(ret, key, {\r\n                enumerable: true,\r\n                get: () => props[key]\r\n            });\r\n        }\r\n    }\r\n    return ret;\r\n}\r\n/**\r\n * `<script setup>` helper for persisting the current instance context over\r\n * async/await flows.\r\n *\r\n * `@vue/compiler-sfc` converts the following:\r\n *\r\n * ```ts\r\n * const x = await foo()\r\n * ```\r\n *\r\n * into:\r\n *\r\n * ```ts\r\n * let __temp, __restore\r\n * const x = (([__temp, __restore] = withAsyncContext(() => foo())),__temp=await __temp,__restore(),__temp)\r\n * ```\r\n * @internal\r\n */\r\nfunction withAsyncContext(getAwaitable) {\r\n    const ctx = getCurrentInstance();\r\n    if ((process.env.NODE_ENV !== 'production') && !ctx) {\r\n        warn(`withAsyncContext called without active current instance. ` +\r\n            `This is likely a bug.`);\r\n    }\r\n    let awaitable = getAwaitable();\r\n    unsetCurrentInstance();\r\n    if (isPromise(awaitable)) {\r\n        awaitable = awaitable.catch(e => {\r\n            setCurrentInstance(ctx);\r\n            throw e;\r\n        });\r\n    }\r\n    return [awaitable, () => setCurrentInstance(ctx)];\r\n}\n\n// Actual implementation\r\nfunction h(type, propsOrChildren, children) {\r\n    const l = arguments.length;\r\n    if (l === 2) {\r\n        if (isObject(propsOrChildren) && !isArray(propsOrChildren)) {\r\n            // single vnode without props\r\n            if (isVNode(propsOrChildren)) {\r\n                return createVNode(type, null, [propsOrChildren]);\r\n            }\r\n            // props without children\r\n            return createVNode(type, propsOrChildren);\r\n        }\r\n        else {\r\n            // omit props\r\n            return createVNode(type, null, propsOrChildren);\r\n        }\r\n    }\r\n    else {\r\n        if (l > 3) {\r\n            children = Array.prototype.slice.call(arguments, 2);\r\n        }\r\n        else if (l === 3 && isVNode(children)) {\r\n            children = [children];\r\n        }\r\n        return createVNode(type, propsOrChildren, children);\r\n    }\r\n}\n\nconst ssrContextKey = Symbol((process.env.NODE_ENV !== 'production') ? `ssrContext` : ``);\r\nconst useSSRContext = () => {\r\n    {\r\n        const ctx = inject(ssrContextKey);\r\n        if (!ctx) {\r\n            warn(`Server rendering context not provided. Make sure to only call ` +\r\n                `useSSRContext() conditionally in the server build.`);\r\n        }\r\n        return ctx;\r\n    }\r\n};\n\nfunction initCustomFormatter() {\r\n    /* eslint-disable no-restricted-globals */\r\n    if (!(process.env.NODE_ENV !== 'production') || typeof window === 'undefined') {\r\n        return;\r\n    }\r\n    const vueStyle = { style: 'color:#3ba776' };\r\n    const numberStyle = { style: 'color:#0b1bc9' };\r\n    const stringStyle = { style: 'color:#b62e24' };\r\n    const keywordStyle = { style: 'color:#9d288c' };\r\n    // custom formatter for Chrome\r\n    // https://www.mattzeunert.com/2016/02/19/custom-chrome-devtools-object-formatters.html\r\n    const formatter = {\r\n        header(obj) {\r\n            // TODO also format ComponentPublicInstance & ctx.slots/attrs in setup\r\n            if (!isObject(obj)) {\r\n                return null;\r\n            }\r\n            if (obj.__isVue) {\r\n                return ['div', vueStyle, `VueInstance`];\r\n            }\r\n            else if (isRef(obj)) {\r\n                return [\r\n                    'div',\r\n                    {},\r\n                    ['span', vueStyle, genRefFlag(obj)],\r\n                    '<',\r\n                    formatValue(obj.value),\r\n                    `>`\r\n                ];\r\n            }\r\n            else if (isReactive(obj)) {\r\n                return [\r\n                    'div',\r\n                    {},\r\n                    ['span', vueStyle, 'Reactive'],\r\n                    '<',\r\n                    formatValue(obj),\r\n                    `>${isReadonly(obj) ? ` (readonly)` : ``}`\r\n                ];\r\n            }\r\n            else if (isReadonly(obj)) {\r\n                return [\r\n                    'div',\r\n                    {},\r\n                    ['span', vueStyle, 'Readonly'],\r\n                    '<',\r\n                    formatValue(obj),\r\n                    '>'\r\n                ];\r\n            }\r\n            return null;\r\n        },\r\n        hasBody(obj) {\r\n            return obj && obj.__isVue;\r\n        },\r\n        body(obj) {\r\n            if (obj && obj.__isVue) {\r\n                return [\r\n                    'div',\r\n                    {},\r\n                    ...formatInstance(obj.$)\r\n                ];\r\n            }\r\n        }\r\n    };\r\n    function formatInstance(instance) {\r\n        const blocks = [];\r\n        if (instance.type.props && instance.props) {\r\n            blocks.push(createInstanceBlock('props', toRaw(instance.props)));\r\n        }\r\n        if (instance.setupState !== EMPTY_OBJ) {\r\n            blocks.push(createInstanceBlock('setup', instance.setupState));\r\n        }\r\n        if (instance.data !== EMPTY_OBJ) {\r\n            blocks.push(createInstanceBlock('data', toRaw(instance.data)));\r\n        }\r\n        const computed = extractKeys(instance, 'computed');\r\n        if (computed) {\r\n            blocks.push(createInstanceBlock('computed', computed));\r\n        }\r\n        const injected = extractKeys(instance, 'inject');\r\n        if (injected) {\r\n            blocks.push(createInstanceBlock('injected', injected));\r\n        }\r\n        blocks.push([\r\n            'div',\r\n            {},\r\n            [\r\n                'span',\r\n                {\r\n                    style: keywordStyle.style + ';opacity:0.66'\r\n                },\r\n                '$ (internal): '\r\n            ],\r\n            ['object', { object: instance }]\r\n        ]);\r\n        return blocks;\r\n    }\r\n    function createInstanceBlock(type, target) {\r\n        target = extend({}, target);\r\n        if (!Object.keys(target).length) {\r\n            return ['span', {}];\r\n        }\r\n        return [\r\n            'div',\r\n            { style: 'line-height:1.25em;margin-bottom:0.6em' },\r\n            [\r\n                'div',\r\n                {\r\n                    style: 'color:#476582'\r\n                },\r\n                type\r\n            ],\r\n            [\r\n                'div',\r\n                {\r\n                    style: 'padding-left:1.25em'\r\n                },\r\n                ...Object.keys(target).map(key => {\r\n                    return [\r\n                        'div',\r\n                        {},\r\n                        ['span', keywordStyle, key + ': '],\r\n                        formatValue(target[key], false)\r\n                    ];\r\n                })\r\n            ]\r\n        ];\r\n    }\r\n    function formatValue(v, asRaw = true) {\r\n        if (typeof v === 'number') {\r\n            return ['span', numberStyle, v];\r\n        }\r\n        else if (typeof v === 'string') {\r\n            return ['span', stringStyle, JSON.stringify(v)];\r\n        }\r\n        else if (typeof v === 'boolean') {\r\n            return ['span', keywordStyle, v];\r\n        }\r\n        else if (isObject(v)) {\r\n            return ['object', { object: asRaw ? toRaw(v) : v }];\r\n        }\r\n        else {\r\n            return ['span', stringStyle, String(v)];\r\n        }\r\n    }\r\n    function extractKeys(instance, type) {\r\n        const Comp = instance.type;\r\n        if (isFunction(Comp)) {\r\n            return;\r\n        }\r\n        const extracted = {};\r\n        for (const key in instance.ctx) {\r\n            if (isKeyOfType(Comp, key, type)) {\r\n                extracted[key] = instance.ctx[key];\r\n            }\r\n        }\r\n        return extracted;\r\n    }\r\n    function isKeyOfType(Comp, key, type) {\r\n        const opts = Comp[type];\r\n        if ((isArray(opts) && opts.includes(key)) ||\r\n            (isObject(opts) && key in opts)) {\r\n            return true;\r\n        }\r\n        if (Comp.extends && isKeyOfType(Comp.extends, key, type)) {\r\n            return true;\r\n        }\r\n        if (Comp.mixins && Comp.mixins.some(m => isKeyOfType(m, key, type))) {\r\n            return true;\r\n        }\r\n    }\r\n    function genRefFlag(v) {\r\n        if (v._shallow) {\r\n            return `ShallowRef`;\r\n        }\r\n        if (v.effect) {\r\n            return `ComputedRef`;\r\n        }\r\n        return `Ref`;\r\n    }\r\n    if (window.devtoolsFormatters) {\r\n        window.devtoolsFormatters.push(formatter);\r\n    }\r\n    else {\r\n        window.devtoolsFormatters = [formatter];\r\n    }\r\n}\n\nfunction withMemo(memo, render, cache, index) {\r\n    const cached = cache[index];\r\n    if (cached && isMemoSame(cached, memo)) {\r\n        return cached;\r\n    }\r\n    const ret = render();\r\n    // shallow clone\r\n    ret.memo = memo.slice();\r\n    return (cache[index] = ret);\r\n}\r\nfunction isMemoSame(cached, memo) {\r\n    const prev = cached.memo;\r\n    if (prev.length != memo.length) {\r\n        return false;\r\n    }\r\n    for (let i = 0; i < prev.length; i++) {\r\n        if (prev[i] !== memo[i]) {\r\n            return false;\r\n        }\r\n    }\r\n    // make sure to let parent block track it when returning cached\r\n    if (isBlockTreeEnabled > 0 && currentBlock) {\r\n        currentBlock.push(cached);\r\n    }\r\n    return true;\r\n}\n\n// Core API ------------------------------------------------------------------\r\nconst version = \"3.2.27\";\r\nconst _ssrUtils = {\r\n    createComponentInstance,\r\n    setupComponent,\r\n    renderComponentRoot,\r\n    setCurrentRenderingInstance,\r\n    isVNode,\r\n    normalizeVNode\r\n};\r\n/**\r\n * SSR utils for \\@vue/server-renderer. Only exposed in cjs builds.\r\n * @internal\r\n */\r\nconst ssrUtils = (_ssrUtils );\r\n/**\r\n * @internal only exposed in compat builds\r\n */\r\nconst resolveFilter = null;\r\n/**\r\n * @internal only exposed in compat builds.\r\n */\r\nconst compatUtils = (null);\n\nexport { BaseTransition, Comment, Fragment, KeepAlive, Static, Suspense, Teleport, Text, callWithAsyncErrorHandling, callWithErrorHandling, cloneVNode, compatUtils, computed, createBlock, createCommentVNode, createElementBlock, createBaseVNode as createElementVNode, createHydrationRenderer, createPropsRestProxy, createRenderer, createSlots, createStaticVNode, createTextVNode, createVNode, defineAsyncComponent, defineComponent, defineEmits, defineExpose, defineProps, devtools, getCurrentInstance, getTransitionRawChildren, guardReactiveProps, h, handleError, initCustomFormatter, inject, isMemoSame, isRuntimeOnly, isVNode, mergeDefaults, mergeProps, nextTick, onActivated, onBeforeMount, onBeforeUnmount, onBeforeUpdate, onDeactivated, onErrorCaptured, onMounted, onRenderTracked, onRenderTriggered, onServerPrefetch, onUnmounted, onUpdated, openBlock, popScopeId, provide, pushScopeId, queuePostFlushCb, registerRuntimeCompiler, renderList, renderSlot, resolveComponent, resolveDirective, resolveDynamicComponent, resolveFilter, resolveTransitionHooks, setBlockTracking, setDevtoolsHook, setTransitionHooks, ssrContextKey, ssrUtils, toHandlers, transformVNodeArgs, useAttrs, useSSRContext, useSlots, useTransitionState, version, warn, watch, watchEffect, watchPostEffect, watchSyncEffect, withAsyncContext, withCtx, withDefaults, withDirectives, withMemo, withScopeId };\n","import { camelize, warn, callWithAsyncErrorHandling, defineComponent, nextTick, createVNode, getCurrentInstance, watchPostEffect, onMounted, onUnmounted, Fragment, Static, h, BaseTransition, useTransitionState, onUpdated, toRaw, getTransitionRawChildren, setTransitionHooks, resolveTransitionHooks, createRenderer, isRuntimeOnly, createHydrationRenderer } from '@vue/runtime-core';\nexport * from '@vue/runtime-core';\nimport { isString, isArray, hyphenate, capitalize, isSpecialBooleanAttr, includeBooleanAttr, isOn, isModelListener, isFunction, toNumber, camelize as camelize$1, extend, EMPTY_OBJ, isObject, invokeArrayFns, looseIndexOf, isSet, looseEqual, isHTMLTag, isSVGTag } from '@vue/shared';\n\nconst svgNS = 'http://www.w3.org/2000/svg';\r\nconst doc = (typeof document !== 'undefined' ? document : null);\r\nconst templateContainer = doc && doc.createElement('template');\r\nconst nodeOps = {\r\n    insert: (child, parent, anchor) => {\r\n        parent.insertBefore(child, anchor || null);\r\n    },\r\n    remove: child => {\r\n        const parent = child.parentNode;\r\n        if (parent) {\r\n            parent.removeChild(child);\r\n        }\r\n    },\r\n    createElement: (tag, isSVG, is, props) => {\r\n        const el = isSVG\r\n            ? doc.createElementNS(svgNS, tag)\r\n            : doc.createElement(tag, is ? { is } : undefined);\r\n        if (tag === 'select' && props && props.multiple != null) {\r\n            el.setAttribute('multiple', props.multiple);\r\n        }\r\n        return el;\r\n    },\r\n    createText: text => doc.createTextNode(text),\r\n    createComment: text => doc.createComment(text),\r\n    setText: (node, text) => {\r\n        node.nodeValue = text;\r\n    },\r\n    setElementText: (el, text) => {\r\n        el.textContent = text;\r\n    },\r\n    parentNode: node => node.parentNode,\r\n    nextSibling: node => node.nextSibling,\r\n    querySelector: selector => doc.querySelector(selector),\r\n    setScopeId(el, id) {\r\n        el.setAttribute(id, '');\r\n    },\r\n    cloneNode(el) {\r\n        const cloned = el.cloneNode(true);\r\n        // #3072\r\n        // - in `patchDOMProp`, we store the actual value in the `el._value` property.\r\n        // - normally, elements using `:value` bindings will not be hoisted, but if\r\n        //   the bound value is a constant, e.g. `:value=\"true\"` - they do get\r\n        //   hoisted.\r\n        // - in production, hoisted nodes are cloned when subsequent inserts, but\r\n        //   cloneNode() does not copy the custom property we attached.\r\n        // - This may need to account for other custom DOM properties we attach to\r\n        //   elements in addition to `_value` in the future.\r\n        if (`_value` in el) {\r\n            cloned._value = el._value;\r\n        }\r\n        return cloned;\r\n    },\r\n    // __UNSAFE__\r\n    // Reason: innerHTML.\r\n    // Static content here can only come from compiled templates.\r\n    // As long as the user only uses trusted templates, this is safe.\r\n    insertStaticContent(content, parent, anchor, isSVG, start, end) {\r\n        // <parent> before | first ... last | anchor </parent>\r\n        const before = anchor ? anchor.previousSibling : parent.lastChild;\r\n        if (start && end) {\r\n            // cached\r\n            while (true) {\r\n                parent.insertBefore(start.cloneNode(true), anchor);\r\n                if (start === end || !(start = start.nextSibling))\r\n                    break;\r\n            }\r\n        }\r\n        else {\r\n            // fresh insert\r\n            templateContainer.innerHTML = isSVG ? `<svg>${content}</svg>` : content;\r\n            const template = templateContainer.content;\r\n            if (isSVG) {\r\n                // remove outer svg wrapper\r\n                const wrapper = template.firstChild;\r\n                while (wrapper.firstChild) {\r\n                    template.appendChild(wrapper.firstChild);\r\n                }\r\n                template.removeChild(wrapper);\r\n            }\r\n            parent.insertBefore(template, anchor);\r\n        }\r\n        return [\r\n            // first\r\n            before ? before.nextSibling : parent.firstChild,\r\n            // last\r\n            anchor ? anchor.previousSibling : parent.lastChild\r\n        ];\r\n    }\r\n};\n\n// compiler should normalize class + :class bindings on the same element\r\n// into a single binding ['staticClass', dynamic]\r\nfunction patchClass(el, value, isSVG) {\r\n    // directly setting className should be faster than setAttribute in theory\r\n    // if this is an element during a transition, take the temporary transition\r\n    // classes into account.\r\n    const transitionClasses = el._vtc;\r\n    if (transitionClasses) {\r\n        value = (value ? [value, ...transitionClasses] : [...transitionClasses]).join(' ');\r\n    }\r\n    if (value == null) {\r\n        el.removeAttribute('class');\r\n    }\r\n    else if (isSVG) {\r\n        el.setAttribute('class', value);\r\n    }\r\n    else {\r\n        el.className = value;\r\n    }\r\n}\n\nfunction patchStyle(el, prev, next) {\r\n    const style = el.style;\r\n    const isCssString = isString(next);\r\n    if (next && !isCssString) {\r\n        for (const key in next) {\r\n            setStyle(style, key, next[key]);\r\n        }\r\n        if (prev && !isString(prev)) {\r\n            for (const key in prev) {\r\n                if (next[key] == null) {\r\n                    setStyle(style, key, '');\r\n                }\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        const currentDisplay = style.display;\r\n        if (isCssString) {\r\n            if (prev !== next) {\r\n                style.cssText = next;\r\n            }\r\n        }\r\n        else if (prev) {\r\n            el.removeAttribute('style');\r\n        }\r\n        // indicates that the `display` of the element is controlled by `v-show`,\r\n        // so we always keep the current `display` value regardless of the `style`\r\n        // value, thus handing over control to `v-show`.\r\n        if ('_vod' in el) {\r\n            style.display = currentDisplay;\r\n        }\r\n    }\r\n}\r\nconst importantRE = /\\s*!important$/;\r\nfunction setStyle(style, name, val) {\r\n    if (isArray(val)) {\r\n        val.forEach(v => setStyle(style, name, v));\r\n    }\r\n    else {\r\n        if (name.startsWith('--')) {\r\n            // custom property definition\r\n            style.setProperty(name, val);\r\n        }\r\n        else {\r\n            const prefixed = autoPrefix(style, name);\r\n            if (importantRE.test(val)) {\r\n                // !important\r\n                style.setProperty(hyphenate(prefixed), val.replace(importantRE, ''), 'important');\r\n            }\r\n            else {\r\n                style[prefixed] = val;\r\n            }\r\n        }\r\n    }\r\n}\r\nconst prefixes = ['Webkit', 'Moz', 'ms'];\r\nconst prefixCache = {};\r\nfunction autoPrefix(style, rawName) {\r\n    const cached = prefixCache[rawName];\r\n    if (cached) {\r\n        return cached;\r\n    }\r\n    let name = camelize(rawName);\r\n    if (name !== 'filter' && name in style) {\r\n        return (prefixCache[rawName] = name);\r\n    }\r\n    name = capitalize(name);\r\n    for (let i = 0; i < prefixes.length; i++) {\r\n        const prefixed = prefixes[i] + name;\r\n        if (prefixed in style) {\r\n            return (prefixCache[rawName] = prefixed);\r\n        }\r\n    }\r\n    return rawName;\r\n}\n\nconst xlinkNS = 'http://www.w3.org/1999/xlink';\r\nfunction patchAttr(el, key, value, isSVG, instance) {\r\n    if (isSVG && key.startsWith('xlink:')) {\r\n        if (value == null) {\r\n            el.removeAttributeNS(xlinkNS, key.slice(6, key.length));\r\n        }\r\n        else {\r\n            el.setAttributeNS(xlinkNS, key, value);\r\n        }\r\n    }\r\n    else {\r\n        // note we are only checking boolean attributes that don't have a\r\n        // corresponding dom prop of the same name here.\r\n        const isBoolean = isSpecialBooleanAttr(key);\r\n        if (value == null || (isBoolean && !includeBooleanAttr(value))) {\r\n            el.removeAttribute(key);\r\n        }\r\n        else {\r\n            el.setAttribute(key, isBoolean ? '' : value);\r\n        }\r\n    }\r\n}\n\n// __UNSAFE__\r\n// functions. The user is responsible for using them with only trusted content.\r\nfunction patchDOMProp(el, key, value, \r\n// the following args are passed only due to potential innerHTML/textContent\r\n// overriding existing VNodes, in which case the old tree must be properly\r\n// unmounted.\r\nprevChildren, parentComponent, parentSuspense, unmountChildren) {\r\n    if (key === 'innerHTML' || key === 'textContent') {\r\n        if (prevChildren) {\r\n            unmountChildren(prevChildren, parentComponent, parentSuspense);\r\n        }\r\n        el[key] = value == null ? '' : value;\r\n        return;\r\n    }\r\n    if (key === 'value' &&\r\n        el.tagName !== 'PROGRESS' &&\r\n        // custom elements may use _value internally\r\n        !el.tagName.includes('-')) {\r\n        // store value as _value as well since\r\n        // non-string values will be stringified.\r\n        el._value = value;\r\n        const newValue = value == null ? '' : value;\r\n        if (el.value !== newValue ||\r\n            // #4956: always set for OPTION elements because its value falls back to\r\n            // textContent if no value attribute is present. And setting .value for\r\n            // OPTION has no side effect\r\n            el.tagName === 'OPTION') {\r\n            el.value = newValue;\r\n        }\r\n        if (value == null) {\r\n            el.removeAttribute(key);\r\n        }\r\n        return;\r\n    }\r\n    if (value === '' || value == null) {\r\n        const type = typeof el[key];\r\n        if (type === 'boolean') {\r\n            // e.g. <select multiple> compiles to { multiple: '' }\r\n            el[key] = includeBooleanAttr(value);\r\n            return;\r\n        }\r\n        else if (value == null && type === 'string') {\r\n            // e.g. <div :id=\"null\">\r\n            el[key] = '';\r\n            el.removeAttribute(key);\r\n            return;\r\n        }\r\n        else if (type === 'number') {\r\n            // e.g. <img :width=\"null\">\r\n            // the value of some IDL attr must be greater than 0, e.g. input.size = 0 -> error\r\n            try {\r\n                el[key] = 0;\r\n            }\r\n            catch (_a) { }\r\n            el.removeAttribute(key);\r\n            return;\r\n        }\r\n    }\r\n    // some properties perform value validation and throw\r\n    try {\r\n        el[key] = value;\r\n    }\r\n    catch (e) {\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            warn(`Failed setting prop \"${key}\" on <${el.tagName.toLowerCase()}>: ` +\r\n                `value ${value} is invalid.`, e);\r\n        }\r\n    }\r\n}\n\n// Async edge case fix requires storing an event listener's attach timestamp.\r\nlet _getNow = Date.now;\r\nlet skipTimestampCheck = false;\r\nif (typeof window !== 'undefined') {\r\n    // Determine what event timestamp the browser is using. Annoyingly, the\r\n    // timestamp can either be hi-res (relative to page load) or low-res\r\n    // (relative to UNIX epoch), so in order to compare time we have to use the\r\n    // same timestamp type when saving the flush timestamp.\r\n    if (_getNow() > document.createEvent('Event').timeStamp) {\r\n        // if the low-res timestamp which is bigger than the event timestamp\r\n        // (which is evaluated AFTER) it means the event is using a hi-res timestamp,\r\n        // and we need to use the hi-res version for event listeners as well.\r\n        _getNow = () => performance.now();\r\n    }\r\n    // #3485: Firefox <= 53 has incorrect Event.timeStamp implementation\r\n    // and does not fire microtasks in between event propagation, so safe to exclude.\r\n    const ffMatch = navigator.userAgent.match(/firefox\\/(\\d+)/i);\r\n    skipTimestampCheck = !!(ffMatch && Number(ffMatch[1]) <= 53);\r\n}\r\n// To avoid the overhead of repeatedly calling performance.now(), we cache\r\n// and use the same timestamp for all event listeners attached in the same tick.\r\nlet cachedNow = 0;\r\nconst p = Promise.resolve();\r\nconst reset = () => {\r\n    cachedNow = 0;\r\n};\r\nconst getNow = () => cachedNow || (p.then(reset), (cachedNow = _getNow()));\r\nfunction addEventListener(el, event, handler, options) {\r\n    el.addEventListener(event, handler, options);\r\n}\r\nfunction removeEventListener(el, event, handler, options) {\r\n    el.removeEventListener(event, handler, options);\r\n}\r\nfunction patchEvent(el, rawName, prevValue, nextValue, instance = null) {\r\n    // vei = vue event invokers\r\n    const invokers = el._vei || (el._vei = {});\r\n    const existingInvoker = invokers[rawName];\r\n    if (nextValue && existingInvoker) {\r\n        // patch\r\n        existingInvoker.value = nextValue;\r\n    }\r\n    else {\r\n        const [name, options] = parseName(rawName);\r\n        if (nextValue) {\r\n            // add\r\n            const invoker = (invokers[rawName] = createInvoker(nextValue, instance));\r\n            addEventListener(el, name, invoker, options);\r\n        }\r\n        else if (existingInvoker) {\r\n            // remove\r\n            removeEventListener(el, name, existingInvoker, options);\r\n            invokers[rawName] = undefined;\r\n        }\r\n    }\r\n}\r\nconst optionsModifierRE = /(?:Once|Passive|Capture)$/;\r\nfunction parseName(name) {\r\n    let options;\r\n    if (optionsModifierRE.test(name)) {\r\n        options = {};\r\n        let m;\r\n        while ((m = name.match(optionsModifierRE))) {\r\n            name = name.slice(0, name.length - m[0].length);\r\n            options[m[0].toLowerCase()] = true;\r\n        }\r\n    }\r\n    return [hyphenate(name.slice(2)), options];\r\n}\r\nfunction createInvoker(initialValue, instance) {\r\n    const invoker = (e) => {\r\n        // async edge case #6566: inner click event triggers patch, event handler\r\n        // attached to outer element during patch, and triggered again. This\r\n        // happens because browsers fire microtask ticks between event propagation.\r\n        // the solution is simple: we save the timestamp when a handler is attached,\r\n        // and the handler would only fire if the event passed to it was fired\r\n        // AFTER it was attached.\r\n        const timeStamp = e.timeStamp || _getNow();\r\n        if (skipTimestampCheck || timeStamp >= invoker.attached - 1) {\r\n            callWithAsyncErrorHandling(patchStopImmediatePropagation(e, invoker.value), instance, 5 /* NATIVE_EVENT_HANDLER */, [e]);\r\n        }\r\n    };\r\n    invoker.value = initialValue;\r\n    invoker.attached = getNow();\r\n    return invoker;\r\n}\r\nfunction patchStopImmediatePropagation(e, value) {\r\n    if (isArray(value)) {\r\n        const originalStop = e.stopImmediatePropagation;\r\n        e.stopImmediatePropagation = () => {\r\n            originalStop.call(e);\r\n            e._stopped = true;\r\n        };\r\n        return value.map(fn => (e) => !e._stopped && fn(e));\r\n    }\r\n    else {\r\n        return value;\r\n    }\r\n}\n\nconst nativeOnRE = /^on[a-z]/;\r\nconst patchProp = (el, key, prevValue, nextValue, isSVG = false, prevChildren, parentComponent, parentSuspense, unmountChildren) => {\r\n    if (key === 'class') {\r\n        patchClass(el, nextValue, isSVG);\r\n    }\r\n    else if (key === 'style') {\r\n        patchStyle(el, prevValue, nextValue);\r\n    }\r\n    else if (isOn(key)) {\r\n        // ignore v-model listeners\r\n        if (!isModelListener(key)) {\r\n            patchEvent(el, key, prevValue, nextValue, parentComponent);\r\n        }\r\n    }\r\n    else if (key[0] === '.'\r\n        ? ((key = key.slice(1)), true)\r\n        : key[0] === '^'\r\n            ? ((key = key.slice(1)), false)\r\n            : shouldSetAsProp(el, key, nextValue, isSVG)) {\r\n        patchDOMProp(el, key, nextValue, prevChildren, parentComponent, parentSuspense, unmountChildren);\r\n    }\r\n    else {\r\n        // special case for <input v-model type=\"checkbox\"> with\r\n        // :true-value & :false-value\r\n        // store value as dom properties since non-string values will be\r\n        // stringified.\r\n        if (key === 'true-value') {\r\n            el._trueValue = nextValue;\r\n        }\r\n        else if (key === 'false-value') {\r\n            el._falseValue = nextValue;\r\n        }\r\n        patchAttr(el, key, nextValue, isSVG);\r\n    }\r\n};\r\nfunction shouldSetAsProp(el, key, value, isSVG) {\r\n    if (isSVG) {\r\n        // most keys must be set as attribute on svg elements to work\r\n        // ...except innerHTML & textContent\r\n        if (key === 'innerHTML' || key === 'textContent') {\r\n            return true;\r\n        }\r\n        // or native onclick with function values\r\n        if (key in el && nativeOnRE.test(key) && isFunction(value)) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    // spellcheck and draggable are numerated attrs, however their\r\n    // corresponding DOM properties are actually booleans - this leads to\r\n    // setting it with a string \"false\" value leading it to be coerced to\r\n    // `true`, so we need to always treat them as attributes.\r\n    // Note that `contentEditable` doesn't have this problem: its DOM\r\n    // property is also enumerated string values.\r\n    if (key === 'spellcheck' || key === 'draggable') {\r\n        return false;\r\n    }\r\n    // #1787, #2840 form property on form elements is readonly and must be set as\r\n    // attribute.\r\n    if (key === 'form') {\r\n        return false;\r\n    }\r\n    // #1526 <input list> must be set as attribute\r\n    if (key === 'list' && el.tagName === 'INPUT') {\r\n        return false;\r\n    }\r\n    // #2766 <textarea type> must be set as attribute\r\n    if (key === 'type' && el.tagName === 'TEXTAREA') {\r\n        return false;\r\n    }\r\n    // native onclick with string value, must be set as attribute\r\n    if (nativeOnRE.test(key) && isString(value)) {\r\n        return false;\r\n    }\r\n    return key in el;\r\n}\n\nfunction defineCustomElement(options, hydate) {\r\n    const Comp = defineComponent(options);\r\n    class VueCustomElement extends VueElement {\r\n        constructor(initialProps) {\r\n            super(Comp, initialProps, hydate);\r\n        }\r\n    }\r\n    VueCustomElement.def = Comp;\r\n    return VueCustomElement;\r\n}\r\nconst defineSSRCustomElement = ((options) => {\r\n    // @ts-ignore\r\n    return defineCustomElement(options, hydrate);\r\n});\r\nconst BaseClass = (typeof HTMLElement !== 'undefined' ? HTMLElement : class {\r\n});\r\nclass VueElement extends BaseClass {\r\n    constructor(_def, _props = {}, hydrate) {\r\n        super();\r\n        this._def = _def;\r\n        this._props = _props;\r\n        /**\r\n         * @internal\r\n         */\r\n        this._instance = null;\r\n        this._connected = false;\r\n        this._resolved = false;\r\n        this._numberProps = null;\r\n        if (this.shadowRoot && hydrate) {\r\n            hydrate(this._createVNode(), this.shadowRoot);\r\n        }\r\n        else {\r\n            if ((process.env.NODE_ENV !== 'production') && this.shadowRoot) {\r\n                warn(`Custom element has pre-rendered declarative shadow root but is not ` +\r\n                    `defined as hydratable. Use \\`defineSSRCustomElement\\`.`);\r\n            }\r\n            this.attachShadow({ mode: 'open' });\r\n        }\r\n    }\r\n    connectedCallback() {\r\n        this._connected = true;\r\n        if (!this._instance) {\r\n            this._resolveDef();\r\n        }\r\n    }\r\n    disconnectedCallback() {\r\n        this._connected = false;\r\n        nextTick(() => {\r\n            if (!this._connected) {\r\n                render(null, this.shadowRoot);\r\n                this._instance = null;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * resolve inner component definition (handle possible async component)\r\n     */\r\n    _resolveDef() {\r\n        if (this._resolved) {\r\n            return;\r\n        }\r\n        this._resolved = true;\r\n        // set initial attrs\r\n        for (let i = 0; i < this.attributes.length; i++) {\r\n            this._setAttr(this.attributes[i].name);\r\n        }\r\n        // watch future attr changes\r\n        new MutationObserver(mutations => {\r\n            for (const m of mutations) {\r\n                this._setAttr(m.attributeName);\r\n            }\r\n        }).observe(this, { attributes: true });\r\n        const resolve = (def) => {\r\n            const { props, styles } = def;\r\n            const hasOptions = !isArray(props);\r\n            const rawKeys = props ? (hasOptions ? Object.keys(props) : props) : [];\r\n            // cast Number-type props set before resolve\r\n            let numberProps;\r\n            if (hasOptions) {\r\n                for (const key in this._props) {\r\n                    const opt = props[key];\r\n                    if (opt === Number || (opt && opt.type === Number)) {\r\n                        this._props[key] = toNumber(this._props[key]);\r\n                        (numberProps || (numberProps = Object.create(null)))[key] = true;\r\n                    }\r\n                }\r\n            }\r\n            this._numberProps = numberProps;\r\n            // check if there are props set pre-upgrade or connect\r\n            for (const key of Object.keys(this)) {\r\n                if (key[0] !== '_') {\r\n                    this._setProp(key, this[key], true, false);\r\n                }\r\n            }\r\n            // defining getter/setters on prototype\r\n            for (const key of rawKeys.map(camelize$1)) {\r\n                Object.defineProperty(this, key, {\r\n                    get() {\r\n                        return this._getProp(key);\r\n                    },\r\n                    set(val) {\r\n                        this._setProp(key, val);\r\n                    }\r\n                });\r\n            }\r\n            // apply CSS\r\n            this._applyStyles(styles);\r\n            // initial render\r\n            this._update();\r\n        };\r\n        const asyncDef = this._def.__asyncLoader;\r\n        if (asyncDef) {\r\n            asyncDef().then(resolve);\r\n        }\r\n        else {\r\n            resolve(this._def);\r\n        }\r\n    }\r\n    _setAttr(key) {\r\n        let value = this.getAttribute(key);\r\n        if (this._numberProps && this._numberProps[key]) {\r\n            value = toNumber(value);\r\n        }\r\n        this._setProp(camelize$1(key), value, false);\r\n    }\r\n    /**\r\n     * @internal\r\n     */\r\n    _getProp(key) {\r\n        return this._props[key];\r\n    }\r\n    /**\r\n     * @internal\r\n     */\r\n    _setProp(key, val, shouldReflect = true, shouldUpdate = true) {\r\n        if (val !== this._props[key]) {\r\n            this._props[key] = val;\r\n            if (shouldUpdate && this._instance) {\r\n                this._update();\r\n            }\r\n            // reflect\r\n            if (shouldReflect) {\r\n                if (val === true) {\r\n                    this.setAttribute(hyphenate(key), '');\r\n                }\r\n                else if (typeof val === 'string' || typeof val === 'number') {\r\n                    this.setAttribute(hyphenate(key), val + '');\r\n                }\r\n                else if (!val) {\r\n                    this.removeAttribute(hyphenate(key));\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _update() {\r\n        render(this._createVNode(), this.shadowRoot);\r\n    }\r\n    _createVNode() {\r\n        const vnode = createVNode(this._def, extend({}, this._props));\r\n        if (!this._instance) {\r\n            vnode.ce = instance => {\r\n                this._instance = instance;\r\n                instance.isCE = true;\r\n                // HMR\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    instance.ceReload = newStyles => {\r\n                        // always reset styles\r\n                        if (this._styles) {\r\n                            this._styles.forEach(s => this.shadowRoot.removeChild(s));\r\n                            this._styles.length = 0;\r\n                        }\r\n                        this._applyStyles(newStyles);\r\n                        // if this is an async component, ceReload is called from the inner\r\n                        // component so no need to reload the async wrapper\r\n                        if (!this._def.__asyncLoader) {\r\n                            // reload\r\n                            this._instance = null;\r\n                            this._update();\r\n                        }\r\n                    };\r\n                }\r\n                // intercept emit\r\n                instance.emit = (event, ...args) => {\r\n                    this.dispatchEvent(new CustomEvent(event, {\r\n                        detail: args\r\n                    }));\r\n                };\r\n                // locate nearest Vue custom element parent for provide/inject\r\n                let parent = this;\r\n                while ((parent =\r\n                    parent && (parent.parentNode || parent.host))) {\r\n                    if (parent instanceof VueElement) {\r\n                        instance.parent = parent._instance;\r\n                        break;\r\n                    }\r\n                }\r\n            };\r\n        }\r\n        return vnode;\r\n    }\r\n    _applyStyles(styles) {\r\n        if (styles) {\r\n            styles.forEach(css => {\r\n                const s = document.createElement('style');\r\n                s.textContent = css;\r\n                this.shadowRoot.appendChild(s);\r\n                // record for HMR\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    (this._styles || (this._styles = [])).push(s);\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\n\nfunction useCssModule(name = '$style') {\r\n    /* istanbul ignore else */\r\n    {\r\n        const instance = getCurrentInstance();\r\n        if (!instance) {\r\n            (process.env.NODE_ENV !== 'production') && warn(`useCssModule must be called inside setup()`);\r\n            return EMPTY_OBJ;\r\n        }\r\n        const modules = instance.type.__cssModules;\r\n        if (!modules) {\r\n            (process.env.NODE_ENV !== 'production') && warn(`Current instance does not have CSS modules injected.`);\r\n            return EMPTY_OBJ;\r\n        }\r\n        const mod = modules[name];\r\n        if (!mod) {\r\n            (process.env.NODE_ENV !== 'production') &&\r\n                warn(`Current instance does not have CSS module named \"${name}\".`);\r\n            return EMPTY_OBJ;\r\n        }\r\n        return mod;\r\n    }\r\n}\n\n/**\r\n * Runtime helper for SFC's CSS variable injection feature.\r\n * @private\r\n */\r\nfunction useCssVars(getter) {\r\n    const instance = getCurrentInstance();\r\n    /* istanbul ignore next */\r\n    if (!instance) {\r\n        (process.env.NODE_ENV !== 'production') &&\r\n            warn(`useCssVars is called without current active component instance.`);\r\n        return;\r\n    }\r\n    const setVars = () => setVarsOnVNode(instance.subTree, getter(instance.proxy));\r\n    watchPostEffect(setVars);\r\n    onMounted(() => {\r\n        const ob = new MutationObserver(setVars);\r\n        ob.observe(instance.subTree.el.parentNode, { childList: true });\r\n        onUnmounted(() => ob.disconnect());\r\n    });\r\n}\r\nfunction setVarsOnVNode(vnode, vars) {\r\n    if (vnode.shapeFlag & 128 /* SUSPENSE */) {\r\n        const suspense = vnode.suspense;\r\n        vnode = suspense.activeBranch;\r\n        if (suspense.pendingBranch && !suspense.isHydrating) {\r\n            suspense.effects.push(() => {\r\n                setVarsOnVNode(suspense.activeBranch, vars);\r\n            });\r\n        }\r\n    }\r\n    // drill down HOCs until it's a non-component vnode\r\n    while (vnode.component) {\r\n        vnode = vnode.component.subTree;\r\n    }\r\n    if (vnode.shapeFlag & 1 /* ELEMENT */ && vnode.el) {\r\n        setVarsOnNode(vnode.el, vars);\r\n    }\r\n    else if (vnode.type === Fragment) {\r\n        vnode.children.forEach(c => setVarsOnVNode(c, vars));\r\n    }\r\n    else if (vnode.type === Static) {\r\n        let { el, anchor } = vnode;\r\n        while (el) {\r\n            setVarsOnNode(el, vars);\r\n            if (el === anchor)\r\n                break;\r\n            el = el.nextSibling;\r\n        }\r\n    }\r\n}\r\nfunction setVarsOnNode(el, vars) {\r\n    if (el.nodeType === 1) {\r\n        const style = el.style;\r\n        for (const key in vars) {\r\n            style.setProperty(`--${key}`, vars[key]);\r\n        }\r\n    }\r\n}\n\nconst TRANSITION = 'transition';\r\nconst ANIMATION = 'animation';\r\n// DOM Transition is a higher-order-component based on the platform-agnostic\r\n// base Transition component, with DOM-specific logic.\r\nconst Transition = (props, { slots }) => h(BaseTransition, resolveTransitionProps(props), slots);\r\nTransition.displayName = 'Transition';\r\nconst DOMTransitionPropsValidators = {\r\n    name: String,\r\n    type: String,\r\n    css: {\r\n        type: Boolean,\r\n        default: true\r\n    },\r\n    duration: [String, Number, Object],\r\n    enterFromClass: String,\r\n    enterActiveClass: String,\r\n    enterToClass: String,\r\n    appearFromClass: String,\r\n    appearActiveClass: String,\r\n    appearToClass: String,\r\n    leaveFromClass: String,\r\n    leaveActiveClass: String,\r\n    leaveToClass: String\r\n};\r\nconst TransitionPropsValidators = (Transition.props =\r\n    /*#__PURE__*/ extend({}, BaseTransition.props, DOMTransitionPropsValidators));\r\n/**\r\n * #3227 Incoming hooks may be merged into arrays when wrapping Transition\r\n * with custom HOCs.\r\n */\r\nconst callHook = (hook, args = []) => {\r\n    if (isArray(hook)) {\r\n        hook.forEach(h => h(...args));\r\n    }\r\n    else if (hook) {\r\n        hook(...args);\r\n    }\r\n};\r\n/**\r\n * Check if a hook expects a callback (2nd arg), which means the user\r\n * intends to explicitly control the end of the transition.\r\n */\r\nconst hasExplicitCallback = (hook) => {\r\n    return hook\r\n        ? isArray(hook)\r\n            ? hook.some(h => h.length > 1)\r\n            : hook.length > 1\r\n        : false;\r\n};\r\nfunction resolveTransitionProps(rawProps) {\r\n    const baseProps = {};\r\n    for (const key in rawProps) {\r\n        if (!(key in DOMTransitionPropsValidators)) {\r\n            baseProps[key] = rawProps[key];\r\n        }\r\n    }\r\n    if (rawProps.css === false) {\r\n        return baseProps;\r\n    }\r\n    const { name = 'v', type, duration, enterFromClass = `${name}-enter-from`, enterActiveClass = `${name}-enter-active`, enterToClass = `${name}-enter-to`, appearFromClass = enterFromClass, appearActiveClass = enterActiveClass, appearToClass = enterToClass, leaveFromClass = `${name}-leave-from`, leaveActiveClass = `${name}-leave-active`, leaveToClass = `${name}-leave-to` } = rawProps;\r\n    const durations = normalizeDuration(duration);\r\n    const enterDuration = durations && durations[0];\r\n    const leaveDuration = durations && durations[1];\r\n    const { onBeforeEnter, onEnter, onEnterCancelled, onLeave, onLeaveCancelled, onBeforeAppear = onBeforeEnter, onAppear = onEnter, onAppearCancelled = onEnterCancelled } = baseProps;\r\n    const finishEnter = (el, isAppear, done) => {\r\n        removeTransitionClass(el, isAppear ? appearToClass : enterToClass);\r\n        removeTransitionClass(el, isAppear ? appearActiveClass : enterActiveClass);\r\n        done && done();\r\n    };\r\n    const finishLeave = (el, done) => {\r\n        removeTransitionClass(el, leaveToClass);\r\n        removeTransitionClass(el, leaveActiveClass);\r\n        done && done();\r\n    };\r\n    const makeEnterHook = (isAppear) => {\r\n        return (el, done) => {\r\n            const hook = isAppear ? onAppear : onEnter;\r\n            const resolve = () => finishEnter(el, isAppear, done);\r\n            callHook(hook, [el, resolve]);\r\n            nextFrame(() => {\r\n                removeTransitionClass(el, isAppear ? appearFromClass : enterFromClass);\r\n                addTransitionClass(el, isAppear ? appearToClass : enterToClass);\r\n                if (!hasExplicitCallback(hook)) {\r\n                    whenTransitionEnds(el, type, enterDuration, resolve);\r\n                }\r\n            });\r\n        };\r\n    };\r\n    return extend(baseProps, {\r\n        onBeforeEnter(el) {\r\n            callHook(onBeforeEnter, [el]);\r\n            addTransitionClass(el, enterFromClass);\r\n            addTransitionClass(el, enterActiveClass);\r\n        },\r\n        onBeforeAppear(el) {\r\n            callHook(onBeforeAppear, [el]);\r\n            addTransitionClass(el, appearFromClass);\r\n            addTransitionClass(el, appearActiveClass);\r\n        },\r\n        onEnter: makeEnterHook(false),\r\n        onAppear: makeEnterHook(true),\r\n        onLeave(el, done) {\r\n            const resolve = () => finishLeave(el, done);\r\n            addTransitionClass(el, leaveFromClass);\r\n            // force reflow so *-leave-from classes immediately take effect (#2593)\r\n            forceReflow();\r\n            addTransitionClass(el, leaveActiveClass);\r\n            nextFrame(() => {\r\n                removeTransitionClass(el, leaveFromClass);\r\n                addTransitionClass(el, leaveToClass);\r\n                if (!hasExplicitCallback(onLeave)) {\r\n                    whenTransitionEnds(el, type, leaveDuration, resolve);\r\n                }\r\n            });\r\n            callHook(onLeave, [el, resolve]);\r\n        },\r\n        onEnterCancelled(el) {\r\n            finishEnter(el, false);\r\n            callHook(onEnterCancelled, [el]);\r\n        },\r\n        onAppearCancelled(el) {\r\n            finishEnter(el, true);\r\n            callHook(onAppearCancelled, [el]);\r\n        },\r\n        onLeaveCancelled(el) {\r\n            finishLeave(el);\r\n            callHook(onLeaveCancelled, [el]);\r\n        }\r\n    });\r\n}\r\nfunction normalizeDuration(duration) {\r\n    if (duration == null) {\r\n        return null;\r\n    }\r\n    else if (isObject(duration)) {\r\n        return [NumberOf(duration.enter), NumberOf(duration.leave)];\r\n    }\r\n    else {\r\n        const n = NumberOf(duration);\r\n        return [n, n];\r\n    }\r\n}\r\nfunction NumberOf(val) {\r\n    const res = toNumber(val);\r\n    if ((process.env.NODE_ENV !== 'production'))\r\n        validateDuration(res);\r\n    return res;\r\n}\r\nfunction validateDuration(val) {\r\n    if (typeof val !== 'number') {\r\n        warn(`<transition> explicit duration is not a valid number - ` +\r\n            `got ${JSON.stringify(val)}.`);\r\n    }\r\n    else if (isNaN(val)) {\r\n        warn(`<transition> explicit duration is NaN - ` +\r\n            'the duration expression might be incorrect.');\r\n    }\r\n}\r\nfunction addTransitionClass(el, cls) {\r\n    cls.split(/\\s+/).forEach(c => c && el.classList.add(c));\r\n    (el._vtc ||\r\n        (el._vtc = new Set())).add(cls);\r\n}\r\nfunction removeTransitionClass(el, cls) {\r\n    cls.split(/\\s+/).forEach(c => c && el.classList.remove(c));\r\n    const { _vtc } = el;\r\n    if (_vtc) {\r\n        _vtc.delete(cls);\r\n        if (!_vtc.size) {\r\n            el._vtc = undefined;\r\n        }\r\n    }\r\n}\r\nfunction nextFrame(cb) {\r\n    requestAnimationFrame(() => {\r\n        requestAnimationFrame(cb);\r\n    });\r\n}\r\nlet endId = 0;\r\nfunction whenTransitionEnds(el, expectedType, explicitTimeout, resolve) {\r\n    const id = (el._endId = ++endId);\r\n    const resolveIfNotStale = () => {\r\n        if (id === el._endId) {\r\n            resolve();\r\n        }\r\n    };\r\n    if (explicitTimeout) {\r\n        return setTimeout(resolveIfNotStale, explicitTimeout);\r\n    }\r\n    const { type, timeout, propCount } = getTransitionInfo(el, expectedType);\r\n    if (!type) {\r\n        return resolve();\r\n    }\r\n    const endEvent = type + 'end';\r\n    let ended = 0;\r\n    const end = () => {\r\n        el.removeEventListener(endEvent, onEnd);\r\n        resolveIfNotStale();\r\n    };\r\n    const onEnd = (e) => {\r\n        if (e.target === el && ++ended >= propCount) {\r\n            end();\r\n        }\r\n    };\r\n    setTimeout(() => {\r\n        if (ended < propCount) {\r\n            end();\r\n        }\r\n    }, timeout + 1);\r\n    el.addEventListener(endEvent, onEnd);\r\n}\r\nfunction getTransitionInfo(el, expectedType) {\r\n    const styles = window.getComputedStyle(el);\r\n    // JSDOM may return undefined for transition properties\r\n    const getStyleProperties = (key) => (styles[key] || '').split(', ');\r\n    const transitionDelays = getStyleProperties(TRANSITION + 'Delay');\r\n    const transitionDurations = getStyleProperties(TRANSITION + 'Duration');\r\n    const transitionTimeout = getTimeout(transitionDelays, transitionDurations);\r\n    const animationDelays = getStyleProperties(ANIMATION + 'Delay');\r\n    const animationDurations = getStyleProperties(ANIMATION + 'Duration');\r\n    const animationTimeout = getTimeout(animationDelays, animationDurations);\r\n    let type = null;\r\n    let timeout = 0;\r\n    let propCount = 0;\r\n    /* istanbul ignore if */\r\n    if (expectedType === TRANSITION) {\r\n        if (transitionTimeout > 0) {\r\n            type = TRANSITION;\r\n            timeout = transitionTimeout;\r\n            propCount = transitionDurations.length;\r\n        }\r\n    }\r\n    else if (expectedType === ANIMATION) {\r\n        if (animationTimeout > 0) {\r\n            type = ANIMATION;\r\n            timeout = animationTimeout;\r\n            propCount = animationDurations.length;\r\n        }\r\n    }\r\n    else {\r\n        timeout = Math.max(transitionTimeout, animationTimeout);\r\n        type =\r\n            timeout > 0\r\n                ? transitionTimeout > animationTimeout\r\n                    ? TRANSITION\r\n                    : ANIMATION\r\n                : null;\r\n        propCount = type\r\n            ? type === TRANSITION\r\n                ? transitionDurations.length\r\n                : animationDurations.length\r\n            : 0;\r\n    }\r\n    const hasTransform = type === TRANSITION &&\r\n        /\\b(transform|all)(,|$)/.test(styles[TRANSITION + 'Property']);\r\n    return {\r\n        type,\r\n        timeout,\r\n        propCount,\r\n        hasTransform\r\n    };\r\n}\r\nfunction getTimeout(delays, durations) {\r\n    while (delays.length < durations.length) {\r\n        delays = delays.concat(delays);\r\n    }\r\n    return Math.max(...durations.map((d, i) => toMs(d) + toMs(delays[i])));\r\n}\r\n// Old versions of Chromium (below 61.0.3163.100) formats floating pointer\r\n// numbers in a locale-dependent way, using a comma instead of a dot.\r\n// If comma is not replaced with a dot, the input will be rounded down\r\n// (i.e. acting as a floor function) causing unexpected behaviors\r\nfunction toMs(s) {\r\n    return Number(s.slice(0, -1).replace(',', '.')) * 1000;\r\n}\r\n// synchronously force layout to put elements into a certain state\r\nfunction forceReflow() {\r\n    return document.body.offsetHeight;\r\n}\n\nconst positionMap = new WeakMap();\r\nconst newPositionMap = new WeakMap();\r\nconst TransitionGroupImpl = {\r\n    name: 'TransitionGroup',\r\n    props: /*#__PURE__*/ extend({}, TransitionPropsValidators, {\r\n        tag: String,\r\n        moveClass: String\r\n    }),\r\n    setup(props, { slots }) {\r\n        const instance = getCurrentInstance();\r\n        const state = useTransitionState();\r\n        let prevChildren;\r\n        let children;\r\n        onUpdated(() => {\r\n            // children is guaranteed to exist after initial render\r\n            if (!prevChildren.length) {\r\n                return;\r\n            }\r\n            const moveClass = props.moveClass || `${props.name || 'v'}-move`;\r\n            if (!hasCSSTransform(prevChildren[0].el, instance.vnode.el, moveClass)) {\r\n                return;\r\n            }\r\n            // we divide the work into three loops to avoid mixing DOM reads and writes\r\n            // in each iteration - which helps prevent layout thrashing.\r\n            prevChildren.forEach(callPendingCbs);\r\n            prevChildren.forEach(recordPosition);\r\n            const movedChildren = prevChildren.filter(applyTranslation);\r\n            // force reflow to put everything in position\r\n            forceReflow();\r\n            movedChildren.forEach(c => {\r\n                const el = c.el;\r\n                const style = el.style;\r\n                addTransitionClass(el, moveClass);\r\n                style.transform = style.webkitTransform = style.transitionDuration = '';\r\n                const cb = (el._moveCb = (e) => {\r\n                    if (e && e.target !== el) {\r\n                        return;\r\n                    }\r\n                    if (!e || /transform$/.test(e.propertyName)) {\r\n                        el.removeEventListener('transitionend', cb);\r\n                        el._moveCb = null;\r\n                        removeTransitionClass(el, moveClass);\r\n                    }\r\n                });\r\n                el.addEventListener('transitionend', cb);\r\n            });\r\n        });\r\n        return () => {\r\n            const rawProps = toRaw(props);\r\n            const cssTransitionProps = resolveTransitionProps(rawProps);\r\n            let tag = rawProps.tag || Fragment;\r\n            prevChildren = children;\r\n            children = slots.default ? getTransitionRawChildren(slots.default()) : [];\r\n            for (let i = 0; i < children.length; i++) {\r\n                const child = children[i];\r\n                if (child.key != null) {\r\n                    setTransitionHooks(child, resolveTransitionHooks(child, cssTransitionProps, state, instance));\r\n                }\r\n                else if ((process.env.NODE_ENV !== 'production')) {\r\n                    warn(`<TransitionGroup> children must be keyed.`);\r\n                }\r\n            }\r\n            if (prevChildren) {\r\n                for (let i = 0; i < prevChildren.length; i++) {\r\n                    const child = prevChildren[i];\r\n                    setTransitionHooks(child, resolveTransitionHooks(child, cssTransitionProps, state, instance));\r\n                    positionMap.set(child, child.el.getBoundingClientRect());\r\n                }\r\n            }\r\n            return createVNode(tag, null, children);\r\n        };\r\n    }\r\n};\r\nconst TransitionGroup = TransitionGroupImpl;\r\nfunction callPendingCbs(c) {\r\n    const el = c.el;\r\n    if (el._moveCb) {\r\n        el._moveCb();\r\n    }\r\n    if (el._enterCb) {\r\n        el._enterCb();\r\n    }\r\n}\r\nfunction recordPosition(c) {\r\n    newPositionMap.set(c, c.el.getBoundingClientRect());\r\n}\r\nfunction applyTranslation(c) {\r\n    const oldPos = positionMap.get(c);\r\n    const newPos = newPositionMap.get(c);\r\n    const dx = oldPos.left - newPos.left;\r\n    const dy = oldPos.top - newPos.top;\r\n    if (dx || dy) {\r\n        const s = c.el.style;\r\n        s.transform = s.webkitTransform = `translate(${dx}px,${dy}px)`;\r\n        s.transitionDuration = '0s';\r\n        return c;\r\n    }\r\n}\r\nfunction hasCSSTransform(el, root, moveClass) {\r\n    // Detect whether an element with the move class applied has\r\n    // CSS transitions. Since the element may be inside an entering\r\n    // transition at this very moment, we make a clone of it and remove\r\n    // all other transition classes applied to ensure only the move class\r\n    // is applied.\r\n    const clone = el.cloneNode();\r\n    if (el._vtc) {\r\n        el._vtc.forEach(cls => {\r\n            cls.split(/\\s+/).forEach(c => c && clone.classList.remove(c));\r\n        });\r\n    }\r\n    moveClass.split(/\\s+/).forEach(c => c && clone.classList.add(c));\r\n    clone.style.display = 'none';\r\n    const container = (root.nodeType === 1 ? root : root.parentNode);\r\n    container.appendChild(clone);\r\n    const { hasTransform } = getTransitionInfo(clone);\r\n    container.removeChild(clone);\r\n    return hasTransform;\r\n}\n\nconst getModelAssigner = (vnode) => {\r\n    const fn = vnode.props['onUpdate:modelValue'];\r\n    return isArray(fn) ? value => invokeArrayFns(fn, value) : fn;\r\n};\r\nfunction onCompositionStart(e) {\r\n    e.target.composing = true;\r\n}\r\nfunction onCompositionEnd(e) {\r\n    const target = e.target;\r\n    if (target.composing) {\r\n        target.composing = false;\r\n        trigger(target, 'input');\r\n    }\r\n}\r\nfunction trigger(el, type) {\r\n    const e = document.createEvent('HTMLEvents');\r\n    e.initEvent(type, true, true);\r\n    el.dispatchEvent(e);\r\n}\r\n// We are exporting the v-model runtime directly as vnode hooks so that it can\r\n// be tree-shaken in case v-model is never used.\r\nconst vModelText = {\r\n    created(el, { modifiers: { lazy, trim, number } }, vnode) {\r\n        el._assign = getModelAssigner(vnode);\r\n        const castToNumber = number || (vnode.props && vnode.props.type === 'number');\r\n        addEventListener(el, lazy ? 'change' : 'input', e => {\r\n            if (e.target.composing)\r\n                return;\r\n            let domValue = el.value;\r\n            if (trim) {\r\n                domValue = domValue.trim();\r\n            }\r\n            else if (castToNumber) {\r\n                domValue = toNumber(domValue);\r\n            }\r\n            el._assign(domValue);\r\n        });\r\n        if (trim) {\r\n            addEventListener(el, 'change', () => {\r\n                el.value = el.value.trim();\r\n            });\r\n        }\r\n        if (!lazy) {\r\n            addEventListener(el, 'compositionstart', onCompositionStart);\r\n            addEventListener(el, 'compositionend', onCompositionEnd);\r\n            // Safari < 10.2 & UIWebView doesn't fire compositionend when\r\n            // switching focus before confirming composition choice\r\n            // this also fixes the issue where some browsers e.g. iOS Chrome\r\n            // fires \"change\" instead of \"input\" on autocomplete.\r\n            addEventListener(el, 'change', onCompositionEnd);\r\n        }\r\n    },\r\n    // set value on mounted so it's after min/max for type=\"range\"\r\n    mounted(el, { value }) {\r\n        el.value = value == null ? '' : value;\r\n    },\r\n    beforeUpdate(el, { value, modifiers: { lazy, trim, number } }, vnode) {\r\n        el._assign = getModelAssigner(vnode);\r\n        // avoid clearing unresolved text. #2302\r\n        if (el.composing)\r\n            return;\r\n        if (document.activeElement === el) {\r\n            if (lazy) {\r\n                return;\r\n            }\r\n            if (trim && el.value.trim() === value) {\r\n                return;\r\n            }\r\n            if ((number || el.type === 'number') && toNumber(el.value) === value) {\r\n                return;\r\n            }\r\n        }\r\n        const newValue = value == null ? '' : value;\r\n        if (el.value !== newValue) {\r\n            el.value = newValue;\r\n        }\r\n    }\r\n};\r\nconst vModelCheckbox = {\r\n    // #4096 array checkboxes need to be deep traversed\r\n    deep: true,\r\n    created(el, _, vnode) {\r\n        el._assign = getModelAssigner(vnode);\r\n        addEventListener(el, 'change', () => {\r\n            const modelValue = el._modelValue;\r\n            const elementValue = getValue(el);\r\n            const checked = el.checked;\r\n            const assign = el._assign;\r\n            if (isArray(modelValue)) {\r\n                const index = looseIndexOf(modelValue, elementValue);\r\n                const found = index !== -1;\r\n                if (checked && !found) {\r\n                    assign(modelValue.concat(elementValue));\r\n                }\r\n                else if (!checked && found) {\r\n                    const filtered = [...modelValue];\r\n                    filtered.splice(index, 1);\r\n                    assign(filtered);\r\n                }\r\n            }\r\n            else if (isSet(modelValue)) {\r\n                const cloned = new Set(modelValue);\r\n                if (checked) {\r\n                    cloned.add(elementValue);\r\n                }\r\n                else {\r\n                    cloned.delete(elementValue);\r\n                }\r\n                assign(cloned);\r\n            }\r\n            else {\r\n                assign(getCheckboxValue(el, checked));\r\n            }\r\n        });\r\n    },\r\n    // set initial checked on mount to wait for true-value/false-value\r\n    mounted: setChecked,\r\n    beforeUpdate(el, binding, vnode) {\r\n        el._assign = getModelAssigner(vnode);\r\n        setChecked(el, binding, vnode);\r\n    }\r\n};\r\nfunction setChecked(el, { value, oldValue }, vnode) {\r\n    el._modelValue = value;\r\n    if (isArray(value)) {\r\n        el.checked = looseIndexOf(value, vnode.props.value) > -1;\r\n    }\r\n    else if (isSet(value)) {\r\n        el.checked = value.has(vnode.props.value);\r\n    }\r\n    else if (value !== oldValue) {\r\n        el.checked = looseEqual(value, getCheckboxValue(el, true));\r\n    }\r\n}\r\nconst vModelRadio = {\r\n    created(el, { value }, vnode) {\r\n        el.checked = looseEqual(value, vnode.props.value);\r\n        el._assign = getModelAssigner(vnode);\r\n        addEventListener(el, 'change', () => {\r\n            el._assign(getValue(el));\r\n        });\r\n    },\r\n    beforeUpdate(el, { value, oldValue }, vnode) {\r\n        el._assign = getModelAssigner(vnode);\r\n        if (value !== oldValue) {\r\n            el.checked = looseEqual(value, vnode.props.value);\r\n        }\r\n    }\r\n};\r\nconst vModelSelect = {\r\n    // <select multiple> value need to be deep traversed\r\n    deep: true,\r\n    created(el, { value, modifiers: { number } }, vnode) {\r\n        const isSetModel = isSet(value);\r\n        addEventListener(el, 'change', () => {\r\n            const selectedVal = Array.prototype.filter\r\n                .call(el.options, (o) => o.selected)\r\n                .map((o) => number ? toNumber(getValue(o)) : getValue(o));\r\n            el._assign(el.multiple\r\n                ? isSetModel\r\n                    ? new Set(selectedVal)\r\n                    : selectedVal\r\n                : selectedVal[0]);\r\n        });\r\n        el._assign = getModelAssigner(vnode);\r\n    },\r\n    // set value in mounted & updated because <select> relies on its children\r\n    // <option>s.\r\n    mounted(el, { value }) {\r\n        setSelected(el, value);\r\n    },\r\n    beforeUpdate(el, _binding, vnode) {\r\n        el._assign = getModelAssigner(vnode);\r\n    },\r\n    updated(el, { value }) {\r\n        setSelected(el, value);\r\n    }\r\n};\r\nfunction setSelected(el, value) {\r\n    const isMultiple = el.multiple;\r\n    if (isMultiple && !isArray(value) && !isSet(value)) {\r\n        (process.env.NODE_ENV !== 'production') &&\r\n            warn(`<select multiple v-model> expects an Array or Set value for its binding, ` +\r\n                `but got ${Object.prototype.toString.call(value).slice(8, -1)}.`);\r\n        return;\r\n    }\r\n    for (let i = 0, l = el.options.length; i < l; i++) {\r\n        const option = el.options[i];\r\n        const optionValue = getValue(option);\r\n        if (isMultiple) {\r\n            if (isArray(value)) {\r\n                option.selected = looseIndexOf(value, optionValue) > -1;\r\n            }\r\n            else {\r\n                option.selected = value.has(optionValue);\r\n            }\r\n        }\r\n        else {\r\n            if (looseEqual(getValue(option), value)) {\r\n                if (el.selectedIndex !== i)\r\n                    el.selectedIndex = i;\r\n                return;\r\n            }\r\n        }\r\n    }\r\n    if (!isMultiple && el.selectedIndex !== -1) {\r\n        el.selectedIndex = -1;\r\n    }\r\n}\r\n// retrieve raw value set via :value bindings\r\nfunction getValue(el) {\r\n    return '_value' in el ? el._value : el.value;\r\n}\r\n// retrieve raw value for true-value and false-value set via :true-value or :false-value bindings\r\nfunction getCheckboxValue(el, checked) {\r\n    const key = checked ? '_trueValue' : '_falseValue';\r\n    return key in el ? el[key] : checked;\r\n}\r\nconst vModelDynamic = {\r\n    created(el, binding, vnode) {\r\n        callModelHook(el, binding, vnode, null, 'created');\r\n    },\r\n    mounted(el, binding, vnode) {\r\n        callModelHook(el, binding, vnode, null, 'mounted');\r\n    },\r\n    beforeUpdate(el, binding, vnode, prevVNode) {\r\n        callModelHook(el, binding, vnode, prevVNode, 'beforeUpdate');\r\n    },\r\n    updated(el, binding, vnode, prevVNode) {\r\n        callModelHook(el, binding, vnode, prevVNode, 'updated');\r\n    }\r\n};\r\nfunction callModelHook(el, binding, vnode, prevVNode, hook) {\r\n    let modelToUse;\r\n    switch (el.tagName) {\r\n        case 'SELECT':\r\n            modelToUse = vModelSelect;\r\n            break;\r\n        case 'TEXTAREA':\r\n            modelToUse = vModelText;\r\n            break;\r\n        default:\r\n            switch (vnode.props && vnode.props.type) {\r\n                case 'checkbox':\r\n                    modelToUse = vModelCheckbox;\r\n                    break;\r\n                case 'radio':\r\n                    modelToUse = vModelRadio;\r\n                    break;\r\n                default:\r\n                    modelToUse = vModelText;\r\n            }\r\n    }\r\n    const fn = modelToUse[hook];\r\n    fn && fn(el, binding, vnode, prevVNode);\r\n}\r\n// SSR vnode transforms, only used when user includes client-oriented render\r\n// function in SSR\r\nfunction initVModelForSSR() {\r\n    vModelText.getSSRProps = ({ value }) => ({ value });\r\n    vModelRadio.getSSRProps = ({ value }, vnode) => {\r\n        if (vnode.props && looseEqual(vnode.props.value, value)) {\r\n            return { checked: true };\r\n        }\r\n    };\r\n    vModelCheckbox.getSSRProps = ({ value }, vnode) => {\r\n        if (isArray(value)) {\r\n            if (vnode.props && looseIndexOf(value, vnode.props.value) > -1) {\r\n                return { checked: true };\r\n            }\r\n        }\r\n        else if (isSet(value)) {\r\n            if (vnode.props && value.has(vnode.props.value)) {\r\n                return { checked: true };\r\n            }\r\n        }\r\n        else if (value) {\r\n            return { checked: true };\r\n        }\r\n    };\r\n}\n\nconst systemModifiers = ['ctrl', 'shift', 'alt', 'meta'];\r\nconst modifierGuards = {\r\n    stop: e => e.stopPropagation(),\r\n    prevent: e => e.preventDefault(),\r\n    self: e => e.target !== e.currentTarget,\r\n    ctrl: e => !e.ctrlKey,\r\n    shift: e => !e.shiftKey,\r\n    alt: e => !e.altKey,\r\n    meta: e => !e.metaKey,\r\n    left: e => 'button' in e && e.button !== 0,\r\n    middle: e => 'button' in e && e.button !== 1,\r\n    right: e => 'button' in e && e.button !== 2,\r\n    exact: (e, modifiers) => systemModifiers.some(m => e[`${m}Key`] && !modifiers.includes(m))\r\n};\r\n/**\r\n * @private\r\n */\r\nconst withModifiers = (fn, modifiers) => {\r\n    return (event, ...args) => {\r\n        for (let i = 0; i < modifiers.length; i++) {\r\n            const guard = modifierGuards[modifiers[i]];\r\n            if (guard && guard(event, modifiers))\r\n                return;\r\n        }\r\n        return fn(event, ...args);\r\n    };\r\n};\r\n// Kept for 2.x compat.\r\n// Note: IE11 compat for `spacebar` and `del` is removed for now.\r\nconst keyNames = {\r\n    esc: 'escape',\r\n    space: ' ',\r\n    up: 'arrow-up',\r\n    left: 'arrow-left',\r\n    right: 'arrow-right',\r\n    down: 'arrow-down',\r\n    delete: 'backspace'\r\n};\r\n/**\r\n * @private\r\n */\r\nconst withKeys = (fn, modifiers) => {\r\n    return (event) => {\r\n        if (!('key' in event)) {\r\n            return;\r\n        }\r\n        const eventKey = hyphenate(event.key);\r\n        if (modifiers.some(k => k === eventKey || keyNames[k] === eventKey)) {\r\n            return fn(event);\r\n        }\r\n    };\r\n};\n\nconst vShow = {\r\n    beforeMount(el, { value }, { transition }) {\r\n        el._vod = el.style.display === 'none' ? '' : el.style.display;\r\n        if (transition && value) {\r\n            transition.beforeEnter(el);\r\n        }\r\n        else {\r\n            setDisplay(el, value);\r\n        }\r\n    },\r\n    mounted(el, { value }, { transition }) {\r\n        if (transition && value) {\r\n            transition.enter(el);\r\n        }\r\n    },\r\n    updated(el, { value, oldValue }, { transition }) {\r\n        if (!value === !oldValue)\r\n            return;\r\n        if (transition) {\r\n            if (value) {\r\n                transition.beforeEnter(el);\r\n                setDisplay(el, true);\r\n                transition.enter(el);\r\n            }\r\n            else {\r\n                transition.leave(el, () => {\r\n                    setDisplay(el, false);\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            setDisplay(el, value);\r\n        }\r\n    },\r\n    beforeUnmount(el, { value }) {\r\n        setDisplay(el, value);\r\n    }\r\n};\r\nfunction setDisplay(el, value) {\r\n    el.style.display = value ? el._vod : 'none';\r\n}\r\n// SSR vnode transforms, only used when user includes client-oriented render\r\n// function in SSR\r\nfunction initVShowForSSR() {\r\n    vShow.getSSRProps = ({ value }) => {\r\n        if (!value) {\r\n            return { style: { display: 'none' } };\r\n        }\r\n    };\r\n}\n\nconst rendererOptions = extend({ patchProp }, nodeOps);\r\n// lazy create the renderer - this makes core renderer logic tree-shakable\r\n// in case the user only imports reactivity utilities from Vue.\r\nlet renderer;\r\nlet enabledHydration = false;\r\nfunction ensureRenderer() {\r\n    return (renderer ||\r\n        (renderer = createRenderer(rendererOptions)));\r\n}\r\nfunction ensureHydrationRenderer() {\r\n    renderer = enabledHydration\r\n        ? renderer\r\n        : createHydrationRenderer(rendererOptions);\r\n    enabledHydration = true;\r\n    return renderer;\r\n}\r\n// use explicit type casts here to avoid import() calls in rolled-up d.ts\r\nconst render = ((...args) => {\r\n    ensureRenderer().render(...args);\r\n});\r\nconst hydrate = ((...args) => {\r\n    ensureHydrationRenderer().hydrate(...args);\r\n});\r\nconst createApp = ((...args) => {\r\n    const app = ensureRenderer().createApp(...args);\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        injectNativeTagCheck(app);\r\n        injectCompilerOptionsCheck(app);\r\n    }\r\n    const { mount } = app;\r\n    app.mount = (containerOrSelector) => {\r\n        const container = normalizeContainer(containerOrSelector);\r\n        if (!container)\r\n            return;\r\n        const component = app._component;\r\n        if (!isFunction(component) && !component.render && !component.template) {\r\n            // __UNSAFE__\r\n            // Reason: potential execution of JS expressions in in-DOM template.\r\n            // The user must make sure the in-DOM template is trusted. If it's\r\n            // rendered by the server, the template should not contain any user data.\r\n            component.template = container.innerHTML;\r\n        }\r\n        // clear content before mounting\r\n        container.innerHTML = '';\r\n        const proxy = mount(container, false, container instanceof SVGElement);\r\n        if (container instanceof Element) {\r\n            container.removeAttribute('v-cloak');\r\n            container.setAttribute('data-v-app', '');\r\n        }\r\n        return proxy;\r\n    };\r\n    return app;\r\n});\r\nconst createSSRApp = ((...args) => {\r\n    const app = ensureHydrationRenderer().createApp(...args);\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        injectNativeTagCheck(app);\r\n        injectCompilerOptionsCheck(app);\r\n    }\r\n    const { mount } = app;\r\n    app.mount = (containerOrSelector) => {\r\n        const container = normalizeContainer(containerOrSelector);\r\n        if (container) {\r\n            return mount(container, true, container instanceof SVGElement);\r\n        }\r\n    };\r\n    return app;\r\n});\r\nfunction injectNativeTagCheck(app) {\r\n    // Inject `isNativeTag`\r\n    // this is used for component name validation (dev only)\r\n    Object.defineProperty(app.config, 'isNativeTag', {\r\n        value: (tag) => isHTMLTag(tag) || isSVGTag(tag),\r\n        writable: false\r\n    });\r\n}\r\n// dev only\r\nfunction injectCompilerOptionsCheck(app) {\r\n    if (isRuntimeOnly()) {\r\n        const isCustomElement = app.config.isCustomElement;\r\n        Object.defineProperty(app.config, 'isCustomElement', {\r\n            get() {\r\n                return isCustomElement;\r\n            },\r\n            set() {\r\n                warn(`The \\`isCustomElement\\` config option is deprecated. Use ` +\r\n                    `\\`compilerOptions.isCustomElement\\` instead.`);\r\n            }\r\n        });\r\n        const compilerOptions = app.config.compilerOptions;\r\n        const msg = `The \\`compilerOptions\\` config option is only respected when using ` +\r\n            `a build of Vue.js that includes the runtime compiler (aka \"full build\"). ` +\r\n            `Since you are using the runtime-only build, \\`compilerOptions\\` ` +\r\n            `must be passed to \\`@vue/compiler-dom\\` in the build setup instead.\\n` +\r\n            `- For vue-loader: pass it via vue-loader's \\`compilerOptions\\` loader option.\\n` +\r\n            `- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\\n` +\r\n            `- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-dom`;\r\n        Object.defineProperty(app.config, 'compilerOptions', {\r\n            get() {\r\n                warn(msg);\r\n                return compilerOptions;\r\n            },\r\n            set() {\r\n                warn(msg);\r\n            }\r\n        });\r\n    }\r\n}\r\nfunction normalizeContainer(container) {\r\n    if (isString(container)) {\r\n        const res = document.querySelector(container);\r\n        if ((process.env.NODE_ENV !== 'production') && !res) {\r\n            warn(`Failed to mount app: mount target selector \"${container}\" returned null.`);\r\n        }\r\n        return res;\r\n    }\r\n    if ((process.env.NODE_ENV !== 'production') &&\r\n        window.ShadowRoot &&\r\n        container instanceof window.ShadowRoot &&\r\n        container.mode === 'closed') {\r\n        warn(`mounting on a ShadowRoot with \\`{mode: \"closed\"}\\` may lead to unpredictable bugs`);\r\n    }\r\n    return container;\r\n}\r\nlet ssrDirectiveInitialized = false;\r\n/**\r\n * @internal\r\n */\r\nconst initDirectivesForSSR = () => {\r\n        if (!ssrDirectiveInitialized) {\r\n            ssrDirectiveInitialized = true;\r\n            initVModelForSSR();\r\n            initVShowForSSR();\r\n        }\r\n    }\r\n    ;\n\nexport { Transition, TransitionGroup, VueElement, createApp, createSSRApp, defineCustomElement, defineSSRCustomElement, hydrate, initDirectivesForSSR, render, useCssModule, useCssVars, vModelCheckbox, vModelDynamic, vModelRadio, vModelSelect, vModelText, vShow, withKeys, withModifiers };\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call -- required for testing\n    method.call(null, argument || function () { return 1; }, 1);\n  });\n};\n","import { logger } from '@sentry/utils';\nimport { getCurrentHub } from './hub.js';\n\n/** A class object that can instantiate Client objects. */\n\n/**\n * Internal function to create a new SDK client instance. The client is\n * installed and then bound to the current scope.\n *\n * @param clientClass The client class to instantiate.\n * @param options Options to pass to the client.\n */\nfunction initAndBind(\n  clientClass,\n  options,\n) {\n  if (options.debug === true) {\n    if ((typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__)) {\n      logger.enable();\n    } else {\n      // use `console.warn` rather than `logger.warn` since by non-debug bundles have all `logger.x` statements stripped\n      // eslint-disable-next-line no-console\n      console.warn('[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.');\n    }\n  }\n  const hub = getCurrentHub();\n  const scope = hub.getScope();\n  if (scope) {\n    scope.update(options.initialScope);\n  }\n\n  const client = new clientClass(options);\n  hub.bindClient(client);\n}\n\nexport { initAndBind };\n//# sourceMappingURL=sdk.js.map\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nvar toString = uncurryThis({}.toString);\nvar stringSlice = uncurryThis(''.slice);\n\nmodule.exports = function (it) {\n  return stringSlice(toString(it), 8, -1);\n};\n","import { isBrowserBundle } from './env.js';\n\n/**\n * NOTE: In order to avoid circular dependencies, if you add a function to this module and it needs to print something,\n * you must either a) use `console.log` rather than the logger, or b) put your function elsewhere.\n */\n\n/**\n * Checks whether we're in the Node.js or Browser environment\n *\n * @returns Answer to given question\n */\nfunction isNodeEnv() {\n  // explicitly check for browser bundles as those can be optimized statically\n  // by terser/rollup.\n  return (\n    !isBrowserBundle() &&\n    Object.prototype.toString.call(typeof process !== 'undefined' ? process : 0) === '[object process]'\n  );\n}\n\n/**\n * Requires a module which is protected against bundler minification.\n *\n * @param request The module path to resolve\n */\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types, @typescript-eslint/no-explicit-any\nfunction dynamicRequire(mod, request) {\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n  return mod.require(request);\n}\n\n/**\n * Helper for dynamically loading module that should work with linked dependencies.\n * The problem is that we _should_ be using `require(require.resolve(moduleName, { paths: [cwd()] }))`\n * However it's _not possible_ to do that with Webpack, as it has to know all the dependencies during\n * build time. `require.resolve` is also not available in any other way, so we cannot create,\n * a fake helper like we do with `dynamicRequire`.\n *\n * We always prefer to use local package, thus the value is not returned early from each `try/catch` block.\n * That is to mimic the behavior of `require.resolve` exactly.\n *\n * @param moduleName module name to require\n * @returns possibly required module\n */\nfunction loadModule(moduleName) {\n  let mod;\n\n  try {\n    mod = dynamicRequire(module, moduleName);\n  } catch (e) {\n    // no-empty\n  }\n\n  try {\n    const { cwd } = dynamicRequire(module, 'process');\n    mod = dynamicRequire(module, `${cwd()}/node_modules/${moduleName}`) ;\n  } catch (e) {\n    // no-empty\n  }\n\n  return mod;\n}\n\nexport { dynamicRequire, isNodeEnv, loadModule };\n//# sourceMappingURL=node.js.map\n","var isCallable = require('../internals/is-callable');\n\nmodule.exports = function (it) {\n  return typeof it == 'object' ? it !== null : isCallable(it);\n};\n","/**\r\n * Make a map and return a function for checking if a key\r\n * is in that map.\r\n * IMPORTANT: all calls of this function must be prefixed with\r\n * \\/\\*#\\_\\_PURE\\_\\_\\*\\/\r\n * So that rollup can tree-shake them if necessary.\r\n */\r\nfunction makeMap(str, expectsLowerCase) {\r\n    const map = Object.create(null);\r\n    const list = str.split(',');\r\n    for (let i = 0; i < list.length; i++) {\r\n        map[list[i]] = true;\r\n    }\r\n    return expectsLowerCase ? val => !!map[val.toLowerCase()] : val => !!map[val];\r\n}\n\n/**\r\n * dev only flag -> name mapping\r\n */\r\nconst PatchFlagNames = {\r\n    [1 /* TEXT */]: `TEXT`,\r\n    [2 /* CLASS */]: `CLASS`,\r\n    [4 /* STYLE */]: `STYLE`,\r\n    [8 /* PROPS */]: `PROPS`,\r\n    [16 /* FULL_PROPS */]: `FULL_PROPS`,\r\n    [32 /* HYDRATE_EVENTS */]: `HYDRATE_EVENTS`,\r\n    [64 /* STABLE_FRAGMENT */]: `STABLE_FRAGMENT`,\r\n    [128 /* KEYED_FRAGMENT */]: `KEYED_FRAGMENT`,\r\n    [256 /* UNKEYED_FRAGMENT */]: `UNKEYED_FRAGMENT`,\r\n    [512 /* NEED_PATCH */]: `NEED_PATCH`,\r\n    [1024 /* DYNAMIC_SLOTS */]: `DYNAMIC_SLOTS`,\r\n    [2048 /* DEV_ROOT_FRAGMENT */]: `DEV_ROOT_FRAGMENT`,\r\n    [-1 /* HOISTED */]: `HOISTED`,\r\n    [-2 /* BAIL */]: `BAIL`\r\n};\n\n/**\r\n * Dev only\r\n */\r\nconst slotFlagsText = {\r\n    [1 /* STABLE */]: 'STABLE',\r\n    [2 /* DYNAMIC */]: 'DYNAMIC',\r\n    [3 /* FORWARDED */]: 'FORWARDED'\r\n};\n\nconst GLOBALS_WHITE_LISTED = 'Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,' +\r\n    'decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,' +\r\n    'Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt';\r\nconst isGloballyWhitelisted = /*#__PURE__*/ makeMap(GLOBALS_WHITE_LISTED);\n\nconst range = 2;\r\nfunction generateCodeFrame(source, start = 0, end = source.length) {\r\n    // Split the content into individual lines but capture the newline sequence\r\n    // that separated each line. This is important because the actual sequence is\r\n    // needed to properly take into account the full line length for offset\r\n    // comparison\r\n    let lines = source.split(/(\\r?\\n)/);\r\n    // Separate the lines and newline sequences into separate arrays for easier referencing\r\n    const newlineSequences = lines.filter((_, idx) => idx % 2 === 1);\r\n    lines = lines.filter((_, idx) => idx % 2 === 0);\r\n    let count = 0;\r\n    const res = [];\r\n    for (let i = 0; i < lines.length; i++) {\r\n        count +=\r\n            lines[i].length +\r\n                ((newlineSequences[i] && newlineSequences[i].length) || 0);\r\n        if (count >= start) {\r\n            for (let j = i - range; j <= i + range || end > count; j++) {\r\n                if (j < 0 || j >= lines.length)\r\n                    continue;\r\n                const line = j + 1;\r\n                res.push(`${line}${' '.repeat(Math.max(3 - String(line).length, 0))}|  ${lines[j]}`);\r\n                const lineLength = lines[j].length;\r\n                const newLineSeqLength = (newlineSequences[j] && newlineSequences[j].length) || 0;\r\n                if (j === i) {\r\n                    // push underline\r\n                    const pad = start - (count - (lineLength + newLineSeqLength));\r\n                    const length = Math.max(1, end > count ? lineLength - pad : end - start);\r\n                    res.push(`   |  ` + ' '.repeat(pad) + '^'.repeat(length));\r\n                }\r\n                else if (j > i) {\r\n                    if (end > count) {\r\n                        const length = Math.max(Math.min(end - count, lineLength), 1);\r\n                        res.push(`   |  ` + '^'.repeat(length));\r\n                    }\r\n                    count += lineLength + newLineSeqLength;\r\n                }\r\n            }\r\n            break;\r\n        }\r\n    }\r\n    return res.join('\\n');\r\n}\n\n/**\r\n * On the client we only need to offer special cases for boolean attributes that\r\n * have different names from their corresponding dom properties:\r\n * - itemscope -> N/A\r\n * - allowfullscreen -> allowFullscreen\r\n * - formnovalidate -> formNoValidate\r\n * - ismap -> isMap\r\n * - nomodule -> noModule\r\n * - novalidate -> noValidate\r\n * - readonly -> readOnly\r\n */\r\nconst specialBooleanAttrs = `itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly`;\r\nconst isSpecialBooleanAttr = /*#__PURE__*/ makeMap(specialBooleanAttrs);\r\n/**\r\n * The full list is needed during SSR to produce the correct initial markup.\r\n */\r\nconst isBooleanAttr = /*#__PURE__*/ makeMap(specialBooleanAttrs +\r\n    `,async,autofocus,autoplay,controls,default,defer,disabled,hidden,` +\r\n    `loop,open,required,reversed,scoped,seamless,` +\r\n    `checked,muted,multiple,selected`);\r\n/**\r\n * Boolean attributes should be included if the value is truthy or ''.\r\n * e.g. `<select multiple>` compiles to `{ multiple: '' }`\r\n */\r\nfunction includeBooleanAttr(value) {\r\n    return !!value || value === '';\r\n}\r\nconst unsafeAttrCharRE = /[>/=\"'\\u0009\\u000a\\u000c\\u0020]/;\r\nconst attrValidationCache = {};\r\nfunction isSSRSafeAttrName(name) {\r\n    if (attrValidationCache.hasOwnProperty(name)) {\r\n        return attrValidationCache[name];\r\n    }\r\n    const isUnsafe = unsafeAttrCharRE.test(name);\r\n    if (isUnsafe) {\r\n        console.error(`unsafe attribute name: ${name}`);\r\n    }\r\n    return (attrValidationCache[name] = !isUnsafe);\r\n}\r\nconst propsToAttrMap = {\r\n    acceptCharset: 'accept-charset',\r\n    className: 'class',\r\n    htmlFor: 'for',\r\n    httpEquiv: 'http-equiv'\r\n};\r\n/**\r\n * CSS properties that accept plain numbers\r\n */\r\nconst isNoUnitNumericStyleProp = /*#__PURE__*/ makeMap(`animation-iteration-count,border-image-outset,border-image-slice,` +\r\n    `border-image-width,box-flex,box-flex-group,box-ordinal-group,column-count,` +\r\n    `columns,flex,flex-grow,flex-positive,flex-shrink,flex-negative,flex-order,` +\r\n    `grid-row,grid-row-end,grid-row-span,grid-row-start,grid-column,` +\r\n    `grid-column-end,grid-column-span,grid-column-start,font-weight,line-clamp,` +\r\n    `line-height,opacity,order,orphans,tab-size,widows,z-index,zoom,` +\r\n    // SVG\r\n    `fill-opacity,flood-opacity,stop-opacity,stroke-dasharray,stroke-dashoffset,` +\r\n    `stroke-miterlimit,stroke-opacity,stroke-width`);\r\n/**\r\n * Known attributes, this is used for stringification of runtime static nodes\r\n * so that we don't stringify bindings that cannot be set from HTML.\r\n * Don't also forget to allow `data-*` and `aria-*`!\r\n * Generated from https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes\r\n */\r\nconst isKnownHtmlAttr = /*#__PURE__*/ makeMap(`accept,accept-charset,accesskey,action,align,allow,alt,async,` +\r\n    `autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,` +\r\n    `border,buffered,capture,challenge,charset,checked,cite,class,code,` +\r\n    `codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,` +\r\n    `coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,` +\r\n    `disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,` +\r\n    `formaction,formenctype,formmethod,formnovalidate,formtarget,headers,` +\r\n    `height,hidden,high,href,hreflang,http-equiv,icon,id,importance,integrity,` +\r\n    `ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,` +\r\n    `manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,` +\r\n    `open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,` +\r\n    `referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,` +\r\n    `selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,` +\r\n    `start,step,style,summary,tabindex,target,title,translate,type,usemap,` +\r\n    `value,width,wrap`);\r\n/**\r\n * Generated from https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute\r\n */\r\nconst isKnownSvgAttr = /*#__PURE__*/ makeMap(`xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,` +\r\n    `arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,` +\r\n    `baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,` +\r\n    `clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,` +\r\n    `color-interpolation-filters,color-profile,color-rendering,` +\r\n    `contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,` +\r\n    `descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,` +\r\n    `dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,` +\r\n    `fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,` +\r\n    `font-family,font-size,font-size-adjust,font-stretch,font-style,` +\r\n    `font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,` +\r\n    `glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,` +\r\n    `gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,` +\r\n    `horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,` +\r\n    `k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,` +\r\n    `lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,` +\r\n    `marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,` +\r\n    `mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,` +\r\n    `name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,` +\r\n    `overflow,overline-position,overline-thickness,panose-1,paint-order,path,` +\r\n    `pathLength,patternContentUnits,patternTransform,patternUnits,ping,` +\r\n    `pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,` +\r\n    `preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,` +\r\n    `rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,` +\r\n    `restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,` +\r\n    `specularConstant,specularExponent,speed,spreadMethod,startOffset,` +\r\n    `stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,` +\r\n    `strikethrough-position,strikethrough-thickness,string,stroke,` +\r\n    `stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,` +\r\n    `stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,` +\r\n    `systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,` +\r\n    `text-decoration,text-rendering,textLength,to,transform,transform-origin,` +\r\n    `type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,` +\r\n    `unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,` +\r\n    `v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,` +\r\n    `vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,` +\r\n    `writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,` +\r\n    `xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,` +\r\n    `xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan`);\n\nfunction normalizeStyle(value) {\r\n    if (isArray(value)) {\r\n        const res = {};\r\n        for (let i = 0; i < value.length; i++) {\r\n            const item = value[i];\r\n            const normalized = isString(item)\r\n                ? parseStringStyle(item)\r\n                : normalizeStyle(item);\r\n            if (normalized) {\r\n                for (const key in normalized) {\r\n                    res[key] = normalized[key];\r\n                }\r\n            }\r\n        }\r\n        return res;\r\n    }\r\n    else if (isString(value)) {\r\n        return value;\r\n    }\r\n    else if (isObject(value)) {\r\n        return value;\r\n    }\r\n}\r\nconst listDelimiterRE = /;(?![^(]*\\))/g;\r\nconst propertyDelimiterRE = /:(.+)/;\r\nfunction parseStringStyle(cssText) {\r\n    const ret = {};\r\n    cssText.split(listDelimiterRE).forEach(item => {\r\n        if (item) {\r\n            const tmp = item.split(propertyDelimiterRE);\r\n            tmp.length > 1 && (ret[tmp[0].trim()] = tmp[1].trim());\r\n        }\r\n    });\r\n    return ret;\r\n}\r\nfunction stringifyStyle(styles) {\r\n    let ret = '';\r\n    if (!styles || isString(styles)) {\r\n        return ret;\r\n    }\r\n    for (const key in styles) {\r\n        const value = styles[key];\r\n        const normalizedKey = key.startsWith(`--`) ? key : hyphenate(key);\r\n        if (isString(value) ||\r\n            (typeof value === 'number' && isNoUnitNumericStyleProp(normalizedKey))) {\r\n            // only render valid values\r\n            ret += `${normalizedKey}:${value};`;\r\n        }\r\n    }\r\n    return ret;\r\n}\r\nfunction normalizeClass(value) {\r\n    let res = '';\r\n    if (isString(value)) {\r\n        res = value;\r\n    }\r\n    else if (isArray(value)) {\r\n        for (let i = 0; i < value.length; i++) {\r\n            const normalized = normalizeClass(value[i]);\r\n            if (normalized) {\r\n                res += normalized + ' ';\r\n            }\r\n        }\r\n    }\r\n    else if (isObject(value)) {\r\n        for (const name in value) {\r\n            if (value[name]) {\r\n                res += name + ' ';\r\n            }\r\n        }\r\n    }\r\n    return res.trim();\r\n}\r\nfunction normalizeProps(props) {\r\n    if (!props)\r\n        return null;\r\n    let { class: klass, style } = props;\r\n    if (klass && !isString(klass)) {\r\n        props.class = normalizeClass(klass);\r\n    }\r\n    if (style) {\r\n        props.style = normalizeStyle(style);\r\n    }\r\n    return props;\r\n}\n\n// These tag configs are shared between compiler-dom and runtime-dom, so they\r\n// https://developer.mozilla.org/en-US/docs/Web/HTML/Element\r\nconst HTML_TAGS = 'html,body,base,head,link,meta,style,title,address,article,aside,footer,' +\r\n    'header,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,' +\r\n    'figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,' +\r\n    'data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,' +\r\n    'time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,' +\r\n    'canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,' +\r\n    'th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,' +\r\n    'option,output,progress,select,textarea,details,dialog,menu,' +\r\n    'summary,template,blockquote,iframe,tfoot';\r\n// https://developer.mozilla.org/en-US/docs/Web/SVG/Element\r\nconst SVG_TAGS = 'svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,' +\r\n    'defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,' +\r\n    'feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,' +\r\n    'feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,' +\r\n    'feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,' +\r\n    'fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,' +\r\n    'foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,' +\r\n    'mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,' +\r\n    'polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,' +\r\n    'text,textPath,title,tspan,unknown,use,view';\r\nconst VOID_TAGS = 'area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr';\r\nconst isHTMLTag = /*#__PURE__*/ makeMap(HTML_TAGS);\r\nconst isSVGTag = /*#__PURE__*/ makeMap(SVG_TAGS);\r\nconst isVoidTag = /*#__PURE__*/ makeMap(VOID_TAGS);\n\nconst escapeRE = /[\"'&<>]/;\r\nfunction escapeHtml(string) {\r\n    const str = '' + string;\r\n    const match = escapeRE.exec(str);\r\n    if (!match) {\r\n        return str;\r\n    }\r\n    let html = '';\r\n    let escaped;\r\n    let index;\r\n    let lastIndex = 0;\r\n    for (index = match.index; index < str.length; index++) {\r\n        switch (str.charCodeAt(index)) {\r\n            case 34: // \"\r\n                escaped = '&quot;';\r\n                break;\r\n            case 38: // &\r\n                escaped = '&amp;';\r\n                break;\r\n            case 39: // '\r\n                escaped = '&#39;';\r\n                break;\r\n            case 60: // <\r\n                escaped = '&lt;';\r\n                break;\r\n            case 62: // >\r\n                escaped = '&gt;';\r\n                break;\r\n            default:\r\n                continue;\r\n        }\r\n        if (lastIndex !== index) {\r\n            html += str.slice(lastIndex, index);\r\n        }\r\n        lastIndex = index + 1;\r\n        html += escaped;\r\n    }\r\n    return lastIndex !== index ? html + str.slice(lastIndex, index) : html;\r\n}\r\n// https://www.w3.org/TR/html52/syntax.html#comments\r\nconst commentStripRE = /^-?>|<!--|-->|--!>|<!-$/g;\r\nfunction escapeHtmlComment(src) {\r\n    return src.replace(commentStripRE, '');\r\n}\n\nfunction looseCompareArrays(a, b) {\r\n    if (a.length !== b.length)\r\n        return false;\r\n    let equal = true;\r\n    for (let i = 0; equal && i < a.length; i++) {\r\n        equal = looseEqual(a[i], b[i]);\r\n    }\r\n    return equal;\r\n}\r\nfunction looseEqual(a, b) {\r\n    if (a === b)\r\n        return true;\r\n    let aValidType = isDate(a);\r\n    let bValidType = isDate(b);\r\n    if (aValidType || bValidType) {\r\n        return aValidType && bValidType ? a.getTime() === b.getTime() : false;\r\n    }\r\n    aValidType = isArray(a);\r\n    bValidType = isArray(b);\r\n    if (aValidType || bValidType) {\r\n        return aValidType && bValidType ? looseCompareArrays(a, b) : false;\r\n    }\r\n    aValidType = isObject(a);\r\n    bValidType = isObject(b);\r\n    if (aValidType || bValidType) {\r\n        /* istanbul ignore if: this if will probably never be called */\r\n        if (!aValidType || !bValidType) {\r\n            return false;\r\n        }\r\n        const aKeysCount = Object.keys(a).length;\r\n        const bKeysCount = Object.keys(b).length;\r\n        if (aKeysCount !== bKeysCount) {\r\n            return false;\r\n        }\r\n        for (const key in a) {\r\n            const aHasKey = a.hasOwnProperty(key);\r\n            const bHasKey = b.hasOwnProperty(key);\r\n            if ((aHasKey && !bHasKey) ||\r\n                (!aHasKey && bHasKey) ||\r\n                !looseEqual(a[key], b[key])) {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n    return String(a) === String(b);\r\n}\r\nfunction looseIndexOf(arr, val) {\r\n    return arr.findIndex(item => looseEqual(item, val));\r\n}\n\n/**\r\n * For converting {{ interpolation }} values to displayed strings.\r\n * @private\r\n */\r\nconst toDisplayString = (val) => {\r\n    return val == null\r\n        ? ''\r\n        : isArray(val) ||\r\n            (isObject(val) &&\r\n                (val.toString === objectToString || !isFunction(val.toString)))\r\n            ? JSON.stringify(val, replacer, 2)\r\n            : String(val);\r\n};\r\nconst replacer = (_key, val) => {\r\n    // can't use isRef here since @vue/shared has no deps\r\n    if (val && val.__v_isRef) {\r\n        return replacer(_key, val.value);\r\n    }\r\n    else if (isMap(val)) {\r\n        return {\r\n            [`Map(${val.size})`]: [...val.entries()].reduce((entries, [key, val]) => {\r\n                entries[`${key} =>`] = val;\r\n                return entries;\r\n            }, {})\r\n        };\r\n    }\r\n    else if (isSet(val)) {\r\n        return {\r\n            [`Set(${val.size})`]: [...val.values()]\r\n        };\r\n    }\r\n    else if (isObject(val) && !isArray(val) && !isPlainObject(val)) {\r\n        return String(val);\r\n    }\r\n    return val;\r\n};\n\nconst EMPTY_OBJ = (process.env.NODE_ENV !== 'production')\r\n    ? Object.freeze({})\r\n    : {};\r\nconst EMPTY_ARR = (process.env.NODE_ENV !== 'production') ? Object.freeze([]) : [];\r\nconst NOOP = () => { };\r\n/**\r\n * Always return false.\r\n */\r\nconst NO = () => false;\r\nconst onRE = /^on[^a-z]/;\r\nconst isOn = (key) => onRE.test(key);\r\nconst isModelListener = (key) => key.startsWith('onUpdate:');\r\nconst extend = Object.assign;\r\nconst remove = (arr, el) => {\r\n    const i = arr.indexOf(el);\r\n    if (i > -1) {\r\n        arr.splice(i, 1);\r\n    }\r\n};\r\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\r\nconst hasOwn = (val, key) => hasOwnProperty.call(val, key);\r\nconst isArray = Array.isArray;\r\nconst isMap = (val) => toTypeString(val) === '[object Map]';\r\nconst isSet = (val) => toTypeString(val) === '[object Set]';\r\nconst isDate = (val) => val instanceof Date;\r\nconst isFunction = (val) => typeof val === 'function';\r\nconst isString = (val) => typeof val === 'string';\r\nconst isSymbol = (val) => typeof val === 'symbol';\r\nconst isObject = (val) => val !== null && typeof val === 'object';\r\nconst isPromise = (val) => {\r\n    return isObject(val) && isFunction(val.then) && isFunction(val.catch);\r\n};\r\nconst objectToString = Object.prototype.toString;\r\nconst toTypeString = (value) => objectToString.call(value);\r\nconst toRawType = (value) => {\r\n    // extract \"RawType\" from strings like \"[object RawType]\"\r\n    return toTypeString(value).slice(8, -1);\r\n};\r\nconst isPlainObject = (val) => toTypeString(val) === '[object Object]';\r\nconst isIntegerKey = (key) => isString(key) &&\r\n    key !== 'NaN' &&\r\n    key[0] !== '-' &&\r\n    '' + parseInt(key, 10) === key;\r\nconst isReservedProp = /*#__PURE__*/ makeMap(\r\n// the leading comma is intentional so empty string \"\" is also included\r\n',key,ref,ref_for,ref_key,' +\r\n    'onVnodeBeforeMount,onVnodeMounted,' +\r\n    'onVnodeBeforeUpdate,onVnodeUpdated,' +\r\n    'onVnodeBeforeUnmount,onVnodeUnmounted');\r\nconst cacheStringFunction = (fn) => {\r\n    const cache = Object.create(null);\r\n    return ((str) => {\r\n        const hit = cache[str];\r\n        return hit || (cache[str] = fn(str));\r\n    });\r\n};\r\nconst camelizeRE = /-(\\w)/g;\r\n/**\r\n * @private\r\n */\r\nconst camelize = cacheStringFunction((str) => {\r\n    return str.replace(camelizeRE, (_, c) => (c ? c.toUpperCase() : ''));\r\n});\r\nconst hyphenateRE = /\\B([A-Z])/g;\r\n/**\r\n * @private\r\n */\r\nconst hyphenate = cacheStringFunction((str) => str.replace(hyphenateRE, '-$1').toLowerCase());\r\n/**\r\n * @private\r\n */\r\nconst capitalize = cacheStringFunction((str) => str.charAt(0).toUpperCase() + str.slice(1));\r\n/**\r\n * @private\r\n */\r\nconst toHandlerKey = cacheStringFunction((str) => str ? `on${capitalize(str)}` : ``);\r\n// compare whether a value has changed, accounting for NaN.\r\nconst hasChanged = (value, oldValue) => !Object.is(value, oldValue);\r\nconst invokeArrayFns = (fns, arg) => {\r\n    for (let i = 0; i < fns.length; i++) {\r\n        fns[i](arg);\r\n    }\r\n};\r\nconst def = (obj, key, value) => {\r\n    Object.defineProperty(obj, key, {\r\n        configurable: true,\r\n        enumerable: false,\r\n        value\r\n    });\r\n};\r\nconst toNumber = (val) => {\r\n    const n = parseFloat(val);\r\n    return isNaN(n) ? val : n;\r\n};\r\nlet _globalThis;\r\nconst getGlobalThis = () => {\r\n    return (_globalThis ||\r\n        (_globalThis =\r\n            typeof globalThis !== 'undefined'\r\n                ? globalThis\r\n                : typeof self !== 'undefined'\r\n                    ? self\r\n                    : typeof window !== 'undefined'\r\n                        ? window\r\n                        : typeof global !== 'undefined'\r\n                            ? global\r\n                            : {}));\r\n};\n\nexport { EMPTY_ARR, EMPTY_OBJ, NO, NOOP, PatchFlagNames, camelize, capitalize, def, escapeHtml, escapeHtmlComment, extend, generateCodeFrame, getGlobalThis, hasChanged, hasOwn, hyphenate, includeBooleanAttr, invokeArrayFns, isArray, isBooleanAttr, isDate, isFunction, isGloballyWhitelisted, isHTMLTag, isIntegerKey, isKnownHtmlAttr, isKnownSvgAttr, isMap, isModelListener, isNoUnitNumericStyleProp, isObject, isOn, isPlainObject, isPromise, isReservedProp, isSSRSafeAttrName, isSVGTag, isSet, isSpecialBooleanAttr, isString, isSymbol, isVoidTag, looseEqual, looseIndexOf, makeMap, normalizeClass, normalizeProps, normalizeStyle, objectToString, parseStringStyle, propsToAttrMap, remove, slotFlagsText, stringifyStyle, toDisplayString, toHandlerKey, toNumber, toRawType, toTypeString };\n","var toLength = require('../internals/to-length');\n\n// `LengthOfArrayLike` abstract operation\n// https://tc39.es/ecma262/#sec-lengthofarraylike\nmodule.exports = function (obj) {\n  return toLength(obj.length);\n};\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar isCallable = require('../internals/is-callable');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar $Object = Object;\n\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = $Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && isCallable(O.callee) ? 'Arguments' : result;\n};\n","var isObject = require('../internals/is-object');\n\nvar $String = String;\nvar $TypeError = TypeError;\n\n// `Assert: Type(argument) is Object`\nmodule.exports = function (argument) {\n  if (isObject(argument)) return argument;\n  throw $TypeError($String(argument) + ' is not an object');\n};\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.23.3',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: ' 2014-2022 Denis Pushkarev (zloirock.ru)',\n  license: 'https://github.com/zloirock/core-js/blob/v3.23.3/LICENSE',\n  source: 'https://github.com/zloirock/core-js'\n});\n","import { throwServerError } from \"../utils/index.js\";\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nexport function parseAndCheckHttpResponse(operations) {\n    return function (response) { return response\n        .text()\n        .then(function (bodyText) {\n        try {\n            return JSON.parse(bodyText);\n        }\n        catch (err) {\n            var parseError = err;\n            parseError.name = 'ServerParseError';\n            parseError.response = response;\n            parseError.statusCode = response.status;\n            parseError.bodyText = bodyText;\n            throw parseError;\n        }\n    })\n        .then(function (result) {\n        if (response.status >= 300) {\n            throwServerError(response, result, \"Response not successful: Received status code \".concat(response.status));\n        }\n        if (!Array.isArray(result) &&\n            !hasOwnProperty.call(result, 'data') &&\n            !hasOwnProperty.call(result, 'errors')) {\n            throwServerError(response, result, \"Server response was missing for query '\".concat(Array.isArray(operations)\n                ? operations.map(function (op) { return op.operationName; })\n                : operations.operationName, \"'.\"));\n        }\n        return result;\n    }); };\n}\n//# sourceMappingURL=parseAndCheckHttpResponse.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Observable = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// === Symbol Support ===\nvar hasSymbols = function () {\n  return typeof Symbol === 'function';\n};\n\nvar hasSymbol = function (name) {\n  return hasSymbols() && Boolean(Symbol[name]);\n};\n\nvar getSymbol = function (name) {\n  return hasSymbol(name) ? Symbol[name] : '@@' + name;\n};\n\nif (hasSymbols() && !hasSymbol('observable')) {\n  Symbol.observable = Symbol('observable');\n}\n\nvar SymbolIterator = getSymbol('iterator');\nvar SymbolObservable = getSymbol('observable');\nvar SymbolSpecies = getSymbol('species'); // === Abstract Operations ===\n\nfunction getMethod(obj, key) {\n  var value = obj[key];\n  if (value == null) return undefined;\n  if (typeof value !== 'function') throw new TypeError(value + ' is not a function');\n  return value;\n}\n\nfunction getSpecies(obj) {\n  var ctor = obj.constructor;\n\n  if (ctor !== undefined) {\n    ctor = ctor[SymbolSpecies];\n\n    if (ctor === null) {\n      ctor = undefined;\n    }\n  }\n\n  return ctor !== undefined ? ctor : Observable;\n}\n\nfunction isObservable(x) {\n  return x instanceof Observable; // SPEC: Brand check\n}\n\nfunction hostReportError(e) {\n  if (hostReportError.log) {\n    hostReportError.log(e);\n  } else {\n    setTimeout(function () {\n      throw e;\n    });\n  }\n}\n\nfunction enqueue(fn) {\n  Promise.resolve().then(function () {\n    try {\n      fn();\n    } catch (e) {\n      hostReportError(e);\n    }\n  });\n}\n\nfunction cleanupSubscription(subscription) {\n  var cleanup = subscription._cleanup;\n  if (cleanup === undefined) return;\n  subscription._cleanup = undefined;\n\n  if (!cleanup) {\n    return;\n  }\n\n  try {\n    if (typeof cleanup === 'function') {\n      cleanup();\n    } else {\n      var unsubscribe = getMethod(cleanup, 'unsubscribe');\n\n      if (unsubscribe) {\n        unsubscribe.call(cleanup);\n      }\n    }\n  } catch (e) {\n    hostReportError(e);\n  }\n}\n\nfunction closeSubscription(subscription) {\n  subscription._observer = undefined;\n  subscription._queue = undefined;\n  subscription._state = 'closed';\n}\n\nfunction flushSubscription(subscription) {\n  var queue = subscription._queue;\n\n  if (!queue) {\n    return;\n  }\n\n  subscription._queue = undefined;\n  subscription._state = 'ready';\n\n  for (var i = 0; i < queue.length; ++i) {\n    notifySubscription(subscription, queue[i].type, queue[i].value);\n    if (subscription._state === 'closed') break;\n  }\n}\n\nfunction notifySubscription(subscription, type, value) {\n  subscription._state = 'running';\n  var observer = subscription._observer;\n\n  try {\n    var m = getMethod(observer, type);\n\n    switch (type) {\n      case 'next':\n        if (m) m.call(observer, value);\n        break;\n\n      case 'error':\n        closeSubscription(subscription);\n        if (m) m.call(observer, value);else throw value;\n        break;\n\n      case 'complete':\n        closeSubscription(subscription);\n        if (m) m.call(observer);\n        break;\n    }\n  } catch (e) {\n    hostReportError(e);\n  }\n\n  if (subscription._state === 'closed') cleanupSubscription(subscription);else if (subscription._state === 'running') subscription._state = 'ready';\n}\n\nfunction onNotify(subscription, type, value) {\n  if (subscription._state === 'closed') return;\n\n  if (subscription._state === 'buffering') {\n    subscription._queue.push({\n      type: type,\n      value: value\n    });\n\n    return;\n  }\n\n  if (subscription._state !== 'ready') {\n    subscription._state = 'buffering';\n    subscription._queue = [{\n      type: type,\n      value: value\n    }];\n    enqueue(function () {\n      return flushSubscription(subscription);\n    });\n    return;\n  }\n\n  notifySubscription(subscription, type, value);\n}\n\nvar Subscription =\n/*#__PURE__*/\nfunction () {\n  function Subscription(observer, subscriber) {\n    _classCallCheck(this, Subscription);\n\n    // ASSERT: observer is an object\n    // ASSERT: subscriber is callable\n    this._cleanup = undefined;\n    this._observer = observer;\n    this._queue = undefined;\n    this._state = 'initializing';\n    var subscriptionObserver = new SubscriptionObserver(this);\n\n    try {\n      this._cleanup = subscriber.call(undefined, subscriptionObserver);\n    } catch (e) {\n      subscriptionObserver.error(e);\n    }\n\n    if (this._state === 'initializing') this._state = 'ready';\n  }\n\n  _createClass(Subscription, [{\n    key: \"unsubscribe\",\n    value: function unsubscribe() {\n      if (this._state !== 'closed') {\n        closeSubscription(this);\n        cleanupSubscription(this);\n      }\n    }\n  }, {\n    key: \"closed\",\n    get: function () {\n      return this._state === 'closed';\n    }\n  }]);\n\n  return Subscription;\n}();\n\nvar SubscriptionObserver =\n/*#__PURE__*/\nfunction () {\n  function SubscriptionObserver(subscription) {\n    _classCallCheck(this, SubscriptionObserver);\n\n    this._subscription = subscription;\n  }\n\n  _createClass(SubscriptionObserver, [{\n    key: \"next\",\n    value: function next(value) {\n      onNotify(this._subscription, 'next', value);\n    }\n  }, {\n    key: \"error\",\n    value: function error(value) {\n      onNotify(this._subscription, 'error', value);\n    }\n  }, {\n    key: \"complete\",\n    value: function complete() {\n      onNotify(this._subscription, 'complete');\n    }\n  }, {\n    key: \"closed\",\n    get: function () {\n      return this._subscription._state === 'closed';\n    }\n  }]);\n\n  return SubscriptionObserver;\n}();\n\nvar Observable =\n/*#__PURE__*/\nfunction () {\n  function Observable(subscriber) {\n    _classCallCheck(this, Observable);\n\n    if (!(this instanceof Observable)) throw new TypeError('Observable cannot be called as a function');\n    if (typeof subscriber !== 'function') throw new TypeError('Observable initializer must be a function');\n    this._subscriber = subscriber;\n  }\n\n  _createClass(Observable, [{\n    key: \"subscribe\",\n    value: function subscribe(observer) {\n      if (typeof observer !== 'object' || observer === null) {\n        observer = {\n          next: observer,\n          error: arguments[1],\n          complete: arguments[2]\n        };\n      }\n\n      return new Subscription(observer, this._subscriber);\n    }\n  }, {\n    key: \"forEach\",\n    value: function forEach(fn) {\n      var _this = this;\n\n      return new Promise(function (resolve, reject) {\n        if (typeof fn !== 'function') {\n          reject(new TypeError(fn + ' is not a function'));\n          return;\n        }\n\n        function done() {\n          subscription.unsubscribe();\n          resolve();\n        }\n\n        var subscription = _this.subscribe({\n          next: function (value) {\n            try {\n              fn(value, done);\n            } catch (e) {\n              reject(e);\n              subscription.unsubscribe();\n            }\n          },\n          error: reject,\n          complete: resolve\n        });\n      });\n    }\n  }, {\n    key: \"map\",\n    value: function map(fn) {\n      var _this2 = this;\n\n      if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n      var C = getSpecies(this);\n      return new C(function (observer) {\n        return _this2.subscribe({\n          next: function (value) {\n            try {\n              value = fn(value);\n            } catch (e) {\n              return observer.error(e);\n            }\n\n            observer.next(value);\n          },\n          error: function (e) {\n            observer.error(e);\n          },\n          complete: function () {\n            observer.complete();\n          }\n        });\n      });\n    }\n  }, {\n    key: \"filter\",\n    value: function filter(fn) {\n      var _this3 = this;\n\n      if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n      var C = getSpecies(this);\n      return new C(function (observer) {\n        return _this3.subscribe({\n          next: function (value) {\n            try {\n              if (!fn(value)) return;\n            } catch (e) {\n              return observer.error(e);\n            }\n\n            observer.next(value);\n          },\n          error: function (e) {\n            observer.error(e);\n          },\n          complete: function () {\n            observer.complete();\n          }\n        });\n      });\n    }\n  }, {\n    key: \"reduce\",\n    value: function reduce(fn) {\n      var _this4 = this;\n\n      if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n      var C = getSpecies(this);\n      var hasSeed = arguments.length > 1;\n      var hasValue = false;\n      var seed = arguments[1];\n      var acc = seed;\n      return new C(function (observer) {\n        return _this4.subscribe({\n          next: function (value) {\n            var first = !hasValue;\n            hasValue = true;\n\n            if (!first || hasSeed) {\n              try {\n                acc = fn(acc, value);\n              } catch (e) {\n                return observer.error(e);\n              }\n            } else {\n              acc = value;\n            }\n          },\n          error: function (e) {\n            observer.error(e);\n          },\n          complete: function () {\n            if (!hasValue && !hasSeed) return observer.error(new TypeError('Cannot reduce an empty sequence'));\n            observer.next(acc);\n            observer.complete();\n          }\n        });\n      });\n    }\n  }, {\n    key: \"concat\",\n    value: function concat() {\n      var _this5 = this;\n\n      for (var _len = arguments.length, sources = new Array(_len), _key = 0; _key < _len; _key++) {\n        sources[_key] = arguments[_key];\n      }\n\n      var C = getSpecies(this);\n      return new C(function (observer) {\n        var subscription;\n        var index = 0;\n\n        function startNext(next) {\n          subscription = next.subscribe({\n            next: function (v) {\n              observer.next(v);\n            },\n            error: function (e) {\n              observer.error(e);\n            },\n            complete: function () {\n              if (index === sources.length) {\n                subscription = undefined;\n                observer.complete();\n              } else {\n                startNext(C.from(sources[index++]));\n              }\n            }\n          });\n        }\n\n        startNext(_this5);\n        return function () {\n          if (subscription) {\n            subscription.unsubscribe();\n            subscription = undefined;\n          }\n        };\n      });\n    }\n  }, {\n    key: \"flatMap\",\n    value: function flatMap(fn) {\n      var _this6 = this;\n\n      if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n      var C = getSpecies(this);\n      return new C(function (observer) {\n        var subscriptions = [];\n\n        var outer = _this6.subscribe({\n          next: function (value) {\n            if (fn) {\n              try {\n                value = fn(value);\n              } catch (e) {\n                return observer.error(e);\n              }\n            }\n\n            var inner = C.from(value).subscribe({\n              next: function (value) {\n                observer.next(value);\n              },\n              error: function (e) {\n                observer.error(e);\n              },\n              complete: function () {\n                var i = subscriptions.indexOf(inner);\n                if (i >= 0) subscriptions.splice(i, 1);\n                completeIfDone();\n              }\n            });\n            subscriptions.push(inner);\n          },\n          error: function (e) {\n            observer.error(e);\n          },\n          complete: function () {\n            completeIfDone();\n          }\n        });\n\n        function completeIfDone() {\n          if (outer.closed && subscriptions.length === 0) observer.complete();\n        }\n\n        return function () {\n          subscriptions.forEach(function (s) {\n            return s.unsubscribe();\n          });\n          outer.unsubscribe();\n        };\n      });\n    }\n  }, {\n    key: SymbolObservable,\n    value: function () {\n      return this;\n    }\n  }], [{\n    key: \"from\",\n    value: function from(x) {\n      var C = typeof this === 'function' ? this : Observable;\n      if (x == null) throw new TypeError(x + ' is not an object');\n      var method = getMethod(x, SymbolObservable);\n\n      if (method) {\n        var observable = method.call(x);\n        if (Object(observable) !== observable) throw new TypeError(observable + ' is not an object');\n        if (isObservable(observable) && observable.constructor === C) return observable;\n        return new C(function (observer) {\n          return observable.subscribe(observer);\n        });\n      }\n\n      if (hasSymbol('iterator')) {\n        method = getMethod(x, SymbolIterator);\n\n        if (method) {\n          return new C(function (observer) {\n            enqueue(function () {\n              if (observer.closed) return;\n              var _iteratorNormalCompletion = true;\n              var _didIteratorError = false;\n              var _iteratorError = undefined;\n\n              try {\n                for (var _iterator = method.call(x)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                  var _item = _step.value;\n                  observer.next(_item);\n                  if (observer.closed) return;\n                }\n              } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n              } finally {\n                try {\n                  if (!_iteratorNormalCompletion && _iterator.return != null) {\n                    _iterator.return();\n                  }\n                } finally {\n                  if (_didIteratorError) {\n                    throw _iteratorError;\n                  }\n                }\n              }\n\n              observer.complete();\n            });\n          });\n        }\n      }\n\n      if (Array.isArray(x)) {\n        return new C(function (observer) {\n          enqueue(function () {\n            if (observer.closed) return;\n\n            for (var i = 0; i < x.length; ++i) {\n              observer.next(x[i]);\n              if (observer.closed) return;\n            }\n\n            observer.complete();\n          });\n        });\n      }\n\n      throw new TypeError(x + ' is not observable');\n    }\n  }, {\n    key: \"of\",\n    value: function of() {\n      for (var _len2 = arguments.length, items = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        items[_key2] = arguments[_key2];\n      }\n\n      var C = typeof this === 'function' ? this : Observable;\n      return new C(function (observer) {\n        enqueue(function () {\n          if (observer.closed) return;\n\n          for (var i = 0; i < items.length; ++i) {\n            observer.next(items[i]);\n            if (observer.closed) return;\n          }\n\n          observer.complete();\n        });\n      });\n    }\n  }, {\n    key: SymbolSpecies,\n    get: function () {\n      return this;\n    }\n  }]);\n\n  return Observable;\n}();\n\nexports.Observable = Observable;\n\nif (hasSymbols()) {\n  Object.defineProperty(Observable, Symbol('extensions'), {\n    value: {\n      symbol: SymbolObservable,\n      hostReportError: hostReportError\n    },\n    configurable: true\n  });\n}","var toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toIntegerOrInfinity(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","import { maybe } from \"../globals/index.js\";\nexport var canUseWeakMap = typeof WeakMap === 'function' &&\n    maybe(function () { return navigator.product; }) !== 'ReactNative';\nexport var canUseWeakSet = typeof WeakSet === 'function';\nexport var canUseSymbol = typeof Symbol === 'function' &&\n    typeof Symbol.for === 'function';\nexport var canUseDOM = typeof maybe(function () { return window.document.createElement; }) === \"function\";\nvar usingJSDOM = maybe(function () { return navigator.userAgent.indexOf(\"jsdom\") >= 0; }) || false;\nexport var canUseLayoutEffect = canUseDOM && !usingJSDOM;\n//# sourceMappingURL=canUse.js.map","/**\n * An exported enum describing the different kinds of tokens that the\n * lexer emits.\n */\nexport let TokenKind;\n/**\n * The enum type representing the token kinds values.\n *\n * @deprecated Please use `TokenKind`. Will be remove in v17.\n */\n\n(function (TokenKind) {\n  TokenKind['SOF'] = '<SOF>';\n  TokenKind['EOF'] = '<EOF>';\n  TokenKind['BANG'] = '!';\n  TokenKind['DOLLAR'] = '$';\n  TokenKind['AMP'] = '&';\n  TokenKind['PAREN_L'] = '(';\n  TokenKind['PAREN_R'] = ')';\n  TokenKind['SPREAD'] = '...';\n  TokenKind['COLON'] = ':';\n  TokenKind['EQUALS'] = '=';\n  TokenKind['AT'] = '@';\n  TokenKind['BRACKET_L'] = '[';\n  TokenKind['BRACKET_R'] = ']';\n  TokenKind['BRACE_L'] = '{';\n  TokenKind['PIPE'] = '|';\n  TokenKind['BRACE_R'] = '}';\n  TokenKind['NAME'] = 'Name';\n  TokenKind['INT'] = 'Int';\n  TokenKind['FLOAT'] = 'Float';\n  TokenKind['STRING'] = 'String';\n  TokenKind['BLOCK_STRING'] = 'BlockString';\n  TokenKind['COMMENT'] = 'Comment';\n})(TokenKind || (TokenKind = {}));\n","/* eslint-disable no-proto -- safe */\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n// eslint-disable-next-line es-x/no-object-setprototypeof -- safe\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    // eslint-disable-next-line es-x/no-object-getownpropertydescriptor -- safe\n    setter = uncurryThis(Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set);\n    setter(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","const DEFAULT_HOOKS = ['activate', 'mount', 'update'];\n\nexport { DEFAULT_HOOKS };\n//# sourceMappingURL=constants.js.map\n","import { _optionalChain } from '@sentry/utils/esm/buildPolyfills';\n\n// Vendored directly from https://github.com/vuejs/vue/blob/master/src/core/util/debug.js with types only changes.\nconst classifyRE = /(?:^|[-_])(\\w)/g;\nconst classify = (str) => str.replace(classifyRE, c => c.toUpperCase()).replace(/[-_]/g, '');\n\nconst ROOT_COMPONENT_NAME = '<Root>';\nconst ANONYMOUS_COMPONENT_NAME = '<Anonymous>';\n\nconst repeat = (str, n) => {\n  let res = '';\n  while (n) {\n    if (n % 2 === 1) {\n      res += str;\n    }\n    if (n > 1) {\n      str += str; // eslint-disable-line no-param-reassign\n    }\n    n >>= 1; // eslint-disable-line no-bitwise, no-param-reassign\n  }\n  return res;\n};\n\nconst formatComponentName = (vm, includeFile) => {\n  if (!vm) {\n    return ANONYMOUS_COMPONENT_NAME;\n  }\n\n  if (vm.$root === vm) {\n    return ROOT_COMPONENT_NAME;\n  }\n\n  // https://github.com/getsentry/sentry-javascript/issues/5204 $options can be undefined\n  if (!vm.$options) {\n    return ANONYMOUS_COMPONENT_NAME;\n  }\n\n  const options = vm.$options;\n\n  let name = options.name || options._componentTag;\n  const file = options.__file;\n  if (!name && file) {\n    const match = file.match(/([^/\\\\]+)\\.vue$/);\n    if (match) {\n      name = match[1];\n    }\n  }\n\n  return (\n    (name ? `<${classify(name)}>` : ANONYMOUS_COMPONENT_NAME) + (file && includeFile !== false ? ` at ${file}` : '')\n  );\n};\n\nconst generateComponentTrace = (vm) => {\n  if ((_optionalChain([vm, 'optionalAccess', _ => _._isVue]) || _optionalChain([vm, 'optionalAccess', _2 => _2.__isVue])) && _optionalChain([vm, 'optionalAccess', _3 => _3.$parent])) {\n    const tree = [];\n    let currentRecursiveSequence = 0;\n    while (vm) {\n      if (tree.length > 0) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const last = tree[tree.length - 1] ;\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n        if (last.constructor === vm.constructor) {\n          currentRecursiveSequence += 1;\n          vm = vm.$parent; // eslint-disable-line no-param-reassign\n          continue;\n        } else if (currentRecursiveSequence > 0) {\n          tree[tree.length - 1] = [last, currentRecursiveSequence];\n          currentRecursiveSequence = 0;\n        }\n      }\n      tree.push(vm);\n      vm = vm.$parent; // eslint-disable-line no-param-reassign\n    }\n\n    const formattedTree = tree\n      .map(\n        (vm, i) =>\n          `${\n            (i === 0 ? '---> ' : repeat(' ', 5 + i * 2)) +\n            (Array.isArray(vm)\n              ? `${formatComponentName(vm[0])}... (${vm[1]} recursive calls)`\n              : formatComponentName(vm))\n          }`,\n      )\n      .join('\\n');\n\n    return `\\n\\nfound in\\n\\n${formattedTree}`;\n  }\n\n  return `\\n\\n(found in ${formatComponentName(vm)})`;\n};\n\nexport { formatComponentName, generateComponentTrace };\n//# sourceMappingURL=components.js.map\n","import { getCurrentHub } from '@sentry/browser';\nimport { formatComponentName, generateComponentTrace } from './components.js';\n\nconst attachErrorHandler = (app, options) => {\n  const { errorHandler, warnHandler, silent } = app.config;\n\n  app.config.errorHandler = (error, vm, lifecycleHook) => {\n    const componentName = formatComponentName(vm, false);\n    const trace = vm ? generateComponentTrace(vm) : '';\n    const metadata = {\n      componentName,\n      lifecycleHook,\n      trace,\n    };\n\n    if (options.attachProps && vm) {\n      // Vue2 - $options.propsData\n      // Vue3 - $props\n      if (vm.$options && vm.$options.propsData) {\n        metadata.propsData = vm.$options.propsData;\n      } else if (vm.$props) {\n        metadata.propsData = vm.$props;\n      }\n    }\n\n    // Capture exception in the next event loop, to make sure that all breadcrumbs are recorded in time.\n    setTimeout(() => {\n      getCurrentHub().withScope(scope => {\n        scope.setContext('vue', metadata);\n        getCurrentHub().captureException(error);\n      });\n    });\n\n    if (typeof errorHandler === 'function') {\n      (errorHandler ).call(app, error, vm, lifecycleHook);\n    }\n\n    if (options.logErrors) {\n      const hasConsole = typeof console !== 'undefined';\n      const message = `Error in ${lifecycleHook}: \"${error && error.toString()}\"`;\n\n      if (warnHandler) {\n        (warnHandler ).call(null, message, vm, trace);\n      } else if (hasConsole && !silent) {\n        // eslint-disable-next-line no-console\n        console.error(`[Vue warn]: ${message}${trace}`);\n      }\n    }\n  };\n};\n\nexport { attachErrorHandler };\n//# sourceMappingURL=errorhandler.js.map\n","import { _optionalChain } from '@sentry/utils/esm/buildPolyfills';\nimport { getCurrentHub } from '@sentry/browser';\nimport { logger, timestampInSeconds } from '@sentry/utils';\nimport { formatComponentName } from './components.js';\nimport { DEFAULT_HOOKS } from './constants.js';\n\nconst VUE_OP = 'ui.vue';\n\n// Mappings from operation to corresponding lifecycle hook.\nconst HOOKS = {\n  activate: ['activated', 'deactivated'],\n  create: ['beforeCreate', 'created'],\n  destroy: ['beforeDestroy', 'destroyed'],\n  mount: ['beforeMount', 'mounted'],\n  update: ['beforeUpdate', 'updated'],\n};\n\n/** Grabs active transaction off scope, if any */\nfunction getActiveTransaction() {\n  return _optionalChain([getCurrentHub, 'call', _ => _(), 'access', _2 => _2.getScope, 'call', _3 => _3(), 'optionalAccess', _4 => _4.getTransaction, 'call', _5 => _5()]);\n}\n\n/** Finish top-level span and activity with a debounce configured using `timeout` option */\nfunction finishRootSpan(vm, timestamp, timeout) {\n  if (vm.$_sentryRootSpanTimer) {\n    clearTimeout(vm.$_sentryRootSpanTimer);\n  }\n\n  vm.$_sentryRootSpanTimer = setTimeout(() => {\n    if (_optionalChain([vm, 'access', _6 => _6.$root, 'optionalAccess', _7 => _7.$_sentryRootSpan])) {\n      vm.$root.$_sentryRootSpan.finish(timestamp);\n      vm.$root.$_sentryRootSpan = undefined;\n    }\n  }, timeout);\n}\n\nconst createTracingMixins = (options) => {\n  const hooks = (options.hooks || [])\n    .concat(DEFAULT_HOOKS)\n    // Removing potential duplicates\n    .filter((value, index, self) => self.indexOf(value) === index);\n\n  const mixins = {};\n\n  for (const operation of hooks) {\n    // Retrieve corresponding hooks from Vue lifecycle.\n    // eg. mount => ['beforeMount', 'mounted']\n    const internalHooks = HOOKS[operation];\n    if (!internalHooks) {\n      (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.warn(`Unknown hook: ${operation}`);\n      continue;\n    }\n\n    for (const internalHook of internalHooks) {\n      mixins[internalHook] = function () {\n        const isRoot = this.$root === this;\n\n        if (isRoot) {\n          const activeTransaction = getActiveTransaction();\n          if (activeTransaction) {\n            this.$_sentryRootSpan =\n              this.$_sentryRootSpan ||\n              activeTransaction.startChild({\n                description: 'Application Render',\n                op: `${VUE_OP}.render`,\n              });\n          }\n        }\n\n        // Skip components that we don't want to track to minimize the noise and give a more granular control to the user\n        const name = formatComponentName(this, false);\n        const shouldTrack = Array.isArray(options.trackComponents)\n          ? options.trackComponents.indexOf(name) > -1\n          : options.trackComponents;\n\n        // We always want to track root component\n        if (!isRoot && !shouldTrack) {\n          return;\n        }\n\n        this.$_sentrySpans = this.$_sentrySpans || {};\n\n        // Start a new span if current hook is a 'before' hook.\n        // Otherwise, retrieve the current span and finish it.\n        if (internalHook == internalHooks[0]) {\n          const activeTransaction = _optionalChain([this, 'access', _8 => _8.$root, 'optionalAccess', _9 => _9.$_sentryRootSpan]) || getActiveTransaction();\n          if (activeTransaction) {\n            // Cancel old span for this hook operation in case it didn't get cleaned up. We're not actually sure if it\n            // will ever be the case that cleanup hooks re not called, but we had users report that spans didn't get\n            // finished so we finish the span before starting a new one, just to be sure.\n            const oldSpan = this.$_sentrySpans[operation];\n            if (oldSpan && !oldSpan.endTimestamp) {\n              oldSpan.finish();\n            }\n\n            this.$_sentrySpans[operation] = activeTransaction.startChild({\n              description: `Vue <${name}>`,\n              op: `${VUE_OP}.${operation}`,\n            });\n          }\n        } else {\n          // The span should already be added via the first handler call (in the 'before' hook)\n          const span = this.$_sentrySpans[operation];\n          // The before hook did not start the tracking span, so the span was not added.\n          // This is probably because it happened before there is an active transaction\n          if (!span) return;\n          span.finish();\n\n          finishRootSpan(this, timestampInSeconds(), options.timeout);\n        }\n      };\n    }\n  }\n\n  return mixins;\n};\n\nexport { createTracingMixins, getActiveTransaction };\n//# sourceMappingURL=tracing.js.map\n","import { SDK_VERSION, init as init$1 } from '@sentry/browser';\nimport { GLOBAL_OBJ, arrayify } from '@sentry/utils';\nimport { DEFAULT_HOOKS } from './constants.js';\nimport { attachErrorHandler } from './errorhandler.js';\nimport { createTracingMixins } from './tracing.js';\n\nconst globalWithVue = GLOBAL_OBJ ;\n\nconst DEFAULT_CONFIG = {\n  Vue: globalWithVue.Vue,\n  attachProps: true,\n  logErrors: false,\n  hooks: DEFAULT_HOOKS,\n  timeout: 2000,\n  trackComponents: false,\n  _metadata: {\n    sdk: {\n      name: 'sentry.javascript.vue',\n      packages: [\n        {\n          name: 'npm:@sentry/vue',\n          version: SDK_VERSION,\n        },\n      ],\n      version: SDK_VERSION,\n    },\n  },\n};\n\n/**\n * Inits the Vue SDK\n */\nfunction init(\n  config = {},\n) {\n  const options = {\n    ...DEFAULT_CONFIG,\n    ...config,\n  };\n\n  init$1(options);\n\n  if (!options.Vue && !options.app) {\n    // eslint-disable-next-line no-console\n    console.warn(\n      `[@sentry/vue]: Misconfigured SDK. Vue specific errors will not be captured.\nUpdate your \\`Sentry.init\\` call with an appropriate config option:\n\\`app\\` (Application Instance - Vue 3) or \\`Vue\\` (Vue Constructor - Vue 2).`,\n    );\n    return;\n  }\n\n  if (options.app) {\n    const apps = arrayify(options.app);\n    apps.forEach(app => vueInit(app, options));\n  } else if (options.Vue) {\n    vueInit(options.Vue, options);\n  }\n}\n\nconst vueInit = (app, options) => {\n  // Check app is not mounted yet - should be mounted _after_ init()!\n  // This is _somewhat_ private, but in the case that this doesn't exist we simply ignore it\n  // See: https://github.com/vuejs/core/blob/eb2a83283caa9de0a45881d860a3cbd9d0bdd279/packages/runtime-core/src/component.ts#L394\n  const appWithInstance = app\n\n;\n\n  const isMounted = appWithInstance._instance && appWithInstance._instance.isMounted;\n  if (isMounted === true) {\n    // eslint-disable-next-line no-console\n    console.warn(\n      '[@sentry/vue]: Misconfigured SDK. Vue app is already mounted. Make sure to call `app.mount()` after `Sentry.init()`.',\n    );\n  }\n\n  attachErrorHandler(app, options);\n\n  if ('tracesSampleRate' in options || 'tracesSampler' in options) {\n    app.mixin(\n      createTracingMixins({\n        ...options,\n        ...options.tracingOptions,\n      }),\n    );\n  }\n};\n\nexport { init };\n//# sourceMappingURL=sdk.js.map\n","var isPrototypeOf = require('../internals/object-is-prototype-of');\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (it, Prototype) {\n  if (isPrototypeOf(Prototype, it)) return it;\n  throw $TypeError('Incorrect invocation');\n};\n","import { maybe } from \"./maybe.js\";\nexport default (maybe(function () { return globalThis; }) ||\n    maybe(function () { return window; }) ||\n    maybe(function () { return self; }) ||\n    maybe(function () { return global; }) || maybe(function () { return maybe.constructor(\"return this\")(); }));\n//# sourceMappingURL=global.js.map","import { inspect } from './inspect.mjs';\n/**\n * A replacement for instanceof which includes an error warning when multi-realm\n * constructors are detected.\n * See: https://expressjs.com/en/advanced/best-practice-performance.html#set-node_env-to-production\n * See: https://webpack.js.org/guides/production/\n */\n\nexport const instanceOf =\n  /* c8 ignore next 6 */\n  // FIXME: https://github.com/graphql/graphql-js/issues/2317\n  // eslint-disable-next-line no-undef\n  process.env.NODE_ENV === 'production'\n    ? function instanceOf(value, constructor) {\n        return value instanceof constructor;\n      }\n    : function instanceOf(value, constructor) {\n        if (value instanceof constructor) {\n          return true;\n        }\n\n        if (typeof value === 'object' && value !== null) {\n          var _value$constructor;\n\n          // Prefer Symbol.toStringTag since it is immune to minification.\n          const className = constructor.prototype[Symbol.toStringTag];\n          const valueClassName = // We still need to support constructor's name to detect conflicts with older versions of this library.\n            Symbol.toStringTag in value // @ts-expect-error TS bug see, https://github.com/microsoft/TypeScript/issues/38009\n              ? value[Symbol.toStringTag]\n              : (_value$constructor = value.constructor) === null ||\n                _value$constructor === void 0\n              ? void 0\n              : _value$constructor.name;\n\n          if (className === valueClassName) {\n            const stringifiedValue = inspect(value);\n            throw new Error(`Cannot use ${className} \"${stringifiedValue}\" from another module or realm.\n\nEnsure that there is only one instance of \"graphql\" in the node_modules\ndirectory. If different versions of \"graphql\" are the dependencies of other\nrelied on modules, use \"resolutions\" to ensure only one version is installed.\n\nhttps://yarnpkg.com/en/docs/selective-version-resolutions\n\nDuplicate \"graphql\" modules cannot be used at the same time since different\nversions may have different capabilities and behavior. The data from one\nversion used in the function from another could produce confusing and\nspurious results.`);\n          }\n        }\n\n        return false;\n      };\n","export function compact() {\n    var objects = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        objects[_i] = arguments[_i];\n    }\n    var result = Object.create(null);\n    objects.forEach(function (obj) {\n        if (!obj)\n            return;\n        Object.keys(obj).forEach(function (key) {\n            var value = obj[key];\n            if (value !== void 0) {\n                result[key] = value;\n            }\n        });\n    });\n    return result;\n}\n//# sourceMappingURL=compact.js.map","var uncurryThis = require('../internals/function-uncurry-this');\nvar toObject = require('../internals/to-object');\n\nvar hasOwnProperty = uncurryThis({}.hasOwnProperty);\n\n// `HasOwnProperty` abstract operation\n// https://tc39.es/ecma262/#sec-hasownproperty\n// eslint-disable-next-line es-x/no-object-hasown -- safe\nmodule.exports = Object.hasOwn || function hasOwn(it, key) {\n  return hasOwnProperty(toObject(it), key);\n};\n","import { invariant } from \"../globals/index.js\";\nimport { visit, } from 'graphql';\nexport function shouldInclude(_a, variables) {\n    var directives = _a.directives;\n    if (!directives || !directives.length) {\n        return true;\n    }\n    return getInclusionDirectives(directives).every(function (_a) {\n        var directive = _a.directive, ifArgument = _a.ifArgument;\n        var evaledValue = false;\n        if (ifArgument.value.kind === 'Variable') {\n            evaledValue = variables && variables[ifArgument.value.name.value];\n            __DEV__ ? invariant(evaledValue !== void 0, \"Invalid variable referenced in @\".concat(directive.name.value, \" directive.\")) : invariant(evaledValue !== void 0, 37);\n        }\n        else {\n            evaledValue = ifArgument.value.value;\n        }\n        return directive.name.value === 'skip' ? !evaledValue : evaledValue;\n    });\n}\nexport function getDirectiveNames(root) {\n    var names = [];\n    visit(root, {\n        Directive: function (node) {\n            names.push(node.name.value);\n        },\n    });\n    return names;\n}\nexport function hasDirectives(names, root) {\n    return getDirectiveNames(root).some(function (name) { return names.indexOf(name) > -1; });\n}\nexport function hasClientExports(document) {\n    return (document &&\n        hasDirectives(['client'], document) &&\n        hasDirectives(['export'], document));\n}\nfunction isInclusionDirective(_a) {\n    var value = _a.name.value;\n    return value === 'skip' || value === 'include';\n}\nexport function getInclusionDirectives(directives) {\n    var result = [];\n    if (directives && directives.length) {\n        directives.forEach(function (directive) {\n            if (!isInclusionDirective(directive))\n                return;\n            var directiveArguments = directive.arguments;\n            var directiveName = directive.name.value;\n            __DEV__ ? invariant(directiveArguments && directiveArguments.length === 1, \"Incorrect number of arguments for the @\".concat(directiveName, \" directive.\")) : invariant(directiveArguments && directiveArguments.length === 1, 38);\n            var ifArgument = directiveArguments[0];\n            __DEV__ ? invariant(ifArgument.name && ifArgument.name.value === 'if', \"Invalid argument for the @\".concat(directiveName, \" directive.\")) : invariant(ifArgument.name && ifArgument.name.value === 'if', 39);\n            var ifValue = ifArgument.value;\n            __DEV__ ? invariant(ifValue &&\n                (ifValue.kind === 'Variable' || ifValue.kind === 'BooleanValue'), \"Argument for the @\".concat(directiveName, \" directive must be a variable or a boolean value.\")) : invariant(ifValue &&\n                (ifValue.kind === 'Variable' || ifValue.kind === 'BooleanValue'), 40);\n            result.push({ directive: directive, ifArgument: ifArgument });\n        });\n    }\n    return result;\n}\n//# sourceMappingURL=directives.js.map","import { fill, getFunctionName, getOriginalFunction } from '@sentry/utils';\nimport { WINDOW, wrap } from '../helpers.js';\n\nconst DEFAULT_EVENT_TARGET = [\n  'EventTarget',\n  'Window',\n  'Node',\n  'ApplicationCache',\n  'AudioTrackList',\n  'ChannelMergerNode',\n  'CryptoOperation',\n  'EventSource',\n  'FileReader',\n  'HTMLUnknownElement',\n  'IDBDatabase',\n  'IDBRequest',\n  'IDBTransaction',\n  'KeyOperation',\n  'MediaController',\n  'MessagePort',\n  'ModalWindow',\n  'Notification',\n  'SVGElementInstance',\n  'Screen',\n  'TextTrack',\n  'TextTrackCue',\n  'TextTrackList',\n  'WebSocket',\n  'WebSocketWorker',\n  'Worker',\n  'XMLHttpRequest',\n  'XMLHttpRequestEventTarget',\n  'XMLHttpRequestUpload',\n];\n\n/** Wrap timer functions and event targets to catch errors and provide better meta data */\nclass TryCatch  {\n  /**\n   * @inheritDoc\n   */\n   static __initStatic() {this.id = 'TryCatch';}\n\n  /**\n   * @inheritDoc\n   */\n   __init() {this.name = TryCatch.id;}\n\n  /** JSDoc */\n\n  /**\n   * @inheritDoc\n   */\n   constructor(options) {;TryCatch.prototype.__init.call(this);\n    this._options = {\n      XMLHttpRequest: true,\n      eventTarget: true,\n      requestAnimationFrame: true,\n      setInterval: true,\n      setTimeout: true,\n      ...options,\n    };\n  }\n\n  /**\n   * Wrap timer functions and event targets to catch errors\n   * and provide better metadata.\n   */\n   setupOnce() {\n    if (this._options.setTimeout) {\n      fill(WINDOW, 'setTimeout', _wrapTimeFunction);\n    }\n\n    if (this._options.setInterval) {\n      fill(WINDOW, 'setInterval', _wrapTimeFunction);\n    }\n\n    if (this._options.requestAnimationFrame) {\n      fill(WINDOW, 'requestAnimationFrame', _wrapRAF);\n    }\n\n    if (this._options.XMLHttpRequest && 'XMLHttpRequest' in WINDOW) {\n      fill(XMLHttpRequest.prototype, 'send', _wrapXHR);\n    }\n\n    const eventTargetOption = this._options.eventTarget;\n    if (eventTargetOption) {\n      const eventTarget = Array.isArray(eventTargetOption) ? eventTargetOption : DEFAULT_EVENT_TARGET;\n      eventTarget.forEach(_wrapEventTarget);\n    }\n  }\n} TryCatch.__initStatic();\n\n/** JSDoc */\nfunction _wrapTimeFunction(original) {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  return function ( ...args) {\n    const originalCallback = args[0];\n    args[0] = wrap(originalCallback, {\n      mechanism: {\n        data: { function: getFunctionName(original) },\n        handled: true,\n        type: 'instrument',\n      },\n    });\n    return original.apply(this, args);\n  };\n}\n\n/** JSDoc */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction _wrapRAF(original) {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  return function ( callback) {\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n    return original.apply(this, [\n      wrap(callback, {\n        mechanism: {\n          data: {\n            function: 'requestAnimationFrame',\n            handler: getFunctionName(original),\n          },\n          handled: true,\n          type: 'instrument',\n        },\n      }),\n    ]);\n  };\n}\n\n/** JSDoc */\nfunction _wrapXHR(originalSend) {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  return function ( ...args) {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const xhr = this;\n    const xmlHttpRequestProps = ['onload', 'onerror', 'onprogress', 'onreadystatechange'];\n\n    xmlHttpRequestProps.forEach(prop => {\n      if (prop in xhr && typeof xhr[prop] === 'function') {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        fill(xhr, prop, function (original) {\n          const wrapOptions = {\n            mechanism: {\n              data: {\n                function: prop,\n                handler: getFunctionName(original),\n              },\n              handled: true,\n              type: 'instrument',\n            },\n          };\n\n          // If Instrument integration has been called before TryCatch, get the name of original function\n          const originalFunction = getOriginalFunction(original);\n          if (originalFunction) {\n            wrapOptions.mechanism.data.handler = getFunctionName(originalFunction);\n          }\n\n          // Otherwise wrap directly\n          return wrap(original, wrapOptions);\n        });\n      }\n    });\n\n    return originalSend.apply(this, args);\n  };\n}\n\n/** JSDoc */\nfunction _wrapEventTarget(target) {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const globalObject = WINDOW ;\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n  const proto = globalObject[target] && globalObject[target].prototype;\n\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access, no-prototype-builtins\n  if (!proto || !proto.hasOwnProperty || !proto.hasOwnProperty('addEventListener')) {\n    return;\n  }\n\n  fill(proto, 'addEventListener', function (original)\n\n {\n    return function (\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n      eventName,\n      fn,\n      options,\n    ) {\n      try {\n        if (typeof fn.handleEvent === 'function') {\n          // ESlint disable explanation:\n          //  First, it is generally safe to call `wrap` with an unbound function. Furthermore, using `.bind()` would\n          //  introduce a bug here, because bind returns a new function that doesn't have our\n          //  flags(like __sentry_original__) attached. `wrap` checks for those flags to avoid unnecessary wrapping.\n          //  Without those flags, every call to addEventListener wraps the function again, causing a memory leak.\n          // eslint-disable-next-line @typescript-eslint/unbound-method\n          fn.handleEvent = wrap(fn.handleEvent, {\n            mechanism: {\n              data: {\n                function: 'handleEvent',\n                handler: getFunctionName(fn),\n                target,\n              },\n              handled: true,\n              type: 'instrument',\n            },\n          });\n        }\n      } catch (err) {\n        // can sometimes get 'Permission denied to access property \"handle Event'\n      }\n\n      return original.apply(this, [\n        eventName,\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        wrap(fn , {\n          mechanism: {\n            data: {\n              function: 'addEventListener',\n              handler: getFunctionName(fn),\n              target,\n            },\n            handled: true,\n            type: 'instrument',\n          },\n        }),\n        options,\n      ]);\n    };\n  });\n\n  fill(\n    proto,\n    'removeEventListener',\n    function (\n      originalRemoveEventListener,\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    ) {\n      return function (\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n        eventName,\n        fn,\n        options,\n      ) {\n        /**\n         * There are 2 possible scenarios here:\n         *\n         * 1. Someone passes a callback, which was attached prior to Sentry initialization, or by using unmodified\n         * method, eg. `document.addEventListener.call(el, name, handler). In this case, we treat this function\n         * as a pass-through, and call original `removeEventListener` with it.\n         *\n         * 2. Someone passes a callback, which was attached after Sentry was initialized, which means that it was using\n         * our wrapped version of `addEventListener`, which internally calls `wrap` helper.\n         * This helper \"wraps\" whole callback inside a try/catch statement, and attached appropriate metadata to it,\n         * in order for us to make a distinction between wrapped/non-wrapped functions possible.\n         * If a function was wrapped, it has additional property of `__sentry_wrapped__`, holding the handler.\n         *\n         * When someone adds a handler prior to initialization, and then do it again, but after,\n         * then we have to detach both of them. Otherwise, if we'd detach only wrapped one, it'd be impossible\n         * to get rid of the initial handler and it'd stick there forever.\n         */\n        const wrappedEventHandler = fn ;\n        try {\n          const originalEventHandler = wrappedEventHandler && wrappedEventHandler.__sentry_wrapped__;\n          if (originalEventHandler) {\n            originalRemoveEventListener.call(this, eventName, originalEventHandler, options);\n          }\n        } catch (e) {\n          // ignore, accessing __sentry_wrapped__ will throw in some Selenium environments\n        }\n        return originalRemoveEventListener.call(this, eventName, wrappedEventHandler, options);\n      };\n    },\n  );\n}\n\nexport { TryCatch };\n//# sourceMappingURL=trycatch.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.attachBreadcrumbToSentry = exports.setFingerprint = exports.DEFAULT_FINGERPRINT = exports.setTransaction = void 0;\nvar browser_1 = require(\"@sentry/browser\");\nvar operation_1 = require(\"./operation\");\nvar utils_1 = require(\"./utils\");\nfunction setTransaction(operation) {\n    var definition = (0, operation_1.extractDefinition)(operation);\n    var name = definition.name;\n    if (name) {\n        (0, browser_1.configureScope)(function (scope) {\n            scope.setTransactionName(name.value);\n        });\n    }\n}\nexports.setTransaction = setTransaction;\nexports.DEFAULT_FINGERPRINT = '{{ default }}';\nfunction setFingerprint(operation) {\n    var definition = (0, operation_1.extractDefinition)(operation);\n    var name = definition.name;\n    if (name) {\n        (0, browser_1.configureScope)(function (scope) {\n            scope.setFingerprint([exports.DEFAULT_FINGERPRINT, name.value]);\n        });\n    }\n}\nexports.setFingerprint = setFingerprint;\nfunction attachBreadcrumbToSentry(operation, breadcrumb, options) {\n    var transformed = options.attachBreadcrumbs &&\n        typeof options.attachBreadcrumbs.transform === 'function'\n        ? options.attachBreadcrumbs.transform(breadcrumb, operation)\n        : breadcrumb;\n    transformed.data = (0, utils_1.stringifyObjectKeys)(transformed.data);\n    (0, browser_1.addBreadcrumb)(transformed);\n}\nexports.attachBreadcrumbToSentry = attachBreadcrumbToSentry;\n","export default function(n){return{all:n=n||new Map,on:function(t,e){var i=n.get(t);i?i.push(e):n.set(t,[e])},off:function(t,e){var i=n.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):n.set(t,[]))},emit:function(t,e){var i=n.get(t);i&&i.slice().map(function(n){n(e)}),(i=n.get(\"*\"))&&i.slice().map(function(n){n(t,e)})}}}\n//# sourceMappingURL=mitt.mjs.map\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = lengthOfArrayLike(O);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","module.exports = {\n  error: {\n    length: 'Length should be a valid positive number',\n    password: 'Password should be a valid string'\n  },\n  regex: {\n    digits: '(\\\\d.*)',\n    letters: '([a-zA-Z].*)',\n    symbols: '([`~\\\\!@#\\\\$%\\\\^\\\\&\\\\*\\\\(\\\\)\\\\-_\\\\=\\\\+\\\\[\\\\\\{\\\\}\\\\]\\\\\\\\\\|;:\\\\\\'\",<.>\\\\/\\\\?].*)',\n    spaces: '([\\\\s].*)'\n  }\n};\n","import { Observable } from \"../../utilities/index.js\";\nexport function fromError(errorValue) {\n    return new Observable(function (observer) {\n        observer.error(errorValue);\n    });\n}\n//# sourceMappingURL=fromError.js.map","/*\n * This module exists for optimizations in the build process through rollup and terser.  We define some global\n * constants, which can be overridden during build. By guarding certain pieces of code with functions that return these\n * constants, we can control whether or not they appear in the final bundle. (Any code guarded by a false condition will\n * never run, and will hence be dropped during treeshaking.) The two primary uses for this are stripping out calls to\n * `logger` and preventing node-related code from appearing in browser bundles.\n *\n * Attention:\n * This file should not be used to define constants/flags that are intended to be used for tree-shaking conducted by\n * users. These fags should live in their respective packages, as we identified user tooling (specifically webpack)\n * having issues tree-shaking these constants across package boundaries.\n * An example for this is the __SENTRY_DEBUG__ constant. It is declared in each package individually because we want\n * users to be able to shake away expressions that it guards.\n */\n\n/**\n * Figures out if we're building a browser bundle.\n *\n * @returns true if this is a browser bundle build.\n */\nfunction isBrowserBundle() {\n  return typeof __SENTRY_BROWSER_BUNDLE__ !== 'undefined' && !!__SENTRY_BROWSER_BUNDLE__;\n}\n\nexport { isBrowserBundle };\n//# sourceMappingURL=env.js.map\n","import { unref } from 'vue-demi';\n\nfunction isFunction(val) {\n  return typeof val === 'function';\n}\nfunction isObject(o) {\n  return o !== null && typeof o === 'object' && !Array.isArray(o);\n}\n/**\n * Returns a standard ValidatorObject\n * Wraps a plain function into a ValidatorObject\n * @param {NormalizedValidator|Function} validator\n * @return {NormalizedValidator}\n */\n\nfunction normalizeValidatorObject(validator) {\n  return isFunction(validator.$validator) ? Object.assign({}, validator) : {\n    $validator: validator\n  };\n}\nfunction isPromise(object) {\n  return isObject(object) && isFunction(object.then);\n}\n/**\n * Unwraps a ValidatorResponse object, into a boolean.\n * @param {ValidatorResponse} result\n * @return {boolean}\n */\n\nfunction unwrapValidatorResponse(result) {\n  if (typeof result === 'object') return result.$valid;\n  return result;\n}\n/**\n * Unwraps a `NormalizedValidator` object, returning its validator function.\n * @param {NormalizedValidator | Function} validator\n * @return {function}\n */\n\nfunction unwrapNormalizedValidator(validator) {\n  return validator.$validator || validator;\n}\n\n/**\n * Allows attaching parameters to a validator\n * @param {Object} $params\n * @param {NormalizedValidator|Function} $validator\n * @return {NormalizedValidator}\n */\n\nfunction withParams($params, $validator) {\n  if (!isObject($params)) throw new Error(`[@vuelidate/validators]: First parameter to \"withParams\" should be an object, provided ${typeof $params}`);\n  if (!isObject($validator) && !isFunction($validator)) throw new Error(`[@vuelidate/validators]: Validator must be a function or object with $validator parameter`);\n  const validatorObj = normalizeValidatorObject($validator);\n  validatorObj.$params = Object.assign({}, validatorObj.$params || {}, $params);\n  return validatorObj;\n}\n\n/**\n * @callback MessageCallback\n * @param {Object} params\n * @return String\n */\n\n/**\n * Attaches a message to a validator\n * @param {MessageCallback | String} $message\n * @param {NormalizedValidator|Function} $validator\n * @return {NormalizedValidator}\n */\n\nfunction withMessage($message, $validator) {\n  if (!isFunction($message) && typeof unref($message) !== 'string') throw new Error(`[@vuelidate/validators]: First parameter to \"withMessage\" should be string or a function returning a string, provided ${typeof $message}`);\n  if (!isObject($validator) && !isFunction($validator)) throw new Error(`[@vuelidate/validators]: Validator must be a function or object with $validator parameter`);\n  const validatorObj = normalizeValidatorObject($validator);\n  validatorObj.$message = $message;\n  return validatorObj;\n}\n\n/**\n * @typedef {function(*): Promise<boolean|ValidatorResponse>} asyncValidator\n */\n\n/**\n * @typedef {Ref<*>[]|function(*): *} watchTargets\n */\n\n/**\n * Wraps validators that returns a Promise.\n * @param {asyncValidator} $validator\n * @param {watchTargets} $watchTargets\n * @return {{$async: boolean, $validator: asyncValidator, $watchTargets: watchTargets}}\n */\n\nfunction withAsync($validator) {\n  let $watchTargets = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  const validatorObj = normalizeValidatorObject($validator);\n  return Object.assign({}, validatorObj, {\n    $async: true,\n    $watchTargets\n  });\n}\n\nfunction forEach(validators) {\n  return {\n    $validator(collection) {\n      for (var _len = arguments.length, others = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        others[_key - 1] = arguments[_key];\n      }\n\n      // go over the collection. It can be a ref as well.\n      return unref(collection).reduce((previous, collectionItem) => {\n        // go over each property\n        const collectionEntryResult = Object.entries(collectionItem).reduce((all, _ref) => {\n          let [property, $model] = _ref;\n          // get the validators for this property\n          const innerValidators = validators[property] || {}; // go over each validator and run it\n\n          const propertyResult = Object.entries(innerValidators).reduce((all, _ref2) => {\n            let [validatorName, currentValidator] = _ref2;\n            // extract the validator. Supports simple and extended validators.\n            const validatorFunction = unwrapNormalizedValidator(currentValidator); // Call the validator, passing the VM as this, the value, current iterated object and the rest.\n\n            const $response = validatorFunction.call(this, $model, collectionItem, ...others); // extract the valid from the result\n\n            const $valid = unwrapValidatorResponse($response); // store the entire response for later\n\n            all.$data[validatorName] = $response;\n            all.$data.$invalid = !$valid || !!all.$data.$invalid;\n            all.$data.$error = all.$data.$invalid; // if not valid, get the $message\n\n            if (!$valid) {\n              let $message = currentValidator.$message || '';\n              const $params = currentValidator.$params || {}; // If $message is a function, we call it with the appropriate parameters\n\n              if (typeof $message === 'function') {\n                $message = $message({\n                  $pending: false,\n                  $invalid: !$valid,\n                  $params,\n                  $model,\n                  $response\n                });\n              } // save the error object\n\n\n              all.$errors.push({\n                $property: property,\n                $message,\n                $params,\n                $response,\n                $model,\n                $pending: false,\n                $validator: validatorName\n              });\n            }\n\n            return {\n              $valid: all.$valid && $valid,\n              $data: all.$data,\n              $errors: all.$errors\n            };\n          }, {\n            $valid: true,\n            $data: {},\n            $errors: []\n          });\n          all.$data[property] = propertyResult.$data;\n          all.$errors[property] = propertyResult.$errors;\n          return {\n            $valid: all.$valid && propertyResult.$valid,\n            $data: all.$data,\n            $errors: all.$errors\n          };\n        }, {\n          $valid: true,\n          $data: {},\n          $errors: {}\n        });\n        return {\n          $valid: previous.$valid && collectionEntryResult.$valid,\n          $data: previous.$data.concat(collectionEntryResult.$data),\n          $errors: previous.$errors.concat(collectionEntryResult.$errors)\n        };\n      }, {\n        $valid: true,\n        $data: [],\n        $errors: []\n      });\n    },\n\n    // collect all the validation errors into a 2 dimensional array, for each entry in the collection, you have an array of error messages.\n    $message: _ref3 => {\n      let {\n        $response\n      } = _ref3;\n      return $response ? $response.$errors.map(context => {\n        return Object.values(context).map(errors => errors.map(error => error.$message)).reduce((a, b) => a.concat(b), []);\n      }) : [];\n    }\n  };\n}\n\n// \"required\" core, used in almost every validator to allow empty values\nconst req = value => {\n  value = unref(value);\n  if (Array.isArray(value)) return !!value.length;\n\n  if (value === undefined || value === null) {\n    return false;\n  }\n\n  if (value === false) {\n    return true;\n  }\n\n  if (value instanceof Date) {\n    // invalid date won't pass\n    return !isNaN(value.getTime());\n  }\n\n  if (typeof value === 'object') {\n    for (let _ in value) return true;\n\n    return false;\n  }\n\n  return !!String(value).length;\n};\n/**\n * Returns the length of an arbitrary value\n * @param {Array|Object|String} value\n * @return {number}\n */\n\nconst len = value => {\n  value = unref(value);\n  if (Array.isArray(value)) return value.length;\n\n  if (typeof value === 'object') {\n    return Object.keys(value).length;\n  }\n\n  return String(value).length;\n};\n/**\n * Regex based validator template\n * @param {RegExp} expr\n * @return {function(*=): boolean}\n */\n\nfunction regex() {\n  for (var _len = arguments.length, expr = new Array(_len), _key = 0; _key < _len; _key++) {\n    expr[_key] = arguments[_key];\n  }\n\n  return value => {\n    value = unref(value);\n    return !req(value) || expr.every(reg => reg.test(value));\n  };\n}\n\nvar common = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  withParams: withParams,\n  withMessage: withMessage,\n  withAsync: withAsync,\n  forEach: forEach,\n  req: req,\n  len: len,\n  regex: regex,\n  unwrap: unref,\n  unwrapNormalizedValidator: unwrapNormalizedValidator,\n  unwrapValidatorResponse: unwrapValidatorResponse,\n  normalizeValidatorObject: normalizeValidatorObject\n});\n\nvar alpha$1 = regex(/^[a-zA-Z]*$/);\n\n/**\n * Validate if value is alphabetical string.\n * @type {NormalizedValidator}\n */\n\nvar alpha = {\n  $validator: alpha$1,\n  $message: 'The value is not alphabetical',\n  $params: {\n    type: 'alpha'\n  }\n};\n\nvar alphaNum$1 = regex(/^[a-zA-Z0-9]*$/);\n\n/**\n * Validate if value is alpha-numeric string.\n * @type {NormalizedValidator}\n */\n\nvar alphaNum = {\n  $validator: alphaNum$1,\n  $message: 'The value must be alpha-numeric',\n  $params: {\n    type: 'alphaNum'\n  }\n};\n\nvar numeric$1 = regex(/^\\d*(\\.\\d+)?$/);\n\n/**\n * Check whether a value is numeric.\n * @type NormalizedValidator\n */\n\nvar numeric = {\n  $validator: numeric$1,\n  $message: 'Value must be numeric',\n  $params: {\n    type: 'numeric'\n  }\n};\n\n/**\n * Check if a numeric value is between two values.\n * @param {Ref<Number> | Number} min\n * @param {Ref<Number> | Number} max\n * @return {function(*=): boolean}\n */\n\nfunction between$1 (min, max) {\n  return value => !req(value) || (!/\\s/.test(value) || value instanceof Date) && +unref(min) <= +value && +unref(max) >= +value;\n}\n\n/**\n * Checks if a value is between two values.\n * @param {Ref<Number> | Number} min\n * @param {Ref<Number> | Number} max\n * @return {NormalizedValidator}\n */\n\nfunction between (min, max) {\n  return {\n    $validator: between$1(min, max),\n    $message: _ref => {\n      let {\n        $params\n      } = _ref;\n      return `The value must be between ${$params.min} and ${$params.max}`;\n    },\n    $params: {\n      min,\n      max,\n      type: 'between'\n    }\n  };\n}\n\nconst emailRegex = /^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])$/i;\nvar email$1 = regex(emailRegex);\n\n/**\n * Validate if value is an email.\n * @type {NormalizedValidator}\n */\n\nvar email = {\n  $validator: email$1,\n  $message: 'Value is not a valid email address',\n  $params: {\n    type: 'email'\n  }\n};\n\n/**\n * Check if a string is an IP Address\n * @param {String} value\n * @returns {boolean}\n */\n\nfunction ipAddress$1 (value) {\n  if (!req(value)) {\n    return true;\n  }\n\n  if (typeof value !== 'string') {\n    return false;\n  }\n\n  const nibbles = value.split('.');\n  return nibbles.length === 4 && nibbles.every(nibbleValid);\n}\n\nconst nibbleValid = nibble => {\n  if (nibble.length > 3 || nibble.length === 0) {\n    return false;\n  }\n\n  if (nibble[0] === '0' && nibble !== '0') {\n    return false;\n  }\n\n  if (!nibble.match(/^\\d+$/)) {\n    return false;\n  }\n\n  const numeric = +nibble | 0;\n  return numeric >= 0 && numeric <= 255;\n};\n\n/**\n * Validate if value is an ipAddress string.\n * @type {NormalizedValidator}\n */\n\nvar ipAddress = {\n  $validator: ipAddress$1,\n  $message: 'The value is not a valid IP address',\n  $params: {\n    type: 'ipAddress'\n  }\n};\n\n/**\n * Check if value is a properly formatted Mac Address.\n * @param {String | Ref<String>} [separator]\n * @returns {function(*): boolean}\n */\n\nfunction macAddress$1 () {\n  let separator = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ':';\n  return value => {\n    separator = unref(separator);\n\n    if (!req(value)) {\n      return true;\n    }\n\n    if (typeof value !== 'string') {\n      return false;\n    }\n\n    const parts = typeof separator === 'string' && separator !== '' ? value.split(separator) : value.length === 12 || value.length === 16 ? value.match(/.{2}/g) : null;\n    return parts !== null && (parts.length === 6 || parts.length === 8) && parts.every(hexValid);\n  };\n}\n\nconst hexValid = hex => hex.toLowerCase().match(/^[0-9a-f]{2}$/);\n\n/**\n * Validate if value is a valid Mac Address string.\n * @returns {NormalizedValidator}\n */\n\nfunction macAddress (separator) {\n  return {\n    $validator: macAddress$1(separator),\n    $message: 'The value is not a valid MAC Address',\n    $params: {\n      type: 'macAddress'\n    }\n  };\n}\n\n/**\n * Check if provided value has a maximum length\n * @param {Number | Ref<Number>} length\n * @returns {function(Array|Object|String): boolean}\n */\n\nfunction maxLength$1 (length) {\n  return value => !req(value) || len(value) <= unref(length);\n}\n\n/**\n * Validate the max length of a string.\n * @param {Number} max\n * @return {NormalizedValidator}\n */\n\nfunction maxLength (max) {\n  return {\n    $validator: maxLength$1(max),\n    $message: _ref => {\n      let {\n        $params\n      } = _ref;\n      return `The maximum length allowed is ${$params.max}`;\n    },\n    $params: {\n      max,\n      type: 'maxLength'\n    }\n  };\n}\n\n/**\n * Check if value is above a threshold.\n * @param {Number | Ref<Number>} length\n * @returns {function(Array|Object|String): boolean}\n */\n\nfunction minLength$1 (length) {\n  return value => !req(value) || len(value) >= unref(length);\n}\n\n/**\n * Check if value is above a threshold.\n * @param {Number | Ref<Number>} min\n * @returns {NormalizedValidator}\n */\n\nfunction minLength (min) {\n  return {\n    $validator: minLength$1(min),\n    $message: _ref => {\n      let {\n        $params\n      } = _ref;\n      return `This field should be at least ${$params.min} long`;\n    },\n    $params: {\n      min,\n      type: 'minLength'\n    }\n  };\n}\n\n/**\n * Validates if a value is empty.\n * @param {String | Array | Date | Object} value\n * @returns {boolean}\n */\n\nfunction required$1 (value) {\n  if (typeof value === 'string') {\n    value = value.trim();\n  }\n\n  return req(value);\n}\n\n/**\n * Check if a value is empty or not.\n * @type {NormalizedValidator}\n */\n\nvar required = {\n  $validator: required$1,\n  $message: 'Value is required',\n  $params: {\n    type: 'required'\n  }\n};\n\nconst validate$1 = (prop, val) => prop ? req(typeof val === 'string' ? val.trim() : val) : true;\n/**\n * Returns required if the passed property is truthy\n * @param {Boolean | String | function(any): Boolean | Ref<string | boolean>} propOrFunction\n * @return {function(value: *, parentVM: object): Boolean}\n */\n\n\nfunction requiredIf$1(propOrFunction) {\n  return function (value, parentVM) {\n    if (typeof propOrFunction !== 'function') {\n      return validate$1(unref(propOrFunction), value);\n    }\n\n    const result = propOrFunction.call(this, value, parentVM);\n    return validate$1(result, value);\n  };\n}\n\n/**\n * Returns required if the passed property is truthy\n * @param {Boolean | String | function(): (Boolean | Promise<boolean>)} prop\n * @return {NormalizedValidator}\n */\n\nfunction requiredIf (prop) {\n  return {\n    $validator: requiredIf$1(prop),\n    $message: 'The value is required',\n    $params: {\n      type: 'requiredIf',\n      prop\n    }\n  };\n}\n\nconst validate = (prop, val) => !prop ? req(typeof val === 'string' ? val.trim() : val) : true;\n/**\n * Returns required if the passed property is falsy.\n * @param {Boolean | String | function(any): Boolean | Ref<string | boolean>} propOrFunction\n * @return {function(value: *, parentVM: object): Boolean}\n */\n\n\nfunction requiredUnless$1(propOrFunction) {\n  return function (value, parentVM) {\n    if (typeof propOrFunction !== 'function') {\n      return validate(unref(propOrFunction), value);\n    }\n\n    const result = propOrFunction.call(this, value, parentVM);\n    return validate(result, value);\n  };\n}\n\n/**\n * Returns required unless the passed property is truthy\n * @param {Boolean | String | function(): (Boolean | Promise<boolean>)} prop\n * @return {NormalizedValidator}\n */\n\nfunction requiredUnless (prop) {\n  return {\n    $validator: requiredUnless$1(prop),\n    $message: 'The value is required',\n    $params: {\n      type: 'requiredUnless',\n      prop\n    }\n  };\n}\n\n/**\n * Check if two values are identical.\n * @param {*} equalTo\n * @return {function(*=): boolean}\n */\n\nfunction sameAs$1 (equalTo) {\n  return value => unref(value) === unref(equalTo);\n}\n\n/**\n * Check if two values are identical\n * @param {*} equalTo\n * @param {String} [otherName]\n * @return {NormalizedValidator}\n */\n\nfunction sameAs (equalTo) {\n  let otherName = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'other';\n  return {\n    $validator: sameAs$1(equalTo),\n    $message: _ref => {\n      return `The value must be equal to the ${otherName} value`;\n    },\n    $params: {\n      equalTo,\n      otherName,\n      type: 'sameAs'\n    }\n  };\n}\n\n/**\n * Regex taken from {@link https://gist.github.com/dperini/729294}\n */\n\nconst urlRegex = /^(?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?$/i;\nvar url$1 = regex(urlRegex);\n\n/**\n * Check if a value is a url\n * @type {NormalizedValidator}\n */\n\nvar url = {\n  $validator: url$1,\n  $message: 'The value is not a valid URL address',\n  $params: {\n    type: 'url'\n  }\n};\n\nfunction _await$1(value, then, direct) {\n  if (direct) {\n    return then ? then(value) : value;\n  }\n\n  if (!value || !value.then) {\n    value = Promise.resolve(value);\n  }\n\n  return then ? value.then(then) : value;\n}\n\nfunction syncOr(validators) {\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return validators.reduce((valid, fn) => {\n      if (unwrapValidatorResponse(valid)) return valid;\n      return unwrapNormalizedValidator(fn).apply(this, args);\n    }, false);\n  };\n}\n\nfunction asyncOr(validators) {\n  return function () {\n    const _this = this;\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return validators.reduce(function (valid, fn) {\n      return _await$1(valid, function (r) {\n        return unwrapValidatorResponse(r) ? r : unwrapNormalizedValidator(fn).apply(_this, args);\n      });\n    }, Promise.resolve(false));\n  };\n}\n/**\n * Returns true when one of the provided functions returns true.\n * @param {...(NormalizedValidator|Function)} validators\n * @return {{$validator: function(...[*]=): (boolean | Promise<boolean>), $async: boolean, $watchTargets: any[]}}\n */\n\n\nfunction or$1() {\n  for (var _len3 = arguments.length, validators = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n    validators[_key3] = arguments[_key3];\n  }\n\n  const $async = validators.some(v => v.$async);\n  const $watchTargets = validators.reduce((all, v) => {\n    if (!v.$watchTargets) return all;\n    return all.concat(v.$watchTargets);\n  }, []);\n\n  let $validator = () => false;\n\n  if (validators.length) $validator = $async ? asyncOr(validators) : syncOr(validators);\n  return {\n    $async,\n    $validator,\n    $watchTargets\n  };\n}\n\n/**\n * Returns true when one of the provided functions returns true.\n * @param {...(NormalizedValidator|Function)} validators\n * @return {NormalizedValidator}\n */\n\nfunction or () {\n  return withParams({\n    type: 'or'\n  }, withMessage('The value does not match any of the provided validators', or$1(...arguments)));\n}\n\nfunction _await(value, then, direct) {\n  if (direct) {\n    return then ? then(value) : value;\n  }\n\n  if (!value || !value.then) {\n    value = Promise.resolve(value);\n  }\n\n  return then ? value.then(then) : value;\n}\n/**\n *\n * @param validators\n * @return {function(...[*]=): Promise<boolean>}\n */\n\n\nfunction syncAnd(validators) {\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return validators.reduce((valid, fn) => {\n      if (!unwrapValidatorResponse(valid)) return valid;\n      return unwrapNormalizedValidator(fn).apply(this, args);\n    }, true);\n  };\n}\n\nfunction asyncAnd(validators) {\n  return function () {\n    const _this = this;\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return validators.reduce(function (valid, fn) {\n      return _await(valid, function (r) {\n        return unwrapValidatorResponse(r) ? unwrapNormalizedValidator(fn).apply(_this, args) : r;\n      });\n    }, Promise.resolve(true));\n  };\n}\n/**\n * Returns true when all validators are truthy\n * @param {...(NormalizedValidator | Function)} validators\n * @return {{$validator: function(...[*]=): (boolean | Promise<boolean>), $async: boolean, $watchTargets: any[]}}\n */\n\n\nfunction and$1() {\n  for (var _len3 = arguments.length, validators = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n    validators[_key3] = arguments[_key3];\n  }\n\n  const $async = validators.some(v => v.$async);\n  const $watchTargets = validators.reduce((all, v) => {\n    if (!v.$watchTargets) return all;\n    return all.concat(v.$watchTargets);\n  }, []);\n\n  let $validator = () => false;\n\n  if (validators.length) $validator = $async ? asyncAnd(validators) : syncAnd(validators);\n  return {\n    $async,\n    $validator,\n    $watchTargets\n  };\n}\n\n/**\n * Validate if all validators match.\n * @param {...*} validators\n * @returns {NormalizedValidator}\n */\n\nfunction and () {\n  return withParams({\n    type: 'and'\n  }, withMessage('The value does not match all of the provided validators', and$1(...arguments)));\n}\n\n/**\n * Swaps the result of a value\n * @param {NormalizedValidator|Function} validator\n * @returns {function(*=, *=): boolean}\n */\n\nfunction not$1 (validator) {\n  return function (value, vm) {\n    if (!req(value)) return true;\n    const response = unwrapNormalizedValidator(validator).call(this, value, vm);\n    if (!isPromise(response)) return !unwrapValidatorResponse(response);\n    return response.then(r => !unwrapValidatorResponse(r));\n  };\n}\n\n/**\n * Swaps the result of a value\n * @param {NormalizedValidator|Function} validator\n * @returns {NormalizedValidator}\n */\n\nfunction not (validator) {\n  return {\n    $validator: not$1(validator),\n    $message: `The value does not match the provided validator`,\n    $params: {\n      type: 'not'\n    }\n  };\n}\n\n/**\n * Check if a value is above a threshold.\n * @param {String | Number | Ref<Number> | Ref<String>} min\n * @returns {function(*=): boolean}\n */\n\nfunction minValue$1 (min) {\n  return value => !req(value) || (!/\\s/.test(value) || value instanceof Date) && +value >= +unref(min);\n}\n\n/**\n * Check if a value is above a threshold.\n * @param {String | Number | Ref<Number> | Ref<String>} min\n * @returns {NormalizedValidator}\n */\n\nfunction minValue (min) {\n  return {\n    $validator: minValue$1(min),\n    $message: _ref => {\n      let {\n        $params\n      } = _ref;\n      return `The minimum value allowed is ${$params.min}`;\n    },\n    $params: {\n      min,\n      type: 'minValue'\n    }\n  };\n}\n\n/**\n * Check if value is below a threshold.\n * @param {Number | Ref<Number> | Ref<String>} max\n * @returns {function(*=): boolean}\n */\n\nfunction maxValue$1 (max) {\n  return value => !req(value) || (!/\\s/.test(value) || value instanceof Date) && +value <= +unref(max);\n}\n\n/**\n * Check if value is below a threshold.\n * @param {Number | Ref<Number> | Ref<String>} max\n * @return {NormalizedValidator}\n */\n\nvar maxValue = (max => ({\n  $validator: maxValue$1(max),\n  $message: _ref => {\n    let {\n      $params\n    } = _ref;\n    return `The maximum value is ${$params.max}`;\n  },\n  $params: {\n    max,\n    type: 'maxValue'\n  }\n}));\n\n// ^-[0-9]+$ - only for negative integer (minus sign without at least 1 digit is not a number)\n\nvar integer$1 = regex(/(^[0-9]*$)|(^-[0-9]+$)/);\n\n/**\n * Validate if value is integer.\n * @type {NormalizedValidator}\n */\n\nvar integer = {\n  $validator: integer$1,\n  $message: 'Value is not an integer',\n  $params: {\n    type: 'integer'\n  }\n};\n\nvar decimal$1 = regex(/^[-]?\\d*(\\.\\d+)?$/);\n\n/**\n * Validate if value is decimal number.\n * @type {NormalizedValidator}\n */\n\nvar decimal = {\n  $validator: decimal$1,\n  $message: 'Value must be decimal',\n  $params: {\n    type: 'decimal'\n  }\n};\n\n/**\n * Creates a translatable version of `withMessage` helper.\n * @param {function} t - the translation function of your choice\n * @param {function} [messagePath] - a function to generate the message path, passed to `t` for each message. By default it is `validations.${$validator}`\n * @param {function} [messageParams] - a function to augment the params, passed to `t` for each message.\n */\n\nfunction createI18nMessage(_ref) {\n  let {\n    t,\n    messagePath = _ref2 => {\n      let {\n        $validator\n      } = _ref2;\n      return `validations.${$validator}`;\n    },\n    messageParams = params => params\n  } = _ref;\n  return function withI18nMessage(validator) {\n    let {\n      withArguments = false,\n      messagePath: localMessagePath = messagePath,\n      messageParams: localMessageParams = messageParams\n    } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    function message(props) {\n      return t(localMessagePath(props), localMessageParams(Object.assign({\n        model: props.$model,\n        property: props.$property,\n        pending: props.$pending,\n        invalid: props.$invalid,\n        response: props.$response,\n        validator: props.$validator,\n        propertyPath: props.$propertyPath\n      }, props.$params)));\n    }\n\n    if (withArguments && typeof validator === 'function') {\n      return function () {\n        return withMessage(message, validator(...arguments));\n      };\n    }\n\n    return withMessage(message, validator);\n  };\n}\n\nexport { alpha, alphaNum, and, between, createI18nMessage, decimal, email, common as helpers, integer, ipAddress, macAddress, maxLength, maxValue, minLength, minValue, not, numeric, or, required, requiredIf, requiredUnless, sameAs, url };\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","// This currentContext variable will only be used if the makeSlotClass\r\n// function is called, which happens only if this is the first copy of the\r\n// @wry/context package to be imported.\r\nvar currentContext = null;\r\n// This unique internal object is used to denote the absence of a value\r\n// for a given Slot, and is never exposed to outside code.\r\nvar MISSING_VALUE = {};\r\nvar idCounter = 1;\r\n// Although we can't do anything about the cost of duplicated code from\r\n// accidentally bundling multiple copies of the @wry/context package, we can\r\n// avoid creating the Slot class more than once using makeSlotClass.\r\nvar makeSlotClass = function () { return /** @class */ (function () {\r\n    function Slot() {\r\n        // If you have a Slot object, you can find out its slot.id, but you cannot\r\n        // guess the slot.id of a Slot you don't have access to, thanks to the\r\n        // randomized suffix.\r\n        this.id = [\r\n            \"slot\",\r\n            idCounter++,\r\n            Date.now(),\r\n            Math.random().toString(36).slice(2),\r\n        ].join(\":\");\r\n    }\r\n    Slot.prototype.hasValue = function () {\r\n        for (var context_1 = currentContext; context_1; context_1 = context_1.parent) {\r\n            // We use the Slot object iself as a key to its value, which means the\r\n            // value cannot be obtained without a reference to the Slot object.\r\n            if (this.id in context_1.slots) {\r\n                var value = context_1.slots[this.id];\r\n                if (value === MISSING_VALUE)\r\n                    break;\r\n                if (context_1 !== currentContext) {\r\n                    // Cache the value in currentContext.slots so the next lookup will\r\n                    // be faster. This caching is safe because the tree of contexts and\r\n                    // the values of the slots are logically immutable.\r\n                    currentContext.slots[this.id] = value;\r\n                }\r\n                return true;\r\n            }\r\n        }\r\n        if (currentContext) {\r\n            // If a value was not found for this Slot, it's never going to be found\r\n            // no matter how many times we look it up, so we might as well cache\r\n            // the absence of the value, too.\r\n            currentContext.slots[this.id] = MISSING_VALUE;\r\n        }\r\n        return false;\r\n    };\r\n    Slot.prototype.getValue = function () {\r\n        if (this.hasValue()) {\r\n            return currentContext.slots[this.id];\r\n        }\r\n    };\r\n    Slot.prototype.withValue = function (value, callback, \r\n    // Given the prevalence of arrow functions, specifying arguments is likely\r\n    // to be much more common than specifying `this`, hence this ordering:\r\n    args, thisArg) {\r\n        var _a;\r\n        var slots = (_a = {\r\n                __proto__: null\r\n            },\r\n            _a[this.id] = value,\r\n            _a);\r\n        var parent = currentContext;\r\n        currentContext = { parent: parent, slots: slots };\r\n        try {\r\n            // Function.prototype.apply allows the arguments array argument to be\r\n            // omitted or undefined, so args! is fine here.\r\n            return callback.apply(thisArg, args);\r\n        }\r\n        finally {\r\n            currentContext = parent;\r\n        }\r\n    };\r\n    // Capture the current context and wrap a callback function so that it\r\n    // reestablishes the captured context when called.\r\n    Slot.bind = function (callback) {\r\n        var context = currentContext;\r\n        return function () {\r\n            var saved = currentContext;\r\n            try {\r\n                currentContext = context;\r\n                return callback.apply(this, arguments);\r\n            }\r\n            finally {\r\n                currentContext = saved;\r\n            }\r\n        };\r\n    };\r\n    // Immediately run a callback function without any captured context.\r\n    Slot.noContext = function (callback, \r\n    // Given the prevalence of arrow functions, specifying arguments is likely\r\n    // to be much more common than specifying `this`, hence this ordering:\r\n    args, thisArg) {\r\n        if (currentContext) {\r\n            var saved = currentContext;\r\n            try {\r\n                currentContext = null;\r\n                // Function.prototype.apply allows the arguments array argument to be\r\n                // omitted or undefined, so args! is fine here.\r\n                return callback.apply(thisArg, args);\r\n            }\r\n            finally {\r\n                currentContext = saved;\r\n            }\r\n        }\r\n        else {\r\n            return callback.apply(thisArg, args);\r\n        }\r\n    };\r\n    return Slot;\r\n}()); };\r\n// We store a single global implementation of the Slot class as a permanent\r\n// non-enumerable symbol property of the Array constructor. This obfuscation\r\n// does nothing to prevent access to the Slot class, but at least it ensures\r\n// the implementation (i.e. currentContext) cannot be tampered with, and all\r\n// copies of the @wry/context package (hopefully just one) will share the\r\n// same Slot implementation. Since the first copy of the @wry/context package\r\n// to be imported wins, this technique imposes a very high cost for any\r\n// future breaking changes to the Slot class.\r\nvar globalKey = \"@wry/context:Slot\";\r\nvar host = Array;\r\nvar Slot = host[globalKey] || function () {\r\n    var Slot = makeSlotClass();\r\n    try {\r\n        Object.defineProperty(host, globalKey, {\r\n            value: host[globalKey] = Slot,\r\n            enumerable: false,\r\n            writable: false,\r\n            configurable: false,\r\n        });\r\n    }\r\n    finally {\r\n        return Slot;\r\n    }\r\n}();\n\nvar bind = Slot.bind, noContext = Slot.noContext;\r\nfunction setTimeoutWithContext(callback, delay) {\r\n    return setTimeout(bind(callback), delay);\r\n}\r\n// Turn any generator function into an async function (using yield instead\r\n// of await), with context automatically preserved across yields.\r\nfunction asyncFromGen(genFn) {\r\n    return function () {\r\n        var gen = genFn.apply(this, arguments);\r\n        var boundNext = bind(gen.next);\r\n        var boundThrow = bind(gen.throw);\r\n        return new Promise(function (resolve, reject) {\r\n            function invoke(method, argument) {\r\n                try {\r\n                    var result = method.call(gen, argument);\r\n                }\r\n                catch (error) {\r\n                    return reject(error);\r\n                }\r\n                var next = result.done ? resolve : invokeNext;\r\n                if (isPromiseLike(result.value)) {\r\n                    result.value.then(next, result.done ? reject : invokeThrow);\r\n                }\r\n                else {\r\n                    next(result.value);\r\n                }\r\n            }\r\n            var invokeNext = function (value) { return invoke(boundNext, value); };\r\n            var invokeThrow = function (error) { return invoke(boundThrow, error); };\r\n            invokeNext();\r\n        });\r\n    };\r\n}\r\nfunction isPromiseLike(value) {\r\n    return value && typeof value.then === \"function\";\r\n}\r\n// If you use the fibers npm package to implement coroutines in Node.js,\r\n// you should call this function at least once to ensure context management\r\n// remains coherent across any yields.\r\nvar wrappedFibers = [];\r\nfunction wrapYieldingFiberMethods(Fiber) {\r\n    // There can be only one implementation of Fiber per process, so this array\r\n    // should never grow longer than one element.\r\n    if (wrappedFibers.indexOf(Fiber) < 0) {\r\n        var wrap = function (obj, method) {\r\n            var fn = obj[method];\r\n            obj[method] = function () {\r\n                return noContext(fn, arguments, this);\r\n            };\r\n        };\r\n        // These methods can yield, according to\r\n        // https://github.com/laverdet/node-fibers/blob/ddebed9b8ae3883e57f822e2108e6943e5c8d2a8/fibers.js#L97-L100\r\n        wrap(Fiber, \"yield\");\r\n        wrap(Fiber.prototype, \"run\");\r\n        wrap(Fiber.prototype, \"throwInto\");\r\n        wrappedFibers.push(Fiber);\r\n    }\r\n    return Fiber;\r\n}\n\nexport { Slot, asyncFromGen, bind, noContext, setTimeoutWithContext as setTimeout, wrapYieldingFiberMethods };\n//# sourceMappingURL=context.esm.js.map\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es-x/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || Function('return this')();\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","let supported;\nlet perf;\nexport function isPerformanceSupported() {\n    var _a;\n    if (supported !== undefined) {\n        return supported;\n    }\n    if (typeof window !== 'undefined' && window.performance) {\n        supported = true;\n        perf = window.performance;\n    }\n    else if (typeof global !== 'undefined' && ((_a = global.perf_hooks) === null || _a === void 0 ? void 0 : _a.performance)) {\n        supported = true;\n        perf = global.perf_hooks.performance;\n    }\n    else {\n        supported = false;\n    }\n    return supported;\n}\nexport function now() {\n    return isPerformanceSupported() ? perf.now() : Date.now();\n}\n","export function iterateObserversSafely(observers, method, argument) {\n    var observersWithMethod = [];\n    observers.forEach(function (obs) { return obs[method] && observersWithMethod.push(obs); });\n    observersWithMethod.forEach(function (obs) { return obs[method](argument); });\n}\n//# sourceMappingURL=iteration.js.map","import { dep } from \"optimism\";\nimport { Slot } from \"@wry/context\";\nexport var cacheSlot = new Slot();\nvar cacheInfoMap = new WeakMap();\nfunction getCacheInfo(cache) {\n    var info = cacheInfoMap.get(cache);\n    if (!info) {\n        cacheInfoMap.set(cache, info = {\n            vars: new Set,\n            dep: dep(),\n        });\n    }\n    return info;\n}\nexport function forgetCache(cache) {\n    getCacheInfo(cache).vars.forEach(function (rv) { return rv.forgetCache(cache); });\n}\nexport function recallCache(cache) {\n    getCacheInfo(cache).vars.forEach(function (rv) { return rv.attachCache(cache); });\n}\nexport function makeVar(value) {\n    var caches = new Set();\n    var listeners = new Set();\n    var rv = function (newValue) {\n        if (arguments.length > 0) {\n            if (value !== newValue) {\n                value = newValue;\n                caches.forEach(function (cache) {\n                    getCacheInfo(cache).dep.dirty(rv);\n                    broadcast(cache);\n                });\n                var oldListeners = Array.from(listeners);\n                listeners.clear();\n                oldListeners.forEach(function (listener) { return listener(value); });\n            }\n        }\n        else {\n            var cache = cacheSlot.getValue();\n            if (cache) {\n                attach(cache);\n                getCacheInfo(cache).dep(rv);\n            }\n        }\n        return value;\n    };\n    rv.onNextChange = function (listener) {\n        listeners.add(listener);\n        return function () {\n            listeners.delete(listener);\n        };\n    };\n    var attach = rv.attachCache = function (cache) {\n        caches.add(cache);\n        getCacheInfo(cache).vars.add(rv);\n        return rv;\n    };\n    rv.forgetCache = function (cache) { return caches.delete(cache); };\n    return rv;\n}\nfunction broadcast(cache) {\n    if (cache.broadcastWatches) {\n        cache.broadcastWatches();\n    }\n}\n//# sourceMappingURL=reactiveVars.js.map","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar V8_PROTOTYPE_DEFINE_BUG = require('../internals/v8-prototype-define-bug');\nvar anObject = require('../internals/an-object');\nvar toPropertyKey = require('../internals/to-property-key');\n\nvar $TypeError = TypeError;\n// eslint-disable-next-line es-x/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n// eslint-disable-next-line es-x/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar ENUMERABLE = 'enumerable';\nvar CONFIGURABLE = 'configurable';\nvar WRITABLE = 'writable';\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? V8_PROTOTYPE_DEFINE_BUG ? function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (typeof O === 'function' && P === 'prototype' && 'value' in Attributes && WRITABLE in Attributes && !Attributes[WRITABLE]) {\n    var current = $getOwnPropertyDescriptor(O, P);\n    if (current && current[WRITABLE]) {\n      O[P] = Attributes.value;\n      Attributes = {\n        configurable: CONFIGURABLE in Attributes ? Attributes[CONFIGURABLE] : current[CONFIGURABLE],\n        enumerable: ENUMERABLE in Attributes ? Attributes[ENUMERABLE] : current[ENUMERABLE],\n        writable: false\n      };\n    }\n  } return $defineProperty(O, P, Attributes);\n} : $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw $TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nvar id = 0;\nvar postfix = Math.random();\nvar toString = uncurryThis(1.0.toString);\n\nmodule.exports = function (key) {\n  return 'Symbol(' + (key === undefined ? '' : key) + ')_' + toString(++id + postfix, 36);\n};\n","import { isThenable } from './is.js';\n\n/* eslint-disable @typescript-eslint/explicit-function-return-type */\n\n/** SyncPromise internal states */\nvar States; (function (States) {\n  /** Pending */\n  const PENDING = 0; States[States[\"PENDING\"] = PENDING] = \"PENDING\";\n  /** Resolved / OK */\n  const RESOLVED = 1; States[States[\"RESOLVED\"] = RESOLVED] = \"RESOLVED\";\n  /** Rejected / Error */\n  const REJECTED = 2; States[States[\"REJECTED\"] = REJECTED] = \"REJECTED\";\n})(States || (States = {}));\n\n// Overloads so we can call resolvedSyncPromise without arguments and generic argument\n\n/**\n * Creates a resolved sync promise.\n *\n * @param value the value to resolve the promise with\n * @returns the resolved sync promise\n */\nfunction resolvedSyncPromise(value) {\n  return new SyncPromise(resolve => {\n    resolve(value);\n  });\n}\n\n/**\n * Creates a rejected sync promise.\n *\n * @param value the value to reject the promise with\n * @returns the rejected sync promise\n */\nfunction rejectedSyncPromise(reason) {\n  return new SyncPromise((_, reject) => {\n    reject(reason);\n  });\n}\n\n/**\n * Thenable class that behaves like a Promise and follows it's interface\n * but is not async internally\n */\nclass SyncPromise {\n   __init() {this._state = States.PENDING;}\n   __init2() {this._handlers = [];}\n\n   constructor(\n    executor,\n  ) {;SyncPromise.prototype.__init.call(this);SyncPromise.prototype.__init2.call(this);SyncPromise.prototype.__init3.call(this);SyncPromise.prototype.__init4.call(this);SyncPromise.prototype.__init5.call(this);SyncPromise.prototype.__init6.call(this);\n    try {\n      executor(this._resolve, this._reject);\n    } catch (e) {\n      this._reject(e);\n    }\n  }\n\n  /** JSDoc */\n   then(\n    onfulfilled,\n    onrejected,\n  ) {\n    return new SyncPromise((resolve, reject) => {\n      this._handlers.push([\n        false,\n        result => {\n          if (!onfulfilled) {\n            // TODO: \\_()_/\n            // TODO: FIXME\n            resolve(result );\n          } else {\n            try {\n              resolve(onfulfilled(result));\n            } catch (e) {\n              reject(e);\n            }\n          }\n        },\n        reason => {\n          if (!onrejected) {\n            reject(reason);\n          } else {\n            try {\n              resolve(onrejected(reason));\n            } catch (e) {\n              reject(e);\n            }\n          }\n        },\n      ]);\n      this._executeHandlers();\n    });\n  }\n\n  /** JSDoc */\n   catch(\n    onrejected,\n  ) {\n    return this.then(val => val, onrejected);\n  }\n\n  /** JSDoc */\n   finally(onfinally) {\n    return new SyncPromise((resolve, reject) => {\n      let val;\n      let isRejected;\n\n      return this.then(\n        value => {\n          isRejected = false;\n          val = value;\n          if (onfinally) {\n            onfinally();\n          }\n        },\n        reason => {\n          isRejected = true;\n          val = reason;\n          if (onfinally) {\n            onfinally();\n          }\n        },\n      ).then(() => {\n        if (isRejected) {\n          reject(val);\n          return;\n        }\n\n        resolve(val );\n      });\n    });\n  }\n\n  /** JSDoc */\n    __init3() {this._resolve = (value) => {\n    this._setResult(States.RESOLVED, value);\n  };}\n\n  /** JSDoc */\n    __init4() {this._reject = (reason) => {\n    this._setResult(States.REJECTED, reason);\n  };}\n\n  /** JSDoc */\n    __init5() {this._setResult = (state, value) => {\n    if (this._state !== States.PENDING) {\n      return;\n    }\n\n    if (isThenable(value)) {\n      void (value ).then(this._resolve, this._reject);\n      return;\n    }\n\n    this._state = state;\n    this._value = value;\n\n    this._executeHandlers();\n  };}\n\n  /** JSDoc */\n    __init6() {this._executeHandlers = () => {\n    if (this._state === States.PENDING) {\n      return;\n    }\n\n    const cachedHandlers = this._handlers.slice();\n    this._handlers = [];\n\n    cachedHandlers.forEach(handler => {\n      if (handler[0]) {\n        return;\n      }\n\n      if (this._state === States.RESOLVED) {\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\n        handler[1](this._value );\n      }\n\n      if (this._state === States.REJECTED) {\n        handler[2](this._value);\n      }\n\n      handler[0] = true;\n    });\n  };}\n}\n\nexport { SyncPromise, rejectedSyncPromise, resolvedSyncPromise };\n//# sourceMappingURL=syncpromise.js.map\n","/**\n  * vue-class-component v8.0.0-rc.1\n  * (c) 2015-present Evan You\n  * @license MIT\n  */\nimport { ref, proxyRefs } from 'vue';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction defineGetter(obj, key, getter) {\n  Object.defineProperty(obj, key, {\n    get: getter,\n    enumerable: false,\n    configurable: true\n  });\n}\n\nfunction defineProxy(proxy, key, target) {\n  Object.defineProperty(proxy, key, {\n    get: function get() {\n      return target[key].value;\n    },\n    set: function set(value) {\n      target[key].value = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n}\n\nfunction getSuper(Ctor) {\n  var superProto = Object.getPrototypeOf(Ctor.prototype);\n\n  if (!superProto) {\n    return undefined;\n  }\n\n  return superProto.constructor;\n}\n\nfunction getOwn(value, key) {\n  return value.hasOwnProperty(key) ? value[key] : undefined;\n}\n\nvar VueImpl = /*#__PURE__*/function () {\n  function VueImpl(props, ctx) {\n    var _this = this;\n\n    _classCallCheck(this, VueImpl);\n\n    defineGetter(this, '$props', function () {\n      return props;\n    });\n    defineGetter(this, '$attrs', function () {\n      return ctx.attrs;\n    });\n    defineGetter(this, '$slots', function () {\n      return ctx.slots;\n    });\n    defineGetter(this, '$emit', function () {\n      return ctx.emit;\n    });\n    Object.keys(props).forEach(function (key) {\n      Object.defineProperty(_this, key, {\n        enumerable: false,\n        configurable: true,\n        writable: true,\n        value: props[key]\n      });\n    });\n  }\n\n  _createClass(VueImpl, null, [{\n    key: \"registerHooks\",\n    value: function registerHooks(keys) {\n      var _this$__h;\n\n      (_this$__h = this.__h).push.apply(_this$__h, _toConsumableArray(keys));\n    }\n  }, {\n    key: \"with\",\n    value: function _with(Props) {\n      var propsMeta = new Props();\n      var props = {};\n      Object.keys(propsMeta).forEach(function (key) {\n        var meta = propsMeta[key];\n        props[key] = meta !== null && meta !== void 0 ? meta : null;\n      });\n\n      var PropsMixin = /*#__PURE__*/function (_this2) {\n        _inherits(PropsMixin, _this2);\n\n        var _super = _createSuper(PropsMixin);\n\n        function PropsMixin() {\n          _classCallCheck(this, PropsMixin);\n\n          return _super.apply(this, arguments);\n        }\n\n        return PropsMixin;\n      }(this);\n\n      PropsMixin.__b = {\n        props: props\n      };\n      return PropsMixin;\n    }\n  }, {\n    key: \"__vccOpts\",\n    get: function get() {\n      // Early return if `this` is base class as it does not have any options\n      if (this === Vue) {\n        return {};\n      }\n\n      var Ctor = this;\n      var cache = getOwn(Ctor, '__c');\n\n      if (cache) {\n        return cache;\n      } // If the options are provided via decorator use it as a base\n\n\n      var options = _objectSpread2({}, getOwn(Ctor, '__o'));\n\n      Ctor.__c = options; // Handle super class options\n\n      var Super = getSuper(Ctor);\n\n      if (Super) {\n        options[\"extends\"] = Super.__vccOpts;\n      } // Inject base options as a mixin\n\n\n      var base = getOwn(Ctor, '__b');\n\n      if (base) {\n        options.mixins = options.mixins || [];\n        options.mixins.unshift(base);\n      }\n\n      options.methods = _objectSpread2({}, options.methods);\n      options.computed = _objectSpread2({}, options.computed);\n      var proto = Ctor.prototype;\n      Object.getOwnPropertyNames(proto).forEach(function (key) {\n        if (key === 'constructor') {\n          return;\n        } // hooks\n\n\n        if (Ctor.__h.indexOf(key) > -1) {\n          options[key] = proto[key];\n          return;\n        }\n\n        var descriptor = Object.getOwnPropertyDescriptor(proto, key); // methods\n\n        if (typeof descriptor.value === 'function') {\n          options.methods[key] = descriptor.value;\n          return;\n        } // computed properties\n\n\n        if (descriptor.get || descriptor.set) {\n          options.computed[key] = {\n            get: descriptor.get,\n            set: descriptor.set\n          };\n          return;\n        }\n      });\n\n      options.setup = function (props, ctx) {\n        var _promise;\n\n        var data = new Ctor(props, ctx);\n        var dataKeys = Object.keys(data);\n        var plainData = {};\n        var promise = null; // Initialize reactive data and convert constructor `this` to a proxy\n\n        dataKeys.forEach(function (key) {\n          // Skip if the value is undefined not to make it reactive.\n          // If the value has `__s`, it's a value from `setup` helper, proceed it later.\n          if (data[key] === undefined || data[key] && data[key].__s) {\n            return;\n          }\n\n          plainData[key] = ref(data[key]);\n          defineProxy(data, key, plainData);\n        }); // Invoke composition functions\n\n        dataKeys.forEach(function (key) {\n          if (data[key] && data[key].__s) {\n            var setupState = data[key].__s();\n\n            if (setupState instanceof Promise) {\n              if (!promise) {\n                promise = Promise.resolve(plainData);\n              }\n\n              promise = promise.then(function () {\n                return setupState.then(function (value) {\n                  plainData[key] = proxyRefs(value);\n                  return plainData;\n                });\n              });\n            } else {\n              plainData[key] = proxyRefs(setupState);\n            }\n          }\n        });\n        return (_promise = promise) !== null && _promise !== void 0 ? _promise : plainData;\n      };\n\n      var decorators = getOwn(Ctor, '__d');\n\n      if (decorators) {\n        decorators.forEach(function (fn) {\n          return fn(options);\n        });\n      } // from Vue Loader\n\n\n      var injections = ['render', 'ssrRender', '__file', '__cssModules', '__scopeId', '__hmrId'];\n      injections.forEach(function (key) {\n        if (Ctor[key]) {\n          options[key] = Ctor[key];\n        }\n      });\n      return options;\n    }\n  }]);\n\n  return VueImpl;\n}();\n\nVueImpl.__h = ['data', 'beforeCreate', 'created', 'beforeMount', 'mounted', 'beforeUnmount', 'unmounted', 'beforeUpdate', 'updated', 'activated', 'deactivated', 'render', 'errorCaptured', 'serverPrefetch'];\nvar Vue = VueImpl;\n\nfunction Options(options) {\n  return function (Component) {\n    Component.__o = options;\n    return Component;\n  };\n}\nfunction createDecorator(factory) {\n  return function (target, key, index) {\n    var Ctor = typeof target === 'function' ? target : target.constructor;\n\n    if (!Ctor.__d) {\n      Ctor.__d = [];\n    }\n\n    if (typeof index !== 'number') {\n      index = undefined;\n    }\n\n    Ctor.__d.push(function (options) {\n      return factory(options, key, index);\n    });\n  };\n}\nfunction mixins() {\n  for (var _len = arguments.length, Ctors = new Array(_len), _key = 0; _key < _len; _key++) {\n    Ctors[_key] = arguments[_key];\n  }\n\n  var _a;\n\n  return _a = /*#__PURE__*/function (_Vue) {\n    _inherits(MixedVue, _Vue);\n\n    var _super = _createSuper(MixedVue);\n\n    function MixedVue() {\n      var _this;\n\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      _classCallCheck(this, MixedVue);\n\n      _this = _super.call.apply(_super, [this].concat(args));\n      Ctors.forEach(function (Ctor) {\n        var data = _construct(Ctor, args);\n\n        Object.keys(data).forEach(function (key) {\n          _this[key] = data[key];\n        });\n      });\n      return _this;\n    }\n\n    return MixedVue;\n  }(Vue), _a.__b = {\n    mixins: Ctors.map(function (Ctor) {\n      return Ctor.__vccOpts;\n    })\n  }, _a;\n}\nfunction setup(setupFn) {\n  // Hack to delay the invocation of setup function.\n  // Will be called after dealing with class properties.\n  return {\n    __s: setupFn\n  };\n}\n\n// Actual implementation\nfunction prop(options) {\n  return options;\n}\n\nexport { Options, Vue, createDecorator, mixins, prop, setup };\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nvar $Error = Error;\nvar replace = uncurryThis(''.replace);\n\nvar TEST = (function (arg) { return String($Error(arg).stack); })('zxcasd');\nvar V8_OR_CHAKRA_STACK_ENTRY = /\\n\\s*at [^:]*:[^\\n]*/;\nvar IS_V8_OR_CHAKRA_STACK = V8_OR_CHAKRA_STACK_ENTRY.test(TEST);\n\nmodule.exports = function (stack, dropEntries) {\n  if (IS_V8_OR_CHAKRA_STACK && typeof stack == 'string' && !$Error.prepareStackTrace) {\n    while (dropEntries--) stack = replace(stack, V8_OR_CHAKRA_STACK_ENTRY, '');\n  } return stack;\n};\n","import { __extends } from \"tslib\";\nimport { Observable } from \"../../utilities/index.js\";\nimport { ApolloLink } from \"../core/index.js\";\nexport function onError(errorHandler) {\n    return new ApolloLink(function (operation, forward) {\n        return new Observable(function (observer) {\n            var sub;\n            var retriedSub;\n            var retriedResult;\n            try {\n                sub = forward(operation).subscribe({\n                    next: function (result) {\n                        if (result.errors) {\n                            retriedResult = errorHandler({\n                                graphQLErrors: result.errors,\n                                response: result,\n                                operation: operation,\n                                forward: forward,\n                            });\n                            if (retriedResult) {\n                                retriedSub = retriedResult.subscribe({\n                                    next: observer.next.bind(observer),\n                                    error: observer.error.bind(observer),\n                                    complete: observer.complete.bind(observer),\n                                });\n                                return;\n                            }\n                        }\n                        observer.next(result);\n                    },\n                    error: function (networkError) {\n                        retriedResult = errorHandler({\n                            operation: operation,\n                            networkError: networkError,\n                            graphQLErrors: networkError &&\n                                networkError.result &&\n                                networkError.result.errors,\n                            forward: forward,\n                        });\n                        if (retriedResult) {\n                            retriedSub = retriedResult.subscribe({\n                                next: observer.next.bind(observer),\n                                error: observer.error.bind(observer),\n                                complete: observer.complete.bind(observer),\n                            });\n                            return;\n                        }\n                        observer.error(networkError);\n                    },\n                    complete: function () {\n                        if (!retriedResult) {\n                            observer.complete.bind(observer)();\n                        }\n                    },\n                });\n            }\n            catch (e) {\n                errorHandler({ networkError: e, operation: operation, forward: forward });\n                observer.error(e);\n            }\n            return function () {\n                if (sub)\n                    sub.unsubscribe();\n                if (retriedSub)\n                    sub.unsubscribe();\n            };\n        });\n    });\n}\nvar ErrorLink = (function (_super) {\n    __extends(ErrorLink, _super);\n    function ErrorLink(errorHandler) {\n        var _this = _super.call(this) || this;\n        _this.link = onError(errorHandler);\n        return _this;\n    }\n    ErrorLink.prototype.request = function (operation, forward) {\n        return this.link.request(operation, forward);\n    };\n    return ErrorLink;\n}(ApolloLink));\nexport { ErrorLink };\n//# sourceMappingURL=index.js.map","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var defineProperty = require('../internals/object-define-property').f;\n\nmodule.exports = function (Target, Source, key) {\n  key in Target || defineProperty(Target, key, {\n    configurable: true,\n    get: function () { return Source[key]; },\n    set: function (it) { Source[key] = it; }\n  });\n};\n","import { isReference, isField, DeepMerger, resultKeyNameFromField, shouldInclude, isNonNullObject, compact, } from \"../../utilities/index.js\";\nexport var hasOwn = Object.prototype.hasOwnProperty;\nexport function defaultDataIdFromObject(_a, context) {\n    var __typename = _a.__typename, id = _a.id, _id = _a._id;\n    if (typeof __typename === \"string\") {\n        if (context) {\n            context.keyObject =\n                id !== void 0 ? { id: id } :\n                    _id !== void 0 ? { _id: _id } :\n                        void 0;\n        }\n        if (id === void 0)\n            id = _id;\n        if (id !== void 0) {\n            return \"\".concat(__typename, \":\").concat((typeof id === \"number\" ||\n                typeof id === \"string\") ? id : JSON.stringify(id));\n        }\n    }\n}\nvar defaultConfig = {\n    dataIdFromObject: defaultDataIdFromObject,\n    addTypename: true,\n    resultCaching: true,\n    canonizeResults: false,\n};\nexport function normalizeConfig(config) {\n    return compact(defaultConfig, config);\n}\nexport function shouldCanonizeResults(config) {\n    var value = config.canonizeResults;\n    return value === void 0 ? defaultConfig.canonizeResults : value;\n}\nexport function getTypenameFromStoreObject(store, objectOrReference) {\n    return isReference(objectOrReference)\n        ? store.get(objectOrReference.__ref, \"__typename\")\n        : objectOrReference && objectOrReference.__typename;\n}\nexport var TypeOrFieldNameRegExp = /^[_a-z][_0-9a-z]*/i;\nexport function fieldNameFromStoreName(storeFieldName) {\n    var match = storeFieldName.match(TypeOrFieldNameRegExp);\n    return match ? match[0] : storeFieldName;\n}\nexport function selectionSetMatchesResult(selectionSet, result, variables) {\n    if (isNonNullObject(result)) {\n        return isArray(result)\n            ? result.every(function (item) { return selectionSetMatchesResult(selectionSet, item, variables); })\n            : selectionSet.selections.every(function (field) {\n                if (isField(field) && shouldInclude(field, variables)) {\n                    var key = resultKeyNameFromField(field);\n                    return hasOwn.call(result, key) &&\n                        (!field.selectionSet ||\n                            selectionSetMatchesResult(field.selectionSet, result[key], variables));\n                }\n                return true;\n            });\n    }\n    return false;\n}\nexport function storeValueIsStoreObject(value) {\n    return isNonNullObject(value) &&\n        !isReference(value) &&\n        !isArray(value);\n}\nexport function makeProcessedFieldsMerger() {\n    return new DeepMerger;\n}\nexport var isArray = function (a) { return Array.isArray(a); };\n//# sourceMappingURL=helpers.js.map","import { isPlainObject, dateTimestampInSeconds, SyncPromise, logger, isThenable, arrayify, getGlobalSingleton } from '@sentry/utils';\nimport { updateSession } from './session.js';\n\n/**\n * Default value for maximum number of breadcrumbs added to an event.\n */\nconst DEFAULT_MAX_BREADCRUMBS = 100;\n\n/**\n * Holds additional event information. {@link Scope.applyToEvent} will be\n * called by the client before an event will be sent.\n */\nclass Scope  {\n  /** Flag if notifying is happening. */\n\n  /** Callback for client to receive scope changes. */\n\n  /** Callback list that will be called after {@link applyToEvent}. */\n\n  /** Array of breadcrumbs. */\n\n  /** User */\n\n  /** Tags */\n\n  /** Extra */\n\n  /** Contexts */\n\n  /** Attachments */\n\n  /**\n   * A place to stash data which is needed at some point in the SDK's event processing pipeline but which shouldn't get\n   * sent to Sentry\n   */\n\n  /** Fingerprint */\n\n  /** Severity */\n  // eslint-disable-next-line deprecation/deprecation\n\n  /** Transaction Name */\n\n  /** Span */\n\n  /** Session */\n\n  /** Request Mode Session Status */\n\n  // NOTE: Any field which gets added here should get added not only to the constructor but also to the `clone` method.\n\n   constructor() {\n    this._notifyingListeners = false;\n    this._scopeListeners = [];\n    this._eventProcessors = [];\n    this._breadcrumbs = [];\n    this._attachments = [];\n    this._user = {};\n    this._tags = {};\n    this._extra = {};\n    this._contexts = {};\n    this._sdkProcessingMetadata = {};\n  }\n\n  /**\n   * Inherit values from the parent scope.\n   * @param scope to clone.\n   */\n   static clone(scope) {\n    const newScope = new Scope();\n    if (scope) {\n      newScope._breadcrumbs = [...scope._breadcrumbs];\n      newScope._tags = { ...scope._tags };\n      newScope._extra = { ...scope._extra };\n      newScope._contexts = { ...scope._contexts };\n      newScope._user = scope._user;\n      newScope._level = scope._level;\n      newScope._span = scope._span;\n      newScope._session = scope._session;\n      newScope._transactionName = scope._transactionName;\n      newScope._fingerprint = scope._fingerprint;\n      newScope._eventProcessors = [...scope._eventProcessors];\n      newScope._requestSession = scope._requestSession;\n      newScope._attachments = [...scope._attachments];\n      newScope._sdkProcessingMetadata = { ...scope._sdkProcessingMetadata };\n    }\n    return newScope;\n  }\n\n  /**\n   * Add internal on change listener. Used for sub SDKs that need to store the scope.\n   * @hidden\n   */\n   addScopeListener(callback) {\n    this._scopeListeners.push(callback);\n  }\n\n  /**\n   * @inheritDoc\n   */\n   addEventProcessor(callback) {\n    this._eventProcessors.push(callback);\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setUser(user) {\n    this._user = user || {};\n    if (this._session) {\n      updateSession(this._session, { user });\n    }\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   getUser() {\n    return this._user;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   getRequestSession() {\n    return this._requestSession;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setRequestSession(requestSession) {\n    this._requestSession = requestSession;\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setTags(tags) {\n    this._tags = {\n      ...this._tags,\n      ...tags,\n    };\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setTag(key, value) {\n    this._tags = { ...this._tags, [key]: value };\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setExtras(extras) {\n    this._extra = {\n      ...this._extra,\n      ...extras,\n    };\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setExtra(key, extra) {\n    this._extra = { ...this._extra, [key]: extra };\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setFingerprint(fingerprint) {\n    this._fingerprint = fingerprint;\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setLevel(\n    // eslint-disable-next-line deprecation/deprecation\n    level,\n  ) {\n    this._level = level;\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setTransactionName(name) {\n    this._transactionName = name;\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setContext(key, context) {\n    if (context === null) {\n      // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n      delete this._contexts[key];\n    } else {\n      this._contexts[key] = context;\n    }\n\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setSpan(span) {\n    this._span = span;\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   getSpan() {\n    return this._span;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   getTransaction() {\n    // Often, this span (if it exists at all) will be a transaction, but it's not guaranteed to be. Regardless, it will\n    // have a pointer to the currently-active transaction.\n    const span = this.getSpan();\n    return span && span.transaction;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setSession(session) {\n    if (!session) {\n      delete this._session;\n    } else {\n      this._session = session;\n    }\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   getSession() {\n    return this._session;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   update(captureContext) {\n    if (!captureContext) {\n      return this;\n    }\n\n    if (typeof captureContext === 'function') {\n      const updatedScope = (captureContext )(this);\n      return updatedScope instanceof Scope ? updatedScope : this;\n    }\n\n    if (captureContext instanceof Scope) {\n      this._tags = { ...this._tags, ...captureContext._tags };\n      this._extra = { ...this._extra, ...captureContext._extra };\n      this._contexts = { ...this._contexts, ...captureContext._contexts };\n      if (captureContext._user && Object.keys(captureContext._user).length) {\n        this._user = captureContext._user;\n      }\n      if (captureContext._level) {\n        this._level = captureContext._level;\n      }\n      if (captureContext._fingerprint) {\n        this._fingerprint = captureContext._fingerprint;\n      }\n      if (captureContext._requestSession) {\n        this._requestSession = captureContext._requestSession;\n      }\n    } else if (isPlainObject(captureContext)) {\n      // eslint-disable-next-line no-param-reassign\n      captureContext = captureContext ;\n      this._tags = { ...this._tags, ...captureContext.tags };\n      this._extra = { ...this._extra, ...captureContext.extra };\n      this._contexts = { ...this._contexts, ...captureContext.contexts };\n      if (captureContext.user) {\n        this._user = captureContext.user;\n      }\n      if (captureContext.level) {\n        this._level = captureContext.level;\n      }\n      if (captureContext.fingerprint) {\n        this._fingerprint = captureContext.fingerprint;\n      }\n      if (captureContext.requestSession) {\n        this._requestSession = captureContext.requestSession;\n      }\n    }\n\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   clear() {\n    this._breadcrumbs = [];\n    this._tags = {};\n    this._extra = {};\n    this._user = {};\n    this._contexts = {};\n    this._level = undefined;\n    this._transactionName = undefined;\n    this._fingerprint = undefined;\n    this._requestSession = undefined;\n    this._span = undefined;\n    this._session = undefined;\n    this._notifyScopeListeners();\n    this._attachments = [];\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   addBreadcrumb(breadcrumb, maxBreadcrumbs) {\n    const maxCrumbs = typeof maxBreadcrumbs === 'number' ? maxBreadcrumbs : DEFAULT_MAX_BREADCRUMBS;\n\n    // No data has been changed, so don't notify scope listeners\n    if (maxCrumbs <= 0) {\n      return this;\n    }\n\n    const mergedBreadcrumb = {\n      timestamp: dateTimestampInSeconds(),\n      ...breadcrumb,\n    };\n    this._breadcrumbs = [...this._breadcrumbs, mergedBreadcrumb].slice(-maxCrumbs);\n    this._notifyScopeListeners();\n\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   clearBreadcrumbs() {\n    this._breadcrumbs = [];\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   addAttachment(attachment) {\n    this._attachments.push(attachment);\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   getAttachments() {\n    return this._attachments;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   clearAttachments() {\n    this._attachments = [];\n    return this;\n  }\n\n  /**\n   * Applies data from the scope to the event and runs all event processors on it.\n   *\n   * @param event Event\n   * @param hint Object containing additional information about the original exception, for use by the event processors.\n   * @hidden\n   */\n   applyToEvent(event, hint = {}) {\n    if (this._extra && Object.keys(this._extra).length) {\n      event.extra = { ...this._extra, ...event.extra };\n    }\n    if (this._tags && Object.keys(this._tags).length) {\n      event.tags = { ...this._tags, ...event.tags };\n    }\n    if (this._user && Object.keys(this._user).length) {\n      event.user = { ...this._user, ...event.user };\n    }\n    if (this._contexts && Object.keys(this._contexts).length) {\n      event.contexts = { ...this._contexts, ...event.contexts };\n    }\n    if (this._level) {\n      event.level = this._level;\n    }\n    if (this._transactionName) {\n      event.transaction = this._transactionName;\n    }\n\n    // We want to set the trace context for normal events only if there isn't already\n    // a trace context on the event. There is a product feature in place where we link\n    // errors with transaction and it relies on that.\n    if (this._span) {\n      event.contexts = { trace: this._span.getTraceContext(), ...event.contexts };\n      const transactionName = this._span.transaction && this._span.transaction.name;\n      if (transactionName) {\n        event.tags = { transaction: transactionName, ...event.tags };\n      }\n    }\n\n    this._applyFingerprint(event);\n\n    event.breadcrumbs = [...(event.breadcrumbs || []), ...this._breadcrumbs];\n    event.breadcrumbs = event.breadcrumbs.length > 0 ? event.breadcrumbs : undefined;\n\n    event.sdkProcessingMetadata = { ...event.sdkProcessingMetadata, ...this._sdkProcessingMetadata };\n\n    return this._notifyEventProcessors([...getGlobalEventProcessors(), ...this._eventProcessors], event, hint);\n  }\n\n  /**\n   * Add data which will be accessible during event processing but won't get sent to Sentry\n   */\n   setSDKProcessingMetadata(newData) {\n    this._sdkProcessingMetadata = { ...this._sdkProcessingMetadata, ...newData };\n\n    return this;\n  }\n\n  /**\n   * This will be called after {@link applyToEvent} is finished.\n   */\n   _notifyEventProcessors(\n    processors,\n    event,\n    hint,\n    index = 0,\n  ) {\n    return new SyncPromise((resolve, reject) => {\n      const processor = processors[index];\n      if (event === null || typeof processor !== 'function') {\n        resolve(event);\n      } else {\n        const result = processor({ ...event }, hint) ;\n\n        (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) &&\n          processor.id &&\n          result === null &&\n          logger.log(`Event processor \"${processor.id}\" dropped event`);\n\n        if (isThenable(result)) {\n          void result\n            .then(final => this._notifyEventProcessors(processors, final, hint, index + 1).then(resolve))\n            .then(null, reject);\n        } else {\n          void this._notifyEventProcessors(processors, result, hint, index + 1)\n            .then(resolve)\n            .then(null, reject);\n        }\n      }\n    });\n  }\n\n  /**\n   * This will be called on every set call.\n   */\n   _notifyScopeListeners() {\n    // We need this check for this._notifyingListeners to be able to work on scope during updates\n    // If this check is not here we'll produce endless recursion when something is done with the scope\n    // during the callback.\n    if (!this._notifyingListeners) {\n      this._notifyingListeners = true;\n      this._scopeListeners.forEach(callback => {\n        callback(this);\n      });\n      this._notifyingListeners = false;\n    }\n  }\n\n  /**\n   * Applies fingerprint from the scope to the event if there's one,\n   * uses message if there's one instead or get rid of empty fingerprint\n   */\n   _applyFingerprint(event) {\n    // Make sure it's an array first and we actually have something in place\n    event.fingerprint = event.fingerprint ? arrayify(event.fingerprint) : [];\n\n    // If we have something on the scope, then merge it with event\n    if (this._fingerprint) {\n      event.fingerprint = event.fingerprint.concat(this._fingerprint);\n    }\n\n    // If we have no data at all, remove empty array default\n    if (event.fingerprint && !event.fingerprint.length) {\n      delete event.fingerprint;\n    }\n  }\n}\n\n/**\n * Returns the global event processors.\n */\nfunction getGlobalEventProcessors() {\n  return getGlobalSingleton('globalEventProcessors', () => []);\n}\n\n/**\n * Add a EventProcessor to be kept globally.\n * @param callback EventProcessor to add\n */\nfunction addGlobalEventProcessor(callback) {\n  getGlobalEventProcessors().push(callback);\n}\n\nexport { Scope, addGlobalEventProcessor };\n//# sourceMappingURL=scope.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.withoutGraphQLFetch = exports.excludeGraphQLFetch = void 0;\nvar excludeGraphQLFetch = function (breadcrumb) {\n    var _a, _b;\n    if (breadcrumb.category === 'fetch') {\n        var url = (_b = (_a = breadcrumb.data) === null || _a === void 0 ? void 0 : _a.url) !== null && _b !== void 0 ? _b : '';\n        if (url.includes('/graphql')) {\n            return null;\n        }\n    }\n    return breadcrumb;\n};\nexports.excludeGraphQLFetch = excludeGraphQLFetch;\nfunction withoutGraphQLFetch(beforeBreadcrumb) {\n    return function (breadcrumb, hint) {\n        var withoutFetch = (0, exports.excludeGraphQLFetch)(breadcrumb, hint);\n        if (withoutFetch === null) {\n            return null;\n        }\n        return beforeBreadcrumb(withoutFetch, hint);\n    };\n}\nexports.withoutGraphQLFetch = withoutGraphQLFetch;\n","import { withScope, captureException } from '@sentry/core';\nimport { GLOBAL_OBJ, getOriginalFunction, addExceptionTypeValue, addExceptionMechanism, markFunctionWrapped, addNonEnumerableProperty } from '@sentry/utils';\n\nconst WINDOW = GLOBAL_OBJ ;\n\nlet ignoreOnError = 0;\n\n/**\n * @hidden\n */\nfunction shouldIgnoreOnError() {\n  return ignoreOnError > 0;\n}\n\n/**\n * @hidden\n */\nfunction ignoreNextOnError() {\n  // onerror should trigger before setTimeout\n  ignoreOnError += 1;\n  setTimeout(() => {\n    ignoreOnError -= 1;\n  });\n}\n\n/**\n * Instruments the given function and sends an event to Sentry every time the\n * function throws an exception.\n *\n * @param fn A function to wrap. It is generally safe to pass an unbound function, because the returned wrapper always\n * has a correct `this` context.\n * @returns The wrapped function.\n * @hidden\n */\nfunction wrap(\n  fn,\n  options\n\n = {},\n  before,\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n) {\n  // for future readers what this does is wrap a function and then create\n  // a bi-directional wrapping between them.\n  //\n  // example: wrapped = wrap(original);\n  //  original.__sentry_wrapped__ -> wrapped\n  //  wrapped.__sentry_original__ -> original\n\n  if (typeof fn !== 'function') {\n    return fn;\n  }\n\n  try {\n    // if we're dealing with a function that was previously wrapped, return\n    // the original wrapper.\n    const wrapper = fn.__sentry_wrapped__;\n    if (wrapper) {\n      return wrapper;\n    }\n\n    // We don't wanna wrap it twice\n    if (getOriginalFunction(fn)) {\n      return fn;\n    }\n  } catch (e) {\n    // Just accessing custom props in some Selenium environments\n    // can cause a \"Permission denied\" exception (see raven-js#495).\n    // Bail on wrapping and return the function as-is (defers to window.onerror).\n    return fn;\n  }\n\n  /* eslint-disable prefer-rest-params */\n  // It is important that `sentryWrapped` is not an arrow function to preserve the context of `this`\n  const sentryWrapped = function () {\n    const args = Array.prototype.slice.call(arguments);\n\n    try {\n      if (before && typeof before === 'function') {\n        before.apply(this, arguments);\n      }\n\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/no-unsafe-member-access\n      const wrappedArguments = args.map((arg) => wrap(arg, options));\n\n      // Attempt to invoke user-land function\n      // NOTE: If you are a Sentry user, and you are seeing this stack frame, it\n      //       means the sentry.javascript SDK caught an error invoking your application code. This\n      //       is expected behavior and NOT indicative of a bug with sentry.javascript.\n      return fn.apply(this, wrappedArguments);\n    } catch (ex) {\n      ignoreNextOnError();\n\n      withScope((scope) => {\n        scope.addEventProcessor((event) => {\n          if (options.mechanism) {\n            addExceptionTypeValue(event, undefined, undefined);\n            addExceptionMechanism(event, options.mechanism);\n          }\n\n          event.extra = {\n            ...event.extra,\n            arguments: args,\n          };\n\n          return event;\n        });\n\n        captureException(ex);\n      });\n\n      throw ex;\n    }\n  };\n  /* eslint-enable prefer-rest-params */\n\n  // Accessing some objects may throw\n  // ref: https://github.com/getsentry/sentry-javascript/issues/1168\n  try {\n    for (const property in fn) {\n      if (Object.prototype.hasOwnProperty.call(fn, property)) {\n        sentryWrapped[property] = fn[property];\n      }\n    }\n  } catch (_oO) {} // eslint-disable-line no-empty\n\n  // Signal that this function has been wrapped/filled already\n  // for both debugging and to prevent it to being wrapped/filled twice\n  markFunctionWrapped(sentryWrapped, fn);\n\n  addNonEnumerableProperty(fn, '__sentry_wrapped__', sentryWrapped);\n\n  // Restore original function name (not all browsers allow that)\n  try {\n    const descriptor = Object.getOwnPropertyDescriptor(sentryWrapped, 'name') ;\n    if (descriptor.configurable) {\n      Object.defineProperty(sentryWrapped, 'name', {\n        get() {\n          return fn.name;\n        },\n      });\n    }\n    // eslint-disable-next-line no-empty\n  } catch (_oO) {}\n\n  return sentryWrapped;\n}\n\n/**\n * All properties the report dialog supports\n */\n\nexport { WINDOW, ignoreNextOnError, shouldIgnoreOnError, wrap };\n//# sourceMappingURL=helpers.js.map\n","/**\n * The set of allowed kind values for AST nodes.\n */\nexport let Kind;\n/**\n * The enum type representing the possible kind values of AST nodes.\n *\n * @deprecated Please use `Kind`. Will be remove in v17.\n */\n\n(function (Kind) {\n  Kind['NAME'] = 'Name';\n  Kind['DOCUMENT'] = 'Document';\n  Kind['OPERATION_DEFINITION'] = 'OperationDefinition';\n  Kind['VARIABLE_DEFINITION'] = 'VariableDefinition';\n  Kind['SELECTION_SET'] = 'SelectionSet';\n  Kind['FIELD'] = 'Field';\n  Kind['ARGUMENT'] = 'Argument';\n  Kind['FRAGMENT_SPREAD'] = 'FragmentSpread';\n  Kind['INLINE_FRAGMENT'] = 'InlineFragment';\n  Kind['FRAGMENT_DEFINITION'] = 'FragmentDefinition';\n  Kind['VARIABLE'] = 'Variable';\n  Kind['INT'] = 'IntValue';\n  Kind['FLOAT'] = 'FloatValue';\n  Kind['STRING'] = 'StringValue';\n  Kind['BOOLEAN'] = 'BooleanValue';\n  Kind['NULL'] = 'NullValue';\n  Kind['ENUM'] = 'EnumValue';\n  Kind['LIST'] = 'ListValue';\n  Kind['OBJECT'] = 'ObjectValue';\n  Kind['OBJECT_FIELD'] = 'ObjectField';\n  Kind['DIRECTIVE'] = 'Directive';\n  Kind['NAMED_TYPE'] = 'NamedType';\n  Kind['LIST_TYPE'] = 'ListType';\n  Kind['NON_NULL_TYPE'] = 'NonNullType';\n  Kind['SCHEMA_DEFINITION'] = 'SchemaDefinition';\n  Kind['OPERATION_TYPE_DEFINITION'] = 'OperationTypeDefinition';\n  Kind['SCALAR_TYPE_DEFINITION'] = 'ScalarTypeDefinition';\n  Kind['OBJECT_TYPE_DEFINITION'] = 'ObjectTypeDefinition';\n  Kind['FIELD_DEFINITION'] = 'FieldDefinition';\n  Kind['INPUT_VALUE_DEFINITION'] = 'InputValueDefinition';\n  Kind['INTERFACE_TYPE_DEFINITION'] = 'InterfaceTypeDefinition';\n  Kind['UNION_TYPE_DEFINITION'] = 'UnionTypeDefinition';\n  Kind['ENUM_TYPE_DEFINITION'] = 'EnumTypeDefinition';\n  Kind['ENUM_VALUE_DEFINITION'] = 'EnumValueDefinition';\n  Kind['INPUT_OBJECT_TYPE_DEFINITION'] = 'InputObjectTypeDefinition';\n  Kind['DIRECTIVE_DEFINITION'] = 'DirectiveDefinition';\n  Kind['SCHEMA_EXTENSION'] = 'SchemaExtension';\n  Kind['SCALAR_TYPE_EXTENSION'] = 'ScalarTypeExtension';\n  Kind['OBJECT_TYPE_EXTENSION'] = 'ObjectTypeExtension';\n  Kind['INTERFACE_TYPE_EXTENSION'] = 'InterfaceTypeExtension';\n  Kind['UNION_TYPE_EXTENSION'] = 'UnionTypeExtension';\n  Kind['ENUM_TYPE_EXTENSION'] = 'EnumTypeExtension';\n  Kind['INPUT_OBJECT_TYPE_EXTENSION'] = 'InputObjectTypeExtension';\n})(Kind || (Kind = {}));\n","// eslint-disable-next-line es-x/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n","import { InvariantError } from \"../globals/index.js\";\nimport { isNonNullObject } from \"../common/objects.js\";\nimport { getFragmentFromSelection } from \"./fragments.js\";\nexport function makeReference(id) {\n    return { __ref: String(id) };\n}\nexport function isReference(obj) {\n    return Boolean(obj && typeof obj === 'object' && typeof obj.__ref === 'string');\n}\nexport function isDocumentNode(value) {\n    return (isNonNullObject(value) &&\n        value.kind === \"Document\" &&\n        Array.isArray(value.definitions));\n}\nfunction isStringValue(value) {\n    return value.kind === 'StringValue';\n}\nfunction isBooleanValue(value) {\n    return value.kind === 'BooleanValue';\n}\nfunction isIntValue(value) {\n    return value.kind === 'IntValue';\n}\nfunction isFloatValue(value) {\n    return value.kind === 'FloatValue';\n}\nfunction isVariable(value) {\n    return value.kind === 'Variable';\n}\nfunction isObjectValue(value) {\n    return value.kind === 'ObjectValue';\n}\nfunction isListValue(value) {\n    return value.kind === 'ListValue';\n}\nfunction isEnumValue(value) {\n    return value.kind === 'EnumValue';\n}\nfunction isNullValue(value) {\n    return value.kind === 'NullValue';\n}\nexport function valueToObjectRepresentation(argObj, name, value, variables) {\n    if (isIntValue(value) || isFloatValue(value)) {\n        argObj[name.value] = Number(value.value);\n    }\n    else if (isBooleanValue(value) || isStringValue(value)) {\n        argObj[name.value] = value.value;\n    }\n    else if (isObjectValue(value)) {\n        var nestedArgObj_1 = {};\n        value.fields.map(function (obj) {\n            return valueToObjectRepresentation(nestedArgObj_1, obj.name, obj.value, variables);\n        });\n        argObj[name.value] = nestedArgObj_1;\n    }\n    else if (isVariable(value)) {\n        var variableValue = (variables || {})[value.name.value];\n        argObj[name.value] = variableValue;\n    }\n    else if (isListValue(value)) {\n        argObj[name.value] = value.values.map(function (listValue) {\n            var nestedArgArrayObj = {};\n            valueToObjectRepresentation(nestedArgArrayObj, name, listValue, variables);\n            return nestedArgArrayObj[name.value];\n        });\n    }\n    else if (isEnumValue(value)) {\n        argObj[name.value] = value.value;\n    }\n    else if (isNullValue(value)) {\n        argObj[name.value] = null;\n    }\n    else {\n        throw __DEV__ ? new InvariantError(\"The inline argument \\\"\".concat(name.value, \"\\\" of kind \\\"\").concat(value.kind, \"\\\"\") +\n            'is not supported. Use variables instead of inline arguments to ' +\n            'overcome this limitation.') : new InvariantError(52);\n    }\n}\nexport function storeKeyNameFromField(field, variables) {\n    var directivesObj = null;\n    if (field.directives) {\n        directivesObj = {};\n        field.directives.forEach(function (directive) {\n            directivesObj[directive.name.value] = {};\n            if (directive.arguments) {\n                directive.arguments.forEach(function (_a) {\n                    var name = _a.name, value = _a.value;\n                    return valueToObjectRepresentation(directivesObj[directive.name.value], name, value, variables);\n                });\n            }\n        });\n    }\n    var argObj = null;\n    if (field.arguments && field.arguments.length) {\n        argObj = {};\n        field.arguments.forEach(function (_a) {\n            var name = _a.name, value = _a.value;\n            return valueToObjectRepresentation(argObj, name, value, variables);\n        });\n    }\n    return getStoreKeyName(field.name.value, argObj, directivesObj);\n}\nvar KNOWN_DIRECTIVES = [\n    'connection',\n    'include',\n    'skip',\n    'client',\n    'rest',\n    'export',\n];\nexport var getStoreKeyName = Object.assign(function (fieldName, args, directives) {\n    if (args &&\n        directives &&\n        directives['connection'] &&\n        directives['connection']['key']) {\n        if (directives['connection']['filter'] &&\n            directives['connection']['filter'].length > 0) {\n            var filterKeys = directives['connection']['filter']\n                ? directives['connection']['filter']\n                : [];\n            filterKeys.sort();\n            var filteredArgs_1 = {};\n            filterKeys.forEach(function (key) {\n                filteredArgs_1[key] = args[key];\n            });\n            return \"\".concat(directives['connection']['key'], \"(\").concat(stringify(filteredArgs_1), \")\");\n        }\n        else {\n            return directives['connection']['key'];\n        }\n    }\n    var completeFieldName = fieldName;\n    if (args) {\n        var stringifiedArgs = stringify(args);\n        completeFieldName += \"(\".concat(stringifiedArgs, \")\");\n    }\n    if (directives) {\n        Object.keys(directives).forEach(function (key) {\n            if (KNOWN_DIRECTIVES.indexOf(key) !== -1)\n                return;\n            if (directives[key] && Object.keys(directives[key]).length) {\n                completeFieldName += \"@\".concat(key, \"(\").concat(stringify(directives[key]), \")\");\n            }\n            else {\n                completeFieldName += \"@\".concat(key);\n            }\n        });\n    }\n    return completeFieldName;\n}, {\n    setStringify: function (s) {\n        var previous = stringify;\n        stringify = s;\n        return previous;\n    },\n});\nvar stringify = function defaultStringify(value) {\n    return JSON.stringify(value, stringifyReplacer);\n};\nfunction stringifyReplacer(_key, value) {\n    if (isNonNullObject(value) && !Array.isArray(value)) {\n        value = Object.keys(value).sort().reduce(function (copy, key) {\n            copy[key] = value[key];\n            return copy;\n        }, {});\n    }\n    return value;\n}\nexport function argumentsObjectFromField(field, variables) {\n    if (field.arguments && field.arguments.length) {\n        var argObj_1 = {};\n        field.arguments.forEach(function (_a) {\n            var name = _a.name, value = _a.value;\n            return valueToObjectRepresentation(argObj_1, name, value, variables);\n        });\n        return argObj_1;\n    }\n    return null;\n}\nexport function resultKeyNameFromField(field) {\n    return field.alias ? field.alias.value : field.name.value;\n}\nexport function getTypenameFromResult(result, selectionSet, fragmentMap) {\n    if (typeof result.__typename === 'string') {\n        return result.__typename;\n    }\n    for (var _i = 0, _a = selectionSet.selections; _i < _a.length; _i++) {\n        var selection = _a[_i];\n        if (isField(selection)) {\n            if (selection.name.value === '__typename') {\n                return result[resultKeyNameFromField(selection)];\n            }\n        }\n        else {\n            var typename = getTypenameFromResult(result, getFragmentFromSelection(selection, fragmentMap).selectionSet, fragmentMap);\n            if (typeof typename === 'string') {\n                return typename;\n            }\n        }\n    }\n}\nexport function isField(selection) {\n    return selection.kind === 'Field';\n}\nexport function isInlineFragment(selection) {\n    return selection.kind === 'InlineFragment';\n}\n//# sourceMappingURL=storeUtils.js.map","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","import { __assign, __spreadArray } from \"tslib\";\nimport { invariant, InvariantError } from \"../globals/index.js\";\nexport function getFragmentQueryDocument(document, fragmentName) {\n    var actualFragmentName = fragmentName;\n    var fragments = [];\n    document.definitions.forEach(function (definition) {\n        if (definition.kind === 'OperationDefinition') {\n            throw __DEV__ ? new InvariantError(\"Found a \".concat(definition.operation, \" operation\").concat(definition.name ? \" named '\".concat(definition.name.value, \"'\") : '', \". \") +\n                'No operations are allowed when using a fragment as a query. Only fragments are allowed.') : new InvariantError(41);\n        }\n        if (definition.kind === 'FragmentDefinition') {\n            fragments.push(definition);\n        }\n    });\n    if (typeof actualFragmentName === 'undefined') {\n        __DEV__ ? invariant(fragments.length === 1, \"Found \".concat(fragments.length, \" fragments. `fragmentName` must be provided when there is not exactly 1 fragment.\")) : invariant(fragments.length === 1, 42);\n        actualFragmentName = fragments[0].name.value;\n    }\n    var query = __assign(__assign({}, document), { definitions: __spreadArray([\n            {\n                kind: 'OperationDefinition',\n                operation: 'query',\n                selectionSet: {\n                    kind: 'SelectionSet',\n                    selections: [\n                        {\n                            kind: 'FragmentSpread',\n                            name: {\n                                kind: 'Name',\n                                value: actualFragmentName,\n                            },\n                        },\n                    ],\n                },\n            }\n        ], document.definitions, true) });\n    return query;\n}\nexport function createFragmentMap(fragments) {\n    if (fragments === void 0) { fragments = []; }\n    var symTable = {};\n    fragments.forEach(function (fragment) {\n        symTable[fragment.name.value] = fragment;\n    });\n    return symTable;\n}\nexport function getFragmentFromSelection(selection, fragmentMap) {\n    switch (selection.kind) {\n        case 'InlineFragment':\n            return selection;\n        case 'FragmentSpread': {\n            var fragment = fragmentMap && fragmentMap[selection.name.value];\n            __DEV__ ? invariant(fragment, \"No fragment named \".concat(selection.name.value, \".\")) : invariant(fragment, 43);\n            return fragment;\n        }\n        default:\n            return null;\n    }\n}\n//# sourceMappingURL=fragments.js.map","/*!\n * vuex v4.0.2\n * (c) 2021 Evan You\n * @license MIT\n */\nimport { inject, reactive, watch } from 'vue';\nimport { setupDevtoolsPlugin } from '@vue/devtools-api';\n\nvar storeKey = 'store';\n\nfunction useStore (key) {\n  if ( key === void 0 ) key = null;\n\n  return inject(key !== null ? key : storeKey)\n}\n\n/**\n * Get the first item that pass the test\n * by second argument function\n *\n * @param {Array} list\n * @param {Function} f\n * @return {*}\n */\nfunction find (list, f) {\n  return list.filter(f)[0]\n}\n\n/**\n * Deep copy the given object considering circular structure.\n * This function caches all nested objects and its copies.\n * If it detects circular structure, use cached copy to avoid infinite loop.\n *\n * @param {*} obj\n * @param {Array<Object>} cache\n * @return {*}\n */\nfunction deepCopy (obj, cache) {\n  if ( cache === void 0 ) cache = [];\n\n  // just return if obj is immutable value\n  if (obj === null || typeof obj !== 'object') {\n    return obj\n  }\n\n  // if obj is hit, it is in circular structure\n  var hit = find(cache, function (c) { return c.original === obj; });\n  if (hit) {\n    return hit.copy\n  }\n\n  var copy = Array.isArray(obj) ? [] : {};\n  // put the copy into cache at first\n  // because we want to refer it in recursive deepCopy\n  cache.push({\n    original: obj,\n    copy: copy\n  });\n\n  Object.keys(obj).forEach(function (key) {\n    copy[key] = deepCopy(obj[key], cache);\n  });\n\n  return copy\n}\n\n/**\n * forEach for object\n */\nfunction forEachValue (obj, fn) {\n  Object.keys(obj).forEach(function (key) { return fn(obj[key], key); });\n}\n\nfunction isObject (obj) {\n  return obj !== null && typeof obj === 'object'\n}\n\nfunction isPromise (val) {\n  return val && typeof val.then === 'function'\n}\n\nfunction assert (condition, msg) {\n  if (!condition) { throw new Error((\"[vuex] \" + msg)) }\n}\n\nfunction partial (fn, arg) {\n  return function () {\n    return fn(arg)\n  }\n}\n\nfunction genericSubscribe (fn, subs, options) {\n  if (subs.indexOf(fn) < 0) {\n    options && options.prepend\n      ? subs.unshift(fn)\n      : subs.push(fn);\n  }\n  return function () {\n    var i = subs.indexOf(fn);\n    if (i > -1) {\n      subs.splice(i, 1);\n    }\n  }\n}\n\nfunction resetStore (store, hot) {\n  store._actions = Object.create(null);\n  store._mutations = Object.create(null);\n  store._wrappedGetters = Object.create(null);\n  store._modulesNamespaceMap = Object.create(null);\n  var state = store.state;\n  // init all modules\n  installModule(store, state, [], store._modules.root, true);\n  // reset state\n  resetStoreState(store, state, hot);\n}\n\nfunction resetStoreState (store, state, hot) {\n  var oldState = store._state;\n\n  // bind store public getters\n  store.getters = {};\n  // reset local getters cache\n  store._makeLocalGettersCache = Object.create(null);\n  var wrappedGetters = store._wrappedGetters;\n  var computedObj = {};\n  forEachValue(wrappedGetters, function (fn, key) {\n    // use computed to leverage its lazy-caching mechanism\n    // direct inline function use will lead to closure preserving oldState.\n    // using partial to return function with only arguments preserved in closure environment.\n    computedObj[key] = partial(fn, store);\n    Object.defineProperty(store.getters, key, {\n      // TODO: use `computed` when it's possible. at the moment we can't due to\n      // https://github.com/vuejs/vuex/pull/1883\n      get: function () { return computedObj[key](); },\n      enumerable: true // for local getters\n    });\n  });\n\n  store._state = reactive({\n    data: state\n  });\n\n  // enable strict mode for new state\n  if (store.strict) {\n    enableStrictMode(store);\n  }\n\n  if (oldState) {\n    if (hot) {\n      // dispatch changes in all subscribed watchers\n      // to force getter re-evaluation for hot reloading.\n      store._withCommit(function () {\n        oldState.data = null;\n      });\n    }\n  }\n}\n\nfunction installModule (store, rootState, path, module, hot) {\n  var isRoot = !path.length;\n  var namespace = store._modules.getNamespace(path);\n\n  // register in namespace map\n  if (module.namespaced) {\n    if (store._modulesNamespaceMap[namespace] && true) {\n      console.error((\"[vuex] duplicate namespace \" + namespace + \" for the namespaced module \" + (path.join('/'))));\n    }\n    store._modulesNamespaceMap[namespace] = module;\n  }\n\n  // set state\n  if (!isRoot && !hot) {\n    var parentState = getNestedState(rootState, path.slice(0, -1));\n    var moduleName = path[path.length - 1];\n    store._withCommit(function () {\n      {\n        if (moduleName in parentState) {\n          console.warn(\n            (\"[vuex] state field \\\"\" + moduleName + \"\\\" was overridden by a module with the same name at \\\"\" + (path.join('.')) + \"\\\"\")\n          );\n        }\n      }\n      parentState[moduleName] = module.state;\n    });\n  }\n\n  var local = module.context = makeLocalContext(store, namespace, path);\n\n  module.forEachMutation(function (mutation, key) {\n    var namespacedType = namespace + key;\n    registerMutation(store, namespacedType, mutation, local);\n  });\n\n  module.forEachAction(function (action, key) {\n    var type = action.root ? key : namespace + key;\n    var handler = action.handler || action;\n    registerAction(store, type, handler, local);\n  });\n\n  module.forEachGetter(function (getter, key) {\n    var namespacedType = namespace + key;\n    registerGetter(store, namespacedType, getter, local);\n  });\n\n  module.forEachChild(function (child, key) {\n    installModule(store, rootState, path.concat(key), child, hot);\n  });\n}\n\n/**\n * make localized dispatch, commit, getters and state\n * if there is no namespace, just use root ones\n */\nfunction makeLocalContext (store, namespace, path) {\n  var noNamespace = namespace === '';\n\n  var local = {\n    dispatch: noNamespace ? store.dispatch : function (_type, _payload, _options) {\n      var args = unifyObjectStyle(_type, _payload, _options);\n      var payload = args.payload;\n      var options = args.options;\n      var type = args.type;\n\n      if (!options || !options.root) {\n        type = namespace + type;\n        if (!store._actions[type]) {\n          console.error((\"[vuex] unknown local action type: \" + (args.type) + \", global type: \" + type));\n          return\n        }\n      }\n\n      return store.dispatch(type, payload)\n    },\n\n    commit: noNamespace ? store.commit : function (_type, _payload, _options) {\n      var args = unifyObjectStyle(_type, _payload, _options);\n      var payload = args.payload;\n      var options = args.options;\n      var type = args.type;\n\n      if (!options || !options.root) {\n        type = namespace + type;\n        if (!store._mutations[type]) {\n          console.error((\"[vuex] unknown local mutation type: \" + (args.type) + \", global type: \" + type));\n          return\n        }\n      }\n\n      store.commit(type, payload, options);\n    }\n  };\n\n  // getters and state object must be gotten lazily\n  // because they will be changed by state update\n  Object.defineProperties(local, {\n    getters: {\n      get: noNamespace\n        ? function () { return store.getters; }\n        : function () { return makeLocalGetters(store, namespace); }\n    },\n    state: {\n      get: function () { return getNestedState(store.state, path); }\n    }\n  });\n\n  return local\n}\n\nfunction makeLocalGetters (store, namespace) {\n  if (!store._makeLocalGettersCache[namespace]) {\n    var gettersProxy = {};\n    var splitPos = namespace.length;\n    Object.keys(store.getters).forEach(function (type) {\n      // skip if the target getter is not match this namespace\n      if (type.slice(0, splitPos) !== namespace) { return }\n\n      // extract local getter type\n      var localType = type.slice(splitPos);\n\n      // Add a port to the getters proxy.\n      // Define as getter property because\n      // we do not want to evaluate the getters in this time.\n      Object.defineProperty(gettersProxy, localType, {\n        get: function () { return store.getters[type]; },\n        enumerable: true\n      });\n    });\n    store._makeLocalGettersCache[namespace] = gettersProxy;\n  }\n\n  return store._makeLocalGettersCache[namespace]\n}\n\nfunction registerMutation (store, type, handler, local) {\n  var entry = store._mutations[type] || (store._mutations[type] = []);\n  entry.push(function wrappedMutationHandler (payload) {\n    handler.call(store, local.state, payload);\n  });\n}\n\nfunction registerAction (store, type, handler, local) {\n  var entry = store._actions[type] || (store._actions[type] = []);\n  entry.push(function wrappedActionHandler (payload) {\n    var res = handler.call(store, {\n      dispatch: local.dispatch,\n      commit: local.commit,\n      getters: local.getters,\n      state: local.state,\n      rootGetters: store.getters,\n      rootState: store.state\n    }, payload);\n    if (!isPromise(res)) {\n      res = Promise.resolve(res);\n    }\n    if (store._devtoolHook) {\n      return res.catch(function (err) {\n        store._devtoolHook.emit('vuex:error', err);\n        throw err\n      })\n    } else {\n      return res\n    }\n  });\n}\n\nfunction registerGetter (store, type, rawGetter, local) {\n  if (store._wrappedGetters[type]) {\n    {\n      console.error((\"[vuex] duplicate getter key: \" + type));\n    }\n    return\n  }\n  store._wrappedGetters[type] = function wrappedGetter (store) {\n    return rawGetter(\n      local.state, // local state\n      local.getters, // local getters\n      store.state, // root state\n      store.getters // root getters\n    )\n  };\n}\n\nfunction enableStrictMode (store) {\n  watch(function () { return store._state.data; }, function () {\n    {\n      assert(store._committing, \"do not mutate vuex store state outside mutation handlers.\");\n    }\n  }, { deep: true, flush: 'sync' });\n}\n\nfunction getNestedState (state, path) {\n  return path.reduce(function (state, key) { return state[key]; }, state)\n}\n\nfunction unifyObjectStyle (type, payload, options) {\n  if (isObject(type) && type.type) {\n    options = payload;\n    payload = type;\n    type = type.type;\n  }\n\n  {\n    assert(typeof type === 'string', (\"expects string as the type, but found \" + (typeof type) + \".\"));\n  }\n\n  return { type: type, payload: payload, options: options }\n}\n\nvar LABEL_VUEX_BINDINGS = 'vuex bindings';\nvar MUTATIONS_LAYER_ID = 'vuex:mutations';\nvar ACTIONS_LAYER_ID = 'vuex:actions';\nvar INSPECTOR_ID = 'vuex';\n\nvar actionId = 0;\n\nfunction addDevtools (app, store) {\n  setupDevtoolsPlugin(\n    {\n      id: 'org.vuejs.vuex',\n      app: app,\n      label: 'Vuex',\n      homepage: 'https://next.vuex.vuejs.org/',\n      logo: 'https://vuejs.org/images/icons/favicon-96x96.png',\n      packageName: 'vuex',\n      componentStateTypes: [LABEL_VUEX_BINDINGS]\n    },\n    function (api) {\n      api.addTimelineLayer({\n        id: MUTATIONS_LAYER_ID,\n        label: 'Vuex Mutations',\n        color: COLOR_LIME_500\n      });\n\n      api.addTimelineLayer({\n        id: ACTIONS_LAYER_ID,\n        label: 'Vuex Actions',\n        color: COLOR_LIME_500\n      });\n\n      api.addInspector({\n        id: INSPECTOR_ID,\n        label: 'Vuex',\n        icon: 'storage',\n        treeFilterPlaceholder: 'Filter stores...'\n      });\n\n      api.on.getInspectorTree(function (payload) {\n        if (payload.app === app && payload.inspectorId === INSPECTOR_ID) {\n          if (payload.filter) {\n            var nodes = [];\n            flattenStoreForInspectorTree(nodes, store._modules.root, payload.filter, '');\n            payload.rootNodes = nodes;\n          } else {\n            payload.rootNodes = [\n              formatStoreForInspectorTree(store._modules.root, '')\n            ];\n          }\n        }\n      });\n\n      api.on.getInspectorState(function (payload) {\n        if (payload.app === app && payload.inspectorId === INSPECTOR_ID) {\n          var modulePath = payload.nodeId;\n          makeLocalGetters(store, modulePath);\n          payload.state = formatStoreForInspectorState(\n            getStoreModule(store._modules, modulePath),\n            modulePath === 'root' ? store.getters : store._makeLocalGettersCache,\n            modulePath\n          );\n        }\n      });\n\n      api.on.editInspectorState(function (payload) {\n        if (payload.app === app && payload.inspectorId === INSPECTOR_ID) {\n          var modulePath = payload.nodeId;\n          var path = payload.path;\n          if (modulePath !== 'root') {\n            path = modulePath.split('/').filter(Boolean).concat( path);\n          }\n          store._withCommit(function () {\n            payload.set(store._state.data, path, payload.state.value);\n          });\n        }\n      });\n\n      store.subscribe(function (mutation, state) {\n        var data = {};\n\n        if (mutation.payload) {\n          data.payload = mutation.payload;\n        }\n\n        data.state = state;\n\n        api.notifyComponentUpdate();\n        api.sendInspectorTree(INSPECTOR_ID);\n        api.sendInspectorState(INSPECTOR_ID);\n\n        api.addTimelineEvent({\n          layerId: MUTATIONS_LAYER_ID,\n          event: {\n            time: Date.now(),\n            title: mutation.type,\n            data: data\n          }\n        });\n      });\n\n      store.subscribeAction({\n        before: function (action, state) {\n          var data = {};\n          if (action.payload) {\n            data.payload = action.payload;\n          }\n          action._id = actionId++;\n          action._time = Date.now();\n          data.state = state;\n\n          api.addTimelineEvent({\n            layerId: ACTIONS_LAYER_ID,\n            event: {\n              time: action._time,\n              title: action.type,\n              groupId: action._id,\n              subtitle: 'start',\n              data: data\n            }\n          });\n        },\n        after: function (action, state) {\n          var data = {};\n          var duration = Date.now() - action._time;\n          data.duration = {\n            _custom: {\n              type: 'duration',\n              display: (duration + \"ms\"),\n              tooltip: 'Action duration',\n              value: duration\n            }\n          };\n          if (action.payload) {\n            data.payload = action.payload;\n          }\n          data.state = state;\n\n          api.addTimelineEvent({\n            layerId: ACTIONS_LAYER_ID,\n            event: {\n              time: Date.now(),\n              title: action.type,\n              groupId: action._id,\n              subtitle: 'end',\n              data: data\n            }\n          });\n        }\n      });\n    }\n  );\n}\n\n// extracted from tailwind palette\nvar COLOR_LIME_500 = 0x84cc16;\nvar COLOR_DARK = 0x666666;\nvar COLOR_WHITE = 0xffffff;\n\nvar TAG_NAMESPACED = {\n  label: 'namespaced',\n  textColor: COLOR_WHITE,\n  backgroundColor: COLOR_DARK\n};\n\n/**\n * @param {string} path\n */\nfunction extractNameFromPath (path) {\n  return path && path !== 'root' ? path.split('/').slice(-2, -1)[0] : 'Root'\n}\n\n/**\n * @param {*} module\n * @return {import('@vue/devtools-api').CustomInspectorNode}\n */\nfunction formatStoreForInspectorTree (module, path) {\n  return {\n    id: path || 'root',\n    // all modules end with a `/`, we want the last segment only\n    // cart/ -> cart\n    // nested/cart/ -> cart\n    label: extractNameFromPath(path),\n    tags: module.namespaced ? [TAG_NAMESPACED] : [],\n    children: Object.keys(module._children).map(function (moduleName) { return formatStoreForInspectorTree(\n        module._children[moduleName],\n        path + moduleName + '/'\n      ); }\n    )\n  }\n}\n\n/**\n * @param {import('@vue/devtools-api').CustomInspectorNode[]} result\n * @param {*} module\n * @param {string} filter\n * @param {string} path\n */\nfunction flattenStoreForInspectorTree (result, module, filter, path) {\n  if (path.includes(filter)) {\n    result.push({\n      id: path || 'root',\n      label: path.endsWith('/') ? path.slice(0, path.length - 1) : path || 'Root',\n      tags: module.namespaced ? [TAG_NAMESPACED] : []\n    });\n  }\n  Object.keys(module._children).forEach(function (moduleName) {\n    flattenStoreForInspectorTree(result, module._children[moduleName], filter, path + moduleName + '/');\n  });\n}\n\n/**\n * @param {*} module\n * @return {import('@vue/devtools-api').CustomInspectorState}\n */\nfunction formatStoreForInspectorState (module, getters, path) {\n  getters = path === 'root' ? getters : getters[path];\n  var gettersKeys = Object.keys(getters);\n  var storeState = {\n    state: Object.keys(module.state).map(function (key) { return ({\n      key: key,\n      editable: true,\n      value: module.state[key]\n    }); })\n  };\n\n  if (gettersKeys.length) {\n    var tree = transformPathsToObjectTree(getters);\n    storeState.getters = Object.keys(tree).map(function (key) { return ({\n      key: key.endsWith('/') ? extractNameFromPath(key) : key,\n      editable: false,\n      value: canThrow(function () { return tree[key]; })\n    }); });\n  }\n\n  return storeState\n}\n\nfunction transformPathsToObjectTree (getters) {\n  var result = {};\n  Object.keys(getters).forEach(function (key) {\n    var path = key.split('/');\n    if (path.length > 1) {\n      var target = result;\n      var leafKey = path.pop();\n      path.forEach(function (p) {\n        if (!target[p]) {\n          target[p] = {\n            _custom: {\n              value: {},\n              display: p,\n              tooltip: 'Module',\n              abstract: true\n            }\n          };\n        }\n        target = target[p]._custom.value;\n      });\n      target[leafKey] = canThrow(function () { return getters[key]; });\n    } else {\n      result[key] = canThrow(function () { return getters[key]; });\n    }\n  });\n  return result\n}\n\nfunction getStoreModule (moduleMap, path) {\n  var names = path.split('/').filter(function (n) { return n; });\n  return names.reduce(\n    function (module, moduleName, i) {\n      var child = module[moduleName];\n      if (!child) {\n        throw new Error((\"Missing module \\\"\" + moduleName + \"\\\" for path \\\"\" + path + \"\\\".\"))\n      }\n      return i === names.length - 1 ? child : child._children\n    },\n    path === 'root' ? moduleMap : moduleMap.root._children\n  )\n}\n\nfunction canThrow (cb) {\n  try {\n    return cb()\n  } catch (e) {\n    return e\n  }\n}\n\n// Base data struct for store's module, package with some attribute and method\nvar Module = function Module (rawModule, runtime) {\n  this.runtime = runtime;\n  // Store some children item\n  this._children = Object.create(null);\n  // Store the origin module object which passed by programmer\n  this._rawModule = rawModule;\n  var rawState = rawModule.state;\n\n  // Store the origin module's state\n  this.state = (typeof rawState === 'function' ? rawState() : rawState) || {};\n};\n\nvar prototypeAccessors$1 = { namespaced: { configurable: true } };\n\nprototypeAccessors$1.namespaced.get = function () {\n  return !!this._rawModule.namespaced\n};\n\nModule.prototype.addChild = function addChild (key, module) {\n  this._children[key] = module;\n};\n\nModule.prototype.removeChild = function removeChild (key) {\n  delete this._children[key];\n};\n\nModule.prototype.getChild = function getChild (key) {\n  return this._children[key]\n};\n\nModule.prototype.hasChild = function hasChild (key) {\n  return key in this._children\n};\n\nModule.prototype.update = function update (rawModule) {\n  this._rawModule.namespaced = rawModule.namespaced;\n  if (rawModule.actions) {\n    this._rawModule.actions = rawModule.actions;\n  }\n  if (rawModule.mutations) {\n    this._rawModule.mutations = rawModule.mutations;\n  }\n  if (rawModule.getters) {\n    this._rawModule.getters = rawModule.getters;\n  }\n};\n\nModule.prototype.forEachChild = function forEachChild (fn) {\n  forEachValue(this._children, fn);\n};\n\nModule.prototype.forEachGetter = function forEachGetter (fn) {\n  if (this._rawModule.getters) {\n    forEachValue(this._rawModule.getters, fn);\n  }\n};\n\nModule.prototype.forEachAction = function forEachAction (fn) {\n  if (this._rawModule.actions) {\n    forEachValue(this._rawModule.actions, fn);\n  }\n};\n\nModule.prototype.forEachMutation = function forEachMutation (fn) {\n  if (this._rawModule.mutations) {\n    forEachValue(this._rawModule.mutations, fn);\n  }\n};\n\nObject.defineProperties( Module.prototype, prototypeAccessors$1 );\n\nvar ModuleCollection = function ModuleCollection (rawRootModule) {\n  // register root module (Vuex.Store options)\n  this.register([], rawRootModule, false);\n};\n\nModuleCollection.prototype.get = function get (path) {\n  return path.reduce(function (module, key) {\n    return module.getChild(key)\n  }, this.root)\n};\n\nModuleCollection.prototype.getNamespace = function getNamespace (path) {\n  var module = this.root;\n  return path.reduce(function (namespace, key) {\n    module = module.getChild(key);\n    return namespace + (module.namespaced ? key + '/' : '')\n  }, '')\n};\n\nModuleCollection.prototype.update = function update$1 (rawRootModule) {\n  update([], this.root, rawRootModule);\n};\n\nModuleCollection.prototype.register = function register (path, rawModule, runtime) {\n    var this$1$1 = this;\n    if ( runtime === void 0 ) runtime = true;\n\n  {\n    assertRawModule(path, rawModule);\n  }\n\n  var newModule = new Module(rawModule, runtime);\n  if (path.length === 0) {\n    this.root = newModule;\n  } else {\n    var parent = this.get(path.slice(0, -1));\n    parent.addChild(path[path.length - 1], newModule);\n  }\n\n  // register nested modules\n  if (rawModule.modules) {\n    forEachValue(rawModule.modules, function (rawChildModule, key) {\n      this$1$1.register(path.concat(key), rawChildModule, runtime);\n    });\n  }\n};\n\nModuleCollection.prototype.unregister = function unregister (path) {\n  var parent = this.get(path.slice(0, -1));\n  var key = path[path.length - 1];\n  var child = parent.getChild(key);\n\n  if (!child) {\n    {\n      console.warn(\n        \"[vuex] trying to unregister module '\" + key + \"', which is \" +\n        \"not registered\"\n      );\n    }\n    return\n  }\n\n  if (!child.runtime) {\n    return\n  }\n\n  parent.removeChild(key);\n};\n\nModuleCollection.prototype.isRegistered = function isRegistered (path) {\n  var parent = this.get(path.slice(0, -1));\n  var key = path[path.length - 1];\n\n  if (parent) {\n    return parent.hasChild(key)\n  }\n\n  return false\n};\n\nfunction update (path, targetModule, newModule) {\n  {\n    assertRawModule(path, newModule);\n  }\n\n  // update target module\n  targetModule.update(newModule);\n\n  // update nested modules\n  if (newModule.modules) {\n    for (var key in newModule.modules) {\n      if (!targetModule.getChild(key)) {\n        {\n          console.warn(\n            \"[vuex] trying to add a new module '\" + key + \"' on hot reloading, \" +\n            'manual reload is needed'\n          );\n        }\n        return\n      }\n      update(\n        path.concat(key),\n        targetModule.getChild(key),\n        newModule.modules[key]\n      );\n    }\n  }\n}\n\nvar functionAssert = {\n  assert: function (value) { return typeof value === 'function'; },\n  expected: 'function'\n};\n\nvar objectAssert = {\n  assert: function (value) { return typeof value === 'function' ||\n    (typeof value === 'object' && typeof value.handler === 'function'); },\n  expected: 'function or object with \"handler\" function'\n};\n\nvar assertTypes = {\n  getters: functionAssert,\n  mutations: functionAssert,\n  actions: objectAssert\n};\n\nfunction assertRawModule (path, rawModule) {\n  Object.keys(assertTypes).forEach(function (key) {\n    if (!rawModule[key]) { return }\n\n    var assertOptions = assertTypes[key];\n\n    forEachValue(rawModule[key], function (value, type) {\n      assert(\n        assertOptions.assert(value),\n        makeAssertionMessage(path, key, type, value, assertOptions.expected)\n      );\n    });\n  });\n}\n\nfunction makeAssertionMessage (path, key, type, value, expected) {\n  var buf = key + \" should be \" + expected + \" but \\\"\" + key + \".\" + type + \"\\\"\";\n  if (path.length > 0) {\n    buf += \" in module \\\"\" + (path.join('.')) + \"\\\"\";\n  }\n  buf += \" is \" + (JSON.stringify(value)) + \".\";\n  return buf\n}\n\nfunction createStore (options) {\n  return new Store(options)\n}\n\nvar Store = function Store (options) {\n  var this$1$1 = this;\n  if ( options === void 0 ) options = {};\n\n  {\n    assert(typeof Promise !== 'undefined', \"vuex requires a Promise polyfill in this browser.\");\n    assert(this instanceof Store, \"store must be called with the new operator.\");\n  }\n\n  var plugins = options.plugins; if ( plugins === void 0 ) plugins = [];\n  var strict = options.strict; if ( strict === void 0 ) strict = false;\n  var devtools = options.devtools;\n\n  // store internal state\n  this._committing = false;\n  this._actions = Object.create(null);\n  this._actionSubscribers = [];\n  this._mutations = Object.create(null);\n  this._wrappedGetters = Object.create(null);\n  this._modules = new ModuleCollection(options);\n  this._modulesNamespaceMap = Object.create(null);\n  this._subscribers = [];\n  this._makeLocalGettersCache = Object.create(null);\n  this._devtools = devtools;\n\n  // bind commit and dispatch to self\n  var store = this;\n  var ref = this;\n  var dispatch = ref.dispatch;\n  var commit = ref.commit;\n  this.dispatch = function boundDispatch (type, payload) {\n    return dispatch.call(store, type, payload)\n  };\n  this.commit = function boundCommit (type, payload, options) {\n    return commit.call(store, type, payload, options)\n  };\n\n  // strict mode\n  this.strict = strict;\n\n  var state = this._modules.root.state;\n\n  // init root module.\n  // this also recursively registers all sub-modules\n  // and collects all module getters inside this._wrappedGetters\n  installModule(this, state, [], this._modules.root);\n\n  // initialize the store state, which is responsible for the reactivity\n  // (also registers _wrappedGetters as computed properties)\n  resetStoreState(this, state);\n\n  // apply plugins\n  plugins.forEach(function (plugin) { return plugin(this$1$1); });\n};\n\nvar prototypeAccessors = { state: { configurable: true } };\n\nStore.prototype.install = function install (app, injectKey) {\n  app.provide(injectKey || storeKey, this);\n  app.config.globalProperties.$store = this;\n\n  var useDevtools = this._devtools !== undefined\n    ? this._devtools\n    : true ;\n\n  if (useDevtools) {\n    addDevtools(app, this);\n  }\n};\n\nprototypeAccessors.state.get = function () {\n  return this._state.data\n};\n\nprototypeAccessors.state.set = function (v) {\n  {\n    assert(false, \"use store.replaceState() to explicit replace store state.\");\n  }\n};\n\nStore.prototype.commit = function commit (_type, _payload, _options) {\n    var this$1$1 = this;\n\n  // check object-style commit\n  var ref = unifyObjectStyle(_type, _payload, _options);\n    var type = ref.type;\n    var payload = ref.payload;\n    var options = ref.options;\n\n  var mutation = { type: type, payload: payload };\n  var entry = this._mutations[type];\n  if (!entry) {\n    {\n      console.error((\"[vuex] unknown mutation type: \" + type));\n    }\n    return\n  }\n  this._withCommit(function () {\n    entry.forEach(function commitIterator (handler) {\n      handler(payload);\n    });\n  });\n\n  this._subscribers\n    .slice() // shallow copy to prevent iterator invalidation if subscriber synchronously calls unsubscribe\n    .forEach(function (sub) { return sub(mutation, this$1$1.state); });\n\n  if (\n    options && options.silent\n  ) {\n    console.warn(\n      \"[vuex] mutation type: \" + type + \". Silent option has been removed. \" +\n      'Use the filter functionality in the vue-devtools'\n    );\n  }\n};\n\nStore.prototype.dispatch = function dispatch (_type, _payload) {\n    var this$1$1 = this;\n\n  // check object-style dispatch\n  var ref = unifyObjectStyle(_type, _payload);\n    var type = ref.type;\n    var payload = ref.payload;\n\n  var action = { type: type, payload: payload };\n  var entry = this._actions[type];\n  if (!entry) {\n    {\n      console.error((\"[vuex] unknown action type: \" + type));\n    }\n    return\n  }\n\n  try {\n    this._actionSubscribers\n      .slice() // shallow copy to prevent iterator invalidation if subscriber synchronously calls unsubscribe\n      .filter(function (sub) { return sub.before; })\n      .forEach(function (sub) { return sub.before(action, this$1$1.state); });\n  } catch (e) {\n    {\n      console.warn(\"[vuex] error in before action subscribers: \");\n      console.error(e);\n    }\n  }\n\n  var result = entry.length > 1\n    ? Promise.all(entry.map(function (handler) { return handler(payload); }))\n    : entry[0](payload);\n\n  return new Promise(function (resolve, reject) {\n    result.then(function (res) {\n      try {\n        this$1$1._actionSubscribers\n          .filter(function (sub) { return sub.after; })\n          .forEach(function (sub) { return sub.after(action, this$1$1.state); });\n      } catch (e) {\n        {\n          console.warn(\"[vuex] error in after action subscribers: \");\n          console.error(e);\n        }\n      }\n      resolve(res);\n    }, function (error) {\n      try {\n        this$1$1._actionSubscribers\n          .filter(function (sub) { return sub.error; })\n          .forEach(function (sub) { return sub.error(action, this$1$1.state, error); });\n      } catch (e) {\n        {\n          console.warn(\"[vuex] error in error action subscribers: \");\n          console.error(e);\n        }\n      }\n      reject(error);\n    });\n  })\n};\n\nStore.prototype.subscribe = function subscribe (fn, options) {\n  return genericSubscribe(fn, this._subscribers, options)\n};\n\nStore.prototype.subscribeAction = function subscribeAction (fn, options) {\n  var subs = typeof fn === 'function' ? { before: fn } : fn;\n  return genericSubscribe(subs, this._actionSubscribers, options)\n};\n\nStore.prototype.watch = function watch$1 (getter, cb, options) {\n    var this$1$1 = this;\n\n  {\n    assert(typeof getter === 'function', \"store.watch only accepts a function.\");\n  }\n  return watch(function () { return getter(this$1$1.state, this$1$1.getters); }, cb, Object.assign({}, options))\n};\n\nStore.prototype.replaceState = function replaceState (state) {\n    var this$1$1 = this;\n\n  this._withCommit(function () {\n    this$1$1._state.data = state;\n  });\n};\n\nStore.prototype.registerModule = function registerModule (path, rawModule, options) {\n    if ( options === void 0 ) options = {};\n\n  if (typeof path === 'string') { path = [path]; }\n\n  {\n    assert(Array.isArray(path), \"module path must be a string or an Array.\");\n    assert(path.length > 0, 'cannot register the root module by using registerModule.');\n  }\n\n  this._modules.register(path, rawModule);\n  installModule(this, this.state, path, this._modules.get(path), options.preserveState);\n  // reset store to update getters...\n  resetStoreState(this, this.state);\n};\n\nStore.prototype.unregisterModule = function unregisterModule (path) {\n    var this$1$1 = this;\n\n  if (typeof path === 'string') { path = [path]; }\n\n  {\n    assert(Array.isArray(path), \"module path must be a string or an Array.\");\n  }\n\n  this._modules.unregister(path);\n  this._withCommit(function () {\n    var parentState = getNestedState(this$1$1.state, path.slice(0, -1));\n    delete parentState[path[path.length - 1]];\n  });\n  resetStore(this);\n};\n\nStore.prototype.hasModule = function hasModule (path) {\n  if (typeof path === 'string') { path = [path]; }\n\n  {\n    assert(Array.isArray(path), \"module path must be a string or an Array.\");\n  }\n\n  return this._modules.isRegistered(path)\n};\n\nStore.prototype.hotUpdate = function hotUpdate (newOptions) {\n  this._modules.update(newOptions);\n  resetStore(this, true);\n};\n\nStore.prototype._withCommit = function _withCommit (fn) {\n  var committing = this._committing;\n  this._committing = true;\n  fn();\n  this._committing = committing;\n};\n\nObject.defineProperties( Store.prototype, prototypeAccessors );\n\n/**\n * Reduce the code which written in Vue.js for getting the state.\n * @param {String} [namespace] - Module's namespace\n * @param {Object|Array} states # Object's item can be a function which accept state and getters for param, you can do something for state and getters in it.\n * @param {Object}\n */\nvar mapState = normalizeNamespace(function (namespace, states) {\n  var res = {};\n  if (!isValidMap(states)) {\n    console.error('[vuex] mapState: mapper parameter must be either an Array or an Object');\n  }\n  normalizeMap(states).forEach(function (ref) {\n    var key = ref.key;\n    var val = ref.val;\n\n    res[key] = function mappedState () {\n      var state = this.$store.state;\n      var getters = this.$store.getters;\n      if (namespace) {\n        var module = getModuleByNamespace(this.$store, 'mapState', namespace);\n        if (!module) {\n          return\n        }\n        state = module.context.state;\n        getters = module.context.getters;\n      }\n      return typeof val === 'function'\n        ? val.call(this, state, getters)\n        : state[val]\n    };\n    // mark vuex getter for devtools\n    res[key].vuex = true;\n  });\n  return res\n});\n\n/**\n * Reduce the code which written in Vue.js for committing the mutation\n * @param {String} [namespace] - Module's namespace\n * @param {Object|Array} mutations # Object's item can be a function which accept `commit` function as the first param, it can accept another params. You can commit mutation and do any other things in this function. specially, You need to pass anthor params from the mapped function.\n * @return {Object}\n */\nvar mapMutations = normalizeNamespace(function (namespace, mutations) {\n  var res = {};\n  if (!isValidMap(mutations)) {\n    console.error('[vuex] mapMutations: mapper parameter must be either an Array or an Object');\n  }\n  normalizeMap(mutations).forEach(function (ref) {\n    var key = ref.key;\n    var val = ref.val;\n\n    res[key] = function mappedMutation () {\n      var args = [], len = arguments.length;\n      while ( len-- ) args[ len ] = arguments[ len ];\n\n      // Get the commit method from store\n      var commit = this.$store.commit;\n      if (namespace) {\n        var module = getModuleByNamespace(this.$store, 'mapMutations', namespace);\n        if (!module) {\n          return\n        }\n        commit = module.context.commit;\n      }\n      return typeof val === 'function'\n        ? val.apply(this, [commit].concat(args))\n        : commit.apply(this.$store, [val].concat(args))\n    };\n  });\n  return res\n});\n\n/**\n * Reduce the code which written in Vue.js for getting the getters\n * @param {String} [namespace] - Module's namespace\n * @param {Object|Array} getters\n * @return {Object}\n */\nvar mapGetters = normalizeNamespace(function (namespace, getters) {\n  var res = {};\n  if (!isValidMap(getters)) {\n    console.error('[vuex] mapGetters: mapper parameter must be either an Array or an Object');\n  }\n  normalizeMap(getters).forEach(function (ref) {\n    var key = ref.key;\n    var val = ref.val;\n\n    // The namespace has been mutated by normalizeNamespace\n    val = namespace + val;\n    res[key] = function mappedGetter () {\n      if (namespace && !getModuleByNamespace(this.$store, 'mapGetters', namespace)) {\n        return\n      }\n      if (!(val in this.$store.getters)) {\n        console.error((\"[vuex] unknown getter: \" + val));\n        return\n      }\n      return this.$store.getters[val]\n    };\n    // mark vuex getter for devtools\n    res[key].vuex = true;\n  });\n  return res\n});\n\n/**\n * Reduce the code which written in Vue.js for dispatch the action\n * @param {String} [namespace] - Module's namespace\n * @param {Object|Array} actions # Object's item can be a function which accept `dispatch` function as the first param, it can accept anthor params. You can dispatch action and do any other things in this function. specially, You need to pass anthor params from the mapped function.\n * @return {Object}\n */\nvar mapActions = normalizeNamespace(function (namespace, actions) {\n  var res = {};\n  if (!isValidMap(actions)) {\n    console.error('[vuex] mapActions: mapper parameter must be either an Array or an Object');\n  }\n  normalizeMap(actions).forEach(function (ref) {\n    var key = ref.key;\n    var val = ref.val;\n\n    res[key] = function mappedAction () {\n      var args = [], len = arguments.length;\n      while ( len-- ) args[ len ] = arguments[ len ];\n\n      // get dispatch function from store\n      var dispatch = this.$store.dispatch;\n      if (namespace) {\n        var module = getModuleByNamespace(this.$store, 'mapActions', namespace);\n        if (!module) {\n          return\n        }\n        dispatch = module.context.dispatch;\n      }\n      return typeof val === 'function'\n        ? val.apply(this, [dispatch].concat(args))\n        : dispatch.apply(this.$store, [val].concat(args))\n    };\n  });\n  return res\n});\n\n/**\n * Rebinding namespace param for mapXXX function in special scoped, and return them by simple object\n * @param {String} namespace\n * @return {Object}\n */\nvar createNamespacedHelpers = function (namespace) { return ({\n  mapState: mapState.bind(null, namespace),\n  mapGetters: mapGetters.bind(null, namespace),\n  mapMutations: mapMutations.bind(null, namespace),\n  mapActions: mapActions.bind(null, namespace)\n}); };\n\n/**\n * Normalize the map\n * normalizeMap([1, 2, 3]) => [ { key: 1, val: 1 }, { key: 2, val: 2 }, { key: 3, val: 3 } ]\n * normalizeMap({a: 1, b: 2, c: 3}) => [ { key: 'a', val: 1 }, { key: 'b', val: 2 }, { key: 'c', val: 3 } ]\n * @param {Array|Object} map\n * @return {Object}\n */\nfunction normalizeMap (map) {\n  if (!isValidMap(map)) {\n    return []\n  }\n  return Array.isArray(map)\n    ? map.map(function (key) { return ({ key: key, val: key }); })\n    : Object.keys(map).map(function (key) { return ({ key: key, val: map[key] }); })\n}\n\n/**\n * Validate whether given map is valid or not\n * @param {*} map\n * @return {Boolean}\n */\nfunction isValidMap (map) {\n  return Array.isArray(map) || isObject(map)\n}\n\n/**\n * Return a function expect two param contains namespace and map. it will normalize the namespace and then the param's function will handle the new namespace and the map.\n * @param {Function} fn\n * @return {Function}\n */\nfunction normalizeNamespace (fn) {\n  return function (namespace, map) {\n    if (typeof namespace !== 'string') {\n      map = namespace;\n      namespace = '';\n    } else if (namespace.charAt(namespace.length - 1) !== '/') {\n      namespace += '/';\n    }\n    return fn(namespace, map)\n  }\n}\n\n/**\n * Search a special module from store by namespace. if module not exist, print error message.\n * @param {Object} store\n * @param {String} helper\n * @param {String} namespace\n * @return {Object}\n */\nfunction getModuleByNamespace (store, helper, namespace) {\n  var module = store._modulesNamespaceMap[namespace];\n  if (!module) {\n    console.error((\"[vuex] module namespace not found in \" + helper + \"(): \" + namespace));\n  }\n  return module\n}\n\n// Credits: borrowed code from fcomb/redux-logger\n\nfunction createLogger (ref) {\n  if ( ref === void 0 ) ref = {};\n  var collapsed = ref.collapsed; if ( collapsed === void 0 ) collapsed = true;\n  var filter = ref.filter; if ( filter === void 0 ) filter = function (mutation, stateBefore, stateAfter) { return true; };\n  var transformer = ref.transformer; if ( transformer === void 0 ) transformer = function (state) { return state; };\n  var mutationTransformer = ref.mutationTransformer; if ( mutationTransformer === void 0 ) mutationTransformer = function (mut) { return mut; };\n  var actionFilter = ref.actionFilter; if ( actionFilter === void 0 ) actionFilter = function (action, state) { return true; };\n  var actionTransformer = ref.actionTransformer; if ( actionTransformer === void 0 ) actionTransformer = function (act) { return act; };\n  var logMutations = ref.logMutations; if ( logMutations === void 0 ) logMutations = true;\n  var logActions = ref.logActions; if ( logActions === void 0 ) logActions = true;\n  var logger = ref.logger; if ( logger === void 0 ) logger = console;\n\n  return function (store) {\n    var prevState = deepCopy(store.state);\n\n    if (typeof logger === 'undefined') {\n      return\n    }\n\n    if (logMutations) {\n      store.subscribe(function (mutation, state) {\n        var nextState = deepCopy(state);\n\n        if (filter(mutation, prevState, nextState)) {\n          var formattedTime = getFormattedTime();\n          var formattedMutation = mutationTransformer(mutation);\n          var message = \"mutation \" + (mutation.type) + formattedTime;\n\n          startMessage(logger, message, collapsed);\n          logger.log('%c prev state', 'color: #9E9E9E; font-weight: bold', transformer(prevState));\n          logger.log('%c mutation', 'color: #03A9F4; font-weight: bold', formattedMutation);\n          logger.log('%c next state', 'color: #4CAF50; font-weight: bold', transformer(nextState));\n          endMessage(logger);\n        }\n\n        prevState = nextState;\n      });\n    }\n\n    if (logActions) {\n      store.subscribeAction(function (action, state) {\n        if (actionFilter(action, state)) {\n          var formattedTime = getFormattedTime();\n          var formattedAction = actionTransformer(action);\n          var message = \"action \" + (action.type) + formattedTime;\n\n          startMessage(logger, message, collapsed);\n          logger.log('%c action', 'color: #03A9F4; font-weight: bold', formattedAction);\n          endMessage(logger);\n        }\n      });\n    }\n  }\n}\n\nfunction startMessage (logger, message, collapsed) {\n  var startMessage = collapsed\n    ? logger.groupCollapsed\n    : logger.group;\n\n  // render\n  try {\n    startMessage.call(logger, message);\n  } catch (e) {\n    logger.log(message);\n  }\n}\n\nfunction endMessage (logger) {\n  try {\n    logger.groupEnd();\n  } catch (e) {\n    logger.log(' log end ');\n  }\n}\n\nfunction getFormattedTime () {\n  var time = new Date();\n  return (\" @ \" + (pad(time.getHours(), 2)) + \":\" + (pad(time.getMinutes(), 2)) + \":\" + (pad(time.getSeconds(), 2)) + \".\" + (pad(time.getMilliseconds(), 3)))\n}\n\nfunction repeat (str, times) {\n  return (new Array(times + 1)).join(str)\n}\n\nfunction pad (num, maxLength) {\n  return repeat('0', maxLength - num.toString().length) + num\n}\n\nvar index = {\n  version: '4.0.2',\n  Store: Store,\n  storeKey: storeKey,\n  createStore: createStore,\n  useStore: useStore,\n  mapState: mapState,\n  mapMutations: mapMutations,\n  mapGetters: mapGetters,\n  mapActions: mapActions,\n  createNamespacedHelpers: createNamespacedHelpers,\n  createLogger: createLogger\n};\n\nexport default index;\nexport { Store, createLogger, createNamespacedHelpers, createStore, mapActions, mapGetters, mapMutations, mapState, storeKey, useStore };\n","var isCallable = require('../internals/is-callable');\nvar tryToString = require('../internals/try-to-string');\n\nvar $TypeError = TypeError;\n\n// `Assert: IsCallable(argument) is true`\nmodule.exports = function (argument) {\n  if (isCallable(argument)) return argument;\n  throw $TypeError(tryToString(argument) + ' is not a function');\n};\n","export var NetworkStatus;\n(function (NetworkStatus) {\n    NetworkStatus[NetworkStatus[\"loading\"] = 1] = \"loading\";\n    NetworkStatus[NetworkStatus[\"setVariables\"] = 2] = \"setVariables\";\n    NetworkStatus[NetworkStatus[\"fetchMore\"] = 3] = \"fetchMore\";\n    NetworkStatus[NetworkStatus[\"refetch\"] = 4] = \"refetch\";\n    NetworkStatus[NetworkStatus[\"poll\"] = 6] = \"poll\";\n    NetworkStatus[NetworkStatus[\"ready\"] = 7] = \"ready\";\n    NetworkStatus[NetworkStatus[\"error\"] = 8] = \"error\";\n})(NetworkStatus || (NetworkStatus = {}));\nexport function isNetworkRequestInFlight(networkStatus) {\n    return networkStatus ? networkStatus < 7 : false;\n}\n//# sourceMappingURL=networkStatus.js.map","import { isNativeFetch, logger } from '@sentry/utils';\nimport { WINDOW } from '../helpers.js';\n\nlet cachedFetchImpl = undefined;\n\n/**\n * A special usecase for incorrectly wrapped Fetch APIs in conjunction with ad-blockers.\n * Whenever someone wraps the Fetch API and returns the wrong promise chain,\n * this chain becomes orphaned and there is no possible way to capture it's rejections\n * other than allowing it bubble up to this very handler. eg.\n *\n * const f = window.fetch;\n * window.fetch = function () {\n *   const p = f.apply(this, arguments);\n *\n *   p.then(function() {\n *     console.log('hi.');\n *   });\n *\n *   return p;\n * }\n *\n * `p.then(function () { ... })` is producing a completely separate promise chain,\n * however, what's returned is `p` - the result of original `fetch` call.\n *\n * This mean, that whenever we use the Fetch API to send our own requests, _and_\n * some ad-blocker blocks it, this orphaned chain will _always_ reject,\n * effectively causing another event to be captured.\n * This makes a whole process become an infinite loop, which we need to somehow\n * deal with, and break it in one way or another.\n *\n * To deal with this issue, we are making sure that we _always_ use the real\n * browser Fetch API, instead of relying on what `window.fetch` exposes.\n * The only downside to this would be missing our own requests as breadcrumbs,\n * but because we are already not doing this, it should be just fine.\n *\n * Possible failed fetch error messages per-browser:\n *\n * Chrome:  Failed to fetch\n * Edge:    Failed to Fetch\n * Firefox: NetworkError when attempting to fetch resource\n * Safari:  resource blocked by content blocker\n */\nfunction getNativeFetchImplementation() {\n  if (cachedFetchImpl) {\n    return cachedFetchImpl;\n  }\n\n  /* eslint-disable @typescript-eslint/unbound-method */\n\n  // Fast path to avoid DOM I/O\n  if (isNativeFetch(WINDOW.fetch)) {\n    return (cachedFetchImpl = WINDOW.fetch.bind(WINDOW));\n  }\n\n  const document = WINDOW.document;\n  let fetchImpl = WINDOW.fetch;\n  // eslint-disable-next-line deprecation/deprecation\n  if (document && typeof document.createElement === 'function') {\n    try {\n      const sandbox = document.createElement('iframe');\n      sandbox.hidden = true;\n      document.head.appendChild(sandbox);\n      const contentWindow = sandbox.contentWindow;\n      if (contentWindow && contentWindow.fetch) {\n        fetchImpl = contentWindow.fetch;\n      }\n      document.head.removeChild(sandbox);\n    } catch (e) {\n      (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) &&\n        logger.warn('Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ', e);\n    }\n  }\n\n  return (cachedFetchImpl = fetchImpl.bind(WINDOW));\n  /* eslint-enable @typescript-eslint/unbound-method */\n}\n\n/** Clears cached fetch impl */\nfunction clearCachedFetchImplementation() {\n  cachedFetchImpl = undefined;\n}\n\nexport { clearCachedFetchImplementation, getNativeFetchImplementation };\n//# sourceMappingURL=utils.js.map\n","import { createTransport } from '@sentry/core';\nimport { rejectedSyncPromise } from '@sentry/utils';\nimport { clearCachedFetchImplementation, getNativeFetchImplementation } from './utils.js';\n\n/**\n * Creates a Transport that uses the Fetch API to send events to Sentry.\n */\nfunction makeFetchTransport(\n  options,\n  nativeFetch = getNativeFetchImplementation(),\n) {\n  function makeRequest(request) {\n    const requestOptions = {\n      body: request.body,\n      method: 'POST',\n      referrerPolicy: 'origin',\n      headers: options.headers,\n      // Outgoing requests are usually cancelled when navigating to a different page, causing a \"TypeError: Failed to\n      // fetch\" error and sending a \"network_error\" client-outcome - in Chrome, the request status shows \"(cancelled)\".\n      // The `keepalive` flag keeps outgoing requests alive, even when switching pages. We want this since we're\n      // frequently sending events right before the user is switching pages (eg. whenfinishing navigation transactions).\n      // Gotchas:\n      // - `keepalive` isn't supported by Firefox\n      // - As per spec (https://fetch.spec.whatwg.org/#http-network-or-cache-fetch), a request with `keepalive: true`\n      //   and a content length of > 64 kibibytes returns a network error. We will therefore only activate the flag when\n      //   we're below that limit.\n      keepalive: request.body.length <= 65536,\n      ...options.fetchOptions,\n    };\n\n    try {\n      return nativeFetch(options.url, requestOptions).then(response => ({\n        statusCode: response.status,\n        headers: {\n          'x-sentry-rate-limits': response.headers.get('X-Sentry-Rate-Limits'),\n          'retry-after': response.headers.get('Retry-After'),\n        },\n      }));\n    } catch (e) {\n      clearCachedFetchImplementation();\n      return rejectedSyncPromise(e);\n    }\n  }\n\n  return createTransport(options, makeRequest);\n}\n\nexport { makeFetchTransport };\n//# sourceMappingURL=fetch.js.map\n","module.exports = {};\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nvar DebounceLink_1 = __importDefault(require(\"./DebounceLink\"));\nexports[\"default\"] = DebounceLink_1[\"default\"];\n//# sourceMappingURL=index.js.map","import { htmlTreeAsString } from './browser.js';\nimport { isError, isEvent, isInstanceOf, isElement, isPlainObject, isPrimitive } from './is.js';\nimport { truncate } from './string.js';\n\n/**\n * Replace a method in an object with a wrapped version of itself.\n *\n * @param source An object that contains a method to be wrapped.\n * @param name The name of the method to be wrapped.\n * @param replacementFactory A higher-order function that takes the original version of the given method and returns a\n * wrapped version. Note: The function returned by `replacementFactory` needs to be a non-arrow function, in order to\n * preserve the correct value of `this`, and the original method must be called using `origMethod.call(this, <other\n * args>)` or `origMethod.apply(this, [<other args>])` (rather than being called directly), again to preserve `this`.\n * @returns void\n */\nfunction fill(source, name, replacementFactory) {\n  if (!(name in source)) {\n    return;\n  }\n\n  const original = source[name] ;\n  const wrapped = replacementFactory(original) ;\n\n  // Make sure it's a function first, as we need to attach an empty prototype for `defineProperties` to work\n  // otherwise it'll throw \"TypeError: Object.defineProperties called on non-object\"\n  if (typeof wrapped === 'function') {\n    try {\n      markFunctionWrapped(wrapped, original);\n    } catch (_Oo) {\n      // This can throw if multiple fill happens on a global object like XMLHttpRequest\n      // Fixes https://github.com/getsentry/sentry-javascript/issues/2043\n    }\n  }\n\n  source[name] = wrapped;\n}\n\n/**\n * Defines a non-enumerable property on the given object.\n *\n * @param obj The object on which to set the property\n * @param name The name of the property to be set\n * @param value The value to which to set the property\n */\nfunction addNonEnumerableProperty(obj, name, value) {\n  Object.defineProperty(obj, name, {\n    // enumerable: false, // the default, so we can save on bundle size by not explicitly setting it\n    value: value,\n    writable: true,\n    configurable: true,\n  });\n}\n\n/**\n * Remembers the original function on the wrapped function and\n * patches up the prototype.\n *\n * @param wrapped the wrapper function\n * @param original the original function that gets wrapped\n */\nfunction markFunctionWrapped(wrapped, original) {\n  const proto = original.prototype || {};\n  wrapped.prototype = original.prototype = proto;\n  addNonEnumerableProperty(wrapped, '__sentry_original__', original);\n}\n\n/**\n * This extracts the original function if available.  See\n * `markFunctionWrapped` for more information.\n *\n * @param func the function to unwrap\n * @returns the unwrapped version of the function if available.\n */\nfunction getOriginalFunction(func) {\n  return func.__sentry_original__;\n}\n\n/**\n * Encodes given object into url-friendly format\n *\n * @param object An object that contains serializable values\n * @returns string Encoded\n */\nfunction urlEncode(object) {\n  return Object.keys(object)\n    .map(key => `${encodeURIComponent(key)}=${encodeURIComponent(object[key])}`)\n    .join('&');\n}\n\n/**\n * Transforms any `Error` or `Event` into a plain object with all of their enumerable properties, and some of their\n * non-enumerable properties attached.\n *\n * @param value Initial source that we have to transform in order for it to be usable by the serializer\n * @returns An Event or Error turned into an object - or the value argurment itself, when value is neither an Event nor\n *  an Error.\n */\nfunction convertToPlainObject(\n  value,\n)\n\n {\n  if (isError(value)) {\n    return {\n      message: value.message,\n      name: value.name,\n      stack: value.stack,\n      ...getOwnProperties(value),\n    };\n  } else if (isEvent(value)) {\n    const newObj\n\n = {\n      type: value.type,\n      target: serializeEventTarget(value.target),\n      currentTarget: serializeEventTarget(value.currentTarget),\n      ...getOwnProperties(value),\n    };\n\n    if (typeof CustomEvent !== 'undefined' && isInstanceOf(value, CustomEvent)) {\n      newObj.detail = value.detail;\n    }\n\n    return newObj;\n  } else {\n    return value;\n  }\n}\n\n/** Creates a string representation of the target of an `Event` object */\nfunction serializeEventTarget(target) {\n  try {\n    return isElement(target) ? htmlTreeAsString(target) : Object.prototype.toString.call(target);\n  } catch (_oO) {\n    return '<unknown>';\n  }\n}\n\n/** Filters out all but an object's own properties */\nfunction getOwnProperties(obj) {\n  if (typeof obj === 'object' && obj !== null) {\n    const extractedProps = {};\n    for (const property in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, property)) {\n        extractedProps[property] = (obj )[property];\n      }\n    }\n    return extractedProps;\n  } else {\n    return {};\n  }\n}\n\n/**\n * Given any captured exception, extract its keys and create a sorted\n * and truncated list that will be used inside the event message.\n * eg. `Non-error exception captured with keys: foo, bar, baz`\n */\nfunction extractExceptionKeysForMessage(exception, maxLength = 40) {\n  const keys = Object.keys(convertToPlainObject(exception));\n  keys.sort();\n\n  if (!keys.length) {\n    return '[object has no keys]';\n  }\n\n  if (keys[0].length >= maxLength) {\n    return truncate(keys[0], maxLength);\n  }\n\n  for (let includedKeys = keys.length; includedKeys > 0; includedKeys--) {\n    const serialized = keys.slice(0, includedKeys).join(', ');\n    if (serialized.length > maxLength) {\n      continue;\n    }\n    if (includedKeys === keys.length) {\n      return serialized;\n    }\n    return truncate(serialized, maxLength);\n  }\n\n  return '';\n}\n\n/**\n * Given any object, return a new object having removed all fields whose value was `undefined`.\n * Works recursively on objects and arrays.\n *\n * Attention: This function keeps circular references in the returned object.\n */\nfunction dropUndefinedKeys(inputValue) {\n  // This map keeps track of what already visited nodes map to.\n  // Our Set - based memoBuilder doesn't work here because we want to the output object to have the same circular\n  // references as the input object.\n  const memoizationMap = new Map();\n\n  // This function just proxies `_dropUndefinedKeys` to keep the `memoBuilder` out of this function's API\n  return _dropUndefinedKeys(inputValue, memoizationMap);\n}\n\nfunction _dropUndefinedKeys(inputValue, memoizationMap) {\n  if (isPlainObject(inputValue)) {\n    // If this node has already been visited due to a circular reference, return the object it was mapped to in the new object\n    const memoVal = memoizationMap.get(inputValue);\n    if (memoVal !== undefined) {\n      return memoVal ;\n    }\n\n    const returnValue = {};\n    // Store the mapping of this value in case we visit it again, in case of circular data\n    memoizationMap.set(inputValue, returnValue);\n\n    for (const key of Object.keys(inputValue)) {\n      if (typeof inputValue[key] !== 'undefined') {\n        returnValue[key] = _dropUndefinedKeys(inputValue[key], memoizationMap);\n      }\n    }\n\n    return returnValue ;\n  }\n\n  if (Array.isArray(inputValue)) {\n    // If this node has already been visited due to a circular reference, return the array it was mapped to in the new object\n    const memoVal = memoizationMap.get(inputValue);\n    if (memoVal !== undefined) {\n      return memoVal ;\n    }\n\n    const returnValue = [];\n    // Store the mapping of this value in case we visit it again, in case of circular data\n    memoizationMap.set(inputValue, returnValue);\n\n    inputValue.forEach((item) => {\n      returnValue.push(_dropUndefinedKeys(item, memoizationMap));\n    });\n\n    return returnValue ;\n  }\n\n  return inputValue;\n}\n\n/**\n * Ensure that something is an object.\n *\n * Turns `undefined` and `null` into `String`s and all other primitives into instances of their respective wrapper\n * classes (String, Boolean, Number, etc.). Acts as the identity function on non-primitives.\n *\n * @param wat The subject of the objectification\n * @returns A version of `wat` which can safely be used with `Object` class methods\n */\nfunction objectify(wat) {\n  let objectified;\n  switch (true) {\n    case wat === undefined || wat === null:\n      objectified = new String(wat);\n      break;\n\n    // Though symbols and bigints do have wrapper classes (`Symbol` and `BigInt`, respectively), for whatever reason\n    // those classes don't have constructors which can be used with the `new` keyword. We therefore need to cast each as\n    // an object in order to wrap it.\n    case typeof wat === 'symbol' || typeof wat === 'bigint':\n      objectified = Object(wat);\n      break;\n\n    // this will catch the remaining primitives: `String`, `Number`, and `Boolean`\n    case isPrimitive(wat):\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n      objectified = new (wat ).constructor(wat);\n      break;\n\n    // by process of elimination, at this point we know that `wat` must already be an object\n    default:\n      objectified = wat;\n      break;\n  }\n  return objectified;\n}\n\nexport { addNonEnumerableProperty, convertToPlainObject, dropUndefinedKeys, extractExceptionKeysForMessage, fill, getOriginalFunction, markFunctionWrapped, objectify, urlEncode };\n//# sourceMappingURL=object.js.map\n","import { InvariantError } from \"../../utilities/globals/index.js\";\nexport var serializeFetchParameter = function (p, label) {\n    var serialized;\n    try {\n        serialized = JSON.stringify(p);\n    }\n    catch (e) {\n        var parseError = __DEV__ ? new InvariantError(\"Network request failed. \".concat(label, \" is not serializable: \").concat(e.message)) : new InvariantError(21);\n        parseError.parseError = e;\n        throw parseError;\n    }\n    return serialized;\n};\n//# sourceMappingURL=serializeFetchParameter.js.map","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es-x/no-function-prototype-bind -- safe\n  var test = (function () { /* empty */ }).bind();\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return typeof test != 'function' || test.hasOwnProperty('prototype');\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SentryLink = void 0;\nvar tslib_1 = require(\"tslib\");\nvar core_1 = require(\"@apollo/client/core\");\nvar zen_observable_1 = (0, tslib_1.__importDefault)(require(\"zen-observable\"));\nvar breadcrumb_1 = require(\"./breadcrumb\");\nvar options_1 = require(\"./options\");\nvar sentry_1 = require(\"./sentry\");\nvar SentryLink = (function (_super) {\n    (0, tslib_1.__extends)(SentryLink, _super);\n    function SentryLink(options) {\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this) || this;\n        _this.options = (0, options_1.withDefaults)(options);\n        return _this;\n    }\n    SentryLink.prototype.request = function (operation, forward) {\n        var _a, _b;\n        var options = this.options;\n        if (!((_b = (_a = options.shouldHandleOperation) === null || _a === void 0 ? void 0 : _a.call(options, operation)) !== null && _b !== void 0 ? _b : true)) {\n            return forward(operation);\n        }\n        if (options.setTransaction) {\n            (0, sentry_1.setTransaction)(operation);\n        }\n        if (options.setFingerprint) {\n            (0, sentry_1.setFingerprint)(operation);\n        }\n        var attachBreadcrumbs = options.attachBreadcrumbs;\n        var breadcrumb = attachBreadcrumbs\n            ? (0, breadcrumb_1.makeBreadcrumb)(operation, options)\n            : undefined;\n        return new zen_observable_1.default(function (originalObserver) {\n            var subscription = forward(operation).subscribe({\n                next: function (result) {\n                    if (attachBreadcrumbs) {\n                        breadcrumb.level = severityForResult(result);\n                        if (attachBreadcrumbs.includeFetchResult) {\n                            breadcrumb.data.fetchResult = result;\n                        }\n                        if (attachBreadcrumbs.includeError &&\n                            result.errors &&\n                            result.errors.length > 0) {\n                            breadcrumb.data.error = new core_1.ApolloError({\n                                graphQLErrors: result.errors,\n                            });\n                        }\n                    }\n                    originalObserver.next(result);\n                },\n                complete: function () {\n                    if (attachBreadcrumbs) {\n                        (0, sentry_1.attachBreadcrumbToSentry)(operation, breadcrumb, options);\n                    }\n                    originalObserver.complete();\n                },\n                error: function (error) {\n                    if (attachBreadcrumbs) {\n                        breadcrumb.level = 'error';\n                        var scrubbedError = void 0;\n                        if (isServerError(error)) {\n                            var result = error.result, response = error.response, rest = (0, tslib_1.__rest)(error, [\"result\", \"response\"]);\n                            scrubbedError = rest;\n                            if (attachBreadcrumbs.includeFetchResult) {\n                                breadcrumb.data.fetchResult = result;\n                            }\n                        }\n                        else {\n                            scrubbedError = error;\n                        }\n                        if (attachBreadcrumbs.includeError) {\n                            breadcrumb.data.error = scrubbedError;\n                        }\n                        (0, sentry_1.attachBreadcrumbToSentry)(operation, breadcrumb, options);\n                    }\n                    originalObserver.error(error);\n                },\n            });\n            return function () {\n                subscription.unsubscribe();\n            };\n        });\n    };\n    return SentryLink;\n}(core_1.ApolloLink));\nexports.SentryLink = SentryLink;\nfunction isServerError(error) {\n    return (typeof error === 'object' &&\n        error !== null &&\n        'response' in error &&\n        'result' in error &&\n        'statusCode' in error);\n}\nfunction severityForResult(result) {\n    return result.errors && result.errors.length > 0 ? 'error' : 'info';\n}\n","import { devAssert } from '../jsutils/devAssert.mjs';\nimport { inspect } from '../jsutils/inspect.mjs';\nimport { isNode, QueryDocumentKeys } from './ast.mjs';\nimport { Kind } from './kinds.mjs';\n/**\n * A visitor is provided to visit, it contains the collection of\n * relevant functions to be called during the visitor's traversal.\n */\n\nexport const BREAK = Object.freeze({});\n/**\n * visit() will walk through an AST using a depth-first traversal, calling\n * the visitor's enter function at each node in the traversal, and calling the\n * leave function after visiting that node and all of its child nodes.\n *\n * By returning different values from the enter and leave functions, the\n * behavior of the visitor can be altered, including skipping over a sub-tree of\n * the AST (by returning false), editing the AST by returning a value or null\n * to remove the value, or to stop the whole traversal by returning BREAK.\n *\n * When using visit() to edit an AST, the original AST will not be modified, and\n * a new version of the AST with the changes applied will be returned from the\n * visit function.\n *\n * ```ts\n * const editedAST = visit(ast, {\n *   enter(node, key, parent, path, ancestors) {\n *     // @return\n *     //   undefined: no action\n *     //   false: skip visiting this node\n *     //   visitor.BREAK: stop visiting altogether\n *     //   null: delete this node\n *     //   any value: replace this node with the returned value\n *   },\n *   leave(node, key, parent, path, ancestors) {\n *     // @return\n *     //   undefined: no action\n *     //   false: no action\n *     //   visitor.BREAK: stop visiting altogether\n *     //   null: delete this node\n *     //   any value: replace this node with the returned value\n *   }\n * });\n * ```\n *\n * Alternatively to providing enter() and leave() functions, a visitor can\n * instead provide functions named the same as the kinds of AST nodes, or\n * enter/leave visitors at a named key, leading to three permutations of the\n * visitor API:\n *\n * 1) Named visitors triggered when entering a node of a specific kind.\n *\n * ```ts\n * visit(ast, {\n *   Kind(node) {\n *     // enter the \"Kind\" node\n *   }\n * })\n * ```\n *\n * 2) Named visitors that trigger upon entering and leaving a node of a specific kind.\n *\n * ```ts\n * visit(ast, {\n *   Kind: {\n *     enter(node) {\n *       // enter the \"Kind\" node\n *     }\n *     leave(node) {\n *       // leave the \"Kind\" node\n *     }\n *   }\n * })\n * ```\n *\n * 3) Generic visitors that trigger upon entering and leaving any node.\n *\n * ```ts\n * visit(ast, {\n *   enter(node) {\n *     // enter any node\n *   },\n *   leave(node) {\n *     // leave any node\n *   }\n * })\n * ```\n */\n\nexport function visit(root, visitor, visitorKeys = QueryDocumentKeys) {\n  const enterLeaveMap = new Map();\n\n  for (const kind of Object.values(Kind)) {\n    enterLeaveMap.set(kind, getEnterLeaveForKind(visitor, kind));\n  }\n  /* eslint-disable no-undef-init */\n\n  let stack = undefined;\n  let inArray = Array.isArray(root);\n  let keys = [root];\n  let index = -1;\n  let edits = [];\n  let node = root;\n  let key = undefined;\n  let parent = undefined;\n  const path = [];\n  const ancestors = [];\n  /* eslint-enable no-undef-init */\n\n  do {\n    index++;\n    const isLeaving = index === keys.length;\n    const isEdited = isLeaving && edits.length !== 0;\n\n    if (isLeaving) {\n      key = ancestors.length === 0 ? undefined : path[path.length - 1];\n      node = parent;\n      parent = ancestors.pop();\n\n      if (isEdited) {\n        if (inArray) {\n          node = node.slice();\n          let editOffset = 0;\n\n          for (const [editKey, editValue] of edits) {\n            const arrayKey = editKey - editOffset;\n\n            if (editValue === null) {\n              node.splice(arrayKey, 1);\n              editOffset++;\n            } else {\n              node[arrayKey] = editValue;\n            }\n          }\n        } else {\n          node = Object.defineProperties(\n            {},\n            Object.getOwnPropertyDescriptors(node),\n          );\n\n          for (const [editKey, editValue] of edits) {\n            node[editKey] = editValue;\n          }\n        }\n      }\n\n      index = stack.index;\n      keys = stack.keys;\n      edits = stack.edits;\n      inArray = stack.inArray;\n      stack = stack.prev;\n    } else if (parent) {\n      key = inArray ? index : keys[index];\n      node = parent[key];\n\n      if (node === null || node === undefined) {\n        continue;\n      }\n\n      path.push(key);\n    }\n\n    let result;\n\n    if (!Array.isArray(node)) {\n      var _enterLeaveMap$get, _enterLeaveMap$get2;\n\n      isNode(node) || devAssert(false, `Invalid AST Node: ${inspect(node)}.`);\n      const visitFn = isLeaving\n        ? (_enterLeaveMap$get = enterLeaveMap.get(node.kind)) === null ||\n          _enterLeaveMap$get === void 0\n          ? void 0\n          : _enterLeaveMap$get.leave\n        : (_enterLeaveMap$get2 = enterLeaveMap.get(node.kind)) === null ||\n          _enterLeaveMap$get2 === void 0\n        ? void 0\n        : _enterLeaveMap$get2.enter;\n      result =\n        visitFn === null || visitFn === void 0\n          ? void 0\n          : visitFn.call(visitor, node, key, parent, path, ancestors);\n\n      if (result === BREAK) {\n        break;\n      }\n\n      if (result === false) {\n        if (!isLeaving) {\n          path.pop();\n          continue;\n        }\n      } else if (result !== undefined) {\n        edits.push([key, result]);\n\n        if (!isLeaving) {\n          if (isNode(result)) {\n            node = result;\n          } else {\n            path.pop();\n            continue;\n          }\n        }\n      }\n    }\n\n    if (result === undefined && isEdited) {\n      edits.push([key, node]);\n    }\n\n    if (isLeaving) {\n      path.pop();\n    } else {\n      var _node$kind;\n\n      stack = {\n        inArray,\n        index,\n        keys,\n        edits,\n        prev: stack,\n      };\n      inArray = Array.isArray(node);\n      keys = inArray\n        ? node\n        : (_node$kind = visitorKeys[node.kind]) !== null &&\n          _node$kind !== void 0\n        ? _node$kind\n        : [];\n      index = -1;\n      edits = [];\n\n      if (parent) {\n        ancestors.push(parent);\n      }\n\n      parent = node;\n    }\n  } while (stack !== undefined);\n\n  if (edits.length !== 0) {\n    // New root\n    return edits[edits.length - 1][1];\n  }\n\n  return root;\n}\n/**\n * Creates a new visitor instance which delegates to many visitors to run in\n * parallel. Each visitor will be visited for each node before moving on.\n *\n * If a prior visitor edits a node, no following visitors will see that node.\n */\n\nexport function visitInParallel(visitors) {\n  const skipping = new Array(visitors.length).fill(null);\n  const mergedVisitor = Object.create(null);\n\n  for (const kind of Object.values(Kind)) {\n    let hasVisitor = false;\n    const enterList = new Array(visitors.length).fill(undefined);\n    const leaveList = new Array(visitors.length).fill(undefined);\n\n    for (let i = 0; i < visitors.length; ++i) {\n      const { enter, leave } = getEnterLeaveForKind(visitors[i], kind);\n      hasVisitor || (hasVisitor = enter != null || leave != null);\n      enterList[i] = enter;\n      leaveList[i] = leave;\n    }\n\n    if (!hasVisitor) {\n      continue;\n    }\n\n    const mergedEnterLeave = {\n      enter(...args) {\n        const node = args[0];\n\n        for (let i = 0; i < visitors.length; i++) {\n          if (skipping[i] === null) {\n            var _enterList$i;\n\n            const result =\n              (_enterList$i = enterList[i]) === null || _enterList$i === void 0\n                ? void 0\n                : _enterList$i.apply(visitors[i], args);\n\n            if (result === false) {\n              skipping[i] = node;\n            } else if (result === BREAK) {\n              skipping[i] = BREAK;\n            } else if (result !== undefined) {\n              return result;\n            }\n          }\n        }\n      },\n\n      leave(...args) {\n        const node = args[0];\n\n        for (let i = 0; i < visitors.length; i++) {\n          if (skipping[i] === null) {\n            var _leaveList$i;\n\n            const result =\n              (_leaveList$i = leaveList[i]) === null || _leaveList$i === void 0\n                ? void 0\n                : _leaveList$i.apply(visitors[i], args);\n\n            if (result === BREAK) {\n              skipping[i] = BREAK;\n            } else if (result !== undefined && result !== false) {\n              return result;\n            }\n          } else if (skipping[i] === node) {\n            skipping[i] = null;\n          }\n        }\n      },\n    };\n    mergedVisitor[kind] = mergedEnterLeave;\n  }\n\n  return mergedVisitor;\n}\n/**\n * Given a visitor instance and a node kind, return EnterLeaveVisitor for that kind.\n */\n\nexport function getEnterLeaveForKind(visitor, kind) {\n  const kindVisitor = visitor[kind];\n\n  if (typeof kindVisitor === 'object') {\n    // { Kind: { enter() {}, leave() {} } }\n    return kindVisitor;\n  } else if (typeof kindVisitor === 'function') {\n    // { Kind() {} }\n    return {\n      enter: kindVisitor,\n      leave: undefined,\n    };\n  } // { enter() {}, leave() {} }\n\n  return {\n    enter: visitor.enter,\n    leave: visitor.leave,\n  };\n}\n/**\n * Given a visitor instance, if it is leaving or not, and a node kind, return\n * the function the visitor runtime should call.\n *\n * @deprecated Please use `getEnterLeaveForKind` instead. Will be removed in v17\n */\n\n/* c8 ignore next 8 */\n\nexport function getVisitFn(visitor, kind, isLeaving) {\n  const { enter, leave } = getEnterLeaveForKind(visitor, kind);\n  return isLeaving ? leave : enter;\n}\n","import { serializeFetchParameter } from \"./serializeFetchParameter.js\";\nexport function rewriteURIForGET(chosenURI, body) {\n    var queryParams = [];\n    var addQueryParam = function (key, value) {\n        queryParams.push(\"\".concat(key, \"=\").concat(encodeURIComponent(value)));\n    };\n    if ('query' in body) {\n        addQueryParam('query', body.query);\n    }\n    if (body.operationName) {\n        addQueryParam('operationName', body.operationName);\n    }\n    if (body.variables) {\n        var serializedVariables = void 0;\n        try {\n            serializedVariables = serializeFetchParameter(body.variables, 'Variables map');\n        }\n        catch (parseError) {\n            return { parseError: parseError };\n        }\n        addQueryParam('variables', serializedVariables);\n    }\n    if (body.extensions) {\n        var serializedExtensions = void 0;\n        try {\n            serializedExtensions = serializeFetchParameter(body.extensions, 'Extensions map');\n        }\n        catch (parseError) {\n            return { parseError: parseError };\n        }\n        addQueryParam('extensions', serializedExtensions);\n    }\n    var fragment = '', preFragment = chosenURI;\n    var fragmentStart = chosenURI.indexOf('#');\n    if (fragmentStart !== -1) {\n        fragment = chosenURI.substr(fragmentStart);\n        preFragment = chosenURI.substr(0, fragmentStart);\n    }\n    var queryParamsPrefix = preFragment.indexOf('?') === -1 ? '?' : '&';\n    var newURI = preFragment + queryParamsPrefix + queryParams.join('&') + fragment;\n    return { newURI: newURI };\n}\n//# sourceMappingURL=rewriteURIForGET.js.map","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n// eslint-disable-next-line es-x/no-object-keys -- safe\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","/**\n * Polyfill for the optional chain operator, `?.`, given previous conversion of the expression into an array of values,\n * descriptors, and functions.\n *\n * Adapted from Sucrase (https://github.com/alangpierce/sucrase)\n * See https://github.com/alangpierce/sucrase/blob/265887868966917f3b924ce38dfad01fbab1329f/src/transformers/OptionalChainingNullishTransformer.ts#L15\n *\n * @param ops Array result of expression conversion\n * @returns The value of the expression\n */\nfunction _optionalChain(ops) {\n  let lastAccessLHS = undefined;\n  let value = ops[0];\n  let i = 1;\n  while (i < ops.length) {\n    const op = ops[i] ;\n    const fn = ops[i + 1] ;\n    i += 2;\n    // by checking for loose equality to `null`, we catch both `null` and `undefined`\n    if ((op === 'optionalAccess' || op === 'optionalCall') && value == null) {\n      // really we're meaning to return `undefined` as an actual value here, but it saves bytes not to write it\n      return;\n    }\n    if (op === 'access' || op === 'optionalAccess') {\n      lastAccessLHS = value;\n      value = fn(value);\n    } else if (op === 'call' || op === 'optionalCall') {\n      value = fn((...args) => (value ).call(lastAccessLHS, ...args));\n      lastAccessLHS = undefined;\n    }\n  }\n  return value;\n}\n\n// Sucrase version\n// function _optionalChain(ops) {\n//   let lastAccessLHS = undefined;\n//   let value = ops[0];\n//   let i = 1;\n//   while (i < ops.length) {\n//     const op = ops[i];\n//     const fn = ops[i + 1];\n//     i += 2;\n//     if ((op === 'optionalAccess' || op === 'optionalCall') && value == null) {\n//       return undefined;\n//     }\n//     if (op === 'access' || op === 'optionalAccess') {\n//       lastAccessLHS = value;\n//       value = fn(value);\n//     } else if (op === 'call' || op === 'optionalCall') {\n//       value = fn((...args) => value.call(lastAccessLHS, ...args));\n//       lastAccessLHS = undefined;\n//     }\n//   }\n//   return value;\n// }\n\nexport { _optionalChain };\n//# sourceMappingURL=_optionalChain.js.map\n","/** Internal global with common properties and Sentry extensions  */\n\n// The code below for 'isGlobalObj' and 'GLOBAL_OBJ' was copied from core-js before modification\n// https://github.com/zloirock/core-js/blob/1b944df55282cdc99c90db5f49eb0b6eda2cc0a3/packages/core-js/internals/global.js\n// core-js has the following licence:\n//\n// Copyright (c) 2014-2022 Denis Pushkarev\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n/** Returns 'obj' if it's the global object, otherwise returns undefined */\nfunction isGlobalObj(obj) {\n  return obj && obj.Math == Math ? obj : undefined;\n}\n\n/** Get's the global object for the current JavaScript runtime */\nconst GLOBAL_OBJ =\n  (typeof globalThis == 'object' && isGlobalObj(globalThis)) ||\n  // eslint-disable-next-line no-restricted-globals\n  (typeof window == 'object' && isGlobalObj(window)) ||\n  (typeof self == 'object' && isGlobalObj(self)) ||\n  (typeof global == 'object' && isGlobalObj(global)) ||\n  (function () {\n    return this;\n  })() ||\n  {};\n\n/**\n * @deprecated Use GLOBAL_OBJ instead or WINDOW from @sentry/browser. This will be removed in v8\n */\nfunction getGlobalObject() {\n  return GLOBAL_OBJ ;\n}\n\n/**\n * Returns a global singleton contained in the global `__SENTRY__` object.\n *\n * If the singleton doesn't already exist in `__SENTRY__`, it will be created using the given factory\n * function and added to the `__SENTRY__` object.\n *\n * @param name name of the global singleton on __SENTRY__\n * @param creator creator Factory function to create the singleton if it doesn't already exist on `__SENTRY__`\n * @param obj (Optional) The global object on which to look for `__SENTRY__`, if not `GLOBAL_OBJ`'s return value\n * @returns the singleton\n */\nfunction getGlobalSingleton(name, creator, obj) {\n  const gbl = (obj || GLOBAL_OBJ) ;\n  const __SENTRY__ = (gbl.__SENTRY__ = gbl.__SENTRY__ || {});\n  const singleton = __SENTRY__[name] || (__SENTRY__[name] = creator());\n  return singleton;\n}\n\nexport { GLOBAL_OBJ, getGlobalObject, getGlobalSingleton };\n//# sourceMappingURL=worldwide.js.map\n","var getBuiltIn = require('../internals/get-built-in');\nvar isCallable = require('../internals/is-callable');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar $Object = Object;\n\nmodule.exports = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  var $Symbol = getBuiltIn('Symbol');\n  return isCallable($Symbol) && isPrototypeOf($Symbol.prototype, $Object(it));\n};\n","/**\n * 'true' if running in Node.js, or 'false' otherwise.\n * We check for version truthiness since most shims will have that as empty string.\n */\n// eslint-disable-next-line no-undef\nexport var isNode = typeof process !== 'undefined' && typeof process.version !== 'undefined' && !!process.version ? true : false;\n","function _createForOfIteratorHelperLoose(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (it) return (it = it.call(o)).next.bind(it); if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n// === Symbol Support ===\nvar hasSymbols = function () {\n  return typeof Symbol === 'function';\n};\n\nvar hasSymbol = function (name) {\n  return hasSymbols() && Boolean(Symbol[name]);\n};\n\nvar getSymbol = function (name) {\n  return hasSymbol(name) ? Symbol[name] : '@@' + name;\n};\n\nif (hasSymbols() && !hasSymbol('observable')) {\n  Symbol.observable = Symbol('observable');\n}\n\nvar SymbolIterator = getSymbol('iterator');\nvar SymbolObservable = getSymbol('observable');\nvar SymbolSpecies = getSymbol('species'); // === Abstract Operations ===\n\nfunction getMethod(obj, key) {\n  var value = obj[key];\n  if (value == null) return undefined;\n  if (typeof value !== 'function') throw new TypeError(value + ' is not a function');\n  return value;\n}\n\nfunction getSpecies(obj) {\n  var ctor = obj.constructor;\n\n  if (ctor !== undefined) {\n    ctor = ctor[SymbolSpecies];\n\n    if (ctor === null) {\n      ctor = undefined;\n    }\n  }\n\n  return ctor !== undefined ? ctor : Observable;\n}\n\nfunction isObservable(x) {\n  return x instanceof Observable; // SPEC: Brand check\n}\n\nfunction hostReportError(e) {\n  if (hostReportError.log) {\n    hostReportError.log(e);\n  } else {\n    setTimeout(function () {\n      throw e;\n    });\n  }\n}\n\nfunction enqueue(fn) {\n  Promise.resolve().then(function () {\n    try {\n      fn();\n    } catch (e) {\n      hostReportError(e);\n    }\n  });\n}\n\nfunction cleanupSubscription(subscription) {\n  var cleanup = subscription._cleanup;\n  if (cleanup === undefined) return;\n  subscription._cleanup = undefined;\n\n  if (!cleanup) {\n    return;\n  }\n\n  try {\n    if (typeof cleanup === 'function') {\n      cleanup();\n    } else {\n      var unsubscribe = getMethod(cleanup, 'unsubscribe');\n\n      if (unsubscribe) {\n        unsubscribe.call(cleanup);\n      }\n    }\n  } catch (e) {\n    hostReportError(e);\n  }\n}\n\nfunction closeSubscription(subscription) {\n  subscription._observer = undefined;\n  subscription._queue = undefined;\n  subscription._state = 'closed';\n}\n\nfunction flushSubscription(subscription) {\n  var queue = subscription._queue;\n\n  if (!queue) {\n    return;\n  }\n\n  subscription._queue = undefined;\n  subscription._state = 'ready';\n\n  for (var i = 0; i < queue.length; ++i) {\n    notifySubscription(subscription, queue[i].type, queue[i].value);\n    if (subscription._state === 'closed') break;\n  }\n}\n\nfunction notifySubscription(subscription, type, value) {\n  subscription._state = 'running';\n  var observer = subscription._observer;\n\n  try {\n    var m = getMethod(observer, type);\n\n    switch (type) {\n      case 'next':\n        if (m) m.call(observer, value);\n        break;\n\n      case 'error':\n        closeSubscription(subscription);\n        if (m) m.call(observer, value);else throw value;\n        break;\n\n      case 'complete':\n        closeSubscription(subscription);\n        if (m) m.call(observer);\n        break;\n    }\n  } catch (e) {\n    hostReportError(e);\n  }\n\n  if (subscription._state === 'closed') cleanupSubscription(subscription);else if (subscription._state === 'running') subscription._state = 'ready';\n}\n\nfunction onNotify(subscription, type, value) {\n  if (subscription._state === 'closed') return;\n\n  if (subscription._state === 'buffering') {\n    subscription._queue.push({\n      type: type,\n      value: value\n    });\n\n    return;\n  }\n\n  if (subscription._state !== 'ready') {\n    subscription._state = 'buffering';\n    subscription._queue = [{\n      type: type,\n      value: value\n    }];\n    enqueue(function () {\n      return flushSubscription(subscription);\n    });\n    return;\n  }\n\n  notifySubscription(subscription, type, value);\n}\n\nvar Subscription = /*#__PURE__*/function () {\n  function Subscription(observer, subscriber) {\n    // ASSERT: observer is an object\n    // ASSERT: subscriber is callable\n    this._cleanup = undefined;\n    this._observer = observer;\n    this._queue = undefined;\n    this._state = 'initializing';\n    var subscriptionObserver = new SubscriptionObserver(this);\n\n    try {\n      this._cleanup = subscriber.call(undefined, subscriptionObserver);\n    } catch (e) {\n      subscriptionObserver.error(e);\n    }\n\n    if (this._state === 'initializing') this._state = 'ready';\n  }\n\n  var _proto = Subscription.prototype;\n\n  _proto.unsubscribe = function unsubscribe() {\n    if (this._state !== 'closed') {\n      closeSubscription(this);\n      cleanupSubscription(this);\n    }\n  };\n\n  _createClass(Subscription, [{\n    key: \"closed\",\n    get: function () {\n      return this._state === 'closed';\n    }\n  }]);\n\n  return Subscription;\n}();\n\nvar SubscriptionObserver = /*#__PURE__*/function () {\n  function SubscriptionObserver(subscription) {\n    this._subscription = subscription;\n  }\n\n  var _proto2 = SubscriptionObserver.prototype;\n\n  _proto2.next = function next(value) {\n    onNotify(this._subscription, 'next', value);\n  };\n\n  _proto2.error = function error(value) {\n    onNotify(this._subscription, 'error', value);\n  };\n\n  _proto2.complete = function complete() {\n    onNotify(this._subscription, 'complete');\n  };\n\n  _createClass(SubscriptionObserver, [{\n    key: \"closed\",\n    get: function () {\n      return this._subscription._state === 'closed';\n    }\n  }]);\n\n  return SubscriptionObserver;\n}();\n\nvar Observable = /*#__PURE__*/function () {\n  function Observable(subscriber) {\n    if (!(this instanceof Observable)) throw new TypeError('Observable cannot be called as a function');\n    if (typeof subscriber !== 'function') throw new TypeError('Observable initializer must be a function');\n    this._subscriber = subscriber;\n  }\n\n  var _proto3 = Observable.prototype;\n\n  _proto3.subscribe = function subscribe(observer) {\n    if (typeof observer !== 'object' || observer === null) {\n      observer = {\n        next: observer,\n        error: arguments[1],\n        complete: arguments[2]\n      };\n    }\n\n    return new Subscription(observer, this._subscriber);\n  };\n\n  _proto3.forEach = function forEach(fn) {\n    var _this = this;\n\n    return new Promise(function (resolve, reject) {\n      if (typeof fn !== 'function') {\n        reject(new TypeError(fn + ' is not a function'));\n        return;\n      }\n\n      function done() {\n        subscription.unsubscribe();\n        resolve();\n      }\n\n      var subscription = _this.subscribe({\n        next: function (value) {\n          try {\n            fn(value, done);\n          } catch (e) {\n            reject(e);\n            subscription.unsubscribe();\n          }\n        },\n        error: reject,\n        complete: resolve\n      });\n    });\n  };\n\n  _proto3.map = function map(fn) {\n    var _this2 = this;\n\n    if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n    var C = getSpecies(this);\n    return new C(function (observer) {\n      return _this2.subscribe({\n        next: function (value) {\n          try {\n            value = fn(value);\n          } catch (e) {\n            return observer.error(e);\n          }\n\n          observer.next(value);\n        },\n        error: function (e) {\n          observer.error(e);\n        },\n        complete: function () {\n          observer.complete();\n        }\n      });\n    });\n  };\n\n  _proto3.filter = function filter(fn) {\n    var _this3 = this;\n\n    if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n    var C = getSpecies(this);\n    return new C(function (observer) {\n      return _this3.subscribe({\n        next: function (value) {\n          try {\n            if (!fn(value)) return;\n          } catch (e) {\n            return observer.error(e);\n          }\n\n          observer.next(value);\n        },\n        error: function (e) {\n          observer.error(e);\n        },\n        complete: function () {\n          observer.complete();\n        }\n      });\n    });\n  };\n\n  _proto3.reduce = function reduce(fn) {\n    var _this4 = this;\n\n    if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n    var C = getSpecies(this);\n    var hasSeed = arguments.length > 1;\n    var hasValue = false;\n    var seed = arguments[1];\n    var acc = seed;\n    return new C(function (observer) {\n      return _this4.subscribe({\n        next: function (value) {\n          var first = !hasValue;\n          hasValue = true;\n\n          if (!first || hasSeed) {\n            try {\n              acc = fn(acc, value);\n            } catch (e) {\n              return observer.error(e);\n            }\n          } else {\n            acc = value;\n          }\n        },\n        error: function (e) {\n          observer.error(e);\n        },\n        complete: function () {\n          if (!hasValue && !hasSeed) return observer.error(new TypeError('Cannot reduce an empty sequence'));\n          observer.next(acc);\n          observer.complete();\n        }\n      });\n    });\n  };\n\n  _proto3.concat = function concat() {\n    var _this5 = this;\n\n    for (var _len = arguments.length, sources = new Array(_len), _key = 0; _key < _len; _key++) {\n      sources[_key] = arguments[_key];\n    }\n\n    var C = getSpecies(this);\n    return new C(function (observer) {\n      var subscription;\n      var index = 0;\n\n      function startNext(next) {\n        subscription = next.subscribe({\n          next: function (v) {\n            observer.next(v);\n          },\n          error: function (e) {\n            observer.error(e);\n          },\n          complete: function () {\n            if (index === sources.length) {\n              subscription = undefined;\n              observer.complete();\n            } else {\n              startNext(C.from(sources[index++]));\n            }\n          }\n        });\n      }\n\n      startNext(_this5);\n      return function () {\n        if (subscription) {\n          subscription.unsubscribe();\n          subscription = undefined;\n        }\n      };\n    });\n  };\n\n  _proto3.flatMap = function flatMap(fn) {\n    var _this6 = this;\n\n    if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n    var C = getSpecies(this);\n    return new C(function (observer) {\n      var subscriptions = [];\n\n      var outer = _this6.subscribe({\n        next: function (value) {\n          if (fn) {\n            try {\n              value = fn(value);\n            } catch (e) {\n              return observer.error(e);\n            }\n          }\n\n          var inner = C.from(value).subscribe({\n            next: function (value) {\n              observer.next(value);\n            },\n            error: function (e) {\n              observer.error(e);\n            },\n            complete: function () {\n              var i = subscriptions.indexOf(inner);\n              if (i >= 0) subscriptions.splice(i, 1);\n              completeIfDone();\n            }\n          });\n          subscriptions.push(inner);\n        },\n        error: function (e) {\n          observer.error(e);\n        },\n        complete: function () {\n          completeIfDone();\n        }\n      });\n\n      function completeIfDone() {\n        if (outer.closed && subscriptions.length === 0) observer.complete();\n      }\n\n      return function () {\n        subscriptions.forEach(function (s) {\n          return s.unsubscribe();\n        });\n        outer.unsubscribe();\n      };\n    });\n  };\n\n  _proto3[SymbolObservable] = function () {\n    return this;\n  };\n\n  Observable.from = function from(x) {\n    var C = typeof this === 'function' ? this : Observable;\n    if (x == null) throw new TypeError(x + ' is not an object');\n    var method = getMethod(x, SymbolObservable);\n\n    if (method) {\n      var observable = method.call(x);\n      if (Object(observable) !== observable) throw new TypeError(observable + ' is not an object');\n      if (isObservable(observable) && observable.constructor === C) return observable;\n      return new C(function (observer) {\n        return observable.subscribe(observer);\n      });\n    }\n\n    if (hasSymbol('iterator')) {\n      method = getMethod(x, SymbolIterator);\n\n      if (method) {\n        return new C(function (observer) {\n          enqueue(function () {\n            if (observer.closed) return;\n\n            for (var _iterator = _createForOfIteratorHelperLoose(method.call(x)), _step; !(_step = _iterator()).done;) {\n              var item = _step.value;\n              observer.next(item);\n              if (observer.closed) return;\n            }\n\n            observer.complete();\n          });\n        });\n      }\n    }\n\n    if (Array.isArray(x)) {\n      return new C(function (observer) {\n        enqueue(function () {\n          if (observer.closed) return;\n\n          for (var i = 0; i < x.length; ++i) {\n            observer.next(x[i]);\n            if (observer.closed) return;\n          }\n\n          observer.complete();\n        });\n      });\n    }\n\n    throw new TypeError(x + ' is not observable');\n  };\n\n  Observable.of = function of() {\n    for (var _len2 = arguments.length, items = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      items[_key2] = arguments[_key2];\n    }\n\n    var C = typeof this === 'function' ? this : Observable;\n    return new C(function (observer) {\n      enqueue(function () {\n        if (observer.closed) return;\n\n        for (var i = 0; i < items.length; ++i) {\n          observer.next(items[i]);\n          if (observer.closed) return;\n        }\n\n        observer.complete();\n      });\n    });\n  };\n\n  _createClass(Observable, null, [{\n    key: SymbolSpecies,\n    get: function () {\n      return this;\n    }\n  }]);\n\n  return Observable;\n}();\n\nif (hasSymbols()) {\n  Object.defineProperty(Observable, Symbol('extensions'), {\n    value: {\n      symbol: SymbolObservable,\n      hostReportError: hostReportError\n    },\n    configurable: true\n  });\n}\n\nexport { Observable };\n","import { __assign, __rest } from \"tslib\";\nimport \"../../utilities/globals/index.js\";\nimport { visit } from 'graphql';\nimport { ApolloLink } from \"../core/index.js\";\nimport { Observable } from \"../../utilities/index.js\";\nimport { serializeFetchParameter } from \"./serializeFetchParameter.js\";\nimport { selectURI } from \"./selectURI.js\";\nimport { parseAndCheckHttpResponse } from \"./parseAndCheckHttpResponse.js\";\nimport { checkFetcher } from \"./checkFetcher.js\";\nimport { selectHttpOptionsAndBodyInternal, defaultPrinter, fallbackHttpConfig } from \"./selectHttpOptionsAndBody.js\";\nimport { createSignalIfSupported } from \"./createSignalIfSupported.js\";\nimport { rewriteURIForGET } from \"./rewriteURIForGET.js\";\nimport { fromError } from \"../utils/index.js\";\nimport { maybe } from \"../../utilities/index.js\";\nvar backupFetch = maybe(function () { return fetch; });\nexport var createHttpLink = function (linkOptions) {\n    if (linkOptions === void 0) { linkOptions = {}; }\n    var _a = linkOptions.uri, uri = _a === void 0 ? '/graphql' : _a, preferredFetch = linkOptions.fetch, _b = linkOptions.print, print = _b === void 0 ? defaultPrinter : _b, includeExtensions = linkOptions.includeExtensions, useGETForQueries = linkOptions.useGETForQueries, _c = linkOptions.includeUnusedVariables, includeUnusedVariables = _c === void 0 ? false : _c, requestOptions = __rest(linkOptions, [\"uri\", \"fetch\", \"print\", \"includeExtensions\", \"useGETForQueries\", \"includeUnusedVariables\"]);\n    if (__DEV__) {\n        checkFetcher(preferredFetch || backupFetch);\n    }\n    var linkConfig = {\n        http: { includeExtensions: includeExtensions },\n        options: requestOptions.fetchOptions,\n        credentials: requestOptions.credentials,\n        headers: requestOptions.headers,\n    };\n    return new ApolloLink(function (operation) {\n        var chosenURI = selectURI(operation, uri);\n        var context = operation.getContext();\n        var clientAwarenessHeaders = {};\n        if (context.clientAwareness) {\n            var _a = context.clientAwareness, name_1 = _a.name, version = _a.version;\n            if (name_1) {\n                clientAwarenessHeaders['apollographql-client-name'] = name_1;\n            }\n            if (version) {\n                clientAwarenessHeaders['apollographql-client-version'] = version;\n            }\n        }\n        var contextHeaders = __assign(__assign({}, clientAwarenessHeaders), context.headers);\n        var contextConfig = {\n            http: context.http,\n            options: context.fetchOptions,\n            credentials: context.credentials,\n            headers: contextHeaders,\n        };\n        var _b = selectHttpOptionsAndBodyInternal(operation, print, fallbackHttpConfig, linkConfig, contextConfig), options = _b.options, body = _b.body;\n        if (body.variables && !includeUnusedVariables) {\n            var unusedNames_1 = new Set(Object.keys(body.variables));\n            visit(operation.query, {\n                Variable: function (node, _key, parent) {\n                    if (parent && parent.kind !== 'VariableDefinition') {\n                        unusedNames_1.delete(node.name.value);\n                    }\n                },\n            });\n            if (unusedNames_1.size) {\n                body.variables = __assign({}, body.variables);\n                unusedNames_1.forEach(function (name) {\n                    delete body.variables[name];\n                });\n            }\n        }\n        var controller;\n        if (!options.signal) {\n            var _c = createSignalIfSupported(), _controller = _c.controller, signal = _c.signal;\n            controller = _controller;\n            if (controller)\n                options.signal = signal;\n        }\n        var definitionIsMutation = function (d) {\n            return d.kind === 'OperationDefinition' && d.operation === 'mutation';\n        };\n        if (useGETForQueries &&\n            !operation.query.definitions.some(definitionIsMutation)) {\n            options.method = 'GET';\n        }\n        if (options.method === 'GET') {\n            var _d = rewriteURIForGET(chosenURI, body), newURI = _d.newURI, parseError = _d.parseError;\n            if (parseError) {\n                return fromError(parseError);\n            }\n            chosenURI = newURI;\n        }\n        else {\n            try {\n                options.body = serializeFetchParameter(body, 'Payload');\n            }\n            catch (parseError) {\n                return fromError(parseError);\n            }\n        }\n        return new Observable(function (observer) {\n            var currentFetch = preferredFetch || maybe(function () { return fetch; }) || backupFetch;\n            currentFetch(chosenURI, options)\n                .then(function (response) {\n                operation.setContext({ response: response });\n                return response;\n            })\n                .then(parseAndCheckHttpResponse(operation))\n                .then(function (result) {\n                observer.next(result);\n                observer.complete();\n                return result;\n            })\n                .catch(function (err) {\n                if (err.name === 'AbortError')\n                    return;\n                if (err.result && err.result.errors && err.result.data) {\n                    observer.next(err.result);\n                }\n                observer.error(err);\n            });\n            return function () {\n                if (controller)\n                    controller.abort();\n            };\n        });\n    });\n};\n//# sourceMappingURL=createHttpLink.js.map","import { invariant } from '../jsutils/invariant.mjs';\nconst LineRegExp = /\\r\\n|[\\n\\r]/g;\n/**\n * Represents a location in a Source.\n */\n\n/**\n * Takes a Source and a UTF-8 character offset, and returns the corresponding\n * line and column as a SourceLocation.\n */\nexport function getLocation(source, position) {\n  let lastLineStart = 0;\n  let line = 1;\n\n  for (const match of source.body.matchAll(LineRegExp)) {\n    typeof match.index === 'number' || invariant(false);\n\n    if (match.index >= position) {\n      break;\n    }\n\n    lastLineStart = match.index + match[0].length;\n    line += 1;\n  }\n\n  return {\n    line,\n    column: position + 1 - lastLineStart,\n  };\n}\n","var hasOwn = require('../internals/has-own-property');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source, exceptions) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!hasOwn(target, key) && !(exceptions && hasOwn(exceptions, key))) {\n      defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n    }\n  }\n};\n","import { __extends } from \"tslib\";\nvar genericMessage = \"Invariant Violation\";\nvar _a = Object.setPrototypeOf, setPrototypeOf = _a === void 0 ? function (obj, proto) {\n    obj.__proto__ = proto;\n    return obj;\n} : _a;\nvar InvariantError = /** @class */ (function (_super) {\n    __extends(InvariantError, _super);\n    function InvariantError(message) {\n        if (message === void 0) { message = genericMessage; }\n        var _this = _super.call(this, typeof message === \"number\"\n            ? genericMessage + \": \" + message + \" (see https://github.com/apollographql/invariant-packages)\"\n            : message) || this;\n        _this.framesToPop = 1;\n        _this.name = genericMessage;\n        setPrototypeOf(_this, InvariantError.prototype);\n        return _this;\n    }\n    return InvariantError;\n}(Error));\nexport { InvariantError };\nexport function invariant(condition, message) {\n    if (!condition) {\n        throw new InvariantError(message);\n    }\n}\nvar verbosityLevels = [\"debug\", \"log\", \"warn\", \"error\", \"silent\"];\nvar verbosityLevel = verbosityLevels.indexOf(\"log\");\nfunction wrapConsoleMethod(name) {\n    return function () {\n        if (verbosityLevels.indexOf(name) >= verbosityLevel) {\n            // Default to console.log if this host environment happens not to provide\n            // all the console.* methods we need.\n            var method = console[name] || console.log;\n            return method.apply(console, arguments);\n        }\n    };\n}\n(function (invariant) {\n    invariant.debug = wrapConsoleMethod(\"debug\");\n    invariant.log = wrapConsoleMethod(\"log\");\n    invariant.warn = wrapConsoleMethod(\"warn\");\n    invariant.error = wrapConsoleMethod(\"error\");\n})(invariant || (invariant = {}));\nexport function setVerbosity(level) {\n    var old = verbosityLevels[verbosityLevel];\n    verbosityLevel = Math.max(0, verbosityLevels.indexOf(level));\n    return old;\n}\nexport default invariant;\n//# sourceMappingURL=invariant.js.map","function maybe(thunk) {\n  try { return thunk() } catch (_) {}\n}\n\nvar safeGlobal = (\n  maybe(function() { return globalThis }) ||\n  maybe(function() { return window }) ||\n  maybe(function() { return self }) ||\n  maybe(function() { return global }) ||\n  // We don't expect the Function constructor ever to be invoked at runtime, as\n  // long as at least one of globalThis, window, self, or global is defined, so\n  // we are under no obligation to make it easy for static analysis tools to\n  // detect syntactic usage of the Function constructor. If you think you can\n  // improve your static analysis to detect this obfuscation, think again. This\n  // is an arms race you cannot win, at least not in JavaScript.\n  maybe(function() { return maybe.constructor(\"return this\")() })\n);\n\nvar needToRemove = false;\n\nexport function install() {\n  if (safeGlobal &&\n      !maybe(function() { return process.env.NODE_ENV }) &&\n      !maybe(function() { return process })) {\n    Object.defineProperty(safeGlobal, \"process\", {\n      value: {\n        env: {\n          // This default needs to be \"production\" instead of \"development\", to\n          // avoid the problem https://github.com/graphql/graphql-js/pull/2894\n          // will eventually solve, once merged and released.\n          NODE_ENV: \"production\",\n        },\n      },\n      // Let anyone else change global.process as they see fit, but hide it from\n      // Object.keys(global) enumeration.\n      configurable: true,\n      enumerable: false,\n      writable: true,\n    });\n    needToRemove = true;\n  }\n}\n\n// Call install() at least once, when this module is imported.\ninstall();\n\nexport function remove() {\n  if (needToRemove) {\n    delete safeGlobal.process;\n    needToRemove = false;\n  }\n}\n","var DESCRIPTORS = require('../internals/descriptors');\nvar hasOwn = require('../internals/has-own-property');\n\nvar FunctionPrototype = Function.prototype;\n// eslint-disable-next-line es-x/no-object-getownpropertydescriptor -- safe\nvar getDescriptor = DESCRIPTORS && Object.getOwnPropertyDescriptor;\n\nvar EXISTS = hasOwn(FunctionPrototype, 'name');\n// additional protection from minified / mangled / dropped function names\nvar PROPER = EXISTS && (function something() { /* empty */ }).name === 'something';\nvar CONFIGURABLE = EXISTS && (!DESCRIPTORS || (DESCRIPTORS && getDescriptor(FunctionPrototype, 'name').configurable));\n\nmodule.exports = {\n  EXISTS: EXISTS,\n  PROPER: PROPER,\n  CONFIGURABLE: CONFIGURABLE\n};\n","/**\n * The set of allowed directive location values.\n */\nexport let DirectiveLocation;\n/**\n * The enum type representing the directive location values.\n *\n * @deprecated Please use `DirectiveLocation`. Will be remove in v17.\n */\n\n(function (DirectiveLocation) {\n  DirectiveLocation['QUERY'] = 'QUERY';\n  DirectiveLocation['MUTATION'] = 'MUTATION';\n  DirectiveLocation['SUBSCRIPTION'] = 'SUBSCRIPTION';\n  DirectiveLocation['FIELD'] = 'FIELD';\n  DirectiveLocation['FRAGMENT_DEFINITION'] = 'FRAGMENT_DEFINITION';\n  DirectiveLocation['FRAGMENT_SPREAD'] = 'FRAGMENT_SPREAD';\n  DirectiveLocation['INLINE_FRAGMENT'] = 'INLINE_FRAGMENT';\n  DirectiveLocation['VARIABLE_DEFINITION'] = 'VARIABLE_DEFINITION';\n  DirectiveLocation['SCHEMA'] = 'SCHEMA';\n  DirectiveLocation['SCALAR'] = 'SCALAR';\n  DirectiveLocation['OBJECT'] = 'OBJECT';\n  DirectiveLocation['FIELD_DEFINITION'] = 'FIELD_DEFINITION';\n  DirectiveLocation['ARGUMENT_DEFINITION'] = 'ARGUMENT_DEFINITION';\n  DirectiveLocation['INTERFACE'] = 'INTERFACE';\n  DirectiveLocation['UNION'] = 'UNION';\n  DirectiveLocation['ENUM'] = 'ENUM';\n  DirectiveLocation['ENUM_VALUE'] = 'ENUM_VALUE';\n  DirectiveLocation['INPUT_OBJECT'] = 'INPUT_OBJECT';\n  DirectiveLocation['INPUT_FIELD_DEFINITION'] = 'INPUT_FIELD_DEFINITION';\n})(DirectiveLocation || (DirectiveLocation = {}));\n","import { __assign } from \"tslib\";\nexport function createOperation(starting, operation) {\n    var context = __assign({}, starting);\n    var setContext = function (next) {\n        if (typeof next === 'function') {\n            context = __assign(__assign({}, context), next(context));\n        }\n        else {\n            context = __assign(__assign({}, context), next);\n        }\n    };\n    var getContext = function () { return (__assign({}, context)); };\n    Object.defineProperty(operation, 'setContext', {\n        enumerable: false,\n        value: setContext,\n    });\n    Object.defineProperty(operation, 'getContext', {\n        enumerable: false,\n        value: getContext,\n    });\n    return operation;\n}\n//# sourceMappingURL=createOperation.js.map","import { getOperationName } from \"../../utilities/index.js\";\nexport function transformOperation(operation) {\n    var transformedOperation = {\n        variables: operation.variables || {},\n        extensions: operation.extensions || {},\n        operationName: operation.operationName,\n        query: operation.query,\n    };\n    if (!transformedOperation.operationName) {\n        transformedOperation.operationName =\n            typeof transformedOperation.query !== 'string'\n                ? getOperationName(transformedOperation.query) || undefined\n                : '';\n    }\n    return transformedOperation;\n}\n//# sourceMappingURL=transformOperation.js.map","import { InvariantError } from \"../../utilities/globals/index.js\";\nexport function validateOperation(operation) {\n    var OPERATION_FIELDS = [\n        'query',\n        'operationName',\n        'variables',\n        'extensions',\n        'context',\n    ];\n    for (var _i = 0, _a = Object.keys(operation); _i < _a.length; _i++) {\n        var key = _a[_i];\n        if (OPERATION_FIELDS.indexOf(key) < 0) {\n            throw __DEV__ ? new InvariantError(\"illegal argument: \".concat(key)) : new InvariantError(24);\n        }\n    }\n    return operation;\n}\n//# sourceMappingURL=validateOperation.js.map","import { __extends } from \"tslib\";\nimport { InvariantError, invariant } from \"../../utilities/globals/index.js\";\nimport { Observable } from \"../../utilities/index.js\";\nimport { validateOperation, createOperation, transformOperation, } from \"../utils/index.js\";\nfunction passthrough(op, forward) {\n    return (forward ? forward(op) : Observable.of());\n}\nfunction toLink(handler) {\n    return typeof handler === 'function' ? new ApolloLink(handler) : handler;\n}\nfunction isTerminating(link) {\n    return link.request.length <= 1;\n}\nvar LinkError = (function (_super) {\n    __extends(LinkError, _super);\n    function LinkError(message, link) {\n        var _this = _super.call(this, message) || this;\n        _this.link = link;\n        return _this;\n    }\n    return LinkError;\n}(Error));\nvar ApolloLink = (function () {\n    function ApolloLink(request) {\n        if (request)\n            this.request = request;\n    }\n    ApolloLink.empty = function () {\n        return new ApolloLink(function () { return Observable.of(); });\n    };\n    ApolloLink.from = function (links) {\n        if (links.length === 0)\n            return ApolloLink.empty();\n        return links.map(toLink).reduce(function (x, y) { return x.concat(y); });\n    };\n    ApolloLink.split = function (test, left, right) {\n        var leftLink = toLink(left);\n        var rightLink = toLink(right || new ApolloLink(passthrough));\n        if (isTerminating(leftLink) && isTerminating(rightLink)) {\n            return new ApolloLink(function (operation) {\n                return test(operation)\n                    ? leftLink.request(operation) || Observable.of()\n                    : rightLink.request(operation) || Observable.of();\n            });\n        }\n        else {\n            return new ApolloLink(function (operation, forward) {\n                return test(operation)\n                    ? leftLink.request(operation, forward) || Observable.of()\n                    : rightLink.request(operation, forward) || Observable.of();\n            });\n        }\n    };\n    ApolloLink.execute = function (link, operation) {\n        return (link.request(createOperation(operation.context, transformOperation(validateOperation(operation)))) || Observable.of());\n    };\n    ApolloLink.concat = function (first, second) {\n        var firstLink = toLink(first);\n        if (isTerminating(firstLink)) {\n            __DEV__ && invariant.warn(new LinkError(\"You are calling concat on a terminating link, which will have no effect\", firstLink));\n            return firstLink;\n        }\n        var nextLink = toLink(second);\n        if (isTerminating(nextLink)) {\n            return new ApolloLink(function (operation) {\n                return firstLink.request(operation, function (op) { return nextLink.request(op) || Observable.of(); }) || Observable.of();\n            });\n        }\n        else {\n            return new ApolloLink(function (operation, forward) {\n                return (firstLink.request(operation, function (op) {\n                    return nextLink.request(op, forward) || Observable.of();\n                }) || Observable.of());\n            });\n        }\n    };\n    ApolloLink.prototype.split = function (test, left, right) {\n        return this.concat(ApolloLink.split(test, left, right || new ApolloLink(passthrough)));\n    };\n    ApolloLink.prototype.concat = function (next) {\n        return ApolloLink.concat(this, next);\n    };\n    ApolloLink.prototype.request = function (operation, forward) {\n        throw __DEV__ ? new InvariantError('request is not implemented') : new InvariantError(19);\n    };\n    ApolloLink.prototype.onError = function (error, observer) {\n        if (observer && observer.error) {\n            observer.error(error);\n            return false;\n        }\n        throw error;\n    };\n    ApolloLink.prototype.setOnError = function (fn) {\n        this.onError = fn;\n        return this;\n    };\n    return ApolloLink;\n}());\nexport { ApolloLink };\n//# sourceMappingURL=ApolloLink.js.map","import { dateTimestampInSeconds, consoleSandbox, logger, GLOBAL_OBJ, isNodeEnv, getGlobalSingleton } from '@sentry/utils';\nimport { Scope } from './scope.js';\nimport { closeSession, makeSession, updateSession } from './session.js';\n\nconst NIL_EVENT_ID = '00000000000000000000000000000000';\n\n/**\n * API compatibility version of this hub.\n *\n * WARNING: This number should only be increased when the global interface\n * changes and new methods are introduced.\n *\n * @hidden\n */\nconst API_VERSION = 4;\n\n/**\n * Default maximum number of breadcrumbs added to an event. Can be overwritten\n * with {@link Options.maxBreadcrumbs}.\n */\nconst DEFAULT_BREADCRUMBS = 100;\n\n/**\n * A layer in the process stack.\n * @hidden\n */\n\n/**\n * @inheritDoc\n */\nclass Hub  {\n  /** Is a {@link Layer}[] containing the client and scope */\n    __init() {this._stack = [{}];}\n\n  /** Contains the last event id of a captured event.  */\n\n  /**\n   * Creates a new instance of the hub, will push one {@link Layer} into the\n   * internal stack on creation.\n   *\n   * @param client bound to the hub.\n   * @param scope bound to the hub.\n   * @param version number, higher number means higher priority.\n   */\n   constructor(client, scope = new Scope(),   _version = API_VERSION) {;this._version = _version;Hub.prototype.__init.call(this);\n    this.getStackTop().scope = scope;\n    if (client) {\n      this.bindClient(client);\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n   isOlderThan(version) {\n    return this._version < version;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   bindClient(client) {\n    const top = this.getStackTop();\n    top.client = client;\n    if (client && client.setupIntegrations) {\n      client.setupIntegrations();\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n   pushScope() {\n    // We want to clone the content of prev scope\n    const scope = Scope.clone(this.getScope());\n    this.getStack().push({\n      client: this.getClient(),\n      scope,\n    });\n    return scope;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   popScope() {\n    if (this.getStack().length <= 1) return false;\n    return !!this.getStack().pop();\n  }\n\n  /**\n   * @inheritDoc\n   */\n   withScope(callback) {\n    const scope = this.pushScope();\n    try {\n      callback(scope);\n    } finally {\n      this.popScope();\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n   getClient() {\n    return this.getStackTop().client ;\n  }\n\n  /** Returns the scope of the top stack. */\n   getScope() {\n    return this.getStackTop().scope;\n  }\n\n  /** Returns the scope stack for domains or the process. */\n   getStack() {\n    return this._stack;\n  }\n\n  /** Returns the topmost scope layer in the order domain > local > process. */\n   getStackTop() {\n    return this._stack[this._stack.length - 1];\n  }\n\n  /**\n   * @inheritDoc\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\n   captureException(exception, hint) {\n    const syntheticException = new Error('Sentry syntheticException');\n    this._lastEventId =\n      this._withClient((client, scope) => {\n        return client.captureException(\n          exception,\n          {\n            originalException: exception,\n            syntheticException,\n            ...hint,\n          },\n          scope,\n        );\n      }) || NIL_EVENT_ID;\n    return this._lastEventId;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   captureMessage(\n    message,\n    // eslint-disable-next-line deprecation/deprecation\n    level,\n    hint,\n  ) {\n    const syntheticException = new Error(message);\n    this._lastEventId =\n      this._withClient((client, scope) => {\n        return client.captureMessage(\n          message,\n          level,\n          {\n            originalException: message,\n            syntheticException,\n            ...hint,\n          },\n          scope,\n        );\n      }) || NIL_EVENT_ID;\n    return this._lastEventId;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   captureEvent(event, hint) {\n    const clientId =\n      this._withClient((client, scope) => {\n        return client.captureEvent(event, { ...hint }, scope);\n      }) || NIL_EVENT_ID;\n\n    if (event.type !== 'transaction') {\n      this._lastEventId = clientId;\n    }\n\n    return clientId;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   lastEventId() {\n    return this._lastEventId;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   addBreadcrumb(breadcrumb, hint) {\n    const { scope, client } = this.getStackTop();\n\n    if (!scope || !client) return;\n\n    // eslint-disable-next-line @typescript-eslint/unbound-method\n    const { beforeBreadcrumb = null, maxBreadcrumbs = DEFAULT_BREADCRUMBS } =\n      (client.getOptions && client.getOptions()) || {};\n\n    if (maxBreadcrumbs <= 0) return;\n\n    const timestamp = dateTimestampInSeconds();\n    const mergedBreadcrumb = { timestamp, ...breadcrumb };\n    const finalBreadcrumb = beforeBreadcrumb\n      ? (consoleSandbox(() => beforeBreadcrumb(mergedBreadcrumb, hint)) )\n      : mergedBreadcrumb;\n\n    if (finalBreadcrumb === null) return;\n\n    scope.addBreadcrumb(finalBreadcrumb, maxBreadcrumbs);\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setUser(user) {\n    const scope = this.getScope();\n    if (scope) scope.setUser(user);\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setTags(tags) {\n    const scope = this.getScope();\n    if (scope) scope.setTags(tags);\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setExtras(extras) {\n    const scope = this.getScope();\n    if (scope) scope.setExtras(extras);\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setTag(key, value) {\n    const scope = this.getScope();\n    if (scope) scope.setTag(key, value);\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setExtra(key, extra) {\n    const scope = this.getScope();\n    if (scope) scope.setExtra(key, extra);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n   setContext(name, context) {\n    const scope = this.getScope();\n    if (scope) scope.setContext(name, context);\n  }\n\n  /**\n   * @inheritDoc\n   */\n   configureScope(callback) {\n    const { scope, client } = this.getStackTop();\n    if (scope && client) {\n      callback(scope);\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n   run(callback) {\n    const oldHub = makeMain(this);\n    try {\n      callback(this);\n    } finally {\n      makeMain(oldHub);\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n   getIntegration(integration) {\n    const client = this.getClient();\n    if (!client) return null;\n    try {\n      return client.getIntegration(integration);\n    } catch (_oO) {\n      (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.warn(`Cannot retrieve integration ${integration.id} from the current Hub`);\n      return null;\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n   startTransaction(context, customSamplingContext) {\n    return this._callExtensionMethod('startTransaction', context, customSamplingContext);\n  }\n\n  /**\n   * @inheritDoc\n   */\n   traceHeaders() {\n    return this._callExtensionMethod('traceHeaders');\n  }\n\n  /**\n   * @inheritDoc\n   */\n   captureSession(endSession = false) {\n    // both send the update and pull the session from the scope\n    if (endSession) {\n      return this.endSession();\n    }\n\n    // only send the update\n    this._sendSessionUpdate();\n  }\n\n  /**\n   * @inheritDoc\n   */\n   endSession() {\n    const layer = this.getStackTop();\n    const scope = layer && layer.scope;\n    const session = scope && scope.getSession();\n    if (session) {\n      closeSession(session);\n    }\n    this._sendSessionUpdate();\n\n    // the session is over; take it off of the scope\n    if (scope) {\n      scope.setSession();\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n   startSession(context) {\n    const { scope, client } = this.getStackTop();\n    const { release, environment } = (client && client.getOptions()) || {};\n\n    // Will fetch userAgent if called from browser sdk\n    const { userAgent } = GLOBAL_OBJ.navigator || {};\n\n    const session = makeSession({\n      release,\n      environment,\n      ...(scope && { user: scope.getUser() }),\n      ...(userAgent && { userAgent }),\n      ...context,\n    });\n\n    if (scope) {\n      // End existing session if there's one\n      const currentSession = scope.getSession && scope.getSession();\n      if (currentSession && currentSession.status === 'ok') {\n        updateSession(currentSession, { status: 'exited' });\n      }\n      this.endSession();\n\n      // Afterwards we set the new session on the scope\n      scope.setSession(session);\n    }\n\n    return session;\n  }\n\n  /**\n   * Returns if default PII should be sent to Sentry and propagated in ourgoing requests\n   * when Tracing is used.\n   */\n   shouldSendDefaultPii() {\n    const client = this.getClient();\n    const options = client && client.getOptions();\n    return Boolean(options && options.sendDefaultPii);\n  }\n\n  /**\n   * Sends the current Session on the scope\n   */\n   _sendSessionUpdate() {\n    const { scope, client } = this.getStackTop();\n    if (!scope) return;\n\n    const session = scope.getSession();\n    if (session) {\n      if (client && client.captureSession) {\n        client.captureSession(session);\n      }\n    }\n  }\n\n  /**\n   * Internal helper function to call a method on the top client if it exists.\n   *\n   * @param method The method to call on the client.\n   * @param args Arguments to pass to the client function.\n   */\n   _withClient(callback) {\n    const { scope, client } = this.getStackTop();\n    return client && callback(client, scope);\n  }\n\n  /**\n   * Calls global extension method and binding current instance to the function call\n   */\n  // @ts-ignore Function lacks ending return statement and return type does not include 'undefined'. ts(2366)\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n   _callExtensionMethod(method, ...args) {\n    const carrier = getMainCarrier();\n    const sentry = carrier.__SENTRY__;\n    if (sentry && sentry.extensions && typeof sentry.extensions[method] === 'function') {\n      return sentry.extensions[method].apply(this, args);\n    }\n    (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.warn(`Extension method ${method} couldn't be found, doing nothing.`);\n  }\n}\n\n/**\n * Returns the global shim registry.\n *\n * FIXME: This function is problematic, because despite always returning a valid Carrier,\n * it has an optional `__SENTRY__` property, which then in turn requires us to always perform an unnecessary check\n * at the call-site. We always access the carrier through this function, so we can guarantee that `__SENTRY__` is there.\n **/\nfunction getMainCarrier() {\n  GLOBAL_OBJ.__SENTRY__ = GLOBAL_OBJ.__SENTRY__ || {\n    extensions: {},\n    hub: undefined,\n  };\n  return GLOBAL_OBJ;\n}\n\n/**\n * Replaces the current main hub with the passed one on the global object\n *\n * @returns The old replaced hub\n */\nfunction makeMain(hub) {\n  const registry = getMainCarrier();\n  const oldHub = getHubFromCarrier(registry);\n  setHubOnCarrier(registry, hub);\n  return oldHub;\n}\n\n/**\n * Returns the default hub instance.\n *\n * If a hub is already registered in the global carrier but this module\n * contains a more recent version, it replaces the registered version.\n * Otherwise, the currently registered hub will be returned.\n */\nfunction getCurrentHub() {\n  // Get main carrier (global for every environment)\n  const registry = getMainCarrier();\n\n  // If there's no hub, or its an old API, assign a new one\n  if (!hasHubOnCarrier(registry) || getHubFromCarrier(registry).isOlderThan(API_VERSION)) {\n    setHubOnCarrier(registry, new Hub());\n  }\n\n  // Prefer domains over global if they are there (applicable only to Node environment)\n  if (isNodeEnv()) {\n    return getHubFromActiveDomain(registry);\n  }\n  // Return hub that lives on a global object\n  return getHubFromCarrier(registry);\n}\n\n/**\n * Try to read the hub from an active domain, and fallback to the registry if one doesn't exist\n * @returns discovered hub\n */\nfunction getHubFromActiveDomain(registry) {\n  try {\n    const sentry = getMainCarrier().__SENTRY__;\n    const activeDomain = sentry && sentry.extensions && sentry.extensions.domain && sentry.extensions.domain.active;\n\n    // If there's no active domain, just return global hub\n    if (!activeDomain) {\n      return getHubFromCarrier(registry);\n    }\n\n    // If there's no hub on current domain, or it's an old API, assign a new one\n    if (!hasHubOnCarrier(activeDomain) || getHubFromCarrier(activeDomain).isOlderThan(API_VERSION)) {\n      const registryHubTopStack = getHubFromCarrier(registry).getStackTop();\n      setHubOnCarrier(activeDomain, new Hub(registryHubTopStack.client, Scope.clone(registryHubTopStack.scope)));\n    }\n\n    // Return hub that lives on a domain\n    return getHubFromCarrier(activeDomain);\n  } catch (_Oo) {\n    // Return hub that lives on a global object\n    return getHubFromCarrier(registry);\n  }\n}\n\n/**\n * This will tell whether a carrier has a hub on it or not\n * @param carrier object\n */\nfunction hasHubOnCarrier(carrier) {\n  return !!(carrier && carrier.__SENTRY__ && carrier.__SENTRY__.hub);\n}\n\n/**\n * This will create a new {@link Hub} and add to the passed object on\n * __SENTRY__.hub.\n * @param carrier object\n * @hidden\n */\nfunction getHubFromCarrier(carrier) {\n  return getGlobalSingleton('hub', () => new Hub(), carrier);\n}\n\n/**\n * This will set passed {@link Hub} on the passed object's __SENTRY__.hub attribute\n * @param carrier object\n * @param hub Hub\n * @returns A boolean indicating success or failure\n */\nfunction setHubOnCarrier(carrier, hub) {\n  if (!carrier) return false;\n  const __SENTRY__ = (carrier.__SENTRY__ = carrier.__SENTRY__ || {});\n  __SENTRY__.hub = hub;\n  return true;\n}\n\nexport { API_VERSION, Hub, getCurrentHub, getHubFromCarrier, getMainCarrier, makeMain, setHubOnCarrier };\n//# sourceMappingURL=hub.js.map\n","/* global ActiveXObject -- old IE, WSH */\nvar anObject = require('../internals/an-object');\nvar definePropertiesModule = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    activeXDocument = new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = typeof document != 'undefined'\n    ? document.domain && activeXDocument\n      ? NullProtoObjectViaActiveX(activeXDocument) // old IE\n      : NullProtoObjectViaIFrame()\n    : NullProtoObjectViaActiveX(activeXDocument); // WSH\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\n// eslint-disable-next-line es-x/no-object-create -- safe\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : definePropertiesModule.f(result, Properties);\n};\n","import { logger, getEventDescription, stringMatchesSomePattern } from '@sentry/utils';\n\n// \"Script error.\" is hard coded into browsers for errors that it can't read.\n// this is the result of a script being pulled in from an external domain and CORS.\nconst DEFAULT_IGNORE_ERRORS = [/^Script error\\.?$/, /^Javascript error: Script error\\.? on line 0$/];\n\n/** Options for the InboundFilters integration */\n\n/** Inbound filters configurable by the user */\nclass InboundFilters  {\n  /**\n   * @inheritDoc\n   */\n   static __initStatic() {this.id = 'InboundFilters';}\n\n  /**\n   * @inheritDoc\n   */\n   __init() {this.name = InboundFilters.id;}\n\n   constructor(  _options = {}) {;this._options = _options;InboundFilters.prototype.__init.call(this);}\n\n  /**\n   * @inheritDoc\n   */\n   setupOnce(addGlobalEventProcessor, getCurrentHub) {\n    const eventProcess = (event) => {\n      const hub = getCurrentHub();\n      if (hub) {\n        const self = hub.getIntegration(InboundFilters);\n        if (self) {\n          const client = hub.getClient();\n          const clientOptions = client ? client.getOptions() : {};\n          const options = _mergeOptions(self._options, clientOptions);\n          return _shouldDropEvent(event, options) ? null : event;\n        }\n      }\n      return event;\n    };\n\n    eventProcess.id = this.name;\n    addGlobalEventProcessor(eventProcess);\n  }\n} InboundFilters.__initStatic();\n\n/** JSDoc */\nfunction _mergeOptions(\n  internalOptions = {},\n  clientOptions = {},\n) {\n  return {\n    allowUrls: [...(internalOptions.allowUrls || []), ...(clientOptions.allowUrls || [])],\n    denyUrls: [...(internalOptions.denyUrls || []), ...(clientOptions.denyUrls || [])],\n    ignoreErrors: [\n      ...(internalOptions.ignoreErrors || []),\n      ...(clientOptions.ignoreErrors || []),\n      ...DEFAULT_IGNORE_ERRORS,\n    ],\n    ignoreInternal: internalOptions.ignoreInternal !== undefined ? internalOptions.ignoreInternal : true,\n  };\n}\n\n/** JSDoc */\nfunction _shouldDropEvent(event, options) {\n  if (options.ignoreInternal && _isSentryError(event)) {\n    (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) &&\n      logger.warn(`Event dropped due to being internal Sentry Error.\\nEvent: ${getEventDescription(event)}`);\n    return true;\n  }\n  if (_isIgnoredError(event, options.ignoreErrors)) {\n    (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) &&\n      logger.warn(\n        `Event dropped due to being matched by \\`ignoreErrors\\` option.\\nEvent: ${getEventDescription(event)}`,\n      );\n    return true;\n  }\n  if (_isDeniedUrl(event, options.denyUrls)) {\n    (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) &&\n      logger.warn(\n        `Event dropped due to being matched by \\`denyUrls\\` option.\\nEvent: ${getEventDescription(\n          event,\n        )}.\\nUrl: ${_getEventFilterUrl(event)}`,\n      );\n    return true;\n  }\n  if (!_isAllowedUrl(event, options.allowUrls)) {\n    (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) &&\n      logger.warn(\n        `Event dropped due to not being matched by \\`allowUrls\\` option.\\nEvent: ${getEventDescription(\n          event,\n        )}.\\nUrl: ${_getEventFilterUrl(event)}`,\n      );\n    return true;\n  }\n  return false;\n}\n\nfunction _isIgnoredError(event, ignoreErrors) {\n  if (!ignoreErrors || !ignoreErrors.length) {\n    return false;\n  }\n\n  return _getPossibleEventMessages(event).some(message => stringMatchesSomePattern(message, ignoreErrors));\n}\n\nfunction _isDeniedUrl(event, denyUrls) {\n  // TODO: Use Glob instead?\n  if (!denyUrls || !denyUrls.length) {\n    return false;\n  }\n  const url = _getEventFilterUrl(event);\n  return !url ? false : stringMatchesSomePattern(url, denyUrls);\n}\n\nfunction _isAllowedUrl(event, allowUrls) {\n  // TODO: Use Glob instead?\n  if (!allowUrls || !allowUrls.length) {\n    return true;\n  }\n  const url = _getEventFilterUrl(event);\n  return !url ? true : stringMatchesSomePattern(url, allowUrls);\n}\n\nfunction _getPossibleEventMessages(event) {\n  if (event.message) {\n    return [event.message];\n  }\n  if (event.exception) {\n    try {\n      const { type = '', value = '' } = (event.exception.values && event.exception.values[0]) || {};\n      return [`${value}`, `${type}: ${value}`];\n    } catch (oO) {\n      (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.error(`Cannot extract message for event ${getEventDescription(event)}`);\n      return [];\n    }\n  }\n  return [];\n}\n\nfunction _isSentryError(event) {\n  try {\n    // @ts-ignore can't be a sentry error if undefined\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n    return event.exception.values[0].type === 'SentryError';\n  } catch (e) {\n    // ignore\n  }\n  return false;\n}\n\nfunction _getLastValidUrl(frames = []) {\n  for (let i = frames.length - 1; i >= 0; i--) {\n    const frame = frames[i];\n\n    if (frame && frame.filename !== '<anonymous>' && frame.filename !== '[native code]') {\n      return frame.filename || null;\n    }\n  }\n\n  return null;\n}\n\nfunction _getEventFilterUrl(event) {\n  try {\n    let frames;\n    try {\n      // @ts-ignore we only care about frames if the whole thing here is defined\n      frames = event.exception.values[0].stacktrace.frames;\n    } catch (e) {\n      // ignore\n    }\n    return frames ? _getLastValidUrl(frames) : null;\n  } catch (oO) {\n    (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.error(`Cannot extract url for event ${getEventDescription(event)}`);\n    return null;\n  }\n}\n\nexport { InboundFilters, _mergeOptions, _shouldDropEvent };\n//# sourceMappingURL=inboundfilters.js.map\n","'use strict';\nvar $ = require('../internals/export');\nvar getBuiltIn = require('../internals/get-built-in');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar defineProperty = require('../internals/object-define-property').f;\nvar hasOwn = require('../internals/has-own-property');\nvar anInstance = require('../internals/an-instance');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar normalizeStringArgument = require('../internals/normalize-string-argument');\nvar DOMExceptionConstants = require('../internals/dom-exception-constants');\nvar clearErrorStack = require('../internals/clear-error-stack');\nvar IS_PURE = require('../internals/is-pure');\n\nvar DOM_EXCEPTION = 'DOMException';\nvar Error = getBuiltIn('Error');\nvar NativeDOMException = getBuiltIn(DOM_EXCEPTION);\n\nvar $DOMException = function DOMException() {\n  anInstance(this, DOMExceptionPrototype);\n  var argumentsLength = arguments.length;\n  var message = normalizeStringArgument(argumentsLength < 1 ? undefined : arguments[0]);\n  var name = normalizeStringArgument(argumentsLength < 2 ? undefined : arguments[1], 'Error');\n  var that = new NativeDOMException(message, name);\n  var error = Error(message);\n  error.name = DOM_EXCEPTION;\n  defineProperty(that, 'stack', createPropertyDescriptor(1, clearErrorStack(error.stack, 1)));\n  inheritIfRequired(that, this, $DOMException);\n  return that;\n};\n\nvar DOMExceptionPrototype = $DOMException.prototype = NativeDOMException.prototype;\n\nvar ERROR_HAS_STACK = 'stack' in Error(DOM_EXCEPTION);\nvar DOM_EXCEPTION_HAS_STACK = 'stack' in new NativeDOMException(1, 2);\nvar FORCED_CONSTRUCTOR = ERROR_HAS_STACK && !DOM_EXCEPTION_HAS_STACK;\n\n// `DOMException` constructor patch for `.stack` where it's required\n// https://webidl.spec.whatwg.org/#es-DOMException-specialness\n$({ global: true, constructor: true, forced: IS_PURE || FORCED_CONSTRUCTOR }, { // TODO: fix export logic\n  DOMException: FORCED_CONSTRUCTOR ? $DOMException : NativeDOMException\n});\n\nvar PolyfilledDOMException = getBuiltIn(DOM_EXCEPTION);\nvar PolyfilledDOMExceptionPrototype = PolyfilledDOMException.prototype;\n\nif (PolyfilledDOMExceptionPrototype.constructor !== PolyfilledDOMException) {\n  if (!IS_PURE) {\n    defineProperty(PolyfilledDOMExceptionPrototype, 'constructor', createPropertyDescriptor(1, PolyfilledDOMException));\n  }\n\n  for (var key in DOMExceptionConstants) if (hasOwn(DOMExceptionConstants, key)) {\n    var constant = DOMExceptionConstants[key];\n    var constantName = constant.s;\n    if (!hasOwn(PolyfilledDOMException, constantName)) {\n      defineProperty(PolyfilledDOMException, constantName, createPropertyDescriptor(6, constant.c));\n    }\n  }\n}\n","import { GraphQLError } from './GraphQLError.mjs';\n/**\n * Produces a GraphQLError representing a syntax error, containing useful\n * descriptive information about the syntax error's position in the source.\n */\n\nexport function syntaxError(source, position, description) {\n  return new GraphQLError(`Syntax Error: ${description}`, {\n    source,\n    positions: [position],\n  });\n}\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thanks to IE8 for its funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es-x/no-object-defineproperty -- required for testing\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $reduce = require('../internals/array-reduce').left;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar CHROME_VERSION = require('../internals/engine-v8-version');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar STRICT_METHOD = arrayMethodIsStrict('reduce');\n// Chrome 80-82 has a critical bug\n// https://bugs.chromium.org/p/chromium/issues/detail?id=1049982\nvar CHROME_BUG = !IS_NODE && CHROME_VERSION > 79 && CHROME_VERSION < 83;\n\n// `Array.prototype.reduce` method\n// https://tc39.es/ecma262/#sec-array.prototype.reduce\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || CHROME_BUG }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    var length = arguments.length;\n    return $reduce(this, callbackfn, length, length > 1 ? arguments[1] : undefined);\n  }\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.withDefaults = exports.defaultOptions = void 0;\nvar tslib_1 = require(\"tslib\");\nvar deepmerge_1 = (0, tslib_1.__importDefault)(require(\"deepmerge\"));\nexports.defaultOptions = {\n    shouldHandleOperation: undefined,\n    uri: undefined,\n    setTransaction: true,\n    setFingerprint: true,\n    attachBreadcrumbs: {\n        includeQuery: false,\n        includeVariables: false,\n        includeFetchResult: false,\n        includeError: false,\n        includeCache: false,\n        includeContext: false,\n        transform: undefined,\n    },\n};\nfunction withDefaults(options) {\n    return (0, deepmerge_1.default)(exports.defaultOptions, options);\n}\nexports.withDefaults = withDefaults;\n","import { devAssert } from '../jsutils/devAssert.mjs';\nimport { inspect } from '../jsutils/inspect.mjs';\nimport { instanceOf } from '../jsutils/instanceOf.mjs';\n\n/**\n * A representation of source input to GraphQL. The `name` and `locationOffset` parameters are\n * optional, but they are useful for clients who store GraphQL documents in source files.\n * For example, if the GraphQL input starts at line 40 in a file named `Foo.graphql`, it might\n * be useful for `name` to be `\"Foo.graphql\"` and location to be `{ line: 40, column: 1 }`.\n * The `line` and `column` properties in `locationOffset` are 1-indexed.\n */\nexport class Source {\n  constructor(\n    body,\n    name = 'GraphQL request',\n    locationOffset = {\n      line: 1,\n      column: 1,\n    },\n  ) {\n    typeof body === 'string' ||\n      devAssert(false, `Body must be a string. Received: ${inspect(body)}.`);\n    this.body = body;\n    this.name = name;\n    this.locationOffset = locationOffset;\n    this.locationOffset.line > 0 ||\n      devAssert(\n        false,\n        'line in locationOffset is 1-indexed and must be positive.',\n      );\n    this.locationOffset.column > 0 ||\n      devAssert(\n        false,\n        'column in locationOffset is 1-indexed and must be positive.',\n      );\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'Source';\n  }\n}\n/**\n * Test if the given value is a Source object.\n *\n * @internal\n */\n\nexport function isSource(source) {\n  return instanceOf(source, Source);\n}\n","var toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toIntegerOrInfinity(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","import { __assign } from \"tslib\";\nimport \"../../utilities/globals/index.js\";\nimport { Trie } from \"@wry/trie\";\nimport { canUseWeakMap, canUseWeakSet, isNonNullObject as isObjectOrArray, } from \"../../utilities/index.js\";\nimport { isArray } from \"./helpers.js\";\nfunction shallowCopy(value) {\n    if (isObjectOrArray(value)) {\n        return isArray(value)\n            ? value.slice(0)\n            : __assign({ __proto__: Object.getPrototypeOf(value) }, value);\n    }\n    return value;\n}\nvar ObjectCanon = (function () {\n    function ObjectCanon() {\n        this.known = new (canUseWeakSet ? WeakSet : Set)();\n        this.pool = new Trie(canUseWeakMap);\n        this.passes = new WeakMap();\n        this.keysByJSON = new Map();\n        this.empty = this.admit({});\n    }\n    ObjectCanon.prototype.isKnown = function (value) {\n        return isObjectOrArray(value) && this.known.has(value);\n    };\n    ObjectCanon.prototype.pass = function (value) {\n        if (isObjectOrArray(value)) {\n            var copy = shallowCopy(value);\n            this.passes.set(copy, value);\n            return copy;\n        }\n        return value;\n    };\n    ObjectCanon.prototype.admit = function (value) {\n        var _this = this;\n        if (isObjectOrArray(value)) {\n            var original = this.passes.get(value);\n            if (original)\n                return original;\n            var proto = Object.getPrototypeOf(value);\n            switch (proto) {\n                case Array.prototype: {\n                    if (this.known.has(value))\n                        return value;\n                    var array = value.map(this.admit, this);\n                    var node = this.pool.lookupArray(array);\n                    if (!node.array) {\n                        this.known.add(node.array = array);\n                        if (__DEV__) {\n                            Object.freeze(array);\n                        }\n                    }\n                    return node.array;\n                }\n                case null:\n                case Object.prototype: {\n                    if (this.known.has(value))\n                        return value;\n                    var proto_1 = Object.getPrototypeOf(value);\n                    var array_1 = [proto_1];\n                    var keys = this.sortedKeys(value);\n                    array_1.push(keys.json);\n                    var firstValueIndex_1 = array_1.length;\n                    keys.sorted.forEach(function (key) {\n                        array_1.push(_this.admit(value[key]));\n                    });\n                    var node = this.pool.lookupArray(array_1);\n                    if (!node.object) {\n                        var obj_1 = node.object = Object.create(proto_1);\n                        this.known.add(obj_1);\n                        keys.sorted.forEach(function (key, i) {\n                            obj_1[key] = array_1[firstValueIndex_1 + i];\n                        });\n                        if (__DEV__) {\n                            Object.freeze(obj_1);\n                        }\n                    }\n                    return node.object;\n                }\n            }\n        }\n        return value;\n    };\n    ObjectCanon.prototype.sortedKeys = function (obj) {\n        var keys = Object.keys(obj);\n        var node = this.pool.lookupArray(keys);\n        if (!node.keys) {\n            keys.sort();\n            var json = JSON.stringify(keys);\n            if (!(node.keys = this.keysByJSON.get(json))) {\n                this.keysByJSON.set(json, node.keys = { sorted: keys, json: json });\n            }\n        }\n        return node.keys;\n    };\n    return ObjectCanon;\n}());\nexport { ObjectCanon };\nexport var canonicalStringify = Object.assign(function (value) {\n    if (isObjectOrArray(value)) {\n        if (stringifyCanon === void 0) {\n            resetCanonicalStringify();\n        }\n        var canonical = stringifyCanon.admit(value);\n        var json = stringifyCache.get(canonical);\n        if (json === void 0) {\n            stringifyCache.set(canonical, json = JSON.stringify(canonical));\n        }\n        return json;\n    }\n    return JSON.stringify(value);\n}, {\n    reset: resetCanonicalStringify,\n});\nvar stringifyCanon;\nvar stringifyCache;\nfunction resetCanonicalStringify() {\n    stringifyCanon = new ObjectCanon;\n    stringifyCache = new (canUseWeakMap ? WeakMap : Map)();\n}\n//# sourceMappingURL=object-canon.js.map","import { getCurrentHub } from './hub.js';\n\n// Note: All functions in this file are typed with a return value of `ReturnType<Hub[HUB_FUNCTION]>`,\n// where HUB_FUNCTION is some method on the Hub class.\n//\n// This is done to make sure the top level SDK methods stay in sync with the hub methods.\n// Although every method here has an explicit return type, some of them (that map to void returns) do not\n// contain `return` keywords. This is done to save on bundle size, as `return` is not minifiable.\n\n/**\n * Captures an exception event and sends it to Sentry.\n *\n * @param exception An exception-like object.\n * @param captureContext Additional scope data to apply to exception event.\n * @returns The generated eventId.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\nfunction captureException(exception, captureContext) {\n  return getCurrentHub().captureException(exception, { captureContext });\n}\n\n/**\n * Captures a message event and sends it to Sentry.\n *\n * @param message The message to send to Sentry.\n * @param Severity Define the level of the message.\n * @returns The generated eventId.\n */\nfunction captureMessage(\n  message,\n  // eslint-disable-next-line deprecation/deprecation\n  captureContext,\n) {\n  // This is necessary to provide explicit scopes upgrade, without changing the original\n  // arity of the `captureMessage(message, level)` method.\n  const level = typeof captureContext === 'string' ? captureContext : undefined;\n  const context = typeof captureContext !== 'string' ? { captureContext } : undefined;\n  return getCurrentHub().captureMessage(message, level, context);\n}\n\n/**\n * Captures a manually created event and sends it to Sentry.\n *\n * @param event The event to send to Sentry.\n * @returns The generated eventId.\n */\nfunction captureEvent(event, hint) {\n  return getCurrentHub().captureEvent(event, hint);\n}\n\n/**\n * Callback to set context information onto the scope.\n * @param callback Callback function that receives Scope.\n */\nfunction configureScope(callback) {\n  getCurrentHub().configureScope(callback);\n}\n\n/**\n * Records a new breadcrumb which will be attached to future events.\n *\n * Breadcrumbs will be added to subsequent events to provide more context on\n * user's actions prior to an error or crash.\n *\n * @param breadcrumb The breadcrumb to record.\n */\nfunction addBreadcrumb(breadcrumb) {\n  getCurrentHub().addBreadcrumb(breadcrumb);\n}\n\n/**\n * Sets context data with the given name.\n * @param name of the context\n * @param context Any kind of data. This data will be normalized.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction setContext(name, context) {\n  getCurrentHub().setContext(name, context);\n}\n\n/**\n * Set an object that will be merged sent as extra data with the event.\n * @param extras Extras object to merge into current context.\n */\nfunction setExtras(extras) {\n  getCurrentHub().setExtras(extras);\n}\n\n/**\n * Set key:value that will be sent as extra data with the event.\n * @param key String of extra\n * @param extra Any kind of data. This data will be normalized.\n */\nfunction setExtra(key, extra) {\n  getCurrentHub().setExtra(key, extra);\n}\n\n/**\n * Set an object that will be merged sent as tags data with the event.\n * @param tags Tags context object to merge into current context.\n */\nfunction setTags(tags) {\n  getCurrentHub().setTags(tags);\n}\n\n/**\n * Set key:value that will be sent as tags data with the event.\n *\n * Can also be used to unset a tag, by passing `undefined`.\n *\n * @param key String key of tag\n * @param value Value of tag\n */\nfunction setTag(key, value) {\n  getCurrentHub().setTag(key, value);\n}\n\n/**\n * Updates user context information for future events.\n *\n * @param user User context object to be set in the current context. Pass `null` to unset the user.\n */\nfunction setUser(user) {\n  getCurrentHub().setUser(user);\n}\n\n/**\n * Creates a new scope with and executes the given operation within.\n * The scope is automatically removed once the operation\n * finishes or throws.\n *\n * This is essentially a convenience function for:\n *\n *     pushScope();\n *     callback();\n *     popScope();\n *\n * @param callback that will be enclosed into push/popScope.\n */\nfunction withScope(callback) {\n  getCurrentHub().withScope(callback);\n}\n\n/**\n * Starts a new `Transaction` and returns it. This is the entry point to manual tracing instrumentation.\n *\n * A tree structure can be built by adding child spans to the transaction, and child spans to other spans. To start a\n * new child span within the transaction or any span, call the respective `.startChild()` method.\n *\n * Every child span must be finished before the transaction is finished, otherwise the unfinished spans are discarded.\n *\n * The transaction must be finished with a call to its `.finish()` method, at which point the transaction with all its\n * finished child spans will be sent to Sentry.\n *\n * NOTE: This function should only be used for *manual* instrumentation. Auto-instrumentation should call\n * `startTransaction` directly on the hub.\n *\n * @param context Properties of the new `Transaction`.\n * @param customSamplingContext Information given to the transaction sampling function (along with context-dependent\n * default values). See {@link Options.tracesSampler}.\n *\n * @returns The transaction which was just started\n */\nfunction startTransaction(\n  context,\n  customSamplingContext,\n) {\n  return getCurrentHub().startTransaction({ ...context }, customSamplingContext);\n}\n\nexport { addBreadcrumb, captureEvent, captureException, captureMessage, configureScope, setContext, setExtra, setExtras, setTag, setTags, setUser, startTransaction, withScope };\n//# sourceMappingURL=exports.js.map\n","import './exports.js';\nimport { Integrations } from '@sentry/core';\nexport { FunctionToString, Hub, InboundFilters, SDK_VERSION, Scope, addBreadcrumb, addGlobalEventProcessor, captureEvent, captureException, captureMessage, configureScope, createTransport, getCurrentHub, getHubFromCarrier, makeMain, setContext, setExtra, setExtras, setTag, setTags, setUser, startTransaction, withScope } from '@sentry/core';\nimport { WINDOW } from './helpers.js';\nexport { WINDOW } from './helpers.js';\nimport * as index from './integrations/index.js';\nexport { BrowserClient } from './client.js';\nexport { makeFetchTransport } from './transports/fetch.js';\nexport { makeXHRTransport } from './transports/xhr.js';\nexport { chromeStackLineParser, defaultStackLineParsers, defaultStackParser, geckoStackLineParser, opera10StackLineParser, opera11StackLineParser, winjsStackLineParser } from './stack-parsers.js';\nexport { close, defaultIntegrations, flush, forceLoad, init, lastEventId, onLoad, showReportDialog, wrap } from './sdk.js';\nexport { GlobalHandlers } from './integrations/globalhandlers.js';\nexport { TryCatch } from './integrations/trycatch.js';\nexport { Breadcrumbs } from './integrations/breadcrumbs.js';\nexport { LinkedErrors } from './integrations/linkederrors.js';\nexport { HttpContext } from './integrations/httpcontext.js';\nexport { Dedupe } from './integrations/dedupe.js';\n\nlet windowIntegrations = {};\n\n// This block is needed to add compatibility with the integrations packages when used with a CDN\nif (WINDOW.Sentry && WINDOW.Sentry.Integrations) {\n  windowIntegrations = WINDOW.Sentry.Integrations;\n}\n\nconst INTEGRATIONS = {\n  ...windowIntegrations,\n  ...Integrations,\n  ...index,\n};\n\nexport { INTEGRATIONS as Integrations };\n//# sourceMappingURL=index.js.map\n","/** An error emitted by Sentry SDKs and related utilities. */\nclass SentryError extends Error {\n  /** Display name of this error instance. */\n\n   constructor( message, logLevel = 'warn') {\n    super(message);this.message = message;;\n\n    this.name = new.target.prototype.constructor.name;\n    // This sets the prototype to be `Error`, not `SentryError`. It's unclear why we do this, but commenting this line\n    // out causes various (seemingly totally unrelated) playwright tests consistently time out. FYI, this makes\n    // instances of `SentryError` fail `obj instanceof SentryError` checks.\n    Object.setPrototypeOf(this, new.target.prototype);\n    this.logLevel = logLevel;\n  }\n}\n\nexport { SentryError };\n//# sourceMappingURL=error.js.map\n","import { getCurrentHub } from '@sentry/core';\nimport { addInstrumentationHandler, isString, isPrimitive, isErrorEvent, getLocationHref, logger, addExceptionMechanism } from '@sentry/utils';\nimport { eventFromUnknownInput } from '../eventbuilder.js';\nimport { shouldIgnoreOnError } from '../helpers.js';\n\n/* eslint-disable @typescript-eslint/no-unsafe-member-access */\n\n/** Global handlers */\nclass GlobalHandlers  {\n  /**\n   * @inheritDoc\n   */\n   static __initStatic() {this.id = 'GlobalHandlers';}\n\n  /**\n   * @inheritDoc\n   */\n   __init() {this.name = GlobalHandlers.id;}\n\n  /** JSDoc */\n\n  /**\n   * Stores references functions to installing handlers. Will set to undefined\n   * after they have been run so that they are not used twice.\n   */\n   __init2() {this._installFunc = {\n    onerror: _installGlobalOnErrorHandler,\n    onunhandledrejection: _installGlobalOnUnhandledRejectionHandler,\n  };}\n\n  /** JSDoc */\n   constructor(options) {;GlobalHandlers.prototype.__init.call(this);GlobalHandlers.prototype.__init2.call(this);\n    this._options = {\n      onerror: true,\n      onunhandledrejection: true,\n      ...options,\n    };\n  }\n  /**\n   * @inheritDoc\n   */\n   setupOnce() {\n    Error.stackTraceLimit = 50;\n    const options = this._options;\n\n    // We can disable guard-for-in as we construct the options object above + do checks against\n    // `this._installFunc` for the property.\n    // eslint-disable-next-line guard-for-in\n    for (const key in options) {\n      const installFunc = this._installFunc[key ];\n      if (installFunc && options[key ]) {\n        globalHandlerLog(key);\n        installFunc();\n        this._installFunc[key ] = undefined;\n      }\n    }\n  }\n} GlobalHandlers.__initStatic();\n\n/** JSDoc */\nfunction _installGlobalOnErrorHandler() {\n  addInstrumentationHandler(\n    'error',\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (data) => {\n      const [hub, stackParser, attachStacktrace] = getHubAndOptions();\n      if (!hub.getIntegration(GlobalHandlers)) {\n        return;\n      }\n      const { msg, url, line, column, error } = data;\n      if (shouldIgnoreOnError() || (error && error.__sentry_own_request__)) {\n        return;\n      }\n\n      const event =\n        error === undefined && isString(msg)\n          ? _eventFromIncompleteOnError(msg, url, line, column)\n          : _enhanceEventWithInitialFrame(\n              eventFromUnknownInput(stackParser, error || msg, undefined, attachStacktrace, false),\n              url,\n              line,\n              column,\n            );\n\n      event.level = 'error';\n\n      addMechanismAndCapture(hub, error, event, 'onerror');\n    },\n  );\n}\n\n/** JSDoc */\nfunction _installGlobalOnUnhandledRejectionHandler() {\n  addInstrumentationHandler(\n    'unhandledrejection',\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (e) => {\n      const [hub, stackParser, attachStacktrace] = getHubAndOptions();\n      if (!hub.getIntegration(GlobalHandlers)) {\n        return;\n      }\n      let error = e;\n\n      // dig the object of the rejection out of known event types\n      try {\n        // PromiseRejectionEvents store the object of the rejection under 'reason'\n        // see https://developer.mozilla.org/en-US/docs/Web/API/PromiseRejectionEvent\n        if ('reason' in e) {\n          error = e.reason;\n        }\n        // something, somewhere, (likely a browser extension) effectively casts PromiseRejectionEvents\n        // to CustomEvents, moving the `promise` and `reason` attributes of the PRE into\n        // the CustomEvent's `detail` attribute, since they're not part of CustomEvent's spec\n        // see https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent and\n        // https://github.com/getsentry/sentry-javascript/issues/2380\n        else if ('detail' in e && 'reason' in e.detail) {\n          error = e.detail.reason;\n        }\n      } catch (_oO) {\n        // no-empty\n      }\n\n      if (shouldIgnoreOnError() || (error && error.__sentry_own_request__)) {\n        return true;\n      }\n\n      const event = isPrimitive(error)\n        ? _eventFromRejectionWithPrimitive(error)\n        : eventFromUnknownInput(stackParser, error, undefined, attachStacktrace, true);\n\n      event.level = 'error';\n\n      addMechanismAndCapture(hub, error, event, 'onunhandledrejection');\n      return;\n    },\n  );\n}\n\n/**\n * Create an event from a promise rejection where the `reason` is a primitive.\n *\n * @param reason: The `reason` property of the promise rejection\n * @returns An Event object with an appropriate `exception` value\n */\nfunction _eventFromRejectionWithPrimitive(reason) {\n  return {\n    exception: {\n      values: [\n        {\n          type: 'UnhandledRejection',\n          // String() is needed because the Primitive type includes symbols (which can't be automatically stringified)\n          value: `Non-Error promise rejection captured with value: ${String(reason)}`,\n        },\n      ],\n    },\n  };\n}\n\n/**\n * This function creates a stack from an old, error-less onerror handler.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction _eventFromIncompleteOnError(msg, url, line, column) {\n  const ERROR_TYPES_RE =\n    /^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;\n\n  // If 'message' is ErrorEvent, get real message from inside\n  let message = isErrorEvent(msg) ? msg.message : msg;\n  let name = 'Error';\n\n  const groups = message.match(ERROR_TYPES_RE);\n  if (groups) {\n    name = groups[1];\n    message = groups[2];\n  }\n\n  const event = {\n    exception: {\n      values: [\n        {\n          type: name,\n          value: message,\n        },\n      ],\n    },\n  };\n\n  return _enhanceEventWithInitialFrame(event, url, line, column);\n}\n\n/** JSDoc */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction _enhanceEventWithInitialFrame(event, url, line, column) {\n  // event.exception\n  const e = (event.exception = event.exception || {});\n  // event.exception.values\n  const ev = (e.values = e.values || []);\n  // event.exception.values[0]\n  const ev0 = (ev[0] = ev[0] || {});\n  // event.exception.values[0].stacktrace\n  const ev0s = (ev0.stacktrace = ev0.stacktrace || {});\n  // event.exception.values[0].stacktrace.frames\n  const ev0sf = (ev0s.frames = ev0s.frames || []);\n\n  const colno = isNaN(parseInt(column, 10)) ? undefined : column;\n  const lineno = isNaN(parseInt(line, 10)) ? undefined : line;\n  const filename = isString(url) && url.length > 0 ? url : getLocationHref();\n\n  // event.exception.values[0].stacktrace.frames\n  if (ev0sf.length === 0) {\n    ev0sf.push({\n      colno,\n      filename,\n      function: '?',\n      in_app: true,\n      lineno,\n    });\n  }\n\n  return event;\n}\n\nfunction globalHandlerLog(type) {\n  (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.log(`Global Handler attached: ${type}`);\n}\n\nfunction addMechanismAndCapture(hub, error, event, type) {\n  addExceptionMechanism(event, {\n    handled: false,\n    type,\n  });\n  hub.captureEvent(event, {\n    originalException: error,\n  });\n}\n\nfunction getHubAndOptions() {\n  const hub = getCurrentHub();\n  const client = hub.getClient();\n  const options = (client && client.getOptions()) || {\n    stackParser: () => [],\n    attachStacktrace: false,\n  };\n  return [hub, options.stackParser, options.attachStacktrace];\n}\n\nexport { GlobalHandlers };\n//# sourceMappingURL=globalhandlers.js.map\n","import { SentryError } from './error.js';\n\n/** Regular expression used to parse a Dsn. */\nconst DSN_REGEX = /^(?:(\\w+):)\\/\\/(?:(\\w+)(?::(\\w+)?)?@)([\\w.-]+)(?::(\\d+))?\\/(.+)/;\n\nfunction isValidProtocol(protocol) {\n  return protocol === 'http' || protocol === 'https';\n}\n\n/**\n * Renders the string representation of this Dsn.\n *\n * By default, this will render the public representation without the password\n * component. To get the deprecated private representation, set `withPassword`\n * to true.\n *\n * @param withPassword When set to true, the password will be included.\n */\nfunction dsnToString(dsn, withPassword = false) {\n  const { host, path, pass, port, projectId, protocol, publicKey } = dsn;\n  return (\n    `${protocol}://${publicKey}${withPassword && pass ? `:${pass}` : ''}` +\n    `@${host}${port ? `:${port}` : ''}/${path ? `${path}/` : path}${projectId}`\n  );\n}\n\n/**\n * Parses a Dsn from a given string.\n *\n * @param str A Dsn as string\n * @returns Dsn as DsnComponents\n */\nfunction dsnFromString(str) {\n  const match = DSN_REGEX.exec(str);\n\n  if (!match) {\n    throw new SentryError(`Invalid Sentry Dsn: ${str}`);\n  }\n\n  const [protocol, publicKey, pass = '', host, port = '', lastPath] = match.slice(1);\n  let path = '';\n  let projectId = lastPath;\n\n  const split = projectId.split('/');\n  if (split.length > 1) {\n    path = split.slice(0, -1).join('/');\n    projectId = split.pop() ;\n  }\n\n  if (projectId) {\n    const projectMatch = projectId.match(/^\\d+/);\n    if (projectMatch) {\n      projectId = projectMatch[0];\n    }\n  }\n\n  return dsnFromComponents({ host, pass, path, projectId, port, protocol: protocol , publicKey });\n}\n\nfunction dsnFromComponents(components) {\n  return {\n    protocol: components.protocol,\n    publicKey: components.publicKey || '',\n    pass: components.pass || '',\n    host: components.host,\n    port: components.port || '',\n    path: components.path || '',\n    projectId: components.projectId,\n  };\n}\n\nfunction validateDsn(dsn) {\n  if (!(typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__)) {\n    return;\n  }\n\n  const { port, projectId, protocol } = dsn;\n\n  const requiredComponents = ['protocol', 'publicKey', 'host', 'projectId'];\n  requiredComponents.forEach(component => {\n    if (!dsn[component]) {\n      throw new SentryError(`Invalid Sentry Dsn: ${component} missing`);\n    }\n  });\n\n  if (!projectId.match(/^\\d+$/)) {\n    throw new SentryError(`Invalid Sentry Dsn: Invalid projectId ${projectId}`);\n  }\n\n  if (!isValidProtocol(protocol)) {\n    throw new SentryError(`Invalid Sentry Dsn: Invalid protocol ${protocol}`);\n  }\n\n  if (port && isNaN(parseInt(port, 10))) {\n    throw new SentryError(`Invalid Sentry Dsn: Invalid port ${port}`);\n  }\n\n  return true;\n}\n\n/** The Sentry Dsn, identifying a Sentry instance and project. */\nfunction makeDsn(from) {\n  const components = typeof from === 'string' ? dsnFromString(from) : dsnFromComponents(from);\n  validateDsn(components);\n  return components;\n}\n\nexport { dsnFromString, dsnToString, makeDsn };\n//# sourceMappingURL=dsn.js.map\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nexports.__esModule = true;\nvar client_1 = require(\"@apollo/client\");\nvar DebounceLink = (function (_super) {\n    __extends(DebounceLink, _super);\n    function DebounceLink(defaultDelay) {\n        var _this = _super.call(this) || this;\n        _this.debounceInfo = {};\n        _this.cleanup = function (debounceKey, groupId) {\n            var dbi = _this.debounceInfo[debounceKey];\n            if (!dbi) {\n                return;\n            }\n            delete dbi.runningSubscriptions[groupId];\n            if (groupId === dbi.currentGroupId) {\n                clearTimeout(dbi.timeout);\n            }\n            var noRunningSubscriptions = Object.keys(dbi.runningSubscriptions).length === 0;\n            var noQueuedObservers = dbi.queuedObservers.length === 0;\n            if (noRunningSubscriptions && noQueuedObservers) {\n                delete _this.debounceInfo[debounceKey];\n            }\n        };\n        _this.unsubscribe = function (debounceKey, debounceGroupId, observer) {\n            var isNotObserver = function (obs) { return obs !== observer; };\n            var dbi = _this.debounceInfo[debounceKey];\n            if (!dbi) {\n                return;\n            }\n            if (debounceGroupId === dbi.currentGroupId) {\n                dbi.queuedObservers = dbi.queuedObservers.filter(isNotObserver);\n                if (dbi.queuedObservers.length === 0) {\n                    _this.cleanup(debounceKey, debounceGroupId);\n                }\n                return;\n            }\n            var observerGroup = dbi.runningSubscriptions[debounceGroupId];\n            if (observerGroup) {\n                observerGroup.observers = observerGroup.observers.filter(isNotObserver);\n                if (observerGroup.observers.length === 0) {\n                    observerGroup.subscription.unsubscribe();\n                    _this.cleanup(debounceKey, debounceGroupId);\n                }\n            }\n        };\n        _this.defaultDelay = defaultDelay;\n        return _this;\n    }\n    DebounceLink.prototype.request = function (operation, forward) {\n        var _this = this;\n        var _a = operation.getContext(), debounceKey = _a.debounceKey, debounceTimeout = _a.debounceTimeout;\n        if (!debounceKey) {\n            return forward(operation);\n        }\n        return new client_1.Observable(function (observer) {\n            var debounceGroupId = _this.enqueueRequest({ debounceKey: debounceKey, debounceTimeout: debounceTimeout }, { operation: operation, forward: forward, observer: observer });\n            return function () {\n                _this.unsubscribe(debounceKey, debounceGroupId, observer);\n            };\n        });\n    };\n    DebounceLink.prototype.setupDebounceInfo = function (debounceKey) {\n        this.debounceInfo[debounceKey] = {\n            runningSubscriptions: {},\n            queuedObservers: [],\n            currentGroupId: 0,\n            timeout: undefined,\n            lastRequest: undefined\n        };\n        return this.debounceInfo[debounceKey];\n    };\n    DebounceLink.prototype.enqueueRequest = function (_a, _b) {\n        var _this = this;\n        var debounceKey = _a.debounceKey, debounceTimeout = _a.debounceTimeout;\n        var operation = _b.operation, forward = _b.forward, observer = _b.observer;\n        var dbi = this.debounceInfo[debounceKey] || this.setupDebounceInfo(debounceKey);\n        dbi.queuedObservers.push(observer);\n        dbi.lastRequest = { operation: operation, forward: forward };\n        if (dbi.timeout) {\n            clearTimeout(dbi.timeout);\n        }\n        dbi.timeout = setTimeout(function () { return _this.flush(debounceKey); }, debounceTimeout || this.defaultDelay);\n        return dbi.currentGroupId;\n    };\n    DebounceLink.prototype.flush = function (debounceKey) {\n        var _this = this;\n        var dbi = this.debounceInfo[debounceKey];\n        if (dbi.queuedObservers.length === 0 || typeof dbi.lastRequest === 'undefined') {\n            return;\n        }\n        var _a = dbi.lastRequest, operation = _a.operation, forward = _a.forward;\n        var currentObservers = __spreadArrays(dbi.queuedObservers);\n        var groupId = dbi.currentGroupId;\n        var sub = forward(operation).subscribe({\n            next: function (v) {\n                currentObservers.forEach(function (observer) { return observer.next && observer.next(v); });\n            },\n            error: function (e) {\n                currentObservers.forEach(function (observer) { return observer.error && observer.error(e); });\n                _this.cleanup(debounceKey, groupId);\n            },\n            complete: function () {\n                currentObservers.forEach(function (observer) { return observer.complete && observer.complete(); });\n                _this.cleanup(debounceKey, groupId);\n            }\n        });\n        dbi.runningSubscriptions[dbi.currentGroupId] = {\n            subscription: sub,\n            observers: currentObservers\n        };\n        dbi.queuedObservers = [];\n        dbi.currentGroupId++;\n    };\n    return DebounceLink;\n}(client_1.ApolloLink));\nexports[\"default\"] = DebounceLink;\n//# sourceMappingURL=DebounceLink.js.map","import * as Vue from 'vue'\n\nvar isVue2 = false\nvar isVue3 = true\nvar Vue2 = undefined\n\nfunction install() {}\n\nexport function set(target, key, val) {\n  if (Array.isArray(target)) {\n    target.length = Math.max(target.length, key)\n    target.splice(key, 1, val)\n    return val\n  }\n  target[key] = val\n  return val\n}\n\nexport function del(target, key) {\n  if (Array.isArray(target)) {\n    target.splice(key, 1)\n    return\n  }\n  delete target[key]\n}\n\nexport * from 'vue'\nexport {\n  Vue,\n  Vue2,\n  isVue2,\n  isVue3,\n  install,\n}\n","var DESCRIPTORS = require('../internals/descriptors');\nvar V8_PROTOTYPE_DEFINE_BUG = require('../internals/v8-prototype-define-bug');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\n// eslint-disable-next-line es-x/no-object-defineproperties -- safe\nexports.f = DESCRIPTORS && !V8_PROTOTYPE_DEFINE_BUG ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var props = toIndexedObject(Properties);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], props[key]);\n  return O;\n};\n","'use strict';\n\nmodule.exports = value => {\n\tconst type = typeof value;\n\treturn value !== null && (type === 'object' || type === 'function');\n};\n","import { syntaxError } from '../error/syntaxError.mjs';\nimport { Location, OperationTypeNode } from './ast.mjs';\nimport { DirectiveLocation } from './directiveLocation.mjs';\nimport { Kind } from './kinds.mjs';\nimport { isPunctuatorTokenKind, Lexer } from './lexer.mjs';\nimport { isSource, Source } from './source.mjs';\nimport { TokenKind } from './tokenKind.mjs';\n/**\n * Configuration options to control parser behavior\n */\n\n/**\n * Given a GraphQL source, parses it into a Document.\n * Throws GraphQLError if a syntax error is encountered.\n */\nexport function parse(source, options) {\n  const parser = new Parser(source, options);\n  return parser.parseDocument();\n}\n/**\n * Given a string containing a GraphQL value (ex. `[42]`), parse the AST for\n * that value.\n * Throws GraphQLError if a syntax error is encountered.\n *\n * This is useful within tools that operate upon GraphQL Values directly and\n * in isolation of complete GraphQL documents.\n *\n * Consider providing the results to the utility function: valueFromAST().\n */\n\nexport function parseValue(source, options) {\n  const parser = new Parser(source, options);\n  parser.expectToken(TokenKind.SOF);\n  const value = parser.parseValueLiteral(false);\n  parser.expectToken(TokenKind.EOF);\n  return value;\n}\n/**\n * Similar to parseValue(), but raises a parse error if it encounters a\n * variable. The return type will be a constant value.\n */\n\nexport function parseConstValue(source, options) {\n  const parser = new Parser(source, options);\n  parser.expectToken(TokenKind.SOF);\n  const value = parser.parseConstValueLiteral();\n  parser.expectToken(TokenKind.EOF);\n  return value;\n}\n/**\n * Given a string containing a GraphQL Type (ex. `[Int!]`), parse the AST for\n * that type.\n * Throws GraphQLError if a syntax error is encountered.\n *\n * This is useful within tools that operate upon GraphQL Types directly and\n * in isolation of complete GraphQL documents.\n *\n * Consider providing the results to the utility function: typeFromAST().\n */\n\nexport function parseType(source, options) {\n  const parser = new Parser(source, options);\n  parser.expectToken(TokenKind.SOF);\n  const type = parser.parseTypeReference();\n  parser.expectToken(TokenKind.EOF);\n  return type;\n}\n/**\n * This class is exported only to assist people in implementing their own parsers\n * without duplicating too much code and should be used only as last resort for cases\n * such as experimental syntax or if certain features could not be contributed upstream.\n *\n * It is still part of the internal API and is versioned, so any changes to it are never\n * considered breaking changes. If you still need to support multiple versions of the\n * library, please use the `versionInfo` variable for version detection.\n *\n * @internal\n */\n\nexport class Parser {\n  constructor(source, options) {\n    const sourceObj = isSource(source) ? source : new Source(source);\n    this._lexer = new Lexer(sourceObj);\n    this._options = options;\n  }\n  /**\n   * Converts a name lex token into a name parse node.\n   */\n\n  parseName() {\n    const token = this.expectToken(TokenKind.NAME);\n    return this.node(token, {\n      kind: Kind.NAME,\n      value: token.value,\n    });\n  } // Implements the parsing rules in the Document section.\n\n  /**\n   * Document : Definition+\n   */\n\n  parseDocument() {\n    return this.node(this._lexer.token, {\n      kind: Kind.DOCUMENT,\n      definitions: this.many(\n        TokenKind.SOF,\n        this.parseDefinition,\n        TokenKind.EOF,\n      ),\n    });\n  }\n  /**\n   * Definition :\n   *   - ExecutableDefinition\n   *   - TypeSystemDefinition\n   *   - TypeSystemExtension\n   *\n   * ExecutableDefinition :\n   *   - OperationDefinition\n   *   - FragmentDefinition\n   *\n   * TypeSystemDefinition :\n   *   - SchemaDefinition\n   *   - TypeDefinition\n   *   - DirectiveDefinition\n   *\n   * TypeDefinition :\n   *   - ScalarTypeDefinition\n   *   - ObjectTypeDefinition\n   *   - InterfaceTypeDefinition\n   *   - UnionTypeDefinition\n   *   - EnumTypeDefinition\n   *   - InputObjectTypeDefinition\n   */\n\n  parseDefinition() {\n    if (this.peek(TokenKind.BRACE_L)) {\n      return this.parseOperationDefinition();\n    } // Many definitions begin with a description and require a lookahead.\n\n    const hasDescription = this.peekDescription();\n    const keywordToken = hasDescription\n      ? this._lexer.lookahead()\n      : this._lexer.token;\n\n    if (keywordToken.kind === TokenKind.NAME) {\n      switch (keywordToken.value) {\n        case 'schema':\n          return this.parseSchemaDefinition();\n\n        case 'scalar':\n          return this.parseScalarTypeDefinition();\n\n        case 'type':\n          return this.parseObjectTypeDefinition();\n\n        case 'interface':\n          return this.parseInterfaceTypeDefinition();\n\n        case 'union':\n          return this.parseUnionTypeDefinition();\n\n        case 'enum':\n          return this.parseEnumTypeDefinition();\n\n        case 'input':\n          return this.parseInputObjectTypeDefinition();\n\n        case 'directive':\n          return this.parseDirectiveDefinition();\n      }\n\n      if (hasDescription) {\n        throw syntaxError(\n          this._lexer.source,\n          this._lexer.token.start,\n          'Unexpected description, descriptions are supported only on type definitions.',\n        );\n      }\n\n      switch (keywordToken.value) {\n        case 'query':\n        case 'mutation':\n        case 'subscription':\n          return this.parseOperationDefinition();\n\n        case 'fragment':\n          return this.parseFragmentDefinition();\n\n        case 'extend':\n          return this.parseTypeSystemExtension();\n      }\n    }\n\n    throw this.unexpected(keywordToken);\n  } // Implements the parsing rules in the Operations section.\n\n  /**\n   * OperationDefinition :\n   *  - SelectionSet\n   *  - OperationType Name? VariableDefinitions? Directives? SelectionSet\n   */\n\n  parseOperationDefinition() {\n    const start = this._lexer.token;\n\n    if (this.peek(TokenKind.BRACE_L)) {\n      return this.node(start, {\n        kind: Kind.OPERATION_DEFINITION,\n        operation: OperationTypeNode.QUERY,\n        name: undefined,\n        variableDefinitions: [],\n        directives: [],\n        selectionSet: this.parseSelectionSet(),\n      });\n    }\n\n    const operation = this.parseOperationType();\n    let name;\n\n    if (this.peek(TokenKind.NAME)) {\n      name = this.parseName();\n    }\n\n    return this.node(start, {\n      kind: Kind.OPERATION_DEFINITION,\n      operation,\n      name,\n      variableDefinitions: this.parseVariableDefinitions(),\n      directives: this.parseDirectives(false),\n      selectionSet: this.parseSelectionSet(),\n    });\n  }\n  /**\n   * OperationType : one of query mutation subscription\n   */\n\n  parseOperationType() {\n    const operationToken = this.expectToken(TokenKind.NAME);\n\n    switch (operationToken.value) {\n      case 'query':\n        return OperationTypeNode.QUERY;\n\n      case 'mutation':\n        return OperationTypeNode.MUTATION;\n\n      case 'subscription':\n        return OperationTypeNode.SUBSCRIPTION;\n    }\n\n    throw this.unexpected(operationToken);\n  }\n  /**\n   * VariableDefinitions : ( VariableDefinition+ )\n   */\n\n  parseVariableDefinitions() {\n    return this.optionalMany(\n      TokenKind.PAREN_L,\n      this.parseVariableDefinition,\n      TokenKind.PAREN_R,\n    );\n  }\n  /**\n   * VariableDefinition : Variable : Type DefaultValue? Directives[Const]?\n   */\n\n  parseVariableDefinition() {\n    return this.node(this._lexer.token, {\n      kind: Kind.VARIABLE_DEFINITION,\n      variable: this.parseVariable(),\n      type: (this.expectToken(TokenKind.COLON), this.parseTypeReference()),\n      defaultValue: this.expectOptionalToken(TokenKind.EQUALS)\n        ? this.parseConstValueLiteral()\n        : undefined,\n      directives: this.parseConstDirectives(),\n    });\n  }\n  /**\n   * Variable : $ Name\n   */\n\n  parseVariable() {\n    const start = this._lexer.token;\n    this.expectToken(TokenKind.DOLLAR);\n    return this.node(start, {\n      kind: Kind.VARIABLE,\n      name: this.parseName(),\n    });\n  }\n  /**\n   * ```\n   * SelectionSet : { Selection+ }\n   * ```\n   */\n\n  parseSelectionSet() {\n    return this.node(this._lexer.token, {\n      kind: Kind.SELECTION_SET,\n      selections: this.many(\n        TokenKind.BRACE_L,\n        this.parseSelection,\n        TokenKind.BRACE_R,\n      ),\n    });\n  }\n  /**\n   * Selection :\n   *   - Field\n   *   - FragmentSpread\n   *   - InlineFragment\n   */\n\n  parseSelection() {\n    return this.peek(TokenKind.SPREAD)\n      ? this.parseFragment()\n      : this.parseField();\n  }\n  /**\n   * Field : Alias? Name Arguments? Directives? SelectionSet?\n   *\n   * Alias : Name :\n   */\n\n  parseField() {\n    const start = this._lexer.token;\n    const nameOrAlias = this.parseName();\n    let alias;\n    let name;\n\n    if (this.expectOptionalToken(TokenKind.COLON)) {\n      alias = nameOrAlias;\n      name = this.parseName();\n    } else {\n      name = nameOrAlias;\n    }\n\n    return this.node(start, {\n      kind: Kind.FIELD,\n      alias,\n      name,\n      arguments: this.parseArguments(false),\n      directives: this.parseDirectives(false),\n      selectionSet: this.peek(TokenKind.BRACE_L)\n        ? this.parseSelectionSet()\n        : undefined,\n    });\n  }\n  /**\n   * Arguments[Const] : ( Argument[?Const]+ )\n   */\n\n  parseArguments(isConst) {\n    const item = isConst ? this.parseConstArgument : this.parseArgument;\n    return this.optionalMany(TokenKind.PAREN_L, item, TokenKind.PAREN_R);\n  }\n  /**\n   * Argument[Const] : Name : Value[?Const]\n   */\n\n  parseArgument(isConst = false) {\n    const start = this._lexer.token;\n    const name = this.parseName();\n    this.expectToken(TokenKind.COLON);\n    return this.node(start, {\n      kind: Kind.ARGUMENT,\n      name,\n      value: this.parseValueLiteral(isConst),\n    });\n  }\n\n  parseConstArgument() {\n    return this.parseArgument(true);\n  } // Implements the parsing rules in the Fragments section.\n\n  /**\n   * Corresponds to both FragmentSpread and InlineFragment in the spec.\n   *\n   * FragmentSpread : ... FragmentName Directives?\n   *\n   * InlineFragment : ... TypeCondition? Directives? SelectionSet\n   */\n\n  parseFragment() {\n    const start = this._lexer.token;\n    this.expectToken(TokenKind.SPREAD);\n    const hasTypeCondition = this.expectOptionalKeyword('on');\n\n    if (!hasTypeCondition && this.peek(TokenKind.NAME)) {\n      return this.node(start, {\n        kind: Kind.FRAGMENT_SPREAD,\n        name: this.parseFragmentName(),\n        directives: this.parseDirectives(false),\n      });\n    }\n\n    return this.node(start, {\n      kind: Kind.INLINE_FRAGMENT,\n      typeCondition: hasTypeCondition ? this.parseNamedType() : undefined,\n      directives: this.parseDirectives(false),\n      selectionSet: this.parseSelectionSet(),\n    });\n  }\n  /**\n   * FragmentDefinition :\n   *   - fragment FragmentName on TypeCondition Directives? SelectionSet\n   *\n   * TypeCondition : NamedType\n   */\n\n  parseFragmentDefinition() {\n    var _this$_options;\n\n    const start = this._lexer.token;\n    this.expectKeyword('fragment'); // Legacy support for defining variables within fragments changes\n    // the grammar of FragmentDefinition:\n    //   - fragment FragmentName VariableDefinitions? on TypeCondition Directives? SelectionSet\n\n    if (\n      ((_this$_options = this._options) === null || _this$_options === void 0\n        ? void 0\n        : _this$_options.allowLegacyFragmentVariables) === true\n    ) {\n      return this.node(start, {\n        kind: Kind.FRAGMENT_DEFINITION,\n        name: this.parseFragmentName(),\n        variableDefinitions: this.parseVariableDefinitions(),\n        typeCondition: (this.expectKeyword('on'), this.parseNamedType()),\n        directives: this.parseDirectives(false),\n        selectionSet: this.parseSelectionSet(),\n      });\n    }\n\n    return this.node(start, {\n      kind: Kind.FRAGMENT_DEFINITION,\n      name: this.parseFragmentName(),\n      typeCondition: (this.expectKeyword('on'), this.parseNamedType()),\n      directives: this.parseDirectives(false),\n      selectionSet: this.parseSelectionSet(),\n    });\n  }\n  /**\n   * FragmentName : Name but not `on`\n   */\n\n  parseFragmentName() {\n    if (this._lexer.token.value === 'on') {\n      throw this.unexpected();\n    }\n\n    return this.parseName();\n  } // Implements the parsing rules in the Values section.\n\n  /**\n   * Value[Const] :\n   *   - [~Const] Variable\n   *   - IntValue\n   *   - FloatValue\n   *   - StringValue\n   *   - BooleanValue\n   *   - NullValue\n   *   - EnumValue\n   *   - ListValue[?Const]\n   *   - ObjectValue[?Const]\n   *\n   * BooleanValue : one of `true` `false`\n   *\n   * NullValue : `null`\n   *\n   * EnumValue : Name but not `true`, `false` or `null`\n   */\n\n  parseValueLiteral(isConst) {\n    const token = this._lexer.token;\n\n    switch (token.kind) {\n      case TokenKind.BRACKET_L:\n        return this.parseList(isConst);\n\n      case TokenKind.BRACE_L:\n        return this.parseObject(isConst);\n\n      case TokenKind.INT:\n        this._lexer.advance();\n\n        return this.node(token, {\n          kind: Kind.INT,\n          value: token.value,\n        });\n\n      case TokenKind.FLOAT:\n        this._lexer.advance();\n\n        return this.node(token, {\n          kind: Kind.FLOAT,\n          value: token.value,\n        });\n\n      case TokenKind.STRING:\n      case TokenKind.BLOCK_STRING:\n        return this.parseStringLiteral();\n\n      case TokenKind.NAME:\n        this._lexer.advance();\n\n        switch (token.value) {\n          case 'true':\n            return this.node(token, {\n              kind: Kind.BOOLEAN,\n              value: true,\n            });\n\n          case 'false':\n            return this.node(token, {\n              kind: Kind.BOOLEAN,\n              value: false,\n            });\n\n          case 'null':\n            return this.node(token, {\n              kind: Kind.NULL,\n            });\n\n          default:\n            return this.node(token, {\n              kind: Kind.ENUM,\n              value: token.value,\n            });\n        }\n\n      case TokenKind.DOLLAR:\n        if (isConst) {\n          this.expectToken(TokenKind.DOLLAR);\n\n          if (this._lexer.token.kind === TokenKind.NAME) {\n            const varName = this._lexer.token.value;\n            throw syntaxError(\n              this._lexer.source,\n              token.start,\n              `Unexpected variable \"$${varName}\" in constant value.`,\n            );\n          } else {\n            throw this.unexpected(token);\n          }\n        }\n\n        return this.parseVariable();\n\n      default:\n        throw this.unexpected();\n    }\n  }\n\n  parseConstValueLiteral() {\n    return this.parseValueLiteral(true);\n  }\n\n  parseStringLiteral() {\n    const token = this._lexer.token;\n\n    this._lexer.advance();\n\n    return this.node(token, {\n      kind: Kind.STRING,\n      value: token.value,\n      block: token.kind === TokenKind.BLOCK_STRING,\n    });\n  }\n  /**\n   * ListValue[Const] :\n   *   - [ ]\n   *   - [ Value[?Const]+ ]\n   */\n\n  parseList(isConst) {\n    const item = () => this.parseValueLiteral(isConst);\n\n    return this.node(this._lexer.token, {\n      kind: Kind.LIST,\n      values: this.any(TokenKind.BRACKET_L, item, TokenKind.BRACKET_R),\n    });\n  }\n  /**\n   * ```\n   * ObjectValue[Const] :\n   *   - { }\n   *   - { ObjectField[?Const]+ }\n   * ```\n   */\n\n  parseObject(isConst) {\n    const item = () => this.parseObjectField(isConst);\n\n    return this.node(this._lexer.token, {\n      kind: Kind.OBJECT,\n      fields: this.any(TokenKind.BRACE_L, item, TokenKind.BRACE_R),\n    });\n  }\n  /**\n   * ObjectField[Const] : Name : Value[?Const]\n   */\n\n  parseObjectField(isConst) {\n    const start = this._lexer.token;\n    const name = this.parseName();\n    this.expectToken(TokenKind.COLON);\n    return this.node(start, {\n      kind: Kind.OBJECT_FIELD,\n      name,\n      value: this.parseValueLiteral(isConst),\n    });\n  } // Implements the parsing rules in the Directives section.\n\n  /**\n   * Directives[Const] : Directive[?Const]+\n   */\n\n  parseDirectives(isConst) {\n    const directives = [];\n\n    while (this.peek(TokenKind.AT)) {\n      directives.push(this.parseDirective(isConst));\n    }\n\n    return directives;\n  }\n\n  parseConstDirectives() {\n    return this.parseDirectives(true);\n  }\n  /**\n   * ```\n   * Directive[Const] : @ Name Arguments[?Const]?\n   * ```\n   */\n\n  parseDirective(isConst) {\n    const start = this._lexer.token;\n    this.expectToken(TokenKind.AT);\n    return this.node(start, {\n      kind: Kind.DIRECTIVE,\n      name: this.parseName(),\n      arguments: this.parseArguments(isConst),\n    });\n  } // Implements the parsing rules in the Types section.\n\n  /**\n   * Type :\n   *   - NamedType\n   *   - ListType\n   *   - NonNullType\n   */\n\n  parseTypeReference() {\n    const start = this._lexer.token;\n    let type;\n\n    if (this.expectOptionalToken(TokenKind.BRACKET_L)) {\n      const innerType = this.parseTypeReference();\n      this.expectToken(TokenKind.BRACKET_R);\n      type = this.node(start, {\n        kind: Kind.LIST_TYPE,\n        type: innerType,\n      });\n    } else {\n      type = this.parseNamedType();\n    }\n\n    if (this.expectOptionalToken(TokenKind.BANG)) {\n      return this.node(start, {\n        kind: Kind.NON_NULL_TYPE,\n        type,\n      });\n    }\n\n    return type;\n  }\n  /**\n   * NamedType : Name\n   */\n\n  parseNamedType() {\n    return this.node(this._lexer.token, {\n      kind: Kind.NAMED_TYPE,\n      name: this.parseName(),\n    });\n  } // Implements the parsing rules in the Type Definition section.\n\n  peekDescription() {\n    return this.peek(TokenKind.STRING) || this.peek(TokenKind.BLOCK_STRING);\n  }\n  /**\n   * Description : StringValue\n   */\n\n  parseDescription() {\n    if (this.peekDescription()) {\n      return this.parseStringLiteral();\n    }\n  }\n  /**\n   * ```\n   * SchemaDefinition : Description? schema Directives[Const]? { OperationTypeDefinition+ }\n   * ```\n   */\n\n  parseSchemaDefinition() {\n    const start = this._lexer.token;\n    const description = this.parseDescription();\n    this.expectKeyword('schema');\n    const directives = this.parseConstDirectives();\n    const operationTypes = this.many(\n      TokenKind.BRACE_L,\n      this.parseOperationTypeDefinition,\n      TokenKind.BRACE_R,\n    );\n    return this.node(start, {\n      kind: Kind.SCHEMA_DEFINITION,\n      description,\n      directives,\n      operationTypes,\n    });\n  }\n  /**\n   * OperationTypeDefinition : OperationType : NamedType\n   */\n\n  parseOperationTypeDefinition() {\n    const start = this._lexer.token;\n    const operation = this.parseOperationType();\n    this.expectToken(TokenKind.COLON);\n    const type = this.parseNamedType();\n    return this.node(start, {\n      kind: Kind.OPERATION_TYPE_DEFINITION,\n      operation,\n      type,\n    });\n  }\n  /**\n   * ScalarTypeDefinition : Description? scalar Name Directives[Const]?\n   */\n\n  parseScalarTypeDefinition() {\n    const start = this._lexer.token;\n    const description = this.parseDescription();\n    this.expectKeyword('scalar');\n    const name = this.parseName();\n    const directives = this.parseConstDirectives();\n    return this.node(start, {\n      kind: Kind.SCALAR_TYPE_DEFINITION,\n      description,\n      name,\n      directives,\n    });\n  }\n  /**\n   * ObjectTypeDefinition :\n   *   Description?\n   *   type Name ImplementsInterfaces? Directives[Const]? FieldsDefinition?\n   */\n\n  parseObjectTypeDefinition() {\n    const start = this._lexer.token;\n    const description = this.parseDescription();\n    this.expectKeyword('type');\n    const name = this.parseName();\n    const interfaces = this.parseImplementsInterfaces();\n    const directives = this.parseConstDirectives();\n    const fields = this.parseFieldsDefinition();\n    return this.node(start, {\n      kind: Kind.OBJECT_TYPE_DEFINITION,\n      description,\n      name,\n      interfaces,\n      directives,\n      fields,\n    });\n  }\n  /**\n   * ImplementsInterfaces :\n   *   - implements `&`? NamedType\n   *   - ImplementsInterfaces & NamedType\n   */\n\n  parseImplementsInterfaces() {\n    return this.expectOptionalKeyword('implements')\n      ? this.delimitedMany(TokenKind.AMP, this.parseNamedType)\n      : [];\n  }\n  /**\n   * ```\n   * FieldsDefinition : { FieldDefinition+ }\n   * ```\n   */\n\n  parseFieldsDefinition() {\n    return this.optionalMany(\n      TokenKind.BRACE_L,\n      this.parseFieldDefinition,\n      TokenKind.BRACE_R,\n    );\n  }\n  /**\n   * FieldDefinition :\n   *   - Description? Name ArgumentsDefinition? : Type Directives[Const]?\n   */\n\n  parseFieldDefinition() {\n    const start = this._lexer.token;\n    const description = this.parseDescription();\n    const name = this.parseName();\n    const args = this.parseArgumentDefs();\n    this.expectToken(TokenKind.COLON);\n    const type = this.parseTypeReference();\n    const directives = this.parseConstDirectives();\n    return this.node(start, {\n      kind: Kind.FIELD_DEFINITION,\n      description,\n      name,\n      arguments: args,\n      type,\n      directives,\n    });\n  }\n  /**\n   * ArgumentsDefinition : ( InputValueDefinition+ )\n   */\n\n  parseArgumentDefs() {\n    return this.optionalMany(\n      TokenKind.PAREN_L,\n      this.parseInputValueDef,\n      TokenKind.PAREN_R,\n    );\n  }\n  /**\n   * InputValueDefinition :\n   *   - Description? Name : Type DefaultValue? Directives[Const]?\n   */\n\n  parseInputValueDef() {\n    const start = this._lexer.token;\n    const description = this.parseDescription();\n    const name = this.parseName();\n    this.expectToken(TokenKind.COLON);\n    const type = this.parseTypeReference();\n    let defaultValue;\n\n    if (this.expectOptionalToken(TokenKind.EQUALS)) {\n      defaultValue = this.parseConstValueLiteral();\n    }\n\n    const directives = this.parseConstDirectives();\n    return this.node(start, {\n      kind: Kind.INPUT_VALUE_DEFINITION,\n      description,\n      name,\n      type,\n      defaultValue,\n      directives,\n    });\n  }\n  /**\n   * InterfaceTypeDefinition :\n   *   - Description? interface Name Directives[Const]? FieldsDefinition?\n   */\n\n  parseInterfaceTypeDefinition() {\n    const start = this._lexer.token;\n    const description = this.parseDescription();\n    this.expectKeyword('interface');\n    const name = this.parseName();\n    const interfaces = this.parseImplementsInterfaces();\n    const directives = this.parseConstDirectives();\n    const fields = this.parseFieldsDefinition();\n    return this.node(start, {\n      kind: Kind.INTERFACE_TYPE_DEFINITION,\n      description,\n      name,\n      interfaces,\n      directives,\n      fields,\n    });\n  }\n  /**\n   * UnionTypeDefinition :\n   *   - Description? union Name Directives[Const]? UnionMemberTypes?\n   */\n\n  parseUnionTypeDefinition() {\n    const start = this._lexer.token;\n    const description = this.parseDescription();\n    this.expectKeyword('union');\n    const name = this.parseName();\n    const directives = this.parseConstDirectives();\n    const types = this.parseUnionMemberTypes();\n    return this.node(start, {\n      kind: Kind.UNION_TYPE_DEFINITION,\n      description,\n      name,\n      directives,\n      types,\n    });\n  }\n  /**\n   * UnionMemberTypes :\n   *   - = `|`? NamedType\n   *   - UnionMemberTypes | NamedType\n   */\n\n  parseUnionMemberTypes() {\n    return this.expectOptionalToken(TokenKind.EQUALS)\n      ? this.delimitedMany(TokenKind.PIPE, this.parseNamedType)\n      : [];\n  }\n  /**\n   * EnumTypeDefinition :\n   *   - Description? enum Name Directives[Const]? EnumValuesDefinition?\n   */\n\n  parseEnumTypeDefinition() {\n    const start = this._lexer.token;\n    const description = this.parseDescription();\n    this.expectKeyword('enum');\n    const name = this.parseName();\n    const directives = this.parseConstDirectives();\n    const values = this.parseEnumValuesDefinition();\n    return this.node(start, {\n      kind: Kind.ENUM_TYPE_DEFINITION,\n      description,\n      name,\n      directives,\n      values,\n    });\n  }\n  /**\n   * ```\n   * EnumValuesDefinition : { EnumValueDefinition+ }\n   * ```\n   */\n\n  parseEnumValuesDefinition() {\n    return this.optionalMany(\n      TokenKind.BRACE_L,\n      this.parseEnumValueDefinition,\n      TokenKind.BRACE_R,\n    );\n  }\n  /**\n   * EnumValueDefinition : Description? EnumValue Directives[Const]?\n   */\n\n  parseEnumValueDefinition() {\n    const start = this._lexer.token;\n    const description = this.parseDescription();\n    const name = this.parseEnumValueName();\n    const directives = this.parseConstDirectives();\n    return this.node(start, {\n      kind: Kind.ENUM_VALUE_DEFINITION,\n      description,\n      name,\n      directives,\n    });\n  }\n  /**\n   * EnumValue : Name but not `true`, `false` or `null`\n   */\n\n  parseEnumValueName() {\n    if (\n      this._lexer.token.value === 'true' ||\n      this._lexer.token.value === 'false' ||\n      this._lexer.token.value === 'null'\n    ) {\n      throw syntaxError(\n        this._lexer.source,\n        this._lexer.token.start,\n        `${getTokenDesc(\n          this._lexer.token,\n        )} is reserved and cannot be used for an enum value.`,\n      );\n    }\n\n    return this.parseName();\n  }\n  /**\n   * InputObjectTypeDefinition :\n   *   - Description? input Name Directives[Const]? InputFieldsDefinition?\n   */\n\n  parseInputObjectTypeDefinition() {\n    const start = this._lexer.token;\n    const description = this.parseDescription();\n    this.expectKeyword('input');\n    const name = this.parseName();\n    const directives = this.parseConstDirectives();\n    const fields = this.parseInputFieldsDefinition();\n    return this.node(start, {\n      kind: Kind.INPUT_OBJECT_TYPE_DEFINITION,\n      description,\n      name,\n      directives,\n      fields,\n    });\n  }\n  /**\n   * ```\n   * InputFieldsDefinition : { InputValueDefinition+ }\n   * ```\n   */\n\n  parseInputFieldsDefinition() {\n    return this.optionalMany(\n      TokenKind.BRACE_L,\n      this.parseInputValueDef,\n      TokenKind.BRACE_R,\n    );\n  }\n  /**\n   * TypeSystemExtension :\n   *   - SchemaExtension\n   *   - TypeExtension\n   *\n   * TypeExtension :\n   *   - ScalarTypeExtension\n   *   - ObjectTypeExtension\n   *   - InterfaceTypeExtension\n   *   - UnionTypeExtension\n   *   - EnumTypeExtension\n   *   - InputObjectTypeDefinition\n   */\n\n  parseTypeSystemExtension() {\n    const keywordToken = this._lexer.lookahead();\n\n    if (keywordToken.kind === TokenKind.NAME) {\n      switch (keywordToken.value) {\n        case 'schema':\n          return this.parseSchemaExtension();\n\n        case 'scalar':\n          return this.parseScalarTypeExtension();\n\n        case 'type':\n          return this.parseObjectTypeExtension();\n\n        case 'interface':\n          return this.parseInterfaceTypeExtension();\n\n        case 'union':\n          return this.parseUnionTypeExtension();\n\n        case 'enum':\n          return this.parseEnumTypeExtension();\n\n        case 'input':\n          return this.parseInputObjectTypeExtension();\n      }\n    }\n\n    throw this.unexpected(keywordToken);\n  }\n  /**\n   * ```\n   * SchemaExtension :\n   *  - extend schema Directives[Const]? { OperationTypeDefinition+ }\n   *  - extend schema Directives[Const]\n   * ```\n   */\n\n  parseSchemaExtension() {\n    const start = this._lexer.token;\n    this.expectKeyword('extend');\n    this.expectKeyword('schema');\n    const directives = this.parseConstDirectives();\n    const operationTypes = this.optionalMany(\n      TokenKind.BRACE_L,\n      this.parseOperationTypeDefinition,\n      TokenKind.BRACE_R,\n    );\n\n    if (directives.length === 0 && operationTypes.length === 0) {\n      throw this.unexpected();\n    }\n\n    return this.node(start, {\n      kind: Kind.SCHEMA_EXTENSION,\n      directives,\n      operationTypes,\n    });\n  }\n  /**\n   * ScalarTypeExtension :\n   *   - extend scalar Name Directives[Const]\n   */\n\n  parseScalarTypeExtension() {\n    const start = this._lexer.token;\n    this.expectKeyword('extend');\n    this.expectKeyword('scalar');\n    const name = this.parseName();\n    const directives = this.parseConstDirectives();\n\n    if (directives.length === 0) {\n      throw this.unexpected();\n    }\n\n    return this.node(start, {\n      kind: Kind.SCALAR_TYPE_EXTENSION,\n      name,\n      directives,\n    });\n  }\n  /**\n   * ObjectTypeExtension :\n   *  - extend type Name ImplementsInterfaces? Directives[Const]? FieldsDefinition\n   *  - extend type Name ImplementsInterfaces? Directives[Const]\n   *  - extend type Name ImplementsInterfaces\n   */\n\n  parseObjectTypeExtension() {\n    const start = this._lexer.token;\n    this.expectKeyword('extend');\n    this.expectKeyword('type');\n    const name = this.parseName();\n    const interfaces = this.parseImplementsInterfaces();\n    const directives = this.parseConstDirectives();\n    const fields = this.parseFieldsDefinition();\n\n    if (\n      interfaces.length === 0 &&\n      directives.length === 0 &&\n      fields.length === 0\n    ) {\n      throw this.unexpected();\n    }\n\n    return this.node(start, {\n      kind: Kind.OBJECT_TYPE_EXTENSION,\n      name,\n      interfaces,\n      directives,\n      fields,\n    });\n  }\n  /**\n   * InterfaceTypeExtension :\n   *  - extend interface Name ImplementsInterfaces? Directives[Const]? FieldsDefinition\n   *  - extend interface Name ImplementsInterfaces? Directives[Const]\n   *  - extend interface Name ImplementsInterfaces\n   */\n\n  parseInterfaceTypeExtension() {\n    const start = this._lexer.token;\n    this.expectKeyword('extend');\n    this.expectKeyword('interface');\n    const name = this.parseName();\n    const interfaces = this.parseImplementsInterfaces();\n    const directives = this.parseConstDirectives();\n    const fields = this.parseFieldsDefinition();\n\n    if (\n      interfaces.length === 0 &&\n      directives.length === 0 &&\n      fields.length === 0\n    ) {\n      throw this.unexpected();\n    }\n\n    return this.node(start, {\n      kind: Kind.INTERFACE_TYPE_EXTENSION,\n      name,\n      interfaces,\n      directives,\n      fields,\n    });\n  }\n  /**\n   * UnionTypeExtension :\n   *   - extend union Name Directives[Const]? UnionMemberTypes\n   *   - extend union Name Directives[Const]\n   */\n\n  parseUnionTypeExtension() {\n    const start = this._lexer.token;\n    this.expectKeyword('extend');\n    this.expectKeyword('union');\n    const name = this.parseName();\n    const directives = this.parseConstDirectives();\n    const types = this.parseUnionMemberTypes();\n\n    if (directives.length === 0 && types.length === 0) {\n      throw this.unexpected();\n    }\n\n    return this.node(start, {\n      kind: Kind.UNION_TYPE_EXTENSION,\n      name,\n      directives,\n      types,\n    });\n  }\n  /**\n   * EnumTypeExtension :\n   *   - extend enum Name Directives[Const]? EnumValuesDefinition\n   *   - extend enum Name Directives[Const]\n   */\n\n  parseEnumTypeExtension() {\n    const start = this._lexer.token;\n    this.expectKeyword('extend');\n    this.expectKeyword('enum');\n    const name = this.parseName();\n    const directives = this.parseConstDirectives();\n    const values = this.parseEnumValuesDefinition();\n\n    if (directives.length === 0 && values.length === 0) {\n      throw this.unexpected();\n    }\n\n    return this.node(start, {\n      kind: Kind.ENUM_TYPE_EXTENSION,\n      name,\n      directives,\n      values,\n    });\n  }\n  /**\n   * InputObjectTypeExtension :\n   *   - extend input Name Directives[Const]? InputFieldsDefinition\n   *   - extend input Name Directives[Const]\n   */\n\n  parseInputObjectTypeExtension() {\n    const start = this._lexer.token;\n    this.expectKeyword('extend');\n    this.expectKeyword('input');\n    const name = this.parseName();\n    const directives = this.parseConstDirectives();\n    const fields = this.parseInputFieldsDefinition();\n\n    if (directives.length === 0 && fields.length === 0) {\n      throw this.unexpected();\n    }\n\n    return this.node(start, {\n      kind: Kind.INPUT_OBJECT_TYPE_EXTENSION,\n      name,\n      directives,\n      fields,\n    });\n  }\n  /**\n   * ```\n   * DirectiveDefinition :\n   *   - Description? directive @ Name ArgumentsDefinition? `repeatable`? on DirectiveLocations\n   * ```\n   */\n\n  parseDirectiveDefinition() {\n    const start = this._lexer.token;\n    const description = this.parseDescription();\n    this.expectKeyword('directive');\n    this.expectToken(TokenKind.AT);\n    const name = this.parseName();\n    const args = this.parseArgumentDefs();\n    const repeatable = this.expectOptionalKeyword('repeatable');\n    this.expectKeyword('on');\n    const locations = this.parseDirectiveLocations();\n    return this.node(start, {\n      kind: Kind.DIRECTIVE_DEFINITION,\n      description,\n      name,\n      arguments: args,\n      repeatable,\n      locations,\n    });\n  }\n  /**\n   * DirectiveLocations :\n   *   - `|`? DirectiveLocation\n   *   - DirectiveLocations | DirectiveLocation\n   */\n\n  parseDirectiveLocations() {\n    return this.delimitedMany(TokenKind.PIPE, this.parseDirectiveLocation);\n  }\n  /*\n   * DirectiveLocation :\n   *   - ExecutableDirectiveLocation\n   *   - TypeSystemDirectiveLocation\n   *\n   * ExecutableDirectiveLocation : one of\n   *   `QUERY`\n   *   `MUTATION`\n   *   `SUBSCRIPTION`\n   *   `FIELD`\n   *   `FRAGMENT_DEFINITION`\n   *   `FRAGMENT_SPREAD`\n   *   `INLINE_FRAGMENT`\n   *\n   * TypeSystemDirectiveLocation : one of\n   *   `SCHEMA`\n   *   `SCALAR`\n   *   `OBJECT`\n   *   `FIELD_DEFINITION`\n   *   `ARGUMENT_DEFINITION`\n   *   `INTERFACE`\n   *   `UNION`\n   *   `ENUM`\n   *   `ENUM_VALUE`\n   *   `INPUT_OBJECT`\n   *   `INPUT_FIELD_DEFINITION`\n   */\n\n  parseDirectiveLocation() {\n    const start = this._lexer.token;\n    const name = this.parseName();\n\n    if (Object.prototype.hasOwnProperty.call(DirectiveLocation, name.value)) {\n      return name;\n    }\n\n    throw this.unexpected(start);\n  } // Core parsing utility functions\n\n  /**\n   * Returns a node that, if configured to do so, sets a \"loc\" field as a\n   * location object, used to identify the place in the source that created a\n   * given parsed object.\n   */\n\n  node(startToken, node) {\n    var _this$_options2;\n\n    if (\n      ((_this$_options2 = this._options) === null || _this$_options2 === void 0\n        ? void 0\n        : _this$_options2.noLocation) !== true\n    ) {\n      node.loc = new Location(\n        startToken,\n        this._lexer.lastToken,\n        this._lexer.source,\n      );\n    }\n\n    return node;\n  }\n  /**\n   * Determines if the next token is of a given kind\n   */\n\n  peek(kind) {\n    return this._lexer.token.kind === kind;\n  }\n  /**\n   * If the next token is of the given kind, return that token after advancing the lexer.\n   * Otherwise, do not change the parser state and throw an error.\n   */\n\n  expectToken(kind) {\n    const token = this._lexer.token;\n\n    if (token.kind === kind) {\n      this._lexer.advance();\n\n      return token;\n    }\n\n    throw syntaxError(\n      this._lexer.source,\n      token.start,\n      `Expected ${getTokenKindDesc(kind)}, found ${getTokenDesc(token)}.`,\n    );\n  }\n  /**\n   * If the next token is of the given kind, return \"true\" after advancing the lexer.\n   * Otherwise, do not change the parser state and return \"false\".\n   */\n\n  expectOptionalToken(kind) {\n    const token = this._lexer.token;\n\n    if (token.kind === kind) {\n      this._lexer.advance();\n\n      return true;\n    }\n\n    return false;\n  }\n  /**\n   * If the next token is a given keyword, advance the lexer.\n   * Otherwise, do not change the parser state and throw an error.\n   */\n\n  expectKeyword(value) {\n    const token = this._lexer.token;\n\n    if (token.kind === TokenKind.NAME && token.value === value) {\n      this._lexer.advance();\n    } else {\n      throw syntaxError(\n        this._lexer.source,\n        token.start,\n        `Expected \"${value}\", found ${getTokenDesc(token)}.`,\n      );\n    }\n  }\n  /**\n   * If the next token is a given keyword, return \"true\" after advancing the lexer.\n   * Otherwise, do not change the parser state and return \"false\".\n   */\n\n  expectOptionalKeyword(value) {\n    const token = this._lexer.token;\n\n    if (token.kind === TokenKind.NAME && token.value === value) {\n      this._lexer.advance();\n\n      return true;\n    }\n\n    return false;\n  }\n  /**\n   * Helper function for creating an error when an unexpected lexed token is encountered.\n   */\n\n  unexpected(atToken) {\n    const token =\n      atToken !== null && atToken !== void 0 ? atToken : this._lexer.token;\n    return syntaxError(\n      this._lexer.source,\n      token.start,\n      `Unexpected ${getTokenDesc(token)}.`,\n    );\n  }\n  /**\n   * Returns a possibly empty list of parse nodes, determined by the parseFn.\n   * This list begins with a lex token of openKind and ends with a lex token of closeKind.\n   * Advances the parser to the next lex token after the closing token.\n   */\n\n  any(openKind, parseFn, closeKind) {\n    this.expectToken(openKind);\n    const nodes = [];\n\n    while (!this.expectOptionalToken(closeKind)) {\n      nodes.push(parseFn.call(this));\n    }\n\n    return nodes;\n  }\n  /**\n   * Returns a list of parse nodes, determined by the parseFn.\n   * It can be empty only if open token is missing otherwise it will always return non-empty list\n   * that begins with a lex token of openKind and ends with a lex token of closeKind.\n   * Advances the parser to the next lex token after the closing token.\n   */\n\n  optionalMany(openKind, parseFn, closeKind) {\n    if (this.expectOptionalToken(openKind)) {\n      const nodes = [];\n\n      do {\n        nodes.push(parseFn.call(this));\n      } while (!this.expectOptionalToken(closeKind));\n\n      return nodes;\n    }\n\n    return [];\n  }\n  /**\n   * Returns a non-empty list of parse nodes, determined by the parseFn.\n   * This list begins with a lex token of openKind and ends with a lex token of closeKind.\n   * Advances the parser to the next lex token after the closing token.\n   */\n\n  many(openKind, parseFn, closeKind) {\n    this.expectToken(openKind);\n    const nodes = [];\n\n    do {\n      nodes.push(parseFn.call(this));\n    } while (!this.expectOptionalToken(closeKind));\n\n    return nodes;\n  }\n  /**\n   * Returns a non-empty list of parse nodes, determined by the parseFn.\n   * This list may begin with a lex token of delimiterKind followed by items separated by lex tokens of tokenKind.\n   * Advances the parser to the next lex token after last item in the list.\n   */\n\n  delimitedMany(delimiterKind, parseFn) {\n    this.expectOptionalToken(delimiterKind);\n    const nodes = [];\n\n    do {\n      nodes.push(parseFn.call(this));\n    } while (this.expectOptionalToken(delimiterKind));\n\n    return nodes;\n  }\n}\n/**\n * A helper function to describe a token as a string for debugging.\n */\n\nfunction getTokenDesc(token) {\n  const value = token.value;\n  return getTokenKindDesc(token.kind) + (value != null ? ` \"${value}\"` : '');\n}\n/**\n * A helper function to describe a token kind as a string for debugging.\n */\n\nfunction getTokenKindDesc(kind) {\n  return isPunctuatorTokenKind(kind) ? `\"${kind}\"` : kind;\n}\n","import { addNonEnumerableProperty } from './object.js';\nimport { snipLine } from './string.js';\nimport { GLOBAL_OBJ } from './worldwide.js';\n\n/**\n * UUID4 generator\n *\n * @returns string Generated UUID4.\n */\nfunction uuid4() {\n  const gbl = GLOBAL_OBJ ;\n  const crypto = gbl.crypto || gbl.msCrypto;\n\n  if (crypto && crypto.randomUUID) {\n    return crypto.randomUUID().replace(/-/g, '');\n  }\n\n  const getRandomByte =\n    crypto && crypto.getRandomValues ? () => crypto.getRandomValues(new Uint8Array(1))[0] : () => Math.random() * 16;\n\n  // http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/2117523#2117523\n  // Concatenating the following numbers as strings results in '10000000100040008000100000000000'\n  return (([1e7] ) + 1e3 + 4e3 + 8e3 + 1e11).replace(/[018]/g, c =>\n    // eslint-disable-next-line no-bitwise\n    ((c ) ^ ((getRandomByte() & 15) >> ((c ) / 4))).toString(16),\n  );\n}\n\nfunction getFirstException(event) {\n  return event.exception && event.exception.values ? event.exception.values[0] : undefined;\n}\n\n/**\n * Extracts either message or type+value from an event that can be used for user-facing logs\n * @returns event's description\n */\nfunction getEventDescription(event) {\n  const { message, event_id: eventId } = event;\n  if (message) {\n    return message;\n  }\n\n  const firstException = getFirstException(event);\n  if (firstException) {\n    if (firstException.type && firstException.value) {\n      return `${firstException.type}: ${firstException.value}`;\n    }\n    return firstException.type || firstException.value || eventId || '<unknown>';\n  }\n  return eventId || '<unknown>';\n}\n\n/**\n * Adds exception values, type and value to an synthetic Exception.\n * @param event The event to modify.\n * @param value Value of the exception.\n * @param type Type of the exception.\n * @hidden\n */\nfunction addExceptionTypeValue(event, value, type) {\n  const exception = (event.exception = event.exception || {});\n  const values = (exception.values = exception.values || []);\n  const firstException = (values[0] = values[0] || {});\n  if (!firstException.value) {\n    firstException.value = value || '';\n  }\n  if (!firstException.type) {\n    firstException.type = type || 'Error';\n  }\n}\n\n/**\n * Adds exception mechanism data to a given event. Uses defaults if the second parameter is not passed.\n *\n * @param event The event to modify.\n * @param newMechanism Mechanism data to add to the event.\n * @hidden\n */\nfunction addExceptionMechanism(event, newMechanism) {\n  const firstException = getFirstException(event);\n  if (!firstException) {\n    return;\n  }\n\n  const defaultMechanism = { type: 'generic', handled: true };\n  const currentMechanism = firstException.mechanism;\n  firstException.mechanism = { ...defaultMechanism, ...currentMechanism, ...newMechanism };\n\n  if (newMechanism && 'data' in newMechanism) {\n    const mergedData = { ...(currentMechanism && currentMechanism.data), ...newMechanism.data };\n    firstException.mechanism.data = mergedData;\n  }\n}\n\n// https://semver.org/#is-there-a-suggested-regular-expression-regex-to-check-a-semver-string\nconst SEMVER_REGEXP =\n  /^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$/;\n\n/**\n * Represents Semantic Versioning object\n */\n\n/**\n * Parses input into a SemVer interface\n * @param input string representation of a semver version\n */\nfunction parseSemver(input) {\n  const match = input.match(SEMVER_REGEXP) || [];\n  const major = parseInt(match[1], 10);\n  const minor = parseInt(match[2], 10);\n  const patch = parseInt(match[3], 10);\n  return {\n    buildmetadata: match[5],\n    major: isNaN(major) ? undefined : major,\n    minor: isNaN(minor) ? undefined : minor,\n    patch: isNaN(patch) ? undefined : patch,\n    prerelease: match[4],\n  };\n}\n\n/**\n * This function adds context (pre/post/line) lines to the provided frame\n *\n * @param lines string[] containing all lines\n * @param frame StackFrame that will be mutated\n * @param linesOfContext number of context lines we want to add pre/post\n */\nfunction addContextToFrame(lines, frame, linesOfContext = 5) {\n  const lineno = frame.lineno || 0;\n  const maxLines = lines.length;\n  const sourceLine = Math.max(Math.min(maxLines, lineno - 1), 0);\n\n  frame.pre_context = lines\n    .slice(Math.max(0, sourceLine - linesOfContext), sourceLine)\n    .map((line) => snipLine(line, 0));\n\n  frame.context_line = snipLine(lines[Math.min(maxLines - 1, sourceLine)], frame.colno || 0);\n\n  frame.post_context = lines\n    .slice(Math.min(sourceLine + 1, maxLines), sourceLine + 1 + linesOfContext)\n    .map((line) => snipLine(line, 0));\n}\n\n/**\n * Checks whether or not we've already captured the given exception (note: not an identical exception - the very object\n * in question), and marks it captured if not.\n *\n * This is useful because it's possible for an error to get captured by more than one mechanism. After we intercept and\n * record an error, we rethrow it (assuming we've intercepted it before it's reached the top-level global handlers), so\n * that we don't interfere with whatever effects the error might have had were the SDK not there. At that point, because\n * the error has been rethrown, it's possible for it to bubble up to some other code we've instrumented. If it's not\n * caught after that, it will bubble all the way up to the global handlers (which of course we also instrument). This\n * function helps us ensure that even if we encounter the same error more than once, we only record it the first time we\n * see it.\n *\n * Note: It will ignore primitives (always return `false` and not mark them as seen), as properties can't be set on\n * them. {@link: Object.objectify} can be used on exceptions to convert any that are primitives into their equivalent\n * object wrapper forms so that this check will always work. However, because we need to flag the exact object which\n * will get rethrown, and because that rethrowing happens outside of the event processing pipeline, the objectification\n * must be done before the exception captured.\n *\n * @param A thrown exception to check or flag as having been seen\n * @returns `true` if the exception has already been captured, `false` if not (with the side effect of marking it seen)\n */\nfunction checkOrSetAlreadyCaught(exception) {\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n  if (exception && (exception ).__sentry_captured__) {\n    return true;\n  }\n\n  try {\n    // set it this way rather than by assignment so that it's not ennumerable and therefore isn't recorded by the\n    // `ExtraErrorData` integration\n    addNonEnumerableProperty(exception , '__sentry_captured__', true);\n  } catch (err) {\n    // `exception` is a primitive, so we can't mark it seen\n  }\n\n  return false;\n}\n\n/**\n * Checks whether the given input is already an array, and if it isn't, wraps it in one.\n *\n * @param maybeArray Input to turn into an array, if necessary\n * @returns The input, if already an array, or an array with the input as the only element, if not\n */\nfunction arrayify(maybeArray) {\n  return Array.isArray(maybeArray) ? maybeArray : [maybeArray];\n}\n\nexport { addContextToFrame, addExceptionMechanism, addExceptionTypeValue, arrayify, checkOrSetAlreadyCaught, getEventDescription, parseSemver, uuid4 };\n//# sourceMappingURL=misc.js.map\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","/**\n * Contains a range of UTF-8 character offsets and token references that\n * identify the region of the source from which the AST derived.\n */\nexport class Location {\n  /**\n   * The character offset at which this Node begins.\n   */\n\n  /**\n   * The character offset at which this Node ends.\n   */\n\n  /**\n   * The Token at which this Node begins.\n   */\n\n  /**\n   * The Token at which this Node ends.\n   */\n\n  /**\n   * The Source document the AST represents.\n   */\n  constructor(startToken, endToken, source) {\n    this.start = startToken.start;\n    this.end = endToken.end;\n    this.startToken = startToken;\n    this.endToken = endToken;\n    this.source = source;\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'Location';\n  }\n\n  toJSON() {\n    return {\n      start: this.start,\n      end: this.end,\n    };\n  }\n}\n/**\n * Represents a range of characters represented by a lexical token\n * within a Source.\n */\n\nexport class Token {\n  /**\n   * The kind of Token.\n   */\n\n  /**\n   * The character offset at which this Node begins.\n   */\n\n  /**\n   * The character offset at which this Node ends.\n   */\n\n  /**\n   * The 1-indexed line number on which this Token appears.\n   */\n\n  /**\n   * The 1-indexed column number at which this Token begins.\n   */\n\n  /**\n   * For non-punctuation tokens, represents the interpreted value of the token.\n   *\n   * Note: is undefined for punctuation tokens, but typed as string for\n   * convenience in the parser.\n   */\n\n  /**\n   * Tokens exist as nodes in a double-linked-list amongst all tokens\n   * including ignored tokens. <SOF> is always the first node and <EOF>\n   * the last.\n   */\n  constructor(kind, start, end, line, column, value) {\n    this.kind = kind;\n    this.start = start;\n    this.end = end;\n    this.line = line;\n    this.column = column; // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n    this.value = value;\n    this.prev = null;\n    this.next = null;\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'Token';\n  }\n\n  toJSON() {\n    return {\n      kind: this.kind,\n      value: this.value,\n      line: this.line,\n      column: this.column,\n    };\n  }\n}\n/**\n * The list of all possible AST node types.\n */\n\n/**\n * @internal\n */\nexport const QueryDocumentKeys = {\n  Name: [],\n  Document: ['definitions'],\n  OperationDefinition: [\n    'name',\n    'variableDefinitions',\n    'directives',\n    'selectionSet',\n  ],\n  VariableDefinition: ['variable', 'type', 'defaultValue', 'directives'],\n  Variable: ['name'],\n  SelectionSet: ['selections'],\n  Field: ['alias', 'name', 'arguments', 'directives', 'selectionSet'],\n  Argument: ['name', 'value'],\n  FragmentSpread: ['name', 'directives'],\n  InlineFragment: ['typeCondition', 'directives', 'selectionSet'],\n  FragmentDefinition: [\n    'name', // Note: fragment variable definitions are deprecated and will removed in v17.0.0\n    'variableDefinitions',\n    'typeCondition',\n    'directives',\n    'selectionSet',\n  ],\n  IntValue: [],\n  FloatValue: [],\n  StringValue: [],\n  BooleanValue: [],\n  NullValue: [],\n  EnumValue: [],\n  ListValue: ['values'],\n  ObjectValue: ['fields'],\n  ObjectField: ['name', 'value'],\n  Directive: ['name', 'arguments'],\n  NamedType: ['name'],\n  ListType: ['type'],\n  NonNullType: ['type'],\n  SchemaDefinition: ['description', 'directives', 'operationTypes'],\n  OperationTypeDefinition: ['type'],\n  ScalarTypeDefinition: ['description', 'name', 'directives'],\n  ObjectTypeDefinition: [\n    'description',\n    'name',\n    'interfaces',\n    'directives',\n    'fields',\n  ],\n  FieldDefinition: ['description', 'name', 'arguments', 'type', 'directives'],\n  InputValueDefinition: [\n    'description',\n    'name',\n    'type',\n    'defaultValue',\n    'directives',\n  ],\n  InterfaceTypeDefinition: [\n    'description',\n    'name',\n    'interfaces',\n    'directives',\n    'fields',\n  ],\n  UnionTypeDefinition: ['description', 'name', 'directives', 'types'],\n  EnumTypeDefinition: ['description', 'name', 'directives', 'values'],\n  EnumValueDefinition: ['description', 'name', 'directives'],\n  InputObjectTypeDefinition: ['description', 'name', 'directives', 'fields'],\n  DirectiveDefinition: ['description', 'name', 'arguments', 'locations'],\n  SchemaExtension: ['directives', 'operationTypes'],\n  ScalarTypeExtension: ['name', 'directives'],\n  ObjectTypeExtension: ['name', 'interfaces', 'directives', 'fields'],\n  InterfaceTypeExtension: ['name', 'interfaces', 'directives', 'fields'],\n  UnionTypeExtension: ['name', 'directives', 'types'],\n  EnumTypeExtension: ['name', 'directives', 'values'],\n  InputObjectTypeExtension: ['name', 'directives', 'fields'],\n};\nconst kindValues = new Set(Object.keys(QueryDocumentKeys));\n/**\n * @internal\n */\n\nexport function isNode(maybeNode) {\n  const maybeKind =\n    maybeNode === null || maybeNode === void 0 ? void 0 : maybeNode.kind;\n  return typeof maybeKind === 'string' && kindValues.has(maybeKind);\n}\n/** Name */\n\nexport let OperationTypeNode;\n\n(function (OperationTypeNode) {\n  OperationTypeNode['QUERY'] = 'query';\n  OperationTypeNode['MUTATION'] = 'mutation';\n  OperationTypeNode['SUBSCRIPTION'] = 'subscription';\n})(OperationTypeNode || (OperationTypeNode = {}));\n","'use strict';\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es-x/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n","export var throwServerError = function (response, result, message) {\n    var error = new Error(message);\n    error.name = 'ServerError';\n    error.response = response;\n    error.statusCode = response.status;\n    error.result = result;\n    throw error;\n};\n//# sourceMappingURL=throwServerError.js.map","import { isNaN, isSyntheticEvent } from './is.js';\nimport { memoBuilder } from './memo.js';\nimport { convertToPlainObject } from './object.js';\nimport { getFunctionName } from './stacktrace.js';\n\n/**\n * Recursively normalizes the given object.\n *\n * - Creates a copy to prevent original input mutation\n * - Skips non-enumerable properties\n * - When stringifying, calls `toJSON` if implemented\n * - Removes circular references\n * - Translates non-serializable values (`undefined`/`NaN`/functions) to serializable format\n * - Translates known global objects/classes to a string representations\n * - Takes care of `Error` object serialization\n * - Optionally limits depth of final output\n * - Optionally limits number of properties/elements included in any single object/array\n *\n * @param input The object to be normalized.\n * @param depth The max depth to which to normalize the object. (Anything deeper stringified whole.)\n * @param maxProperties The max number of elements or properties to be included in any single array or\n * object in the normallized output.\n * @returns A normalized version of the object, or `\"**non-serializable**\"` if any errors are thrown during normalization.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction normalize(input, depth = +Infinity, maxProperties = +Infinity) {\n  try {\n    // since we're at the outermost level, we don't provide a key\n    return visit('', input, depth, maxProperties);\n  } catch (err) {\n    return { ERROR: `**non-serializable** (${err})` };\n  }\n}\n\n/** JSDoc */\nfunction normalizeToSize(\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  object,\n  // Default Node.js REPL depth\n  depth = 3,\n  // 100kB, as 200kB is max payload size, so half sounds reasonable\n  maxSize = 100 * 1024,\n) {\n  const normalized = normalize(object, depth);\n\n  if (jsonSize(normalized) > maxSize) {\n    return normalizeToSize(object, depth - 1, maxSize);\n  }\n\n  return normalized ;\n}\n\n/**\n * Visits a node to perform normalization on it\n *\n * @param key The key corresponding to the given node\n * @param value The node to be visited\n * @param depth Optional number indicating the maximum recursion depth\n * @param maxProperties Optional maximum number of properties/elements included in any single object/array\n * @param memo Optional Memo class handling decycling\n */\nfunction visit(\n  key,\n  value,\n  depth = +Infinity,\n  maxProperties = +Infinity,\n  memo = memoBuilder(),\n) {\n  const [memoize, unmemoize] = memo;\n\n  // Get the simple cases out of the way first\n  if (value === null || (['number', 'boolean', 'string'].includes(typeof value) && !isNaN(value))) {\n    return value ;\n  }\n\n  const stringified = stringifyValue(key, value);\n\n  // Anything we could potentially dig into more (objects or arrays) will have come back as `\"[object XXXX]\"`.\n  // Everything else will have already been serialized, so if we don't see that pattern, we're done.\n  if (!stringified.startsWith('[object ')) {\n    return stringified;\n  }\n\n  // From here on, we can assert that `value` is either an object or an array.\n\n  // Do not normalize objects that we know have already been normalized. As a general rule, the\n  // \"__sentry_skip_normalization__\" property should only be used sparingly and only should only be set on objects that\n  // have already been normalized.\n  if ((value )['__sentry_skip_normalization__']) {\n    return value ;\n  }\n\n  // We're also done if we've reached the max depth\n  if (depth === 0) {\n    // At this point we know `serialized` is a string of the form `\"[object XXXX]\"`. Clean it up so it's just `\"[XXXX]\"`.\n    return stringified.replace('object ', '');\n  }\n\n  // If we've already visited this branch, bail out, as it's circular reference. If not, note that we're seeing it now.\n  if (memoize(value)) {\n    return '[Circular ~]';\n  }\n\n  // If the value has a `toJSON` method, we call it to extract more information\n  const valueWithToJSON = value ;\n  if (valueWithToJSON && typeof valueWithToJSON.toJSON === 'function') {\n    try {\n      const jsonValue = valueWithToJSON.toJSON();\n      // We need to normalize the return value of `.toJSON()` in case it has circular references\n      return visit('', jsonValue, depth - 1, maxProperties, memo);\n    } catch (err) {\n      // pass (The built-in `toJSON` failed, but we can still try to do it ourselves)\n    }\n  }\n\n  // At this point we know we either have an object or an array, we haven't seen it before, and we're going to recurse\n  // because we haven't yet reached the max depth. Create an accumulator to hold the results of visiting each\n  // property/entry, and keep track of the number of items we add to it.\n  const normalized = (Array.isArray(value) ? [] : {}) ;\n  let numAdded = 0;\n\n  // Before we begin, convert`Error` and`Event` instances into plain objects, since some of each of their relevant\n  // properties are non-enumerable and otherwise would get missed.\n  const visitable = convertToPlainObject(value );\n\n  for (const visitKey in visitable) {\n    // Avoid iterating over fields in the prototype if they've somehow been exposed to enumeration.\n    if (!Object.prototype.hasOwnProperty.call(visitable, visitKey)) {\n      continue;\n    }\n\n    if (numAdded >= maxProperties) {\n      normalized[visitKey] = '[MaxProperties ~]';\n      break;\n    }\n\n    // Recursively visit all the child nodes\n    const visitValue = visitable[visitKey];\n    normalized[visitKey] = visit(visitKey, visitValue, depth - 1, maxProperties, memo);\n\n    numAdded += 1;\n  }\n\n  // Once we've visited all the branches, remove the parent from memo storage\n  unmemoize(value);\n\n  // Return accumulated values\n  return normalized;\n}\n\n/**\n * Stringify the given value. Handles various known special values and types.\n *\n * Not meant to be used on simple primitives which already have a string representation, as it will, for example, turn\n * the number 1231 into \"[Object Number]\", nor on `null`, as it will throw.\n *\n * @param value The value to stringify\n * @returns A stringified representation of the given value\n */\nfunction stringifyValue(\n  key,\n  // this type is a tiny bit of a cheat, since this function does handle NaN (which is technically a number), but for\n  // our internal use, it'll do\n  value,\n) {\n  try {\n    if (key === 'domain' && value && typeof value === 'object' && (value )._events) {\n      return '[Domain]';\n    }\n\n    if (key === 'domainEmitter') {\n      return '[DomainEmitter]';\n    }\n\n    // It's safe to use `global`, `window`, and `document` here in this manner, as we are asserting using `typeof` first\n    // which won't throw if they are not present.\n\n    if (typeof global !== 'undefined' && value === global) {\n      return '[Global]';\n    }\n\n    // eslint-disable-next-line no-restricted-globals\n    if (typeof window !== 'undefined' && value === window) {\n      return '[Window]';\n    }\n\n    // eslint-disable-next-line no-restricted-globals\n    if (typeof document !== 'undefined' && value === document) {\n      return '[Document]';\n    }\n\n    // React's SyntheticEvent thingy\n    if (isSyntheticEvent(value)) {\n      return '[SyntheticEvent]';\n    }\n\n    if (typeof value === 'number' && value !== value) {\n      return '[NaN]';\n    }\n\n    // this catches `undefined` (but not `null`, which is a primitive and can be serialized on its own)\n    if (value === void 0) {\n      return '[undefined]';\n    }\n\n    if (typeof value === 'function') {\n      return `[Function: ${getFunctionName(value)}]`;\n    }\n\n    if (typeof value === 'symbol') {\n      return `[${String(value)}]`;\n    }\n\n    // stringified BigInts are indistinguishable from regular numbers, so we need to label them to avoid confusion\n    if (typeof value === 'bigint') {\n      return `[BigInt: ${String(value)}]`;\n    }\n\n    // Now that we've knocked out all the special cases and the primitives, all we have left are objects. Simply casting\n    // them to strings means that instances of classes which haven't defined their `toStringTag` will just come out as\n    // `\"[object Object]\"`. If we instead look at the constructor's name (which is the same as the name of the class),\n    // we can make sure that only plain objects come out that way.\n    return `[object ${(Object.getPrototypeOf(value) ).constructor.name}]`;\n  } catch (err) {\n    return `**non-serializable** (${err})`;\n  }\n}\n\n/** Calculates bytes size of input string */\nfunction utf8Length(value) {\n  // eslint-disable-next-line no-bitwise\n  return ~-encodeURI(value).split(/%..|./).length;\n}\n\n/** Calculates bytes size of input object */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction jsonSize(value) {\n  return utf8Length(JSON.stringify(value));\n}\n\nexport { normalize, normalizeToSize, visit as walk };\n//# sourceMappingURL=normalize.js.map\n","var isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    isCallable(NewTarget = dummy.constructor) &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","import { urlEncode, makeDsn, dsnToString } from '@sentry/utils';\n\nconst SENTRY_API_VERSION = '7';\n\n/** Returns the prefix to construct Sentry ingestion API endpoints. */\nfunction getBaseApiEndpoint(dsn) {\n  const protocol = dsn.protocol ? `${dsn.protocol}:` : '';\n  const port = dsn.port ? `:${dsn.port}` : '';\n  return `${protocol}//${dsn.host}${port}${dsn.path ? `/${dsn.path}` : ''}/api/`;\n}\n\n/** Returns the ingest API endpoint for target. */\nfunction _getIngestEndpoint(dsn) {\n  return `${getBaseApiEndpoint(dsn)}${dsn.projectId}/envelope/`;\n}\n\n/** Returns a URL-encoded string with auth config suitable for a query string. */\nfunction _encodedAuth(dsn, sdkInfo) {\n  return urlEncode({\n    // We send only the minimum set of required information. See\n    // https://github.com/getsentry/sentry-javascript/issues/2572.\n    sentry_key: dsn.publicKey,\n    sentry_version: SENTRY_API_VERSION,\n    ...(sdkInfo && { sentry_client: `${sdkInfo.name}/${sdkInfo.version}` }),\n  });\n}\n\n/**\n * Returns the envelope endpoint URL with auth in the query string.\n *\n * Sending auth as part of the query string and not as custom HTTP headers avoids CORS preflight requests.\n */\nfunction getEnvelopeEndpointWithUrlEncodedAuth(\n  dsn,\n  // TODO (v8): Remove `tunnelOrOptions` in favor of `options`, and use the substitute code below\n  // options: ClientOptions = {} as ClientOptions,\n  tunnelOrOptions = {} ,\n) {\n  // TODO (v8): Use this code instead\n  // const { tunnel, _metadata = {} } = options;\n  // return tunnel ? tunnel : `${_getIngestEndpoint(dsn)}?${_encodedAuth(dsn, _metadata.sdk)}`;\n\n  const tunnel = typeof tunnelOrOptions === 'string' ? tunnelOrOptions : tunnelOrOptions.tunnel;\n  const sdkInfo =\n    typeof tunnelOrOptions === 'string' || !tunnelOrOptions._metadata ? undefined : tunnelOrOptions._metadata.sdk;\n\n  return tunnel ? tunnel : `${_getIngestEndpoint(dsn)}?${_encodedAuth(dsn, sdkInfo)}`;\n}\n\n/** Returns the url to the report dialog endpoint. */\nfunction getReportDialogEndpoint(\n  dsnLike,\n  dialogOptions\n\n,\n) {\n  const dsn = makeDsn(dsnLike);\n  const endpoint = `${getBaseApiEndpoint(dsn)}embed/error-page/`;\n\n  let encodedOptions = `dsn=${dsnToString(dsn)}`;\n  for (const key in dialogOptions) {\n    if (key === 'dsn') {\n      continue;\n    }\n\n    if (key === 'user') {\n      const user = dialogOptions.user;\n      if (!user) {\n        continue;\n      }\n      if (user.name) {\n        encodedOptions += `&name=${encodeURIComponent(user.name)}`;\n      }\n      if (user.email) {\n        encodedOptions += `&email=${encodeURIComponent(user.email)}`;\n      }\n    } else {\n      encodedOptions += `&${encodeURIComponent(key)}=${encodeURIComponent(dialogOptions[key] )}`;\n    }\n  }\n\n  return `${endpoint}?${encodedOptions}`;\n}\n\nexport { getEnvelopeEndpointWithUrlEncodedAuth, getReportDialogEndpoint };\n//# sourceMappingURL=api.js.map\n","var prefixCounts = new Map();\nexport function makeUniqueId(prefix) {\n    var count = prefixCounts.get(prefix) || 1;\n    prefixCounts.set(prefix, count + 1);\n    return \"\".concat(prefix, \":\").concat(count, \":\").concat(Math.random().toString(36).slice(2));\n}\n//# sourceMappingURL=makeUniqueId.js.map","var fails = require('../internals/fails');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = !fails(function () {\n  var error = Error('a');\n  if (!('stack' in error)) return true;\n  // eslint-disable-next-line es-x/no-object-defineproperty -- safe\n  Object.defineProperty(error, 'stack', createPropertyDescriptor(1, 7));\n  return error.stack !== 7;\n});\n","import { __assign, __spreadArray } from \"tslib\";\nimport { print } from 'graphql';\n;\nvar defaultHttpOptions = {\n    includeQuery: true,\n    includeExtensions: false,\n};\nvar defaultHeaders = {\n    accept: '*/*',\n    'content-type': 'application/json',\n};\nvar defaultOptions = {\n    method: 'POST',\n};\nexport var fallbackHttpConfig = {\n    http: defaultHttpOptions,\n    headers: defaultHeaders,\n    options: defaultOptions,\n};\nexport var defaultPrinter = function (ast, printer) { return printer(ast); };\nexport function selectHttpOptionsAndBody(operation, fallbackConfig) {\n    var configs = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        configs[_i - 2] = arguments[_i];\n    }\n    configs.unshift(fallbackConfig);\n    return selectHttpOptionsAndBodyInternal.apply(void 0, __spreadArray([operation,\n        defaultPrinter], configs, false));\n}\nexport function selectHttpOptionsAndBodyInternal(operation, printer) {\n    var configs = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        configs[_i - 2] = arguments[_i];\n    }\n    var options = {};\n    var http = {};\n    configs.forEach(function (config) {\n        options = __assign(__assign(__assign({}, options), config.options), { headers: __assign(__assign({}, options.headers), headersToLowerCase(config.headers)) });\n        if (config.credentials) {\n            options.credentials = config.credentials;\n        }\n        http = __assign(__assign({}, http), config.http);\n    });\n    var operationName = operation.operationName, extensions = operation.extensions, variables = operation.variables, query = operation.query;\n    var body = { operationName: operationName, variables: variables };\n    if (http.includeExtensions)\n        body.extensions = extensions;\n    if (http.includeQuery)\n        body.query = printer(query, print);\n    return {\n        options: options,\n        body: body,\n    };\n}\n;\nfunction headersToLowerCase(headers) {\n    if (headers) {\n        var normalized_1 = Object.create(null);\n        Object.keys(Object(headers)).forEach(function (name) {\n            normalized_1[name.toLowerCase()] = headers[name];\n        });\n        return normalized_1;\n    }\n    return headers;\n}\n//# sourceMappingURL=selectHttpOptionsAndBody.js.map","import { __extends } from \"tslib\";\nimport { ApolloLink } from \"../core/index.js\";\nimport { createHttpLink } from \"./createHttpLink.js\";\nvar HttpLink = (function (_super) {\n    __extends(HttpLink, _super);\n    function HttpLink(options) {\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this, createHttpLink(options).request) || this;\n        _this.options = options;\n        return _this;\n    }\n    return HttpLink;\n}(ApolloLink));\nexport { HttpLink };\n//# sourceMappingURL=HttpLink.js.map","var isCallable = require('../internals/is-callable');\n\nvar $String = String;\nvar $TypeError = TypeError;\n\nmodule.exports = function (argument) {\n  if (typeof argument == 'object' || isCallable(argument)) return argument;\n  throw $TypeError(\"Can't set \" + $String(argument) + ' as a prototype');\n};\n","/* eslint-disable @typescript-eslint/no-unsafe-member-access */\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\n/**\n * Helper to decycle json objects\n */\nfunction memoBuilder() {\n  const hasWeakSet = typeof WeakSet === 'function';\n  const inner = hasWeakSet ? new WeakSet() : [];\n  function memoize(obj) {\n    if (hasWeakSet) {\n      if (inner.has(obj)) {\n        return true;\n      }\n      inner.add(obj);\n      return false;\n    }\n    // eslint-disable-next-line @typescript-eslint/prefer-for-of\n    for (let i = 0; i < inner.length; i++) {\n      const value = inner[i];\n      if (value === obj) {\n        return true;\n      }\n    }\n    inner.push(obj);\n    return false;\n  }\n\n  function unmemoize(obj) {\n    if (hasWeakSet) {\n      inner.delete(obj);\n    } else {\n      for (let i = 0; i < inner.length; i++) {\n        if (inner[i] === obj) {\n          inner.splice(i, 1);\n          break;\n        }\n      }\n    }\n  }\n  return [memoize, unmemoize];\n}\n\nexport { memoBuilder };\n//# sourceMappingURL=memo.js.map\n","module.exports = {\n  IndexSizeError: { s: 'INDEX_SIZE_ERR', c: 1, m: 1 },\n  DOMStringSizeError: { s: 'DOMSTRING_SIZE_ERR', c: 2, m: 0 },\n  HierarchyRequestError: { s: 'HIERARCHY_REQUEST_ERR', c: 3, m: 1 },\n  WrongDocumentError: { s: 'WRONG_DOCUMENT_ERR', c: 4, m: 1 },\n  InvalidCharacterError: { s: 'INVALID_CHARACTER_ERR', c: 5, m: 1 },\n  NoDataAllowedError: { s: 'NO_DATA_ALLOWED_ERR', c: 6, m: 0 },\n  NoModificationAllowedError: { s: 'NO_MODIFICATION_ALLOWED_ERR', c: 7, m: 1 },\n  NotFoundError: { s: 'NOT_FOUND_ERR', c: 8, m: 1 },\n  NotSupportedError: { s: 'NOT_SUPPORTED_ERR', c: 9, m: 1 },\n  InUseAttributeError: { s: 'INUSE_ATTRIBUTE_ERR', c: 10, m: 1 },\n  InvalidStateError: { s: 'INVALID_STATE_ERR', c: 11, m: 1 },\n  SyntaxError: { s: 'SYNTAX_ERR', c: 12, m: 1 },\n  InvalidModificationError: { s: 'INVALID_MODIFICATION_ERR', c: 13, m: 1 },\n  NamespaceError: { s: 'NAMESPACE_ERR', c: 14, m: 1 },\n  InvalidAccessError: { s: 'INVALID_ACCESS_ERR', c: 15, m: 1 },\n  ValidationError: { s: 'VALIDATION_ERR', c: 16, m: 0 },\n  TypeMismatchError: { s: 'TYPE_MISMATCH_ERR', c: 17, m: 1 },\n  SecurityError: { s: 'SECURITY_ERR', c: 18, m: 1 },\n  NetworkError: { s: 'NETWORK_ERR', c: 19, m: 1 },\n  AbortError: { s: 'ABORT_ERR', c: 20, m: 1 },\n  URLMismatchError: { s: 'URL_MISMATCH_ERR', c: 21, m: 1 },\n  QuotaExceededError: { s: 'QUOTA_EXCEEDED_ERR', c: 22, m: 1 },\n  TimeoutError: { s: 'TIMEOUT_ERR', c: 23, m: 1 },\n  InvalidNodeTypeError: { s: 'INVALID_NODE_TYPE_ERR', c: 24, m: 1 },\n  DataCloneError: { s: 'DATA_CLONE_ERR', c: 25, m: 1 }\n};\n","export function getDevtoolsGlobalHook() {\n    return getTarget().__VUE_DEVTOOLS_GLOBAL_HOOK__;\n}\nexport function getTarget() {\n    // @ts-ignore\n    return (typeof navigator !== 'undefined' && typeof window !== 'undefined')\n        ? window\n        : typeof global !== 'undefined'\n            ? global\n            : {};\n}\nexport const isProxyAvailable = typeof Proxy === 'function';\n","import { getLocation } from './location.mjs';\n\n/**\n * Render a helpful description of the location in the GraphQL Source document.\n */\nexport function printLocation(location) {\n  return printSourceLocation(\n    location.source,\n    getLocation(location.source, location.start),\n  );\n}\n/**\n * Render a helpful description of the location in the GraphQL Source document.\n */\n\nexport function printSourceLocation(source, sourceLocation) {\n  const firstLineColumnOffset = source.locationOffset.column - 1;\n  const body = ''.padStart(firstLineColumnOffset) + source.body;\n  const lineIndex = sourceLocation.line - 1;\n  const lineOffset = source.locationOffset.line - 1;\n  const lineNum = sourceLocation.line + lineOffset;\n  const columnOffset = sourceLocation.line === 1 ? firstLineColumnOffset : 0;\n  const columnNum = sourceLocation.column + columnOffset;\n  const locationStr = `${source.name}:${lineNum}:${columnNum}\\n`;\n  const lines = body.split(/\\r\\n|[\\n\\r]/g);\n  const locationLine = lines[lineIndex]; // Special case for minified documents\n\n  if (locationLine.length > 120) {\n    const subLineIndex = Math.floor(columnNum / 80);\n    const subLineColumnNum = columnNum % 80;\n    const subLines = [];\n\n    for (let i = 0; i < locationLine.length; i += 80) {\n      subLines.push(locationLine.slice(i, i + 80));\n    }\n\n    return (\n      locationStr +\n      printPrefixedLines([\n        [`${lineNum} |`, subLines[0]],\n        ...subLines.slice(1, subLineIndex + 1).map((subLine) => ['|', subLine]),\n        ['|', '^'.padStart(subLineColumnNum)],\n        ['|', subLines[subLineIndex + 1]],\n      ])\n    );\n  }\n\n  return (\n    locationStr +\n    printPrefixedLines([\n      // Lines specified like this: [\"prefix\", \"string\"],\n      [`${lineNum - 1} |`, lines[lineIndex - 1]],\n      [`${lineNum} |`, locationLine],\n      ['|', '^'.padStart(columnNum)],\n      [`${lineNum + 1} |`, lines[lineIndex + 1]],\n    ])\n  );\n}\n\nfunction printPrefixedLines(lines) {\n  const existingLines = lines.filter(([_, line]) => line !== undefined);\n  const padLen = Math.max(...existingLines.map(([prefix]) => prefix.length));\n  return existingLines\n    .map(([prefix, line]) => prefix.padStart(padLen) + (line ? ' ' + line : ''))\n    .join('\\n');\n}\n","import { __assign, __spreadArray } from \"tslib\";\nimport { isNonNullObject } from \"./objects.js\";\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nexport function mergeDeep() {\n    var sources = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        sources[_i] = arguments[_i];\n    }\n    return mergeDeepArray(sources);\n}\nexport function mergeDeepArray(sources) {\n    var target = sources[0] || {};\n    var count = sources.length;\n    if (count > 1) {\n        var merger = new DeepMerger();\n        for (var i = 1; i < count; ++i) {\n            target = merger.merge(target, sources[i]);\n        }\n    }\n    return target;\n}\nvar defaultReconciler = function (target, source, property) {\n    return this.merge(target[property], source[property]);\n};\nvar DeepMerger = (function () {\n    function DeepMerger(reconciler) {\n        if (reconciler === void 0) { reconciler = defaultReconciler; }\n        this.reconciler = reconciler;\n        this.isObject = isNonNullObject;\n        this.pastCopies = new Set();\n    }\n    DeepMerger.prototype.merge = function (target, source) {\n        var _this = this;\n        var context = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            context[_i - 2] = arguments[_i];\n        }\n        if (isNonNullObject(source) && isNonNullObject(target)) {\n            Object.keys(source).forEach(function (sourceKey) {\n                if (hasOwnProperty.call(target, sourceKey)) {\n                    var targetValue = target[sourceKey];\n                    if (source[sourceKey] !== targetValue) {\n                        var result = _this.reconciler.apply(_this, __spreadArray([target, source, sourceKey], context, false));\n                        if (result !== targetValue) {\n                            target = _this.shallowCopyForMerge(target);\n                            target[sourceKey] = result;\n                        }\n                    }\n                }\n                else {\n                    target = _this.shallowCopyForMerge(target);\n                    target[sourceKey] = source[sourceKey];\n                }\n            });\n            return target;\n        }\n        return source;\n    };\n    DeepMerger.prototype.shallowCopyForMerge = function (value) {\n        if (isNonNullObject(value)) {\n            if (!this.pastCopies.has(value)) {\n                if (Array.isArray(value)) {\n                    value = value.slice(0);\n                }\n                else {\n                    value = __assign({ __proto__: Object.getPrototypeOf(value) }, value);\n                }\n                this.pastCopies.add(value);\n            }\n        }\n        return value;\n    };\n    return DeepMerger;\n}());\nexport { DeepMerger };\n//# sourceMappingURL=mergeDeep.js.map","/**\n * ```\n * WhiteSpace ::\n *   - \"Horizontal Tab (U+0009)\"\n *   - \"Space (U+0020)\"\n * ```\n * @internal\n */\nexport function isWhiteSpace(code) {\n  return code === 0x0009 || code === 0x0020;\n}\n/**\n * ```\n * Digit :: one of\n *   - `0` `1` `2` `3` `4` `5` `6` `7` `8` `9`\n * ```\n * @internal\n */\n\nexport function isDigit(code) {\n  return code >= 0x0030 && code <= 0x0039;\n}\n/**\n * ```\n * Letter :: one of\n *   - `A` `B` `C` `D` `E` `F` `G` `H` `I` `J` `K` `L` `M`\n *   - `N` `O` `P` `Q` `R` `S` `T` `U` `V` `W` `X` `Y` `Z`\n *   - `a` `b` `c` `d` `e` `f` `g` `h` `i` `j` `k` `l` `m`\n *   - `n` `o` `p` `q` `r` `s` `t` `u` `v` `w` `x` `y` `z`\n * ```\n * @internal\n */\n\nexport function isLetter(code) {\n  return (\n    (code >= 0x0061 && code <= 0x007a) || // A-Z\n    (code >= 0x0041 && code <= 0x005a) // a-z\n  );\n}\n/**\n * ```\n * NameStart ::\n *   - Letter\n *   - `_`\n * ```\n * @internal\n */\n\nexport function isNameStart(code) {\n  return isLetter(code) || code === 0x005f;\n}\n/**\n * ```\n * NameContinue ::\n *   - Letter\n *   - Digit\n *   - `_`\n * ```\n * @internal\n */\n\nexport function isNameContinue(code) {\n  return isLetter(code) || isDigit(code) || code === 0x005f;\n}\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar hasOwn = require('../internals/has-own-property');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar push = uncurryThis([].push);\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !hasOwn(hiddenKeys, key) && hasOwn(O, key) && push(result, key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (hasOwn(O, key = names[i++])) {\n    ~indexOf(result, key) || push(result, key);\n  }\n  return result;\n};\n","var toString = Object.prototype.toString;\nexport function cloneDeep(value) {\n    return cloneDeepHelper(value);\n}\nfunction cloneDeepHelper(val, seen) {\n    switch (toString.call(val)) {\n        case \"[object Array]\": {\n            seen = seen || new Map;\n            if (seen.has(val))\n                return seen.get(val);\n            var copy_1 = val.slice(0);\n            seen.set(val, copy_1);\n            copy_1.forEach(function (child, i) {\n                copy_1[i] = cloneDeepHelper(child, seen);\n            });\n            return copy_1;\n        }\n        case \"[object Object]\": {\n            seen = seen || new Map;\n            if (seen.has(val))\n                return seen.get(val);\n            var copy_2 = Object.create(Object.getPrototypeOf(val));\n            seen.set(val, copy_2);\n            Object.keys(val).forEach(function (key) {\n                copy_2[key] = cloneDeepHelper(val[key], seen);\n            });\n            return copy_2;\n        }\n        default:\n            return val;\n    }\n}\n//# sourceMappingURL=cloneDeep.js.map","var isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\n// `InstallErrorCause` abstract operation\n// https://tc39.es/proposal-error-cause/#sec-errorobjects-install-error-cause\nmodule.exports = function (O, options) {\n  if (isObject(options) && 'cause' in options) {\n    createNonEnumerableProperty(O, 'cause', options.cause);\n  }\n};\n","import { createTransport } from '@sentry/core';\nimport { SyncPromise } from '@sentry/utils';\n\n/**\n * The DONE ready state for XmlHttpRequest\n *\n * Defining it here as a constant b/c XMLHttpRequest.DONE is not always defined\n * (e.g. during testing, it is `undefined`)\n *\n * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/readyState}\n */\nconst XHR_READYSTATE_DONE = 4;\n\n/**\n * Creates a Transport that uses the XMLHttpRequest API to send events to Sentry.\n */\nfunction makeXHRTransport(options) {\n  function makeRequest(request) {\n    return new SyncPromise((resolve, reject) => {\n      const xhr = new XMLHttpRequest();\n\n      xhr.onerror = reject;\n\n      xhr.onreadystatechange = () => {\n        if (xhr.readyState === XHR_READYSTATE_DONE) {\n          resolve({\n            statusCode: xhr.status,\n            headers: {\n              'x-sentry-rate-limits': xhr.getResponseHeader('X-Sentry-Rate-Limits'),\n              'retry-after': xhr.getResponseHeader('Retry-After'),\n            },\n          });\n        }\n      };\n\n      xhr.open('POST', options.url);\n\n      for (const header in options.headers) {\n        if (Object.prototype.hasOwnProperty.call(options.headers, header)) {\n          xhr.setRequestHeader(header, options.headers[header]);\n        }\n      }\n\n      xhr.send(request.body);\n    });\n  }\n\n  return createTransport(options, makeRequest);\n}\n\nexport { makeXHRTransport };\n//# sourceMappingURL=xhr.js.map\n","import { isInstanceOf, isString } from './is.js';\nimport { logger, CONSOLE_LEVELS } from './logger.js';\nimport { fill } from './object.js';\nimport { getFunctionName } from './stacktrace.js';\nimport { supportsNativeFetch, supportsHistory } from './supports.js';\nimport { getGlobalObject } from './worldwide.js';\n\n// eslint-disable-next-line deprecation/deprecation\nconst WINDOW = getGlobalObject();\n\n/**\n * Instrument native APIs to call handlers that can be used to create breadcrumbs, APM spans etc.\n *  - Console API\n *  - Fetch API\n *  - XHR API\n *  - History API\n *  - DOM API (click/typing)\n *  - Error API\n *  - UnhandledRejection API\n */\n\nconst handlers = {};\nconst instrumented = {};\n\n/** Instruments given API */\nfunction instrument(type) {\n  if (instrumented[type]) {\n    return;\n  }\n\n  instrumented[type] = true;\n\n  switch (type) {\n    case 'console':\n      instrumentConsole();\n      break;\n    case 'dom':\n      instrumentDOM();\n      break;\n    case 'xhr':\n      instrumentXHR();\n      break;\n    case 'fetch':\n      instrumentFetch();\n      break;\n    case 'history':\n      instrumentHistory();\n      break;\n    case 'error':\n      instrumentError();\n      break;\n    case 'unhandledrejection':\n      instrumentUnhandledRejection();\n      break;\n    default:\n      (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.warn('unknown instrumentation type:', type);\n      return;\n  }\n}\n\n/**\n * Add handler that will be called when given type of instrumentation triggers.\n * Use at your own risk, this might break without changelog notice, only used internally.\n * @hidden\n */\nfunction addInstrumentationHandler(type, callback) {\n  handlers[type] = handlers[type] || [];\n  (handlers[type] ).push(callback);\n  instrument(type);\n}\n\n/** JSDoc */\nfunction triggerHandlers(type, data) {\n  if (!type || !handlers[type]) {\n    return;\n  }\n\n  for (const handler of handlers[type] || []) {\n    try {\n      handler(data);\n    } catch (e) {\n      (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) &&\n        logger.error(\n          `Error while triggering instrumentation handler.\\nType: ${type}\\nName: ${getFunctionName(handler)}\\nError:`,\n          e,\n        );\n    }\n  }\n}\n\n/** JSDoc */\nfunction instrumentConsole() {\n  if (!('console' in WINDOW)) {\n    return;\n  }\n\n  CONSOLE_LEVELS.forEach(function (level) {\n    if (!(level in WINDOW.console)) {\n      return;\n    }\n\n    fill(WINDOW.console, level, function (originalConsoleMethod) {\n      return function (...args) {\n        triggerHandlers('console', { args, level });\n\n        // this fails for some browsers. :(\n        if (originalConsoleMethod) {\n          originalConsoleMethod.apply(WINDOW.console, args);\n        }\n      };\n    });\n  });\n}\n\n/** JSDoc */\nfunction instrumentFetch() {\n  if (!supportsNativeFetch()) {\n    return;\n  }\n\n  fill(WINDOW, 'fetch', function (originalFetch) {\n    return function (...args) {\n      const handlerData = {\n        args,\n        fetchData: {\n          method: getFetchMethod(args),\n          url: getFetchUrl(args),\n        },\n        startTimestamp: Date.now(),\n      };\n\n      triggerHandlers('fetch', {\n        ...handlerData,\n      });\n\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n      return originalFetch.apply(WINDOW, args).then(\n        (response) => {\n          triggerHandlers('fetch', {\n            ...handlerData,\n            endTimestamp: Date.now(),\n            response,\n          });\n          return response;\n        },\n        (error) => {\n          triggerHandlers('fetch', {\n            ...handlerData,\n            endTimestamp: Date.now(),\n            error,\n          });\n          // NOTE: If you are a Sentry user, and you are seeing this stack frame,\n          //       it means the sentry.javascript SDK caught an error invoking your application code.\n          //       This is expected behavior and NOT indicative of a bug with sentry.javascript.\n          throw error;\n        },\n      );\n    };\n  });\n}\n\n/* eslint-disable @typescript-eslint/no-unsafe-member-access */\n/** Extract `method` from fetch call arguments */\nfunction getFetchMethod(fetchArgs = []) {\n  if ('Request' in WINDOW && isInstanceOf(fetchArgs[0], Request) && fetchArgs[0].method) {\n    return String(fetchArgs[0].method).toUpperCase();\n  }\n  if (fetchArgs[1] && fetchArgs[1].method) {\n    return String(fetchArgs[1].method).toUpperCase();\n  }\n  return 'GET';\n}\n\n/** Extract `url` from fetch call arguments */\nfunction getFetchUrl(fetchArgs = []) {\n  if (typeof fetchArgs[0] === 'string') {\n    return fetchArgs[0];\n  }\n  if ('Request' in WINDOW && isInstanceOf(fetchArgs[0], Request)) {\n    return fetchArgs[0].url;\n  }\n  return String(fetchArgs[0]);\n}\n/* eslint-enable @typescript-eslint/no-unsafe-member-access */\n\n/** JSDoc */\nfunction instrumentXHR() {\n  if (!('XMLHttpRequest' in WINDOW)) {\n    return;\n  }\n\n  const xhrproto = XMLHttpRequest.prototype;\n\n  fill(xhrproto, 'open', function (originalOpen) {\n    return function ( ...args) {\n      // eslint-disable-next-line @typescript-eslint/no-this-alias\n      const xhr = this;\n      const url = args[1];\n      const xhrInfo = (xhr.__sentry_xhr__ = {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n        method: isString(args[0]) ? args[0].toUpperCase() : args[0],\n        url: args[1],\n      });\n\n      // if Sentry key appears in URL, don't capture it as a request\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n      if (isString(url) && xhrInfo.method === 'POST' && url.match(/sentry_key/)) {\n        xhr.__sentry_own_request__ = true;\n      }\n\n      const onreadystatechangeHandler = function () {\n        if (xhr.readyState === 4) {\n          try {\n            // touching statusCode in some platforms throws\n            // an exception\n            xhrInfo.status_code = xhr.status;\n          } catch (e) {\n            /* do nothing */\n          }\n\n          triggerHandlers('xhr', {\n            args,\n            endTimestamp: Date.now(),\n            startTimestamp: Date.now(),\n            xhr,\n          });\n        }\n      };\n\n      if ('onreadystatechange' in xhr && typeof xhr.onreadystatechange === 'function') {\n        fill(xhr, 'onreadystatechange', function (original) {\n          return function (...readyStateArgs) {\n            onreadystatechangeHandler();\n            return original.apply(xhr, readyStateArgs);\n          };\n        });\n      } else {\n        xhr.addEventListener('readystatechange', onreadystatechangeHandler);\n      }\n\n      return originalOpen.apply(xhr, args);\n    };\n  });\n\n  fill(xhrproto, 'send', function (originalSend) {\n    return function ( ...args) {\n      if (this.__sentry_xhr__ && args[0] !== undefined) {\n        this.__sentry_xhr__.body = args[0];\n      }\n\n      triggerHandlers('xhr', {\n        args,\n        startTimestamp: Date.now(),\n        xhr: this,\n      });\n\n      return originalSend.apply(this, args);\n    };\n  });\n}\n\nlet lastHref;\n\n/** JSDoc */\nfunction instrumentHistory() {\n  if (!supportsHistory()) {\n    return;\n  }\n\n  const oldOnPopState = WINDOW.onpopstate;\n  WINDOW.onpopstate = function ( ...args) {\n    const to = WINDOW.location.href;\n    // keep track of the current URL state, as we always receive only the updated state\n    const from = lastHref;\n    lastHref = to;\n    triggerHandlers('history', {\n      from,\n      to,\n    });\n    if (oldOnPopState) {\n      // Apparently this can throw in Firefox when incorrectly implemented plugin is installed.\n      // https://github.com/getsentry/sentry-javascript/issues/3344\n      // https://github.com/bugsnag/bugsnag-js/issues/469\n      try {\n        return oldOnPopState.apply(this, args);\n      } catch (_oO) {\n        // no-empty\n      }\n    }\n  };\n\n  /** @hidden */\n  function historyReplacementFunction(originalHistoryFunction) {\n    return function ( ...args) {\n      const url = args.length > 2 ? args[2] : undefined;\n      if (url) {\n        // coerce to string (this is what pushState does)\n        const from = lastHref;\n        const to = String(url);\n        // keep track of the current URL state, as we always receive only the updated state\n        lastHref = to;\n        triggerHandlers('history', {\n          from,\n          to,\n        });\n      }\n      return originalHistoryFunction.apply(this, args);\n    };\n  }\n\n  fill(WINDOW.history, 'pushState', historyReplacementFunction);\n  fill(WINDOW.history, 'replaceState', historyReplacementFunction);\n}\n\nconst debounceDuration = 1000;\nlet debounceTimerID;\nlet lastCapturedEvent;\n\n/**\n * Decide whether the current event should finish the debounce of previously captured one.\n * @param previous previously captured event\n * @param current event to be captured\n */\nfunction shouldShortcircuitPreviousDebounce(previous, current) {\n  // If there was no previous event, it should always be swapped for the new one.\n  if (!previous) {\n    return true;\n  }\n\n  // If both events have different type, then user definitely performed two separate actions. e.g. click + keypress.\n  if (previous.type !== current.type) {\n    return true;\n  }\n\n  try {\n    // If both events have the same type, it's still possible that actions were performed on different targets.\n    // e.g. 2 clicks on different buttons.\n    if (previous.target !== current.target) {\n      return true;\n    }\n  } catch (e) {\n    // just accessing `target` property can throw an exception in some rare circumstances\n    // see: https://github.com/getsentry/sentry-javascript/issues/838\n  }\n\n  // If both events have the same type _and_ same `target` (an element which triggered an event, _not necessarily_\n  // to which an event listener was attached), we treat them as the same action, as we want to capture\n  // only one breadcrumb. e.g. multiple clicks on the same button, or typing inside a user input box.\n  return false;\n}\n\n/**\n * Decide whether an event should be captured.\n * @param event event to be captured\n */\nfunction shouldSkipDOMEvent(event) {\n  // We are only interested in filtering `keypress` events for now.\n  if (event.type !== 'keypress') {\n    return false;\n  }\n\n  try {\n    const target = event.target ;\n\n    if (!target || !target.tagName) {\n      return true;\n    }\n\n    // Only consider keypress events on actual input elements. This will disregard keypresses targeting body\n    // e.g.tabbing through elements, hotkeys, etc.\n    if (target.tagName === 'INPUT' || target.tagName === 'TEXTAREA' || target.isContentEditable) {\n      return false;\n    }\n  } catch (e) {\n    // just accessing `target` property can throw an exception in some rare circumstances\n    // see: https://github.com/getsentry/sentry-javascript/issues/838\n  }\n\n  return true;\n}\n\n/**\n * Wraps addEventListener to capture UI breadcrumbs\n * @param handler function that will be triggered\n * @param globalListener indicates whether event was captured by the global event listener\n * @returns wrapped breadcrumb events handler\n * @hidden\n */\nfunction makeDOMEventHandler(handler, globalListener = false) {\n  return (event) => {\n    // It's possible this handler might trigger multiple times for the same\n    // event (e.g. event propagation through node ancestors).\n    // Ignore if we've already captured that event.\n    if (!event || lastCapturedEvent === event) {\n      return;\n    }\n\n    // We always want to skip _some_ events.\n    if (shouldSkipDOMEvent(event)) {\n      return;\n    }\n\n    const name = event.type === 'keypress' ? 'input' : event.type;\n\n    // If there is no debounce timer, it means that we can safely capture the new event and store it for future comparisons.\n    if (debounceTimerID === undefined) {\n      handler({\n        event: event,\n        name,\n        global: globalListener,\n      });\n      lastCapturedEvent = event;\n    }\n    // If there is a debounce awaiting, see if the new event is different enough to treat it as a unique one.\n    // If that's the case, emit the previous event and store locally the newly-captured DOM event.\n    else if (shouldShortcircuitPreviousDebounce(lastCapturedEvent, event)) {\n      handler({\n        event: event,\n        name,\n        global: globalListener,\n      });\n      lastCapturedEvent = event;\n    }\n\n    // Start a new debounce timer that will prevent us from capturing multiple events that should be grouped together.\n    clearTimeout(debounceTimerID);\n    debounceTimerID = WINDOW.setTimeout(() => {\n      debounceTimerID = undefined;\n    }, debounceDuration);\n  };\n}\n\n/** JSDoc */\nfunction instrumentDOM() {\n  if (!('document' in WINDOW)) {\n    return;\n  }\n\n  // Make it so that any click or keypress that is unhandled / bubbled up all the way to the document triggers our dom\n  // handlers. (Normally we have only one, which captures a breadcrumb for each click or keypress.) Do this before\n  // we instrument `addEventListener` so that we don't end up attaching this handler twice.\n  const triggerDOMHandler = triggerHandlers.bind(null, 'dom');\n  const globalDOMEventHandler = makeDOMEventHandler(triggerDOMHandler, true);\n  WINDOW.document.addEventListener('click', globalDOMEventHandler, false);\n  WINDOW.document.addEventListener('keypress', globalDOMEventHandler, false);\n\n  // After hooking into click and keypress events bubbled up to `document`, we also hook into user-handled\n  // clicks & keypresses, by adding an event listener of our own to any element to which they add a listener. That\n  // way, whenever one of their handlers is triggered, ours will be, too. (This is needed because their handler\n  // could potentially prevent the event from bubbling up to our global listeners. This way, our handler are still\n  // guaranteed to fire at least once.)\n  ['EventTarget', 'Node'].forEach((target) => {\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n    const proto = (WINDOW )[target] && (WINDOW )[target].prototype;\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access, no-prototype-builtins\n    if (!proto || !proto.hasOwnProperty || !proto.hasOwnProperty('addEventListener')) {\n      return;\n    }\n\n    fill(proto, 'addEventListener', function (originalAddEventListener) {\n      return function (\n\n        type,\n        listener,\n        options,\n      ) {\n        if (type === 'click' || type == 'keypress') {\n          try {\n            const el = this ;\n            const handlers = (el.__sentry_instrumentation_handlers__ = el.__sentry_instrumentation_handlers__ || {});\n            const handlerForType = (handlers[type] = handlers[type] || { refCount: 0 });\n\n            if (!handlerForType.handler) {\n              const handler = makeDOMEventHandler(triggerDOMHandler);\n              handlerForType.handler = handler;\n              originalAddEventListener.call(this, type, handler, options);\n            }\n\n            handlerForType.refCount += 1;\n          } catch (e) {\n            // Accessing dom properties is always fragile.\n            // Also allows us to skip `addEventListenrs` calls with no proper `this` context.\n          }\n        }\n\n        return originalAddEventListener.call(this, type, listener, options);\n      };\n    });\n\n    fill(\n      proto,\n      'removeEventListener',\n      function (originalRemoveEventListener) {\n        return function (\n\n          type,\n          listener,\n          options,\n        ) {\n          if (type === 'click' || type == 'keypress') {\n            try {\n              const el = this ;\n              const handlers = el.__sentry_instrumentation_handlers__ || {};\n              const handlerForType = handlers[type];\n\n              if (handlerForType) {\n                handlerForType.refCount -= 1;\n                // If there are no longer any custom handlers of the current type on this element, we can remove ours, too.\n                if (handlerForType.refCount <= 0) {\n                  originalRemoveEventListener.call(this, type, handlerForType.handler, options);\n                  handlerForType.handler = undefined;\n                  delete handlers[type]; // eslint-disable-line @typescript-eslint/no-dynamic-delete\n                }\n\n                // If there are no longer any custom handlers of any type on this element, cleanup everything.\n                if (Object.keys(handlers).length === 0) {\n                  delete el.__sentry_instrumentation_handlers__;\n                }\n              }\n            } catch (e) {\n              // Accessing dom properties is always fragile.\n              // Also allows us to skip `addEventListenrs` calls with no proper `this` context.\n            }\n          }\n\n          return originalRemoveEventListener.call(this, type, listener, options);\n        };\n      },\n    );\n  });\n}\n\nlet _oldOnErrorHandler = null;\n/** JSDoc */\nfunction instrumentError() {\n  _oldOnErrorHandler = WINDOW.onerror;\n\n  WINDOW.onerror = function (msg, url, line, column, error) {\n    triggerHandlers('error', {\n      column,\n      error,\n      line,\n      msg,\n      url,\n    });\n\n    if (_oldOnErrorHandler) {\n      // eslint-disable-next-line prefer-rest-params\n      return _oldOnErrorHandler.apply(this, arguments);\n    }\n\n    return false;\n  };\n}\n\nlet _oldOnUnhandledRejectionHandler = null;\n/** JSDoc */\nfunction instrumentUnhandledRejection() {\n  _oldOnUnhandledRejectionHandler = WINDOW.onunhandledrejection;\n\n  WINDOW.onunhandledrejection = function (e) {\n    triggerHandlers('unhandledrejection', e);\n\n    if (_oldOnUnhandledRejectionHandler) {\n      // eslint-disable-next-line prefer-rest-params\n      return _oldOnUnhandledRejectionHandler.apply(this, arguments);\n    }\n\n    return true;\n  };\n}\n\nexport { addInstrumentationHandler };\n//# sourceMappingURL=instrument.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = [\n    {\n        alpha2: 'US',\n        alpha3: 'USA',\n        country_code: '1',\n        country_name: 'United States',\n        mobile_begin_with: ['201', '202', '203', '205', '206', '207', '208', '209', '210', '212', '213', '214', '215',\n            '216', '217', '218', '219', '220', '223', '224', '225', '227', '228', '229', '231', '234', '239', '240',\n            '248', '251', '252', '253', '254', '256', '260', '262', '267', '269', '270', '272', '274', '276', '278',\n            '281', '283', '301', '302', '303', '304', '305', '307', '308', '309', '310', '312', '313', '314', '315',\n            '316', '317', '318', '319', '320', '321', '323', '325', '327', '330', '331', '332', '334', '336', '337',\n            '339', '341', '346', '347', '351', '352', '360', '361', '364', '369', '380', '385', '386', '401', '402',\n            '404', '405', '406', '407', '408', '409', '410', '412', '413', '414', '415', '417', '419', '423', '424',\n            '425', '430', '432', '434', '435', '440', '441', '442', '443', '445', '447', '458', '463', '464', '469', '470', '475',\n            '478', '479', '480', '484', '501', '502', '503', '504', '505', '507', '508', '509', '510', '512', '513',\n            '515', '516', '517', '518', '520', '530', '531', '534', '539', '540', '541', '551', '557', '559', '561',\n            '562', '563', '564', '567', '570', '571', '572', '573', '574', '575', '580', '582', '585', '586', '601', '602',\n            '603', '605', '606', '607', '608', '609', '610', '612', '614', '615', '616', '617', '618', '619', '620',\n            '623', '626', '627', '628', '629', '630', '631', '636', '641', '646', '650', '651', '657', '659', '660',\n            '661', '662', '667', '669', '678', '679', '680', '681', '682', '689', '701', '702', '703', '704', '706', '707',\n            '708', '712', '713', '714', '715', '716', '717', '718', '719', '720', '724', '725', '726', '727', '730', '731',\n            '732', '734', '737', '740', '743', '747', '752', '754', '757', '760', '762', '763', '764', '765', '769', '770',\n            '772', '773', '774', '775', '779', '781', '785', '786', '787', '801', '802', '803', '804', '805', '806', '808',\n            '810', '812', '813', '814', '815', '816', '817', '818', '820', '828', '830', '831', '832', '835', '838', '840', '843', '845',\n            '847', '848', '850', '854', '856', '857', '858', '859', '860', '862', '863', '864', '865', '870', '872',\n            '878', '901', '903', '904', '906', '907', '908', '909', '910', '912', '913', '914', '915', '916', '917',\n            '918', '919', '920', '925', '927', '928', '929', '931', '934', '935', '936', '937', '938', '939', '940', '941', '945',\n            '947', '949', '951', '952', '954', '956', '957', '959', '970', '971', '972', '973', '975', '978', '979',\n            '980', '984', '985', '986', '989', '888', '800', '833', '844', '855', '866', '877', '463', '279'],\n        phone_number_lengths: [10]\n    },\n    {\n        alpha2: 'AW',\n        alpha3: 'ABW',\n        country_code: '297',\n        country_name: 'Aruba',\n        mobile_begin_with: ['5', '6', '7', '9'],\n        phone_number_lengths: [7]\n    },\n    {\n        alpha2: 'AF',\n        alpha3: 'AFG',\n        country_code: '93',\n        country_name: 'Afghanistan',\n        mobile_begin_with: ['7'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'AO',\n        alpha3: 'AGO',\n        country_code: '244',\n        country_name: 'Angola',\n        mobile_begin_with: ['9'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'AI',\n        alpha3: 'AIA',\n        country_code: '1',\n        country_name: 'Anguilla',\n        mobile_begin_with: ['2645', '2647'],\n        phone_number_lengths: [10]\n    },\n    {\n        alpha2: 'AX',\n        alpha3: 'ALA',\n        country_code: '358',\n        country_name: 'land Islands',\n        mobile_begin_with: ['18'],\n        phone_number_lengths: [6, 7, 8]\n    },\n    {\n        alpha2: 'AL',\n        alpha3: 'ALB',\n        country_code: '355',\n        country_name: 'Albania',\n        mobile_begin_with: ['6'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'AD',\n        alpha3: 'AND',\n        country_code: '376',\n        country_name: 'Andorra',\n        mobile_begin_with: ['3', '4', '6'],\n        phone_number_lengths: [6]\n    },\n    // {alpha2: \"AN\", alpha3: \"ANT\", country_code: \"599\", country_name: \"Netherlands Antilles\", mobile_begin_with: [], phone_number_lengths: []},\n    {\n        alpha2: 'AE',\n        alpha3: 'ARE',\n        country_code: '971',\n        country_name: 'United Arab Emirates',\n        mobile_begin_with: ['5'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'AR',\n        alpha3: 'ARG',\n        country_code: '54',\n        country_name: 'Argentina',\n        mobile_begin_with: ['1', '2', '3'],\n        phone_number_lengths: [8, 9, 10, 11, 12]\n    },\n    {\n        alpha2: 'AM',\n        alpha3: 'ARM',\n        country_code: '374',\n        country_name: 'Armenia',\n        mobile_begin_with: ['3', '4', '5', '7', '9'],\n        phone_number_lengths: [8]\n    },\n    // http://www.howtocallabroad.com/results.php?callfrom=united_states&callto=american_samoa\n    {\n        alpha2: 'AS',\n        alpha3: 'ASM',\n        country_code: '1',\n        country_name: 'American Samoa',\n        mobile_begin_with: ['684733', '684258'],\n        phone_number_lengths: [10]\n    },\n    // {alpha2: \"AQ\", alpha3: \"ATA\", country_code: \"672\", country_name: \"Antarctica\", mobile_begin_with: [], phone_number_lengths: []},\n    // {alpha2: \"TF\", alpha3: \"ATF\", country_code: \"\", country_name: \"French Southern Territories\", mobile_begin_with: [], phone_number_lengths: []},\n    // http://www.howtocallabroad.com/results.php?callfrom=united_states&callto=antigua_barbuda\n    {\n        alpha2: 'AG',\n        alpha3: 'ATG',\n        country_code: '1',\n        country_name: 'Antigua and Barbuda',\n        mobile_begin_with: ['2687'],\n        phone_number_lengths: [10]\n    },\n    {\n        alpha2: 'AU',\n        alpha3: 'AUS',\n        country_code: '61',\n        country_name: 'Australia',\n        mobile_begin_with: ['4'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'AT',\n        alpha3: 'AUT',\n        country_code: '43',\n        country_name: 'Austria',\n        mobile_begin_with: ['6'],\n        phone_number_lengths: [10, 11, 12, 13, 14]\n    },\n    {\n        alpha2: 'AZ',\n        alpha3: 'AZE',\n        country_code: '994',\n        country_name: 'Azerbaijan',\n        mobile_begin_with: ['4', '5', '6', '7'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'BI',\n        alpha3: 'BDI',\n        country_code: '257',\n        country_name: 'Burundi',\n        mobile_begin_with: ['7', '29'],\n        phone_number_lengths: [8]\n    },\n    {\n        alpha2: 'BE',\n        alpha3: 'BEL',\n        country_code: '32',\n        country_name: 'Belgium',\n        mobile_begin_with: ['4', '3'],\n        phone_number_lengths: [9, 8]\n    },\n    {\n        alpha2: 'BJ',\n        alpha3: 'BEN',\n        country_code: '229',\n        country_name: 'Benin',\n        mobile_begin_with: ['4', '6', '9'],\n        phone_number_lengths: [8]\n    },\n    {\n        alpha2: 'BF',\n        alpha3: 'BFA',\n        country_code: '226',\n        country_name: 'Burkina Faso',\n        mobile_begin_with: ['6', '7'],\n        phone_number_lengths: [8]\n    },\n    {\n        alpha2: 'BD',\n        alpha3: 'BGD',\n        country_code: '880',\n        country_name: 'Bangladesh',\n        mobile_begin_with: ['1'],\n        phone_number_lengths: [8, 9, 10]\n    },\n    {\n        alpha2: 'BG',\n        alpha3: 'BGR',\n        country_code: '359',\n        country_name: 'Bulgaria',\n        mobile_begin_with: ['87', '88', '89', '98', '99', '43'],\n        phone_number_lengths: [8, 9]\n    },\n    {\n        alpha2: 'BH',\n        alpha3: 'BHR',\n        country_code: '973',\n        country_name: 'Bahrain',\n        mobile_begin_with: ['3'],\n        phone_number_lengths: [8]\n    },\n    {\n        alpha2: 'BS',\n        alpha3: 'BHS',\n        country_code: '1',\n        country_name: 'Bahamas',\n        mobile_begin_with: ['242'],\n        phone_number_lengths: [10]\n    },\n    {\n        alpha2: 'BA',\n        alpha3: 'BIH',\n        country_code: '387',\n        country_name: 'Bosnia and Herzegovina',\n        mobile_begin_with: ['6'],\n        phone_number_lengths: [8]\n    },\n    // {alpha2: \"BL\", alpha3: \"BLM\", country_code: \"590\", country_name: \"Saint Barthlemy\", mobile_begin_with: [], phone_number_lengths: []},\n    {\n        alpha2: 'BY',\n        alpha3: 'BLR',\n        country_code: '375',\n        country_name: 'Belarus',\n        mobile_begin_with: ['25', '29', '33', '44'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'BZ',\n        alpha3: 'BLZ',\n        country_code: '501',\n        country_name: 'Belize',\n        mobile_begin_with: ['6'],\n        phone_number_lengths: [7]\n    },\n    // http://www.howtocallabroad.com/results.php?callfrom=united_states&callto=bermuda\n    {\n        alpha2: 'BM',\n        alpha3: 'BMU',\n        country_code: '1',\n        country_name: 'Bermuda',\n        mobile_begin_with: ['4413', '4415', '4417'],\n        phone_number_lengths: [10]\n    },\n    {\n        alpha2: 'BO',\n        alpha3: 'BOL',\n        country_code: '591',\n        country_name: 'Bolivia',\n        mobile_begin_with: ['6', '7'],\n        phone_number_lengths: [8]\n    },\n    {\n        alpha2: 'BR',\n        alpha3: 'BRA',\n        country_code: '55',\n        country_name: 'Brazil',\n        mobile_begin_with: [\n            '119', '129', '139', '149', '159', '169', '179', '189', '199', '219', '229', '249', '279', '289',\n            '319', '329', '339', '349', '359', '379', '389',\n            '419', '429', '439', '449', '459', '469', '479', '489', '499',\n            '519', '539', '549', '559',\n            '619', '629', '639', '649', '659', '669', '679', '689', '699',\n            '719', '739', '749', '759', '779', '799',\n            '819', '829', '839', '849', '859', '869', '879', '889', '899',\n            '919', '929', '939', '949', '959', '969', '979', '989', '999',\n        ],\n        phone_number_lengths: [10, 11]\n    },\n    {\n        alpha2: 'BB',\n        alpha3: 'BRB',\n        country_code: '1',\n        country_name: 'Barbados',\n        mobile_begin_with: ['246'],\n        phone_number_lengths: [10]\n    },\n    {\n        alpha2: 'BN',\n        alpha3: 'BRN',\n        country_code: '673',\n        country_name: 'Brunei Darussalam',\n        mobile_begin_with: ['7', '8'],\n        phone_number_lengths: [7]\n    },\n    {\n        alpha2: 'BT',\n        alpha3: 'BTN',\n        country_code: '975',\n        country_name: 'Bhutan',\n        mobile_begin_with: ['17'],\n        phone_number_lengths: [8]\n    },\n    // {alpha2: \"BV\", alpha3: \"BVT\", country_code: \"\", country_name: \"Bouvet Island\", mobile_begin_with: [], phone_number_lengths: []},\n    {\n        alpha2: 'BW',\n        alpha3: 'BWA',\n        country_code: '267',\n        country_name: 'Botswana',\n        mobile_begin_with: ['71', '72', '73', '74', '75', '76'],\n        phone_number_lengths: [8]\n    },\n    {\n        alpha2: 'CF',\n        alpha3: 'CAF',\n        country_code: '236',\n        country_name: 'Central African Republic',\n        mobile_begin_with: ['7'],\n        phone_number_lengths: [8]\n    },\n    // http://www.howtocallabroad.com/canada/\n    // http://areacode.org/\n    // http://countrycode.org/canada\n    {\n        alpha2: 'CA',\n        alpha3: 'CAN',\n        country_code: '1',\n        country_name: 'Canada',\n        mobile_begin_with: ['204', '226', '236', '249', '250', '289', '306', '343', '365', '367', '403', '416', '418', '431',\n            '437', '438', '450', '506', '514', '519', '548', '579', '581', '587', '600', '604', '613', '639', '647', '672', '705',\n            '709', '778', '780', '807', '819', '825', '867', '873', '902', '905'],\n        phone_number_lengths: [10]\n    },\n    // {alpha2: \"CC\", alpha3: \"CCK\", country_code: \"61\", country_name: \"Cocos (Keeling) Islands\", mobile_begin_with: [], phone_number_lengths: []},\n    {\n        alpha2: 'CH',\n        alpha3: 'CHE',\n        country_code: '41',\n        country_name: 'Switzerland',\n        mobile_begin_with: ['74', '75', '76', '77', '78', '79'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'CL',\n        alpha3: 'CHL',\n        country_code: '56',\n        country_name: 'Chile',\n        mobile_begin_with: ['9'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'CN',\n        alpha3: 'CHN',\n        country_code: '86',\n        country_name: 'China',\n        mobile_begin_with: ['13', '14', '15', '17', '18', '19', '16'],\n        phone_number_lengths: [11]\n    },\n    {\n        alpha2: 'CI',\n        alpha3: 'CIV',\n        country_code: '225',\n        country_name: \"Cte D'Ivoire\",\n        mobile_begin_with: ['0', '4', '5', '6', '7', '8'],\n        phone_number_lengths: [10]\n    },\n    {\n        alpha2: 'CM',\n        alpha3: 'CMR',\n        country_code: '237',\n        country_name: 'Cameroon',\n        mobile_begin_with: ['6'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'CD',\n        alpha3: 'COD',\n        country_code: '243',\n        country_name: 'Congo, The Democratic Republic Of The',\n        mobile_begin_with: ['8', '9'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'CG',\n        alpha3: 'COG',\n        country_code: '242',\n        country_name: 'Congo',\n        mobile_begin_with: ['0'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'CK',\n        alpha3: 'COK',\n        country_code: '682',\n        country_name: 'Cook Islands',\n        mobile_begin_with: ['5', '7'],\n        phone_number_lengths: [5]\n    },\n    {\n        alpha2: 'CO',\n        alpha3: 'COL',\n        country_code: '57',\n        country_name: 'Colombia',\n        mobile_begin_with: ['3'],\n        phone_number_lengths: [10]\n    },\n    {\n        alpha2: 'KM',\n        alpha3: 'COM',\n        country_code: '269',\n        country_name: 'Comoros',\n        mobile_begin_with: ['3', '76'],\n        phone_number_lengths: [7]\n    },\n    {\n        alpha2: 'CV',\n        alpha3: 'CPV',\n        country_code: '238',\n        country_name: 'Cape Verde',\n        mobile_begin_with: ['5', '9'],\n        phone_number_lengths: [7]\n    },\n    {\n        alpha2: 'CR',\n        alpha3: 'CRI',\n        country_code: '506',\n        country_name: 'Costa Rica',\n        mobile_begin_with: ['5', '6', '7', '8'],\n        phone_number_lengths: [8]\n    },\n    {\n        alpha2: 'CU',\n        alpha3: 'CUB',\n        country_code: '53',\n        country_name: 'Cuba',\n        mobile_begin_with: ['5'],\n        phone_number_lengths: [8]\n    },\n    // {alpha2: \"CX\", alpha3: \"CXR\", country_code: \"61\", country_name: \"Christmas Island\", mobile_begin_with: [], phone_number_lengths: []},\n    {\n        alpha2: 'KY',\n        alpha3: 'CYM',\n        country_code: '1',\n        country_name: 'Cayman Islands',\n        mobile_begin_with: ['345'],\n        phone_number_lengths: [10]\n    },\n    {\n        alpha2: 'CY',\n        alpha3: 'CYP',\n        country_code: '357',\n        country_name: 'Cyprus',\n        mobile_begin_with: ['9'],\n        phone_number_lengths: [8]\n    },\n    {\n        alpha2: 'CZ',\n        alpha3: 'CZE',\n        country_code: '420',\n        country_name: 'Czech Republic',\n        mobile_begin_with: ['6', '7'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'DE',\n        alpha3: 'DEU',\n        country_code: '49',\n        country_name: 'Germany',\n        mobile_begin_with: ['15', '16', '17'],\n        phone_number_lengths: [10, 11]\n    },\n    {\n        alpha2: 'DJ',\n        alpha3: 'DJI',\n        country_code: '253',\n        country_name: 'Djibouti',\n        mobile_begin_with: ['77'],\n        phone_number_lengths: [8]\n    },\n    {\n        alpha2: 'DM',\n        alpha3: 'DMA',\n        country_code: '1',\n        country_name: 'Dominica',\n        mobile_begin_with: ['767'],\n        phone_number_lengths: [10]\n    },\n    {\n        alpha2: 'DK',\n        alpha3: 'DNK',\n        country_code: '45',\n        country_name: 'Denmark',\n        mobile_begin_with: ['2', '30', '31', '40', '41', '42', '50', '51', '52', '53', '60', '61', '71', '81', '91', '92', '93'],\n        phone_number_lengths: [8]\n    },\n    {\n        alpha2: 'DO',\n        alpha3: 'DOM',\n        country_code: '1',\n        country_name: 'Dominican Republic',\n        mobile_begin_with: ['809', '829', '849'],\n        phone_number_lengths: [10]\n    },\n    {\n        alpha2: 'DZ',\n        alpha3: 'DZA',\n        country_code: '213',\n        country_name: 'Algeria',\n        mobile_begin_with: ['5', '6', '7'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'EC',\n        alpha3: 'ECU',\n        country_code: '593',\n        country_name: 'Ecuador',\n        mobile_begin_with: ['9'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'EG',\n        alpha3: 'EGY',\n        country_code: '20',\n        country_name: 'Egypt',\n        mobile_begin_with: ['1'],\n        phone_number_lengths: [10, 8]\n    },\n    {\n        alpha2: 'ER',\n        alpha3: 'ERI',\n        country_code: '291',\n        country_name: 'Eritrea',\n        mobile_begin_with: ['1', '7', '8'],\n        phone_number_lengths: [7]\n    },\n    // {alpha2: \"EH\", alpha3: \"ESH\", country_code: \"212\", country_name: \"Western Sahara\", mobile_begin_with: [], phone_number_lengths: []},\n    {\n        alpha2: 'ES',\n        alpha3: 'ESP',\n        country_code: '34',\n        country_name: 'Spain',\n        mobile_begin_with: ['6', '7'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'EE',\n        alpha3: 'EST',\n        country_code: '372',\n        country_name: 'Estonia',\n        mobile_begin_with: ['5', '81', '82', '83'],\n        phone_number_lengths: [7, 8]\n    },\n    {\n        alpha2: 'ET',\n        alpha3: 'ETH',\n        country_code: '251',\n        country_name: 'Ethiopia',\n        mobile_begin_with: ['9'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'FI',\n        alpha3: 'FIN',\n        country_code: '358',\n        country_name: 'Finland',\n        mobile_begin_with: ['4', '5'],\n        phone_number_lengths: [9, 10]\n    },\n    {\n        alpha2: 'FJ',\n        alpha3: 'FJI',\n        country_code: '679',\n        country_name: 'Fiji',\n        mobile_begin_with: ['7', '9'],\n        phone_number_lengths: [7]\n    },\n    {\n        alpha2: 'FK',\n        alpha3: 'FLK',\n        country_code: '500',\n        country_name: 'Falkland Islands (Malvinas)',\n        mobile_begin_with: ['5', '6'],\n        phone_number_lengths: [5]\n    },\n    {\n        alpha2: 'FR',\n        alpha3: 'FRA',\n        country_code: '33',\n        country_name: 'France',\n        mobile_begin_with: ['6', '7'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'FO',\n        alpha3: 'FRO',\n        country_code: '298',\n        country_name: 'Faroe Islands',\n        mobile_begin_with: [],\n        phone_number_lengths: [6]\n    },\n    {\n        alpha2: 'FM',\n        alpha3: 'FSM',\n        country_code: '691',\n        country_name: 'Micronesia, Federated States Of',\n        mobile_begin_with: [],\n        phone_number_lengths: [7]\n    },\n    {\n        alpha2: 'GA',\n        alpha3: 'GAB',\n        country_code: '241',\n        country_name: 'Gabon',\n        mobile_begin_with: ['2', '3', '4', '5', '6', '7'],\n        phone_number_lengths: [7]\n    },\n    {\n        alpha2: 'GB',\n        alpha3: 'GBR',\n        country_code: '44',\n        country_name: 'United Kingdom',\n        mobile_begin_with: ['7'],\n        phone_number_lengths: [10]\n    },\n    {\n        alpha2: 'GE',\n        alpha3: 'GEO',\n        country_code: '995',\n        country_name: 'Georgia',\n        mobile_begin_with: ['5', '7'],\n        phone_number_lengths: [9]\n    },\n    // {alpha2: \"GG\", alpha3: \"GGY\", country_code: \"44\", country_name: \"Guernsey\", mobile_begin_with: [], phone_number_lengths: []},\n    {\n        alpha2: 'GH',\n        alpha3: 'GHA',\n        country_code: '233',\n        country_name: 'Ghana',\n        mobile_begin_with: ['2', '5'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'GI',\n        alpha3: 'GIB',\n        country_code: '350',\n        country_name: 'Gibraltar',\n        mobile_begin_with: ['5'],\n        phone_number_lengths: [8]\n    },\n    {\n        alpha2: 'GN',\n        alpha3: 'GIN',\n        country_code: '224',\n        country_name: 'Guinea',\n        mobile_begin_with: ['6'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'GP',\n        alpha3: 'GLP',\n        country_code: '590',\n        country_name: 'Guadeloupe',\n        mobile_begin_with: ['690'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'GM',\n        alpha3: 'GMB',\n        country_code: '220',\n        country_name: 'Gambia',\n        mobile_begin_with: ['7', '9'],\n        phone_number_lengths: [7]\n    },\n    {\n        alpha2: 'GW',\n        alpha3: 'GNB',\n        country_code: '245',\n        country_name: 'Guinea-Bissau',\n        mobile_begin_with: ['5', '6', '7'],\n        phone_number_lengths: [7]\n    },\n    {\n        alpha2: 'GQ',\n        alpha3: 'GNQ',\n        country_code: '240',\n        country_name: 'Equatorial Guinea',\n        mobile_begin_with: ['222', '551'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'GR',\n        alpha3: 'GRC',\n        country_code: '30',\n        country_name: 'Greece',\n        mobile_begin_with: ['6'],\n        phone_number_lengths: [10]\n    },\n    {\n        alpha2: 'GD',\n        alpha3: 'GRD',\n        country_code: '1',\n        country_name: 'Grenada',\n        mobile_begin_with: ['473'],\n        phone_number_lengths: [10]\n    },\n    {\n        alpha2: 'GL',\n        alpha3: 'GRL',\n        country_code: '299',\n        country_name: 'Greenland',\n        mobile_begin_with: ['2', '4', '5'],\n        phone_number_lengths: [6]\n    },\n    {\n        alpha2: 'GT',\n        alpha3: 'GTM',\n        country_code: '502',\n        country_name: 'Guatemala',\n        mobile_begin_with: ['3', '4', '5'],\n        phone_number_lengths: [8]\n    },\n    {\n        alpha2: 'GF',\n        alpha3: 'GUF',\n        country_code: '594',\n        country_name: 'French Guiana',\n        mobile_begin_with: ['694'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'GU',\n        alpha3: 'GUM',\n        country_code: '1',\n        country_name: 'Guam',\n        mobile_begin_with: ['671'],\n        phone_number_lengths: [10]\n    },\n    {\n        alpha2: 'GY',\n        alpha3: 'GUY',\n        country_code: '592',\n        country_name: 'Guyana',\n        mobile_begin_with: ['6'],\n        phone_number_lengths: [7]\n    },\n    {\n        alpha2: 'HK',\n        alpha3: 'HKG',\n        country_code: '852',\n        country_name: 'Hong Kong',\n        mobile_begin_with: ['4', '5', '6', '70', '71', '72', '73', '81', '82', '83', '84', '85', '86', '87', '88', '89', '9'],\n        phone_number_lengths: [8]\n    },\n    // {alpha2: \"HM\", alpha3: \"HMD\", country_code: \"\", country_name: \"Heard and McDonald Islands\", mobile_begin_with: [], phone_number_lengths: []},\n    {\n        alpha2: 'HN',\n        alpha3: 'HND',\n        country_code: '504',\n        country_name: 'Honduras',\n        mobile_begin_with: ['3', '7', '8', '9'],\n        phone_number_lengths: [8]\n    },\n    {\n        alpha2: 'HR',\n        alpha3: 'HRV',\n        country_code: '385',\n        country_name: 'Croatia',\n        mobile_begin_with: ['9'],\n        phone_number_lengths: [8, 9]\n    },\n    {\n        alpha2: 'HT',\n        alpha3: 'HTI',\n        country_code: '509',\n        country_name: 'Haiti',\n        mobile_begin_with: ['3', '4'],\n        phone_number_lengths: [8]\n    },\n    {\n        alpha2: 'HU',\n        alpha3: 'HUN',\n        country_code: '36',\n        country_name: 'Hungary',\n        mobile_begin_with: ['20', '30', '31', '50', '70'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'ID',\n        alpha3: 'IDN',\n        country_code: '62',\n        country_name: 'Indonesia',\n        mobile_begin_with: ['8'],\n        phone_number_lengths: [9, 10, 11, 12]\n    },\n    // {alpha2: \"IM\", alpha3: \"IMN\", country_code: \"44\", country_name: \"Isle of Man\", mobile_begin_with: [], phone_number_lengths: []},\n    {\n        alpha2: 'IN',\n        alpha3: 'IND',\n        country_code: '91',\n        country_name: 'India',\n        mobile_begin_with: ['6', '7', '8', '9'],\n        phone_number_lengths: [10]\n    },\n    // {alpha2: \"IO\", alpha3: \"IOT\", country_code: \"246\", country_name: \"British Indian Ocean Territory\", mobile_begin_with: [], phone_number_lengths: []},\n    {\n        alpha2: 'IE',\n        alpha3: 'IRL',\n        country_code: '353',\n        country_name: 'Ireland',\n        mobile_begin_with: ['82', '83', '84', '85', '86', '87', '88', '89'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'IR',\n        alpha3: 'IRN',\n        country_code: '98',\n        country_name: 'Iran, Islamic Republic Of',\n        mobile_begin_with: ['9'],\n        phone_number_lengths: [10]\n    },\n    {\n        alpha2: 'IQ',\n        alpha3: 'IRQ',\n        country_code: '964',\n        country_name: 'Iraq',\n        mobile_begin_with: ['7'],\n        phone_number_lengths: [10]\n    },\n    {\n        alpha2: 'IS',\n        alpha3: 'ISL',\n        country_code: '354',\n        country_name: 'Iceland',\n        mobile_begin_with: ['6', '7', '8'],\n        phone_number_lengths: [7]\n    },\n    {\n        alpha2: 'IL',\n        alpha3: 'ISR',\n        country_code: '972',\n        country_name: 'Israel',\n        mobile_begin_with: ['5'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'IT',\n        alpha3: 'ITA',\n        country_code: '39',\n        country_name: 'Italy',\n        mobile_begin_with: ['3'],\n        phone_number_lengths: [9, 10]\n    },\n    {\n        alpha2: 'JM',\n        alpha3: 'JAM',\n        country_code: '1',\n        country_name: 'Jamaica',\n        mobile_begin_with: ['876'],\n        phone_number_lengths: [10]\n    },\n    // {alpha2: \"JE\", alpha3: \"JEY\", country_code: \"44\", country_name: \"Jersey\", mobile_begin_with: [], phone_number_lengths: []},\n    {\n        alpha2: 'JO',\n        alpha3: 'JOR',\n        country_code: '962',\n        country_name: 'Jordan',\n        mobile_begin_with: ['7'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'JP',\n        alpha3: 'JPN',\n        country_code: '81',\n        country_name: 'Japan',\n        mobile_begin_with: ['70', '80', '90'],\n        phone_number_lengths: [10]\n    },\n    {\n        alpha2: 'KZ',\n        alpha3: 'KAZ',\n        country_code: '7',\n        country_name: 'Kazakhstan',\n        mobile_begin_with: ['70', '74', '77'],\n        phone_number_lengths: [10]\n    },\n    {\n        alpha2: 'KE',\n        alpha3: 'KEN',\n        country_code: '254',\n        country_name: 'Kenya',\n        mobile_begin_with: ['7', '1'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'KG',\n        alpha3: 'KGZ',\n        country_code: '996',\n        country_name: 'Kyrgyzstan',\n        mobile_begin_with: ['5', '7', '8', '9'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'KH',\n        alpha3: 'KHM',\n        country_code: '855',\n        country_name: 'Cambodia',\n        mobile_begin_with: ['1', '6', '7', '8', '9'],\n        phone_number_lengths: [8, 9]\n    },\n    {\n        alpha2: 'KI',\n        alpha3: 'KIR',\n        country_code: '686',\n        country_name: 'Kiribati',\n        mobile_begin_with: ['9', '30'],\n        phone_number_lengths: [5]\n    },\n    {\n        alpha2: 'KN',\n        alpha3: 'KNA',\n        country_code: '1',\n        country_name: 'Saint Kitts And Nevis',\n        mobile_begin_with: ['869'],\n        phone_number_lengths: [10]\n    },\n    {\n        alpha2: 'KR',\n        alpha3: 'KOR',\n        country_code: '82',\n        country_name: 'Korea, Republic of',\n        mobile_begin_with: ['1'],\n        phone_number_lengths: [9, 10]\n    },\n    {\n        alpha2: 'KW',\n        alpha3: 'KWT',\n        country_code: '965',\n        country_name: 'Kuwait',\n        mobile_begin_with: ['5', '6', '9'],\n        phone_number_lengths: [8]\n    },\n    {\n        alpha2: 'LA',\n        alpha3: 'LAO',\n        country_code: '856',\n        country_name: \"Lao People's Democratic Republic\",\n        mobile_begin_with: ['20'],\n        phone_number_lengths: [10]\n    },\n    {\n        alpha2: 'LB',\n        alpha3: 'LBN',\n        country_code: '961',\n        country_name: 'Lebanon',\n        mobile_begin_with: ['3', '7'],\n        phone_number_lengths: [7, 8]\n    },\n    {\n        alpha2: 'LR',\n        alpha3: 'LBR',\n        country_code: '231',\n        country_name: 'Liberia',\n        mobile_begin_with: ['4', '5', '6', '7'],\n        phone_number_lengths: [7, 8]\n    },\n    {\n        alpha2: 'LY',\n        alpha3: 'LBY',\n        country_code: '218',\n        country_name: 'Libyan Arab Jamahiriya',\n        mobile_begin_with: ['9'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'LC',\n        alpha3: 'LCA',\n        country_code: '1',\n        country_name: 'Saint Lucia',\n        mobile_begin_with: ['758'],\n        phone_number_lengths: [10]\n    },\n    {\n        alpha2: 'LI',\n        alpha3: 'LIE',\n        country_code: '423',\n        country_name: 'Liechtenstein',\n        mobile_begin_with: ['7'],\n        phone_number_lengths: [7]\n    },\n    {\n        alpha2: 'LK',\n        alpha3: 'LKA',\n        country_code: '94',\n        country_name: 'Sri Lanka',\n        mobile_begin_with: ['7'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'LS',\n        alpha3: 'LSO',\n        country_code: '266',\n        country_name: 'Lesotho',\n        mobile_begin_with: ['5', '6'],\n        phone_number_lengths: [8]\n    },\n    {\n        alpha2: 'LT',\n        alpha3: 'LTU',\n        country_code: '370',\n        country_name: 'Lithuania',\n        mobile_begin_with: ['6'],\n        phone_number_lengths: [8]\n    },\n    {\n        alpha2: 'LU',\n        alpha3: 'LUX',\n        country_code: '352',\n        country_name: 'Luxembourg',\n        mobile_begin_with: ['6'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'LV',\n        alpha3: 'LVA',\n        country_code: '371',\n        country_name: 'Latvia',\n        mobile_begin_with: ['2'],\n        phone_number_lengths: [8]\n    },\n    {\n        alpha2: 'MO',\n        alpha3: 'MAC',\n        country_code: '853',\n        country_name: 'Macao',\n        mobile_begin_with: ['6'],\n        phone_number_lengths: [8]\n    },\n    // {alpha2: \"MF\", alpha3: \"MAF\", country_code: \"590\", country_name: \"Saint Martin\", mobile_begin_with: [], phone_number_lengths: []},\n    {\n        alpha2: 'MA',\n        alpha3: 'MAR',\n        country_code: '212',\n        country_name: 'Morocco',\n        mobile_begin_with: ['6', '7'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'MC',\n        alpha3: 'MCO',\n        country_code: '377',\n        country_name: 'Monaco',\n        mobile_begin_with: ['4', '6'],\n        phone_number_lengths: [8, 9]\n    },\n    {\n        alpha2: 'MD',\n        alpha3: 'MDA',\n        country_code: '373',\n        country_name: 'Moldova, Republic of',\n        mobile_begin_with: ['6', '7'],\n        phone_number_lengths: [8]\n    },\n    {\n        alpha2: 'MG',\n        alpha3: 'MDG',\n        country_code: '261',\n        country_name: 'Madagascar',\n        mobile_begin_with: ['3'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'MV',\n        alpha3: 'MDV',\n        country_code: '960',\n        country_name: 'Maldives',\n        mobile_begin_with: ['7', '9'],\n        phone_number_lengths: [7]\n    },\n    {\n        alpha2: 'MX',\n        alpha3: 'MEX',\n        country_code: '52',\n        country_name: 'Mexico',\n        mobile_begin_with: [''],\n        phone_number_lengths: [10, 11]\n    },\n    {\n        alpha2: 'MH',\n        alpha3: 'MHL',\n        country_code: '692',\n        country_name: 'Marshall Islands',\n        mobile_begin_with: [],\n        phone_number_lengths: [7]\n    },\n    {\n        alpha2: 'MK',\n        alpha3: 'MKD',\n        country_code: '389',\n        country_name: 'Macedonia, the Former Yugoslav Republic Of',\n        mobile_begin_with: ['7'],\n        phone_number_lengths: [8]\n    },\n    {\n        alpha2: 'ML',\n        alpha3: 'MLI',\n        country_code: '223',\n        country_name: 'Mali',\n        mobile_begin_with: ['6', '7'],\n        phone_number_lengths: [8]\n    },\n    {\n        alpha2: 'MT',\n        alpha3: 'MLT',\n        country_code: '356',\n        country_name: 'Malta',\n        mobile_begin_with: ['7', '9'],\n        phone_number_lengths: [8]\n    },\n    {\n        alpha2: 'MM',\n        alpha3: 'MMR',\n        country_code: '95',\n        country_name: 'Myanmar',\n        mobile_begin_with: ['9'],\n        phone_number_lengths: [8, 9, 10]\n    },\n    {\n        alpha2: 'ME',\n        alpha3: 'MNE',\n        country_code: '382',\n        country_name: 'Montenegro',\n        mobile_begin_with: ['6'],\n        phone_number_lengths: [8]\n    },\n    {\n        alpha2: 'MN',\n        alpha3: 'MNG',\n        country_code: '976',\n        country_name: 'Mongolia',\n        mobile_begin_with: ['5', '8', '9'],\n        phone_number_lengths: [8]\n    },\n    {\n        alpha2: 'MP',\n        alpha3: 'MNP',\n        country_code: '1',\n        country_name: 'Northern Mariana Islands',\n        mobile_begin_with: ['670'],\n        phone_number_lengths: [10]\n    },\n    {\n        alpha2: 'MZ',\n        alpha3: 'MOZ',\n        country_code: '258',\n        country_name: 'Mozambique',\n        mobile_begin_with: ['8'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'MR',\n        alpha3: 'MRT',\n        country_code: '222',\n        country_name: 'Mauritania',\n        mobile_begin_with: [],\n        phone_number_lengths: [8]\n    },\n    {\n        alpha2: 'MS',\n        alpha3: 'MSR',\n        country_code: '1',\n        country_name: 'Montserrat',\n        mobile_begin_with: ['664'],\n        phone_number_lengths: [10]\n    },\n    {\n        alpha2: 'MQ',\n        alpha3: 'MTQ',\n        country_code: '596',\n        country_name: 'Martinique',\n        mobile_begin_with: ['696'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'MU',\n        alpha3: 'MUS',\n        country_code: '230',\n        country_name: 'Mauritius',\n        mobile_begin_with: ['5'],\n        phone_number_lengths: [8]\n    },\n    {\n        alpha2: 'MW',\n        alpha3: 'MWI',\n        country_code: '265',\n        country_name: 'Malawi',\n        mobile_begin_with: ['77', '88', '99'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'MY',\n        alpha3: 'MYS',\n        country_code: '60',\n        country_name: 'Malaysia',\n        mobile_begin_with: ['1', '6'],\n        phone_number_lengths: [9, 10, 8]\n    },\n    {\n        alpha2: 'YT',\n        alpha3: 'MYT',\n        country_code: '262',\n        country_name: 'Mayotte',\n        mobile_begin_with: ['639'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'NA',\n        alpha3: 'NAM',\n        country_code: '264',\n        country_name: 'Namibia',\n        mobile_begin_with: ['60', '81', '82', '85'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'NC',\n        alpha3: 'NCL',\n        country_code: '687',\n        country_name: 'New Caledonia',\n        mobile_begin_with: ['7', '8', '9'],\n        phone_number_lengths: [6]\n    },\n    {\n        alpha2: 'NE',\n        alpha3: 'NER',\n        country_code: '227',\n        country_name: 'Niger',\n        mobile_begin_with: ['9'],\n        phone_number_lengths: [8]\n    },\n    {\n        alpha2: 'NF',\n        alpha3: 'NFK',\n        country_code: '672',\n        country_name: 'Norfolk Island',\n        mobile_begin_with: ['5', '8'],\n        phone_number_lengths: [5]\n    },\n    {\n        alpha2: 'NG',\n        alpha3: 'NGA',\n        country_code: '234',\n        country_name: 'Nigeria',\n        mobile_begin_with: ['70', '80', '81', '90', '91'],\n        phone_number_lengths: [10]\n    },\n    {\n        alpha2: 'NI',\n        alpha3: 'NIC',\n        country_code: '505',\n        country_name: 'Nicaragua',\n        mobile_begin_with: ['8'],\n        phone_number_lengths: [8]\n    },\n    {\n        alpha2: 'NU',\n        alpha3: 'NIU',\n        country_code: '683',\n        country_name: 'Niue',\n        mobile_begin_with: [],\n        phone_number_lengths: [4]\n    },\n    {\n        alpha2: 'NL',\n        alpha3: 'NLD',\n        country_code: '31',\n        country_name: 'Netherlands',\n        mobile_begin_with: ['6'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'NO',\n        alpha3: 'NOR',\n        country_code: '47',\n        country_name: 'Norway',\n        mobile_begin_with: ['4', '9'],\n        phone_number_lengths: [8]\n    },\n    {\n        alpha2: 'NP',\n        alpha3: 'NPL',\n        country_code: '977',\n        country_name: 'Nepal',\n        mobile_begin_with: ['97', '98'],\n        phone_number_lengths: [10]\n    },\n    {\n        alpha2: 'NR',\n        alpha3: 'NRU',\n        country_code: '674',\n        country_name: 'Nauru',\n        mobile_begin_with: ['555'],\n        phone_number_lengths: [7]\n    },\n    {\n        alpha2: 'NZ',\n        alpha3: 'NZL',\n        country_code: '64',\n        country_name: 'New Zealand',\n        mobile_begin_with: ['2'],\n        phone_number_lengths: [8, 9, 10]\n    },\n    {\n        alpha2: 'OM',\n        alpha3: 'OMN',\n        country_code: '968',\n        country_name: 'Oman',\n        mobile_begin_with: ['9'],\n        phone_number_lengths: [8]\n    },\n    {\n        alpha2: 'PK',\n        alpha3: 'PAK',\n        country_code: '92',\n        country_name: 'Pakistan',\n        mobile_begin_with: ['3'],\n        phone_number_lengths: [10]\n    },\n    {\n        alpha2: 'PA',\n        alpha3: 'PAN',\n        country_code: '507',\n        country_name: 'Panama',\n        mobile_begin_with: ['6'],\n        phone_number_lengths: [8]\n    },\n    // {alpha2: \"PN\", alpha3: \"PCN\", country_code: \"\", country_name: \"Pitcairn\", mobile_begin_with: [], phone_number_lengths: []},\n    {\n        alpha2: 'PE',\n        alpha3: 'PER',\n        country_code: '51',\n        country_name: 'Peru',\n        mobile_begin_with: ['9'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'PH',\n        alpha3: 'PHL',\n        country_code: '63',\n        country_name: 'Philippines',\n        mobile_begin_with: ['9'],\n        phone_number_lengths: [10]\n    },\n    {\n        alpha2: 'PW',\n        alpha3: 'PLW',\n        country_code: '680',\n        country_name: 'Palau',\n        mobile_begin_with: [],\n        phone_number_lengths: [7]\n    },\n    {\n        alpha2: 'PG',\n        alpha3: 'PNG',\n        country_code: '675',\n        country_name: 'Papua New Guinea',\n        mobile_begin_with: ['7'],\n        phone_number_lengths: [8]\n    },\n    {\n        alpha2: 'PL',\n        alpha3: 'POL',\n        country_code: '48',\n        country_name: 'Poland',\n        mobile_begin_with: ['4', '5', '6', '7', '8'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'PR',\n        alpha3: 'PRI',\n        country_code: '1',\n        country_name: 'Puerto Rico',\n        mobile_begin_with: ['787', '939'],\n        phone_number_lengths: [10]\n    },\n    // {alpha2: \"KP\", alpha3: \"PRK\", country_code: \"850\", country_name: \"Korea, Democratic People's Republic Of\", mobile_begin_with: [], phone_number_lengths: []},\n    {\n        alpha2: 'PT',\n        alpha3: 'PRT',\n        country_code: '351',\n        country_name: 'Portugal',\n        mobile_begin_with: ['9'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'PY',\n        alpha3: 'PRY',\n        country_code: '595',\n        country_name: 'Paraguay',\n        mobile_begin_with: ['9'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'PS',\n        alpha3: 'PSE',\n        country_code: '970',\n        country_name: 'Palestinian Territory, Occupied',\n        mobile_begin_with: ['5'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'PF',\n        alpha3: 'PYF',\n        country_code: '689',\n        country_name: 'French Polynesia',\n        mobile_begin_with: ['8'],\n        phone_number_lengths: [8]\n    },\n    {\n        alpha2: 'QA',\n        alpha3: 'QAT',\n        country_code: '974',\n        country_name: 'Qatar',\n        mobile_begin_with: ['3', '5', '6', '7'],\n        phone_number_lengths: [8]\n    },\n    {\n        alpha2: 'RE',\n        alpha3: 'REU',\n        country_code: '262',\n        country_name: 'Runion',\n        mobile_begin_with: ['692', '693'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'RO',\n        alpha3: 'ROU',\n        country_code: '40',\n        country_name: 'Romania',\n        mobile_begin_with: ['7'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'RU',\n        alpha3: 'RUS',\n        country_code: '7',\n        country_name: 'Russian Federation',\n        mobile_begin_with: ['9', '495', '498', '499'],\n        phone_number_lengths: [10]\n    },\n    {\n        alpha2: 'RW',\n        alpha3: 'RWA',\n        country_code: '250',\n        country_name: 'Rwanda',\n        mobile_begin_with: ['7'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'SA',\n        alpha3: 'SAU',\n        country_code: '966',\n        country_name: 'Saudi Arabia',\n        mobile_begin_with: ['5'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'SD',\n        alpha3: 'SDN',\n        country_code: '249',\n        country_name: 'Sudan',\n        mobile_begin_with: ['9'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'SS',\n        alpha3: 'SSD',\n        country_code: '211',\n        country_name: 'South Sudan',\n        mobile_begin_with: ['9'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'SN',\n        alpha3: 'SEN',\n        country_code: '221',\n        country_name: 'Senegal',\n        mobile_begin_with: ['7'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'SG',\n        alpha3: 'SGP',\n        country_code: '65',\n        country_name: 'Singapore',\n        mobile_begin_with: ['8', '9'],\n        phone_number_lengths: [8]\n    },\n    // {alpha2: \"GS\", alpha3: \"SGS\", country_code: \"500\", country_name: \"South Georgia and the South Sandwich Islands\", mobile_begin_with: [], phone_number_lengths: []},\n    {\n        alpha2: 'SH',\n        alpha3: 'SHN',\n        country_code: '290',\n        country_name: 'Saint Helena',\n        mobile_begin_with: [],\n        phone_number_lengths: [4]\n    },\n    {\n        alpha2: 'SJ',\n        alpha3: 'SJM',\n        country_code: '47',\n        country_name: 'Svalbard And Jan Mayen',\n        mobile_begin_with: ['79'],\n        phone_number_lengths: [8]\n    },\n    {\n        alpha2: 'SB',\n        alpha3: 'SLB',\n        country_code: '677',\n        country_name: 'Solomon Islands',\n        mobile_begin_with: ['7', '8'],\n        phone_number_lengths: [7]\n    },\n    {\n        alpha2: 'SL',\n        alpha3: 'SLE',\n        country_code: '232',\n        country_name: 'Sierra Leone',\n        mobile_begin_with: ['21', '25', '30', '33', '34', '40', '44', '50', '55', '76', '77', '78', '79', '88'],\n        phone_number_lengths: [8]\n    },\n    {\n        alpha2: 'SV',\n        alpha3: 'SLV',\n        country_code: '503',\n        country_name: 'El Salvador',\n        mobile_begin_with: ['7'],\n        phone_number_lengths: [8]\n    },\n    {\n        alpha2: 'SM',\n        alpha3: 'SMR',\n        country_code: '378',\n        country_name: 'San Marino',\n        mobile_begin_with: ['3', '6'],\n        phone_number_lengths: [10]\n    },\n    {\n        alpha2: 'SO',\n        alpha3: 'SOM',\n        country_code: '252',\n        country_name: 'Somalia',\n        mobile_begin_with: ['61', '62', '63', '65', '66', '68', '69', '71', '90'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'SX',\n        alpha3: 'SXM',\n        country_code: '1',\n        country_name: 'Sint Maarten',\n        mobile_begin_with: ['721'],\n        phone_number_lengths: [10]\n    },\n    {\n        alpha2: 'PM',\n        alpha3: 'SPM',\n        country_code: '508',\n        country_name: 'Saint Pierre And Miquelon',\n        mobile_begin_with: ['55', '41'],\n        phone_number_lengths: [6]\n    },\n    {\n        alpha2: 'RS',\n        alpha3: 'SRB',\n        country_code: '381',\n        country_name: 'Serbia',\n        mobile_begin_with: ['6'],\n        phone_number_lengths: [8, 9]\n    },\n    {\n        alpha2: 'ST',\n        alpha3: 'STP',\n        country_code: '239',\n        country_name: 'Sao Tome and Principe',\n        mobile_begin_with: ['98', '99'],\n        phone_number_lengths: [7]\n    },\n    {\n        alpha2: 'SR',\n        alpha3: 'SUR',\n        country_code: '597',\n        country_name: 'Suriname',\n        mobile_begin_with: ['6', '7', '8'],\n        phone_number_lengths: [7]\n    },\n    {\n        alpha2: 'SK',\n        alpha3: 'SVK',\n        country_code: '421',\n        country_name: 'Slovakia',\n        mobile_begin_with: ['9'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'SI',\n        alpha3: 'SVN',\n        country_code: '386',\n        country_name: 'Slovenia',\n        mobile_begin_with: ['3', '4', '5', '6', '7'],\n        phone_number_lengths: [8]\n    },\n    {\n        alpha2: 'SE',\n        alpha3: 'SWE',\n        country_code: '46',\n        country_name: 'Sweden',\n        mobile_begin_with: ['7'],\n        phone_number_lengths: [9]\n    },\n    // {alpha2: \"SZ\", alpha3: \"SWZ\", country_code: \"268\", country_name: \"Swaziland\", mobile_begin_with: [], phone_number_lengths: []},\n    {\n        alpha2: 'SC',\n        alpha3: 'SYC',\n        country_code: '248',\n        country_name: 'Seychelles',\n        mobile_begin_with: ['2'],\n        phone_number_lengths: [7]\n    },\n    {\n        alpha2: 'SY',\n        alpha3: 'SYR',\n        country_code: '963',\n        country_name: 'Syrian Arab Republic',\n        mobile_begin_with: ['9'],\n        phone_number_lengths: [9]\n    },\n    // http://www.howtocallabroad.com/turks-caicos/\n    {\n        alpha2: 'TC',\n        alpha3: 'TCA',\n        country_code: '1',\n        country_name: 'Turks and Caicos Islands',\n        mobile_begin_with: ['6492', '6493', '6494'],\n        phone_number_lengths: [10]\n    },\n    {\n        alpha2: 'TD',\n        alpha3: 'TCD',\n        country_code: '235',\n        country_name: 'Chad',\n        mobile_begin_with: ['6', '7', '9'],\n        phone_number_lengths: [8]\n    },\n    {\n        alpha2: 'TG',\n        alpha3: 'TGO',\n        country_code: '228',\n        country_name: 'Togo',\n        mobile_begin_with: ['9'],\n        phone_number_lengths: [8]\n    },\n    {\n        alpha2: 'TH',\n        alpha3: 'THA',\n        country_code: '66',\n        country_name: 'Thailand',\n        mobile_begin_with: ['6', '8', '9'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'TJ',\n        alpha3: 'TJK',\n        country_code: '992',\n        country_name: 'Tajikistan',\n        mobile_begin_with: ['9'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'TK',\n        alpha3: 'TKL',\n        country_code: '690',\n        country_name: 'Tokelau',\n        mobile_begin_with: [],\n        phone_number_lengths: [4]\n    },\n    {\n        alpha2: 'TM',\n        alpha3: 'TKM',\n        country_code: '993',\n        country_name: 'Turkmenistan',\n        mobile_begin_with: ['6'],\n        phone_number_lengths: [8]\n    },\n    {\n        alpha2: 'TL',\n        alpha3: 'TLS',\n        country_code: '670',\n        country_name: 'Timor-Leste',\n        mobile_begin_with: ['7'],\n        phone_number_lengths: [8]\n    },\n    {\n        alpha2: 'TO',\n        alpha3: 'TON',\n        country_code: '676',\n        country_name: 'Tonga',\n        mobile_begin_with: [],\n        phone_number_lengths: [5]\n    },\n    {\n        alpha2: 'TT',\n        alpha3: 'TTO',\n        country_code: '1',\n        country_name: 'Trinidad and Tobago',\n        mobile_begin_with: ['868'],\n        phone_number_lengths: [10]\n    },\n    {\n        alpha2: 'TN',\n        alpha3: 'TUN',\n        country_code: '216',\n        country_name: 'Tunisia',\n        mobile_begin_with: ['2', '4', '5', '9'],\n        phone_number_lengths: [8]\n    },\n    {\n        alpha2: 'TR',\n        alpha3: 'TUR',\n        country_code: '90',\n        country_name: 'Turkey',\n        mobile_begin_with: ['5'],\n        phone_number_lengths: [10]\n    },\n    {\n        alpha2: 'TV',\n        alpha3: 'TUV',\n        country_code: '688',\n        country_name: 'Tuvalu',\n        mobile_begin_with: [],\n        phone_number_lengths: [5]\n    },\n    {\n        alpha2: 'TW',\n        alpha3: 'TWN',\n        country_code: '886',\n        country_name: 'Taiwan',\n        mobile_begin_with: ['9'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'TZ',\n        alpha3: 'TZA',\n        country_code: '255',\n        country_name: 'Tanzania, United Republic of',\n        mobile_begin_with: ['7', '6'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'UG',\n        alpha3: 'UGA',\n        country_code: '256',\n        country_name: 'Uganda',\n        mobile_begin_with: ['7'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'UA',\n        alpha3: 'UKR',\n        country_code: '380',\n        country_name: 'Ukraine',\n        mobile_begin_with: ['39', '50', '63', '66', '67', '68', '73', '9'],\n        phone_number_lengths: [9]\n    },\n    // {alpha2: \"UM\", alpha3: \"UMI\", country_code: \"\", country_name: \"United States Minor Outlying Islands\", mobile_begin_with: [], phone_number_lengths: []},\n    {\n        alpha2: 'UY',\n        alpha3: 'URY',\n        country_code: '598',\n        country_name: 'Uruguay',\n        mobile_begin_with: ['9'],\n        phone_number_lengths: [8]\n    },\n    {\n        alpha2: 'UZ',\n        alpha3: 'UZB',\n        country_code: '998',\n        country_name: 'Uzbekistan',\n        mobile_begin_with: ['9', '88', '33'],\n        phone_number_lengths: [9]\n    },\n    // {alpha2: \"VA\", alpha3: \"VAT\", country_code: \"39\", country_name: \"Holy See (Vatican City State)\", mobile_begin_with: [], phone_number_lengths: []},\n    {\n        alpha2: 'VC',\n        alpha3: 'VCT',\n        country_code: '1',\n        country_name: 'Saint Vincent And The Grenedines',\n        mobile_begin_with: ['784'],\n        phone_number_lengths: [10]\n    },\n    {\n        alpha2: 'VE',\n        alpha3: 'VEN',\n        country_code: '58',\n        country_name: 'Venezuela, Bolivarian Republic of',\n        mobile_begin_with: ['4'],\n        phone_number_lengths: [10]\n    },\n    {\n        alpha2: 'VG',\n        alpha3: 'VGB',\n        country_code: '1',\n        country_name: 'Virgin Islands, British',\n        mobile_begin_with: ['284'],\n        phone_number_lengths: [10]\n    },\n    {\n        alpha2: 'VI',\n        alpha3: 'VIR',\n        country_code: '1',\n        country_name: 'Virgin Islands, U.S.',\n        mobile_begin_with: ['340'],\n        phone_number_lengths: [10]\n    },\n    {\n        alpha2: 'VN',\n        alpha3: 'VNM',\n        country_code: '84',\n        country_name: 'Viet Nam',\n        mobile_begin_with: ['8', '9', '3', '7', '5'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'VU',\n        alpha3: 'VUT',\n        country_code: '678',\n        country_name: 'Vanuatu',\n        mobile_begin_with: ['5', '7'],\n        phone_number_lengths: [7]\n    },\n    {\n        alpha2: 'WF',\n        alpha3: 'WLF',\n        country_code: '681',\n        country_name: 'Wallis and Futuna',\n        mobile_begin_with: [],\n        phone_number_lengths: [6]\n    },\n    {\n        alpha2: 'WS',\n        alpha3: 'WSM',\n        country_code: '685',\n        country_name: 'Samoa',\n        mobile_begin_with: ['7'],\n        phone_number_lengths: [7]\n    },\n    {\n        alpha2: 'YE',\n        alpha3: 'YEM',\n        country_code: '967',\n        country_name: 'Yemen',\n        mobile_begin_with: ['7'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'ZA',\n        alpha3: 'ZAF',\n        country_code: '27',\n        country_name: 'South Africa',\n        mobile_begin_with: ['1', '2', '3', '4', '5', '6', '7', '8'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'ZM',\n        alpha3: 'ZMB',\n        country_code: '260',\n        country_name: 'Zambia',\n        mobile_begin_with: ['9', '7'],\n        phone_number_lengths: [9]\n    },\n    {\n        alpha2: 'ZW',\n        alpha3: 'ZWE',\n        country_code: '263',\n        country_name: 'Zimbabwe',\n        mobile_begin_with: ['71', '73', '77'],\n        phone_number_lengths: [9]\n    }\n];\n","import { logger } from '@sentry/utils';\n\n/** Deduplication filter */\nclass Dedupe  {constructor() { Dedupe.prototype.__init.call(this); }\n  /**\n   * @inheritDoc\n   */\n   static __initStatic() {this.id = 'Dedupe';}\n\n  /**\n   * @inheritDoc\n   */\n   __init() {this.name = Dedupe.id;}\n\n  /**\n   * @inheritDoc\n   */\n\n  /**\n   * @inheritDoc\n   */\n   setupOnce(addGlobalEventProcessor, getCurrentHub) {\n    const eventProcessor = currentEvent => {\n      const self = getCurrentHub().getIntegration(Dedupe);\n      if (self) {\n        // Juuust in case something goes wrong\n        try {\n          if (_shouldDropEvent(currentEvent, self._previousEvent)) {\n            (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.warn('Event dropped due to being a duplicate of previously captured event.');\n            return null;\n          }\n        } catch (_oO) {\n          return (self._previousEvent = currentEvent);\n        }\n\n        return (self._previousEvent = currentEvent);\n      }\n      return currentEvent;\n    };\n\n    eventProcessor.id = this.name;\n    addGlobalEventProcessor(eventProcessor);\n  }\n} Dedupe.__initStatic();\n\n/** JSDoc */\nfunction _shouldDropEvent(currentEvent, previousEvent) {\n  if (!previousEvent) {\n    return false;\n  }\n\n  if (_isSameMessageEvent(currentEvent, previousEvent)) {\n    return true;\n  }\n\n  if (_isSameExceptionEvent(currentEvent, previousEvent)) {\n    return true;\n  }\n\n  return false;\n}\n\n/** JSDoc */\nfunction _isSameMessageEvent(currentEvent, previousEvent) {\n  const currentMessage = currentEvent.message;\n  const previousMessage = previousEvent.message;\n\n  // If neither event has a message property, they were both exceptions, so bail out\n  if (!currentMessage && !previousMessage) {\n    return false;\n  }\n\n  // If only one event has a stacktrace, but not the other one, they are not the same\n  if ((currentMessage && !previousMessage) || (!currentMessage && previousMessage)) {\n    return false;\n  }\n\n  if (currentMessage !== previousMessage) {\n    return false;\n  }\n\n  if (!_isSameFingerprint(currentEvent, previousEvent)) {\n    return false;\n  }\n\n  if (!_isSameStacktrace(currentEvent, previousEvent)) {\n    return false;\n  }\n\n  return true;\n}\n\n/** JSDoc */\nfunction _isSameExceptionEvent(currentEvent, previousEvent) {\n  const previousException = _getExceptionFromEvent(previousEvent);\n  const currentException = _getExceptionFromEvent(currentEvent);\n\n  if (!previousException || !currentException) {\n    return false;\n  }\n\n  if (previousException.type !== currentException.type || previousException.value !== currentException.value) {\n    return false;\n  }\n\n  if (!_isSameFingerprint(currentEvent, previousEvent)) {\n    return false;\n  }\n\n  if (!_isSameStacktrace(currentEvent, previousEvent)) {\n    return false;\n  }\n\n  return true;\n}\n\n/** JSDoc */\nfunction _isSameStacktrace(currentEvent, previousEvent) {\n  let currentFrames = _getFramesFromEvent(currentEvent);\n  let previousFrames = _getFramesFromEvent(previousEvent);\n\n  // If neither event has a stacktrace, they are assumed to be the same\n  if (!currentFrames && !previousFrames) {\n    return true;\n  }\n\n  // If only one event has a stacktrace, but not the other one, they are not the same\n  if ((currentFrames && !previousFrames) || (!currentFrames && previousFrames)) {\n    return false;\n  }\n\n  currentFrames = currentFrames ;\n  previousFrames = previousFrames ;\n\n  // If number of frames differ, they are not the same\n  if (previousFrames.length !== currentFrames.length) {\n    return false;\n  }\n\n  // Otherwise, compare the two\n  for (let i = 0; i < previousFrames.length; i++) {\n    const frameA = previousFrames[i];\n    const frameB = currentFrames[i];\n\n    if (\n      frameA.filename !== frameB.filename ||\n      frameA.lineno !== frameB.lineno ||\n      frameA.colno !== frameB.colno ||\n      frameA.function !== frameB.function\n    ) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/** JSDoc */\nfunction _isSameFingerprint(currentEvent, previousEvent) {\n  let currentFingerprint = currentEvent.fingerprint;\n  let previousFingerprint = previousEvent.fingerprint;\n\n  // If neither event has a fingerprint, they are assumed to be the same\n  if (!currentFingerprint && !previousFingerprint) {\n    return true;\n  }\n\n  // If only one event has a fingerprint, but not the other one, they are not the same\n  if ((currentFingerprint && !previousFingerprint) || (!currentFingerprint && previousFingerprint)) {\n    return false;\n  }\n\n  currentFingerprint = currentFingerprint ;\n  previousFingerprint = previousFingerprint ;\n\n  // Otherwise, compare the two\n  try {\n    return !!(currentFingerprint.join('') === previousFingerprint.join(''));\n  } catch (_oO) {\n    return false;\n  }\n}\n\n/** JSDoc */\nfunction _getExceptionFromEvent(event) {\n  return event.exception && event.exception.values && event.exception.values[0];\n}\n\n/** JSDoc */\nfunction _getFramesFromEvent(event) {\n  const exception = event.exception;\n\n  if (exception) {\n    try {\n      // @ts-ignore Object could be undefined\n      return exception.values[0].stacktrace.frames;\n    } catch (_oO) {\n      return undefined;\n    }\n  }\n  return undefined;\n}\n\nexport { Dedupe };\n//# sourceMappingURL=dedupe.js.map\n","import { getOriginalFunction } from '@sentry/utils';\n\nlet originalFunctionToString;\n\n/** Patch toString calls to return proper name for wrapped functions */\nclass FunctionToString  {constructor() { FunctionToString.prototype.__init.call(this); }\n  /**\n   * @inheritDoc\n   */\n   static __initStatic() {this.id = 'FunctionToString';}\n\n  /**\n   * @inheritDoc\n   */\n   __init() {this.name = FunctionToString.id;}\n\n  /**\n   * @inheritDoc\n   */\n   setupOnce() {\n    // eslint-disable-next-line @typescript-eslint/unbound-method\n    originalFunctionToString = Function.prototype.toString;\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Function.prototype.toString = function ( ...args) {\n      const context = getOriginalFunction(this) || this;\n      return originalFunctionToString.apply(context, args);\n    };\n  }\n} FunctionToString.__initStatic();\n\nexport { FunctionToString };\n//# sourceMappingURL=functiontostring.js.map\n","var fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : isCallable(detection) ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar $Object = Object;\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return $Object(requireObjectCoercible(argument));\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `Math.trunc` method\n// https://tc39.es/ecma262/#sec-math.trunc\n// eslint-disable-next-line es-x/no-math-trunc -- safe\nmodule.exports = Math.trunc || function trunc(x) {\n  var n = +x;\n  return (n > 0 ? floor : ceil)(n);\n};\n","/*! (c) 2020 Andrea Giammarchi */\n\nconst {parse: $parse, stringify: $stringify} = JSON;\nconst {keys} = Object;\n\nconst Primitive = String;   // it could be Number\nconst primitive = 'string'; // it could be 'number'\n\nconst ignore = {};\nconst object = 'object';\n\nconst noop = (_, value) => value;\n\nconst primitives = value => (\n  value instanceof Primitive ? Primitive(value) : value\n);\n\nconst Primitives = (_, value) => (\n  typeof value === primitive ? new Primitive(value) : value\n);\n\nconst revive = (input, parsed, output, $) => {\n  const lazy = [];\n  for (let ke = keys(output), {length} = ke, y = 0; y < length; y++) {\n    const k = ke[y];\n    const value = output[k];\n    if (value instanceof Primitive) {\n      const tmp = input[value];\n      if (typeof tmp === object && !parsed.has(tmp)) {\n        parsed.add(tmp);\n        output[k] = ignore;\n        lazy.push({k, a: [input, parsed, tmp, $]});\n      }\n      else\n        output[k] = $.call(output, k, tmp);\n    }\n    else if (output[k] !== ignore)\n      output[k] = $.call(output, k, value);\n  }\n  for (let {length} = lazy, i = 0; i < length; i++) {\n    const {k, a} = lazy[i];\n    output[k] = $.call(output, k, revive.apply(null, a));\n  }\n  return output;\n};\n\nconst set = (known, input, value) => {\n  const index = Primitive(input.push(value) - 1);\n  known.set(value, index);\n  return index;\n};\n\nexport const parse = (text, reviver) => {\n  const input = $parse(text, Primitives).map(primitives);\n  const value = input[0];\n  const $ = reviver || noop;\n  const tmp = typeof value === object && value ?\n              revive(input, new Set, value, $) :\n              value;\n  return $.call({'': tmp}, '', tmp);\n};\n\nexport const stringify = (value, replacer, space) => {\n  const $ = replacer && typeof replacer === object ?\n            (k, v) => (k === '' || -1 < replacer.indexOf(k) ? v : void 0) :\n            (replacer || noop);\n  const known = new Map;\n  const input = [];\n  const output = [];\n  let i = +set(known, input, $.call({'': value}, '', value));\n  let firstRun = !i;\n  while (i < input.length) {\n    firstRun = true;\n    output[i] = $stringify(input[i++], replace, space);\n  }\n  return '[' + output.join(',') + ']';\n  function replace(key, value) {\n    if (firstRun) {\n      firstRun = !firstRun;\n      return value;\n    }\n    const after = $.call(this, key, value);\n    switch (typeof after) {\n      case object:\n        if (after === null) return after;\n      case primitive:\n        return known.get(after) || set(known, input, after);\n    }\n    return after;\n  }\n};\n\nexport const toJSON = any => $parse(stringify(any));\nexport const fromJSON = any => parse($stringify(any));\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nmodule.exports = uncurryThis({}.isPrototypeOf);\n","/**\n * Created by championswimmer on 22/07/17.\n */\nlet MockStorage: typeof Storage | undefined\n\n// @ts-ignore\nif (process.env.MODULE_FORMAT !== 'umd') {\n  MockStorage = class implements Storage {\n    [index: number]: string;\n    [key: string]: any;\n\n    public get length(): number {\n      return Object.keys(this).length\n    }\n\n    public key(index: number): string | any {\n      return Object.keys(this)[index]\n    }\n\n    public setItem(key: string, data: any): void {\n      this[key] = data.toString()\n    }\n    public getItem(key: string): string {\n      return this[key]\n    }\n    public removeItem(key: string): void {\n      delete this[key]\n    }\n    public clear(): void {\n      for (let key of Object.keys(this)) {\n        delete this[key]\n      }\n    }\n  }\n}\n\nexport { MockStorage }\n","// tslint:disable: variable-name\nexport default class SimplePromiseQueue {\n  private readonly _queue: Array<Promise<void>> = []\n  private _flushing = false\n\n  public enqueue(promise: Promise<void>) {\n    this._queue.push(promise)\n    if (!this._flushing) { return this.flushQueue() }\n    return Promise.resolve()\n  }\n\n  private flushQueue() {\n    this._flushing = true\n\n    const chain = (): Promise<void> | void => {\n      const nextTask = this._queue.shift()\n      if (nextTask) {\n        return nextTask.then(chain)\n      } else {\n        this._flushing = false\n      }\n    }\n    return Promise.resolve(chain())\n  }\n}\n","import deepmerge from 'deepmerge'\n\nexport type MergeOptionType = 'replaceArrays' | 'concatArrays'\n\nconst options: {[k in MergeOptionType]: deepmerge.Options} = {\n  replaceArrays: {\n    arrayMerge: (destinationArray, sourceArray, options) => sourceArray\n  },\n  concatArrays: {\n    arrayMerge: (target, source, options) => target.concat(...source)\n  }\n}\n\nconst defaultMergeOptions: deepmerge.Options = {\n  // replacing arrays\n  \n}\n\nexport function merge<I, F>(into: Partial<I>, from: Partial<F>, mergeOption: MergeOptionType): I & F & {} {\n  return deepmerge(into, from, options[mergeOption])\n}\n","/**\n * Created by championswimmer on 18/07/17.\n */\nimport { Mutation, MutationPayload, Payload, Plugin, Store } from 'vuex'\nimport { AsyncStorage } from './AsyncStorage'\nimport { MockStorage } from './MockStorage'\nimport { PersistOptions } from './PersistOptions'\nimport SimplePromiseQueue from './SimplePromiseQueue'\nimport { merge, MergeOptionType } from './utils'\n\nlet FlattedJSON = JSON\n\n/**\n * A class that implements the vuex persistence.\n * @type S type of the 'state' inside the store (default: any)\n */\nexport class VuexPersistence<S> implements PersistOptions<S> {\n  public asyncStorage: boolean\n  public storage: Storage | AsyncStorage | undefined\n  public restoreState: (key: string, storage?: AsyncStorage | Storage) => Promise<S> | S\n  public saveState: (key: string, state: {}, storage?: AsyncStorage | Storage) => Promise<void> | void\n  public reducer: (state: S) => Partial<S>\n  public key: string\n  public filter: (mutation: Payload) => boolean\n  public modules: string[]\n  public strictMode: boolean\n  public supportCircular: boolean\n  public mergeOption: MergeOptionType\n\n  /**\n   * The plugin function that can be used inside a vuex store.\n   */\n  public plugin: Plugin<S>\n  /**\n   * A mutation that can be used to restore state\n   * Helpful if we are running in strict mode\n   */\n  public RESTORE_MUTATION: Mutation<S>\n  public subscribed: boolean\n\n  // tslint:disable-next-line:variable-name\n  private _mutex = new SimplePromiseQueue()\n\n  /**\n   * Create a {@link VuexPersistence} object.\n   * Use the <code>plugin</code> function of this class as a\n   * Vuex plugin.\n   * @param {PersistOptions} options\n   */\n  public constructor(options?: PersistOptions<S>) {\n    if (typeof options === 'undefined') options = {} as PersistOptions<S>\n    this.key = ((options.key != null) ? options.key : 'vuex')\n\n    this.subscribed = false\n    this.supportCircular = options.supportCircular || false\n    if (this.supportCircular) {\n      FlattedJSON = require('flatted')\n    }\n    this.mergeOption = options.mergeOption || 'replaceArrays'\n\n    let localStorageLitmus = true\n\n    try {\n      window.localStorage.getItem('')\n    } catch (err) {\n      localStorageLitmus = false\n    }\n\n    /**\n     * 1. First, prefer storage sent in optinos\n     * 2. Otherwise, use window.localStorage if available\n     * 3. Finally, try to use MockStorage\n     * 4. None of above? Well we gotta fail.\n     */\n    if (options.storage) { this.storage = options.storage }\n    else if (localStorageLitmus) { this.storage = window.localStorage }\n    else if (MockStorage) { this.storage = new MockStorage() }\n    else { throw new Error(\"Neither 'window' is defined, nor 'MockStorage' is available\") }\n\n    /**\n     * How this works is -\n     *  1. If there is options.reducer function, we use that, if not;\n     *  2. We check options.modules;\n     *    1. If there is no options.modules array, we use entire state in reducer\n     *    2. Otherwise, we create a reducer that merges all those state modules that are\n     *        defined in the options.modules[] array\n     * @type {((state: S) => {}) | ((state: S) => S) | ((state: any) => {})}\n     */\n    this.reducer = (\n      (options.reducer != null)\n        ? options.reducer\n        : (\n          (options.modules == null)\n            ? ((state: S) => state)\n            : (\n              (state: any) =>\n                (options!.modules as string[]).reduce((a, i) =>\n                  merge(a, { [i]: state[i] }, this.mergeOption), {/* start empty accumulator*/ })\n            )\n        )\n    )\n\n    this.filter = options.filter || ((mutation) => true)\n\n    this.strictMode = options.strictMode || false\n\n    this.RESTORE_MUTATION = function RESTORE_MUTATION(state: S, savedState: any) {\n      const mergedState = merge(state, savedState || {}, this.mergeOption)\n      for (const propertyName of Object.keys(mergedState as {})) {\n        (this as any)._vm.$set(state, propertyName, (mergedState as any)[propertyName])\n      }\n    }\n\n    this.asyncStorage = options.asyncStorage || false\n\n    if (this.asyncStorage) {\n\n      /**\n       * Async {@link #VuexPersistence.restoreState} implementation\n       * @type {((key: string, storage?: Storage) =>\n       *      (Promise<S> | S)) | ((key: string, storage: AsyncStorage) => Promise<any>)}\n       */\n      this.restoreState = (\n        (options.restoreState != null)\n          ? options.restoreState\n          : ((key: string, storage: AsyncStorage) =>\n            (storage).getItem(key)\n              .then((value) =>\n                typeof value === 'string' // If string, parse, or else, just return\n                  ? (\n                    this.supportCircular\n                      ? FlattedJSON.parse(value || '{}')\n                      : JSON.parse(value || '{}')\n                  )\n                  : (value || {})\n              )\n          )\n      )\n\n      /**\n       * Async {@link #VuexPersistence.saveState} implementation\n       * @type {((key: string, state: {}, storage?: Storage) =>\n       *    (Promise<void> | void)) | ((key: string, state: {}, storage?: Storage) => Promise<void>)}\n       */\n      this.saveState = (\n        (options.saveState != null)\n          ? options.saveState\n          : ((key: string, state: {}, storage: AsyncStorage) =>\n            (storage).setItem(\n              key, // Second argument is state _object_ if asyc storage, stringified otherwise\n              // do not stringify the state if the storage type is async\n              (this.asyncStorage\n                ? merge({}, state || {}, this.mergeOption)\n                : (\n                  this.supportCircular\n                    ? FlattedJSON.stringify(state) as any\n                    : JSON.stringify(state) as any\n                )\n              )\n            )\n          )\n      )\n\n      /**\n       * Async version of plugin\n       * @param {Store<S>} store\n       */\n      this.plugin = (store: Store<S>) => {\n        /**\n         * For async stores, we're capturing the Promise returned\n         * by the `restoreState()` function in a `restored` property\n         * on the store itself. This would allow app developers to\n         * determine when and if the store's state has indeed been\n         * refreshed. This approach was suggested by GitHub user @hotdogee.\n         * See https://github.com/championswimmer/vuex-persist/pull/118#issuecomment-500914963\n         * @since 2.1.0\n         */\n        (store as any).restored = ((this.restoreState(this.key, this.storage)) as Promise<S>).then((savedState) => {\n          /**\n           * If in strict mode, do only via mutation\n           */\n          if (this.strictMode) {\n            store.commit('RESTORE_MUTATION', savedState)\n          } else {\n            store.replaceState(merge(store.state, savedState || {}, this.mergeOption) as S)\n          }\n          this.subscriber(store)((mutation: MutationPayload, state: S) => {\n            if (this.filter(mutation)) {\n              this._mutex.enqueue(\n                this.saveState(this.key, this.reducer(state), this.storage) as Promise<void>\n              )\n            }\n          })\n          this.subscribed = true\n        })\n      }\n    } else {\n\n      /**\n       * Sync {@link #VuexPersistence.restoreState} implementation\n       * @type {((key: string, storage?: Storage) =>\n       *    (Promise<S> | S)) | ((key: string, storage: Storage) => (any | string | {}))}\n       */\n      this.restoreState = (\n        (options.restoreState != null)\n          ? options.restoreState\n          : ((key: string, storage: Storage) => {\n            const value = (storage).getItem(key)\n            if (typeof value === 'string') {// If string, parse, or else, just return\n              return (\n                this.supportCircular\n                  ? FlattedJSON.parse(value || '{}')\n                  : JSON.parse(value || '{}')\n              )\n            } else {\n              return (value || {})\n            }\n          })\n      )\n\n      /**\n       * Sync {@link #VuexPersistence.saveState} implementation\n       * @type {((key: string, state: {}, storage?: Storage) =>\n       *     (Promise<void> | void)) | ((key: string, state: {}, storage?: Storage) => Promise<void>)}\n       */\n      this.saveState = (\n        (options.saveState != null)\n          ? options.saveState\n          : ((key: string, state: {}, storage: Storage) =>\n            (storage).setItem(\n              key, // Second argument is state _object_ if localforage, stringified otherwise\n              (\n                this.supportCircular\n                  ? FlattedJSON.stringify(state) as any\n                  : JSON.stringify(state) as any\n              )\n            )\n          )\n      )\n\n      /**\n       * Sync version of plugin\n       * @param {Store<S>} store\n       */\n      this.plugin = (store: Store<S>) => {\n        const savedState = this.restoreState(this.key, this.storage) as S\n\n        if (this.strictMode) {\n          store.commit('RESTORE_MUTATION', savedState)\n        } else {\n          store.replaceState(merge(store.state, savedState || {}, this.mergeOption) as S)\n        }\n\n        this.subscriber(store)((mutation: MutationPayload, state: S) => {\n          if (this.filter(mutation)) {\n            this.saveState(this.key, this.reducer(state), this.storage)\n          }\n        })\n\n        this.subscribed = true\n      }\n    }\n  }\n\n  /**\n   * Creates a subscriber on the store. automatically is used\n   * when this is used a vuex plugin. Not for manual usage.\n   * @param store\n   */\n  private subscriber = (store: Store<S>) =>\n    (handler: (mutation: MutationPayload, state: S) => any) => store.subscribe(handler)\n}\n\nexport {\n  MockStorage, AsyncStorage, PersistOptions\n}\n\nexport default VuexPersistence\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar isCallable = require('../internals/is-callable');\nvar store = require('../internals/shared-store');\n\nvar functionToString = uncurryThis(Function.toString);\n\n// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper\nif (!isCallable(store.inspectSource)) {\n  store.inspectSource = function (it) {\n    return functionToString(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.extractDefinition = void 0;\nfunction extractDefinition(operation) {\n    return operation.query.definitions.find(function (q) { return q.kind === 'OperationDefinition'; });\n}\nexports.extractDefinition = extractDefinition;\n"],"sourceRoot":""}