(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["admin"],{"03ff":function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Users"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"snapRaiseId"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"snapSpendId"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"users"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"searchTerm"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"snapRaiseId"},value:{kind:"Variable",name:{kind:"Name",value:"snapRaiseId"}}},{kind:"Argument",name:{kind:"Name",value:"snapSpendId"},value:{kind:"Variable",name:{kind:"Name",value:"snapSpendId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"users"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullName"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}]},{kind:"Field",name:{kind:"Name",value:"profilePicture"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDisabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isConfirmed"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"nextPage"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:450}};i.loc.source={body:"query Users(\r\n  $limit: Int!,\r\n  $offset: Int,\r\n  $searchTerm: String,\r\n  $snapRaiseId: Int,\r\n  $snapSpendId: Int\r\n) {\r\n  users(\r\n    limit: $limit,\r\n    offset: $offset,\r\n    searchTerm: $searchTerm,\r\n    snapRaiseId: $snapRaiseId,\r\n    snapSpendId: $snapSpendId\r\n  ) {\r\n    users{\r\n      id\r\n      firstName\r\n      lastName\r\n      fullName @client\r\n      profilePicture\r\n      email\r\n      isDisabled\r\n      isConfirmed\r\n    }\r\n    nextPage\r\n  }\r\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var a={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function l(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=a[t]||new Set,l=new Set,r=new Set;n.forEach((function(e){r.add(e)}));while(r.size>0){var o=r;r=new Set,o.forEach((function(e){if(!l.has(e)){l.add(e);var t=a[e]||new Set;t.forEach((function(e){r.add(e)}))}}))}return l.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(function(){i.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),a[e.name.value]=t}}))})(),e.exports=i,e.exports["Users"]=l(i,"Users")},"083a":function(e,t,i){"use strict";i("57c5")},"13de":function(e,t,i){"use strict";var n=i("79c4");const a={class:"absolute inset-0 px-5 flex flex-col",role:"dialog"},s={class:"h-16 flex flex-row items-center"},l={class:"flex-1 pr-4"},r={class:"flex-1 pt-2 overflow-hidden"};function o(e,t,i,o,c,u){const d=Object(n["O"])("snap-icon");return Object(n["F"])(),Object(n["h"])("section",{class:Object(n["x"])(["fixed bg-white shadow-md z-20 transform transition-transform",e.classes])},[Object(n["i"])("div",a,[Object(n["i"])("header",s,[Object(n["i"])("div",l,[Object(n["N"])(e.$slots,"header")]),Object(n["m"])(d,{as:"a",href:"javascript:void(0)",icon:"x-line",size:"lg",onClick:t[0]||(t[0]=t=>e.close()),class:"cursor-pointer pt-1"})]),Object(n["i"])("div",r,[Object(n["N"])(e.$slots,"default")])])],2)}var c=i("6dbe"),u=i("9fa7");let d=class extends u["b"]{constructor(){super(...arguments),this.isOpen=!1}get classes(){switch(this.direction){case"btt":return["inset-x-0","bottom-0","h-screen"].concat(this.isOpen?[]:["translate-y-full"]);case"rtl":default:return["inset-y-0","right-0","w-full"].concat(this.isOpen?[]:["translate-x-full"])}}open(e=!0){this.isOpen||(this.isOpen=!0,e&&this.$emit("open"))}close(e=!0){this.isOpen&&(this.isOpen=!1,e&&this.$emit("close"))}toggle(e){this.isOpen!==e&&(this.isOpen=e,this.$emit(this.isOpen?"open":"close"))}};d=Object(c["__decorate"])([Object(u["a"])({props:["direction"],emits:["open","close"]})],d);var m=d,p=i("41ec"),v=i.n(p);const b=v()(m,[["render",o]]);t["a"]=b},2148:function(e,t,i){"use strict";i("d61c")},2495:function(e,t,i){"use strict";var n=i("79c4");const a=e=>(Object(n["J"])("data-v-99cdd790"),e=e(),Object(n["G"])(),e),s={class:"flex flex-col"},l={class:"block text-sm font-medium text-gray-700 mb-1"},r={class:"multiselect-tag"},o=["onMousedown"],c=a(()=>Object(n["i"])("span",{class:"multiselect-tag-remove-icon"},null,-1)),u=[c],d={class:""},m={class:"text-sm"},p={class:"font-bold"},v={class:"text-xs"},b={key:0,class:"text-red-600 text-sm"};function f(e,t,i,a,c,f){var O,h,j;const g=Object(n["O"])("Multiselect");return Object(n["F"])(),Object(n["h"])("div",s,[Object(n["i"])("span",l,Object(n["S"])(e.label),1),Object(n["m"])(g,{modelValue:e.model,"onUpdate:modelValue":t[0]||(t[0]=t=>e.model=t),options:e.options,mode:"tags","close-on-select":!1,searchable:!0},{tag:Object(n["X"])(({option:e,handleTagRemove:t})=>[Object(n["i"])("div",r,[Object(n["i"])("span",null,Object(n["S"])(e.permission.name),1),Object(n["i"])("span",{class:"multiselect-tag-remove",onMousedown:Object(n["Z"])(i=>t(e,i),["prevent"])},u,40,o)])]),option:Object(n["X"])(({option:e})=>[Object(n["i"])("div",d,[Object(n["i"])("div",m,[Object(n["i"])("span",p,Object(n["S"])(e.permission.name),1)]),Object(n["i"])("div",v,Object(n["S"])(e.permission.description),1)])]),_:1},8,["modelValue","options"]),(null===(O=e.validation)||void 0===O?void 0:O.$invalid)?(Object(n["F"])(),Object(n["h"])("p",b,Object(n["S"])(null===(j=null===(h=e.validation)||void 0===h?void 0:h.$silentErrors[0])||void 0===j?void 0:j.$message),1)):Object(n["g"])("",!0)])}var O=i("6dbe"),h=i("9fa7"),j=i("c7d4"),g=i("7b3d");let k=class extends h["b"]{constructor(){super(...arguments),this.permissions=[]}async created(){this.permissions=[...await Object(g["a"])()].sort((e,t)=>(null===e||void 0===e?void 0:e.name)>(null===t||void 0===t?void 0:t.name)?1:-1)}get model(){return this.$attrs.modelValue}set model(e){this.$emit("update:modelValue",e)}get options(){return this.permissions.map(e=>({value:e.id,label:e.name,permission:e}))}};k=Object(O["__decorate"])([Object(h["a"])({props:["label","validation"],components:{Multiselect:j["a"]}})],k);var y=k,S=(i("4353"),i("2148"),i("41ec")),D=i.n(S);const N=D()(y,[["render",f],["__scopeId","data-v-99cdd790"]]);t["a"]=N},"259b":function(e,t,i){"use strict";i.r(t);var n=i("79c4");const a={class:"text-right"},s=Object(n["l"])("Create new role "),l=Object(n["i"])("h1",{class:"text-2xl font-medium text-gray-800 flex-1"},"Edit role",-1),r=Object(n["i"])("h1",{class:"text-2xl font-medium text-gray-800 flex-1"},"Create new role",-1);function o(e,t,i,o,c,u){const d=Object(n["O"])("InputField"),m=Object(n["O"])("RolesList"),p=Object(n["O"])("snap-button"),v=Object(n["O"])("PageContent"),b=Object(n["O"])("RoleEditForm"),f=Object(n["O"])("SidePanel"),O=Object(n["O"])("RoleAddForm");return Object(n["F"])(),Object(n["h"])(n["a"],null,[Object(n["m"])(v,null,{header:Object(n["X"])(()=>[Object(n["i"])("div",a,[Object(n["m"])(d,{class:"inline-block w-full md:w-1/2 lg:w-1/3",icon:"search-solid","icon-position":"left",placeholder:"Search roles or permissions...",modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=t=>e.search=t)},null,8,["modelValue"])])]),footer:Object(n["X"])(()=>[Object(n["m"])(p,{size:"xs",variant:"primary",onClick:Object(n["Z"])(e.onCreateRole,["prevent"]),shape:"circular"},{default:Object(n["X"])(()=>[s]),_:1},8,["onClick"])]),default:Object(n["X"])(()=>[Object(n["m"])(m,{"onSelect:role":e.onSelectRole,search:e.search,class:"mb-4"},null,8,["onSelect:role","search"])]),_:1}),Object(n["m"])(f,{ref:"roleEditPanel",class:"md:w-2/3 lg:w-1/3"},{header:Object(n["X"])(()=>[l]),default:Object(n["X"])(()=>[Object(n["m"])(b,{"role-id":e.selectedRoleId},null,8,["role-id"])]),_:1},512),Object(n["m"])(f,{ref:"roleAddPanel",class:"md:w-2/3 lg:w-1/3"},{header:Object(n["X"])(()=>[r]),default:Object(n["X"])(()=>[Object(n["m"])(O)]),_:1},512)],64)}var c=i("6dbe"),u=i("9fa7"),d=i("23fb"),m=i("af34");const p={key:0,class:"ui celled table"},v={class:"first-cell-header md:py-4 md:pl-6"},b={class:"mt-1 text-xs leading-3"},f={class:"action-cell"};function O(e,t,i,a,s,l){const r=Object(n["O"])("snap-dropdown"),o=Object(n["O"])("snap-table");return Object(n["F"])(),Object(n["f"])(o,null,{default:Object(n["X"])(()=>[e.roleList.length>0?(Object(n["F"])(),Object(n["h"])("table",p,[Object(n["i"])("tbody",null,[(Object(n["F"])(!0),Object(n["h"])(n["a"],null,Object(n["M"])(e.roleList,t=>(Object(n["F"])(),Object(n["h"])("tr",{key:t.id},[Object(n["i"])("td",v,[Object(n["l"])(Object(n["S"])(t.title)+" ",1),Object(n["i"])("p",b,Object(n["S"])(t.description),1)]),Object(n["i"])("td",f,[Object(n["m"])(r,{minimal:"",".options":e.roleMenuOptions(t.id),onSnapDropdownItemSelected:e.onMenuItemSelected,"track-current-selection":"false"},null,8,[".options","onSnapDropdownItemSelected"])])]))),128))])])):Object(n["g"])("",!0)]),_:1})}i("c770");var h=i("b082"),j=i("d192"),g=i.n(j),k=i("8da6"),y=i("7b3d");const S=(e,t)=>{if(t.length>0){const i=(e.permissions||[]).reduce((e,t)=>{var i,n;return e.push(null===(i=null===t||void 0===t?void 0:t.permission)||void 0===i?void 0:i.name),e.push(null===(n=null===t||void 0===t?void 0:t.permission)||void 0===n?void 0:n.description),e},[e.name,e.title,e.scope,e.description]);return i.filter(e=>!!e).some(e=>e.toLowerCase().indexOf(t.toLowerCase())>=0)}return!0};let D=class extends u["b"]{get roleList(){return(this.roles||[]).filter(e=>S(e,this.search||"")).sort((e,t)=>(null===e||void 0===e?void 0:e.title)>(null===t||void 0===t?void 0:t.title)?1:-1)}roleMenuOptions(e){return[{name:"edit",value:e,text:"Edit",icon:"pencil-alt-line",hasPermission:"role:edit"},{name:"duplicate",value:e,text:"Duplicate",icon:"duplicate-line",hasPermission:"role:edit"},{name:"delete",value:e,text:"Delete",icon:"trash-line",hasPermission:"role:delete"}].filter(e=>{var t;return null===(t=this.hasPermission)||void 0===t?void 0:t.call(this,e.hasPermission)})}async onMenuItemSelected(e){var t;const{name:i,value:n}=e.detail,a=null===(t=this.roles)||void 0===t?void 0:t.find(e=>e.id===n);if(a)switch(i){case"edit":this.onSelectRole(a);break;case"duplicate":await this.onDuplicateRole(a);break;case"delete":await this.onDeleteRole(a);break}}onSelectRole(e){this.$emit("select:role",e)}async onDuplicateRole(e){var t;if(await Object(k["b"])({title:"Warning",description:`Do you want to create the copy of role “${e.title}”?`,type:"warning"})){const i=(null===(t=e.permissions)||void 0===t?void 0:t.map(e=>{var t;return(null===(t=null===e||void 0===e?void 0:e.permission)||void 0===t?void 0:t.id)||""}))||[],n=e.name+"_copy",a="Copy of "+e.title,s=await Object(y["d"])({name:n,title:a,description:e.description,scope:e.scope});await Object(y["f"])(null===s||void 0===s?void 0:s.id,i),await Object(k["a"])({title:"Success",description:`Created the role “${a}”`,type:"success"})}}async onDeleteRole(e){await Object(k["b"])({title:"Warning",description:`Do you want to delete the role “${e.title}”?`,type:"warning"})&&(await Object(y["e"])(e.id),await Object(k["a"])({title:"Success",description:"The role has been deleted",type:"success"}))}};D=Object(c["__decorate"])([Object(u["a"])({props:["search"],emits:["select:role"],apollo:{roles:{query:g.a}},computed:{...Object(h["c"])(["hasPermission"])}})],D);var N=D,w=(i("083a"),i("41ec")),F=i.n(w);const P=F()(N,[["render",O],["__scopeId","data-v-a04deae0"]]);var x=P;const V={class:"flex-1 overflow-y-auto"},E={class:"text-right py-2 px-1"},C=Object(n["l"])("Save ");function _(e,t,i,a,s,l){const r=Object(n["O"])("InputField"),o=Object(n["O"])("PermissionsSelect"),c=Object(n["O"])("snap-button");return Object(n["Y"])((Object(n["F"])(),Object(n["h"])("form",{onSubmit:t[5]||(t[5]=Object(n["Z"])(t=>e.update(),["prevent"])),class:"h-full flex flex-col"},[Object(n["i"])("div",null,[Object(n["m"])(r,{class:"mb-4",label:"Name",type:"text",modelValue:e.name,"onUpdate:modelValue":t[0]||(t[0]=t=>e.name=t),validation:e.v$.name},null,8,["modelValue","validation"]),Object(n["m"])(r,{class:"mb-4",label:"Title",type:"text",modelValue:e.title,"onUpdate:modelValue":t[1]||(t[1]=t=>e.title=t),validation:e.v$.title},null,8,["modelValue","validation"]),Object(n["m"])(r,{class:"mb-4",label:"Description",type:"text",modelValue:e.description,"onUpdate:modelValue":t[2]||(t[2]=t=>e.description=t),validation:e.v$.description},null,8,["modelValue","validation"]),Object(n["m"])(r,{class:"mb-4",label:"Scope",type:"text",modelValue:e.scope,"onUpdate:modelValue":t[3]||(t[3]=t=>e.scope=t),validation:e.v$.scope},null,8,["modelValue","validation"])]),Object(n["i"])("div",V,[Object(n["m"])(o,{modelValue:e.permissions,"onUpdate:modelValue":t[4]||(t[4]=t=>e.permissions=t),validation:e.v$.permissions,label:"Assigned Permissions",class:"mb-4"},null,8,["modelValue","validation"])]),Object(n["i"])("div",E,[Object(n["m"])(c,{"button-type":"submit",shape:"circular",size:"xs",variant:"primary"},{default:Object(n["X"])(()=>[C]),_:1})])],544)),[[n["V"],e.role]])}var I=i("163c");function A(e,t,i,a,s,l){const r=Object(n["O"])("snap-checkbox-button");return Object(n["F"])(),Object(n["f"])(r,Object(n["v"])(e.$attrs,{checked:e.isChecked,onSnapCheckboxUpdated:e.onInput}),null,16,["checked","onSnapCheckboxUpdated"])}i("22f4");var $=i("0fd2");let T=class extends $["a"]{onInput(e){const t=e.detail.checked;if(Array.isArray(this.modelValue)){const e=[...this.modelValue],i=this.value;t&&!e.includes(i)&&this.$emit("update:modelValue",[...e,i]),!t&&e.includes(i)&&this.$emit("update:modelValue",e.filter(e=>e!==i))}else this.$emit("update:modelValue",t)}get isChecked(){return Array.isArray(this.modelValue)?this.modelValue.includes(this.value):!!this.modelValue}};T=Object(c["__decorate"])([Object(u["a"])({props:{modelValue:[Boolean,Array],value:String}})],T);var q=T;const L=F()(q,[["render",A]]);var R=L,U=i("2495"),B=i("d92d");let M=class extends I["a"]{constructor(){super(...arguments),this.name="",this.title="",this.description="",this.scope="",this.permissions=[]}async created(){this.role=void 0,await this.getRole(this.roleId)}async getRole(e){var t,i,n,a,s,l;""!==e&&e!==(null===(t=this.role)||void 0===t?void 0:t.id)&&(this.role=await Object(y["b"])(e),this.name=null===(i=this.role)||void 0===i?void 0:i.name,this.title=null===(n=this.role)||void 0===n?void 0:n.title,this.description=null===(a=this.role)||void 0===a?void 0:a.description,this.scope=null===(s=this.role)||void 0===s?void 0:s.scope,this.permissions=((null===(l=this.role)||void 0===l?void 0:l.permissions)||[]).map(e=>{var t;return null===(t=null===e||void 0===e?void 0:e.permission)||void 0===t?void 0:t.id}))}async update(){var e,t,i;this.isFormValid()&&(await Object(y["g"])(null===(e=this.role)||void 0===e?void 0:e.id,{name:this.name,title:this.title,description:this.description,scope:this.scope}),await Object(y["f"])(null===(t=this.role)||void 0===t?void 0:t.id,this.permissions),await Object(k["a"])({title:`Role “${null===(i=this.role)||void 0===i?void 0:i.title}” has been updated`,type:"success"}))}};Object(c["__decorate"])([Object(I["b"])({required:Object(B["e"])("Role name is required"),shortname:Object(B["g"])("Role name must include lowercase letters, numbers and underline symbol only")})],M.prototype,"name",void 0),Object(c["__decorate"])([Object(I["b"])({required:Object(B["e"])("Role title is required")})],M.prototype,"title",void 0),Object(c["__decorate"])([Object(I["b"])({})],M.prototype,"description",void 0),Object(c["__decorate"])([Object(I["b"])({shortname:Object(B["g"])("Scope must include lowercase letters, numbers and underline symbol only")})],M.prototype,"scope",void 0),Object(c["__decorate"])([Object(I["b"])({empty:Object(B["b"])("Permissions list can't be empty")})],M.prototype,"permissions",void 0),Object(c["__decorate"])([Object(I["c"])()],M.prototype,"update",null),M=Object(c["__decorate"])([Object(u["a"])({props:["roleId"],components:{Checkbox:R,InputField:m["a"],PermissionsSelect:U["a"]},watch:{roleId(e){this.getRole(e)}},validations(){return this.$options.model$}})],M);var X=M;const z=F()(X,[["render",_]]);var G=z;const H={class:"flex-1 overflow-y-auto"},Z={class:"text-right py-2 px-1"},W=Object(n["l"])("Save ");function Q(e,t,i,a,s,l){const r=Object(n["O"])("InputField"),o=Object(n["O"])("PermissionsSelect"),c=Object(n["O"])("snap-button");return Object(n["F"])(),Object(n["h"])("form",{onSubmit:t[5]||(t[5]=Object(n["Z"])(t=>e.create(),["prevent"])),class:"h-full flex flex-col"},[Object(n["i"])("div",null,[Object(n["m"])(r,{class:"mb-4",label:"Name",type:"text",modelValue:e.name,"onUpdate:modelValue":t[0]||(t[0]=t=>e.name=t),validation:e.v$.name},null,8,["modelValue","validation"]),Object(n["m"])(r,{class:"mb-4",label:"Title",type:"text",modelValue:e.title,"onUpdate:modelValue":t[1]||(t[1]=t=>e.title=t),validation:e.v$.title},null,8,["modelValue","validation"]),Object(n["m"])(r,{class:"mb-4",label:"Description",type:"text",modelValue:e.description,"onUpdate:modelValue":t[2]||(t[2]=t=>e.description=t),validation:e.v$.description},null,8,["modelValue","validation"]),Object(n["m"])(r,{class:"mb-4",label:"Scope",type:"text",modelValue:e.scope,"onUpdate:modelValue":t[3]||(t[3]=t=>e.scope=t),validation:e.v$.scope},null,8,["modelValue","validation"])]),Object(n["i"])("div",H,[Object(n["m"])(o,{modelValue:e.permissions,"onUpdate:modelValue":t[4]||(t[4]=t=>e.permissions=t),validation:e.v$.permissions,label:"Assigned Permissions",class:"mb-4"},null,8,["modelValue","validation"])]),Object(n["i"])("div",Z,[Object(n["m"])(c,{"button-type":"submit",shape:"circular",size:"xs",variant:"primary"},{default:Object(n["X"])(()=>[W]),_:1})])],32)}let J=class extends I["a"]{constructor(){super(...arguments),this.name="",this.title="",this.description="",this.scope="",this.permissions=[]}async create(){if(this.isFormValid()){const e=await Object(y["d"])({name:this.name,title:this.title,description:this.description,scope:this.scope});await Object(y["f"])(null===e||void 0===e?void 0:e.id,this.permissions),this.reset()}}reset(){this.name="",this.title="",this.description="",this.scope="",this.permissions=[],this.resetValidation()}};Object(c["__decorate"])([Object(I["b"])({required:Object(B["e"])("Role name is required"),shortname:Object(B["g"])("Role name must include lowercase letters, numbers and underline symbol only")})],J.prototype,"name",void 0),Object(c["__decorate"])([Object(I["b"])({required:Object(B["e"])("Role title is required")})],J.prototype,"title",void 0),Object(c["__decorate"])([Object(I["b"])({})],J.prototype,"description",void 0),Object(c["__decorate"])([Object(I["b"])({shortname:Object(B["g"])("Scope must include lowercase letters, numbers and underline symbol only")})],J.prototype,"scope",void 0),Object(c["__decorate"])([Object(I["b"])({empty:Object(B["b"])("Permissions list can't be empty")})],J.prototype,"permissions",void 0),Object(c["__decorate"])([Object(I["c"])()],J.prototype,"create",null),J=Object(c["__decorate"])([Object(u["a"])({components:{Checkbox:R,InputField:m["a"],PermissionsSelect:U["a"]},validations(){return this.$options.model$}})],J);var K=J;const Y=F()(K,[["render",Q]]);var ee=Y,te=i("13de");let ie=class extends u["b"]{constructor(){super(...arguments),this.selectedRoleId="",this.search=""}onCreateRole(){this.$refs.roleEditPanel.close(),this.$refs.roleAddPanel.open()}onSelectRole({id:e}){this.selectedRoleId=e||"",this.$refs.roleAddPanel.close(),this.$refs.roleEditPanel.open()}};ie=Object(c["__decorate"])([Object(u["a"])({components:{PageContent:d["a"],InputField:m["a"],RolesList:x,RoleAddForm:ee,RoleEditForm:G,SidePanel:te["a"]}})],ie);var ne=ie;const ae=F()(ne,[["render",o]]);t["default"]=ae},4353:function(e,t,i){"use strict";i("9006")},"48df":function(e,t,i){"use strict";i.r(t);var n=i("79c4");const a={class:"text-right"},s={class:"flex"},l=Object(n["l"])("Create new user "),r=Object(n["i"])("h1",{class:"text-2xl font-medium text-gray-800"},"Create new user",-1);function o(e,t,i,o,c,u){const d=Object(n["O"])("InputField"),m=Object(n["O"])("UserList"),p=Object(n["O"])("snap-button"),v=Object(n["O"])("Pagination"),b=Object(n["O"])("PageContent"),f=Object(n["O"])("UserCreateForm"),O=Object(n["O"])("SidePanel"),h=Object(n["O"])("UserEditHeader"),j=Object(n["O"])("UserEditForm"),g=Object(n["O"])("UserEditRolesForm");return Object(n["F"])(),Object(n["h"])(n["a"],null,[Object(n["m"])(b,null,{header:Object(n["X"])(()=>[Object(n["i"])("div",a,[Object(n["m"])(d,{class:"inline-block w-full md:w-1/2 lg:w-1/3",icon:"search-solid","icon-position":"left",modelValue:e.query.search,"onUpdate:modelValue":t[0]||(t[0]=t=>e.query.search=t),placeholder:"Search users...",onInput:t[1]||(t[1]=t=>e.reset())},null,8,["modelValue"])])]),footer:Object(n["X"])(()=>[Object(n["i"])("div",s,[Object(n["i"])("div",null,[e.hasEveryPermissions(["user:create"])?(Object(n["F"])(),Object(n["f"])(p,{key:0,size:"xs",shape:"circular",variant:"primary",onClick:t[3]||(t[3]=t=>e.$router.push({name:"admin/users",params:{operation:"create"}}))},{default:Object(n["X"])(()=>[l]),_:1})):Object(n["g"])("",!0)]),Object(n["m"])(v,{modelValue:e.query,"onUpdate:modelValue":t[4]||(t[4]=t=>e.query=t),class:"flex-1"},null,8,["modelValue"])])]),default:Object(n["X"])(()=>[Object(n["m"])(m,{modelValue:e.query,"onUpdate:modelValue":t[2]||(t[2]=t=>e.query=t)},null,8,["modelValue"])]),_:1}),e.hasEveryPermissions(["user:create"])?(Object(n["F"])(),Object(n["f"])(O,{key:0,ref:"userCreatePanel",direction:"rtl",class:"md:w-2/3 lg:w-1/3",onClose:t[5]||(t[5]=t=>e.$router.push({name:"admin/users",query:e.queryParams}))},{header:Object(n["X"])(()=>[r]),default:Object(n["X"])(()=>[Object(n["m"])(f)]),_:1},512)):Object(n["g"])("",!0),e.canEditUser?(Object(n["F"])(),Object(n["f"])(O,{key:1,ref:"userEditPropertiesPanel",direction:"rtl",class:"md:w-2/3 lg:w-1/3",onClose:t[6]||(t[6]=t=>e.$router.push({name:"admin/users",query:e.queryParams}))},{header:Object(n["X"])(()=>[Object(n["m"])(h,{"user-id":e.id},null,8,["user-id"])]),default:Object(n["X"])(()=>[Object(n["m"])(j,{"user-id":e.id},null,8,["user-id"])]),_:1},512)):Object(n["g"])("",!0),e.hasEveryPermissions(["role:read","permission:read"])?(Object(n["F"])(),Object(n["f"])(O,{key:2,ref:"userEditPermissionsPanel",direction:"rtl",class:"md:w-2/3 lg:w-1/3",onClose:t[7]||(t[7]=t=>e.$router.push({name:"admin/users",query:e.queryParams}))},{header:Object(n["X"])(()=>[Object(n["m"])(h,{"user-id":e.id},null,8,["user-id"])]),default:Object(n["X"])(()=>[Object(n["m"])(g,{"user-id":e.id},null,8,["user-id"])]),_:1},512)):Object(n["g"])("",!0)],64)}var c=i("6dbe"),u=i("9fa7"),d=i("b082"),m=i("23fb"),p=i("af34");const v={class:"flex items-center justify-between"},b=Object(n["i"])("div",{class:"text-xs hidden md:block"},null,-1),f={class:"flex-1 flex justify-end"},O=Object(n["l"])("Previous "),h=Object(n["l"])("Next ");function j(e,t,i,a,s,l){const r=Object(n["O"])("snap-button");return Object(n["F"])(),Object(n["h"])("div",v,[b,Object(n["i"])("div",f,[Object(n["m"])(r,{onClick:t[0]||(t[0]=t=>e.previous()),disabled:!e.canPrevious,shape:"circular",variant:"tertiary",class:"mr-2",size:"xs"},{default:Object(n["X"])(()=>[O]),_:1},8,["disabled"]),Object(n["m"])(r,{onClick:t[1]||(t[1]=t=>e.next()),disabled:!e.canNext,shape:"circular",variant:"tertiary",size:"xs"},{default:Object(n["X"])(()=>[h]),_:1},8,["disabled"])])])}let g=class extends u["b"]{constructor(){super(...arguments),this.modelValue={currentPage:0,pageSize:0}}get canPrevious(){return this.modelValue.currentPage>0}get canNext(){return!!this.modelValue.nextPage}previous(){this.canPrevious&&(this.modelValue.currentPage-=1,this.$emit("update:modelValue",this.modelValue))}next(){this.canNext&&(this.modelValue.currentPage+=1,this.$emit("update:modelValue",this.modelValue))}};g=Object(c["__decorate"])([Object(u["a"])({props:["modelValue"],emits:["update:modelValue"]})],g);var k=g,y=i("41ec"),S=i.n(y);const D=S()(k,[["render",j]]);var N=D;const w={key:1,role:"list",class:"space-0 gap-0 sm:grid sm:grid-cols-2 md:grid md:grid-cols-2 lg:grid-cols-3 2xl:grid-cols-4"};function F(e,t,i,a,s,l){var r;const o=Object(n["O"])("Spinner"),c=Object(n["O"])("snap-avatar"),u=Object(n["O"])("snap-icon"),d=Object(n["O"])("router-link");return Object(n["F"])(),Object(n["h"])(n["a"],null,[e.$apollo.loading?(Object(n["F"])(),Object(n["f"])(o,{key:0,class:"w-8 h-8 mx-auto my-6"})):Object(n["g"])("",!0),e.$apollo.loading?Object(n["g"])("",!0):(Object(n["F"])(),Object(n["h"])("ul",w,[(Object(n["F"])(!0),Object(n["h"])(n["a"],null,Object(n["M"])(null===(r=e.users)||void 0===r?void 0:r.users,e=>(Object(n["F"])(),Object(n["h"])("li",{key:e.id,class:Object(n["x"])(["px-4 py-2 hover:bg-white overflow-hidden",e.isDisabled?["opacity-50","bg-gray-200"]:[]])},[Object(n["m"])(d,{to:{name:"admin/users",params:{operation:"edit",id:e.id}},class:"block flex items-center"},{default:Object(n["X"])(({href:t,navigate:i})=>[Object(n["m"])(c,{"image-src":e.profilePicture||"","avatar-text-top":e.fullName,"avatar-text-bottom":e.email,"avatar-link":t,onClick:i,size:"lg",class:"flex-1"},null,8,["image-src","avatar-text-top","avatar-text-bottom","avatar-link","onClick"]),Object(n["i"])("div",null,[e.isConfirmed?Object(n["g"])("",!0):(Object(n["F"])(),Object(n["f"])(u,{key:0,title:"Profile is not confirmed",icon:"exclamation-line",color:"#a0a7b2",size:"xs"}))])]),_:2},1032,["to"])],2))),128))]))],64)}var P=i("03ff"),x=i.n(P),V=i("6f83");let E=class extends u["b"]{constructor(){super(...arguments),this.modelValue={currentPage:0,pageSize:0}}get variables(){const e=this.modelValue.pageSize,t=this.modelValue.currentPage*e,i=this.modelValue.search||"";return{limit:e,offset:t,searchTerm:i}}setNextPage(e){this.modelValue.nextPage=e,this.$emit("update:modelValue",this.modelValue)}};E=Object(c["__decorate"])([Object(u["a"])({props:["modelValue"],emits:["update:modelValue","select:user"],components:{Spinner:V["a"]},data(){return{}},apollo:{users:{query:x.a,variables(){return this.variables},result({data:e}){var t;this.setNextPage(!!(null===(t=e.users)||void 0===t?void 0:t.nextPage))},context:{debounceKey:"users",debounceTimeout:250}}}})],E);var C=E;const _=S()(C,[["render",F]]);var I=_;const A={class:"flex-1 overflow-y-auto"},$={class:"text-right py-2 px-1"},T=Object(n["l"])("Save ");function q(e,t,i,a,s,l){const r=Object(n["O"])("InputField"),o=Object(n["O"])("InputFileField"),c=Object(n["O"])("AppsSelect"),u=Object(n["O"])("snap-button");return Object(n["F"])(),Object(n["h"])("form",{onSubmit:t[7]||(t[7]=Object(n["Z"])(t=>e.create(),["prevent"])),class:"h-full flex flex-col"},[Object(n["i"])("div",A,[Object(n["m"])(r,{class:"mb-4",label:"First Name",type:"text",modelValue:e.firstName,"onUpdate:modelValue":t[0]||(t[0]=t=>e.firstName=t),validation:e.v$.firstName},null,8,["modelValue","validation"]),Object(n["m"])(r,{class:"mb-4",label:"Last Name",type:"text",modelValue:e.lastName,"onUpdate:modelValue":t[1]||(t[1]=t=>e.lastName=t),validation:e.v$.lastName},null,8,["modelValue","validation"]),Object(n["m"])(r,{class:"mb-4",label:"Email",type:"email",icon:"at-symbol-line","icon-position":"left",modelValue:e.email,"onUpdate:modelValue":t[2]||(t[2]=t=>e.email=t),validation:e.v$.email},null,8,["modelValue","validation"]),Object(n["m"])(r,{class:"mb-4",label:"Mobile Number",type:"text",icon:"phone-line","icon-position":"left",modelValue:e.phoneNumber,"onUpdate:modelValue":t[3]||(t[3]=t=>e.phoneNumber=t),validation:e.v$.phoneNumber},null,8,["modelValue","validation"]),Object(n["m"])(r,{class:"block mb-4",autocomplete:"off",label:"Password",name:"password",type:"password",modelValue:e.password,"onUpdate:modelValue":t[4]||(t[4]=t=>e.password=t),validation:e.v$.password},null,8,["modelValue","validation"]),Object(n["m"])(o,{class:"mb-4",label:"Profile Picture",modelValue:e.profilePicture,"onUpdate:modelValue":t[5]||(t[5]=t=>e.profilePicture=t),validation:e.v$.profilePicture},null,8,["modelValue","validation"]),Object(n["m"])(c,{label:"Apps",modelValue:e.apps,"onUpdate:modelValue":t[6]||(t[6]=t=>e.apps=t)},null,8,["modelValue"])]),Object(n["i"])("div",$,[Object(n["m"])(u,{"button-type":"submit",shape:"circular",size:"xs",variant:"primary"},{default:Object(n["X"])(()=>[T]),_:1})])],32)}var L=i("163c"),R=i("2f49");const U=e=>(Object(n["J"])("data-v-1c013fea"),e=e(),Object(n["G"])(),e),B={class:"flex flex-col"},M={class:"block text-sm font-medium text-gray-700 mb-1"},X={class:"multiselect-tag"},z=["onMousedown"],G=U(()=>Object(n["i"])("span",{class:"multiselect-tag-remove-icon"},null,-1)),H=[G],Z={class:""},W={class:"text-sm"},Q={class:"font-bold"};function J(e,t,i,a,s,l){const r=Object(n["O"])("snap-logo"),o=Object(n["O"])("Multiselect");return Object(n["F"])(),Object(n["h"])("div",B,[Object(n["i"])("span",M,Object(n["S"])(e.label),1),Object(n["m"])(o,Object(n["v"])(e.$attrs,{options:e.options,mode:"tags","close-on-select":!1}),{tag:Object(n["X"])(({option:e,handleTagRemove:t})=>[Object(n["i"])("div",X,[Object(n["m"])(r,{class:"w-4 mr-1",product:e.consumer.logo,variant:"compact"},null,8,["product"]),Object(n["i"])("span",null,Object(n["S"])(e.label),1),Object(n["i"])("span",{class:"multiselect-tag-remove",onMousedown:Object(n["Z"])(i=>t(e,i),["prevent"])},H,40,z)])]),option:Object(n["X"])(({option:e})=>[Object(n["i"])("div",Z,[Object(n["i"])("div",W,[Object(n["i"])("span",Q,Object(n["S"])(e.label),1)])])]),_:1},16,["options"])])}var K=i("c7d4"),Y=i("ecf1");let ee=class extends u["b"]{constructor(){super(...arguments),this.consumers=[]}async created(){this.consumers=[...await Object(Y["b"])()].filter(e=>e.inApps).sort((e,t)=>(null===e||void 0===e?void 0:e.title)>(null===t||void 0===t?void 0:t.title)?1:-1)}get options(){return this.consumers.map(e=>({value:e.id,label:e.title,consumer:e}))}};ee=Object(c["__decorate"])([Object(u["a"])({props:["value","label"],components:{Multiselect:K["a"]}})],ee);var te=ee;i("4353"),i("65af");const ie=S()(te,[["render",J],["__scopeId","data-v-1c013fea"]]);var ne=ie,ae=i("8da6"),se=i("d92d"),le=i("2138");let re=class extends L["a"]{constructor(){super(...arguments),this.firstName="",this.lastName="",this.email="",this.phoneNumber="",this.profilePicture="",this.apps=[],this.password=""}async create(){this.isFormValid()&&(this.user=await Object(le["f"])({email:this.email,firstName:this.firstName,lastName:this.lastName,password:this.password,phoneNumber:this.phoneNumber,profilePicture:""!==this.profilePicture?this.profilePicture:void 0,apps:this.apps}),await this.$router.push({name:"admin/users",params:{operation:"edit",id:this.user.id}}),this.reset(),await Object(ae["a"])({title:"Profile has been created",type:"success"}))}reset(){this.email="",this.firstName="",this.lastName="",this.password="",this.phoneNumber="",this.profilePicture="",this.apps=[],this.resetValidation()}};Object(c["__decorate"])([Object(L["b"])({required:Object(se["e"])("First name is required.")})],re.prototype,"firstName",void 0),Object(c["__decorate"])([Object(L["b"])({required:Object(se["e"])("Last name is required.")})],re.prototype,"lastName",void 0),Object(c["__decorate"])([Object(L["b"])({required:Object(se["e"])("Email is required."),email:Object(se["a"])("Email is invalid")})],re.prototype,"email",void 0),Object(c["__decorate"])([Object(L["b"])({phone:Object(se["d"])("Please enter a valid phone number.")})],re.prototype,"phoneNumber",void 0),Object(c["__decorate"])([Object(L["b"])({required:Object(se["e"])("Password is required."),strong:Object(se["c"])("Your password must be 8-32 characters, and include at least one lowercase letter, one uppercase letter, and a number.")})],re.prototype,"password",void 0),Object(c["__decorate"])([Object(L["c"])()],re.prototype,"create",null),re=Object(c["__decorate"])([Object(u["a"])({computed:{...Object(d["c"])(["hasEveryPermissions"])},components:{InputField:p["a"],InputFileField:R["a"],AppsSelect:ne}})],re);var oe=re;const ce=S()(oe,[["render",q]]);var ue=ce;const de={class:"flex-1 overflow-y-auto"},me={class:"flex items-center py-2 px-1"},pe=Object(n["l"])("Reset password "),ve=Object(n["l"])("Edit permissions "),be=Object(n["l"])("Save "),fe=Object(n["l"])("Send Magic Link to Reset Password");function Oe(e,t,i,a,s,l){const r=Object(n["O"])("InputField"),o=Object(n["O"])("InputFileField"),c=Object(n["O"])("LanguageSelect"),u=Object(n["O"])("AppsSelect"),d=Object(n["O"])("Toggle"),m=Object(n["O"])("snap-button"),p=Object(n["O"])("UserResetPasswordForm"),v=Object(n["O"])("Dialog");return Object(n["F"])(),Object(n["h"])(n["a"],null,[e.userId?Object(n["Y"])((Object(n["F"])(),Object(n["h"])("form",{key:0,autocomplete:"off",onSubmit:t[11]||(t[11]=Object(n["Z"])(t=>e.update(),["prevent"])),class:"h-full flex flex-col"},[Object(n["i"])("div",de,[Object(n["m"])(r,{class:"mb-4",label:"First Name",type:"text",modelValue:e.firstName,"onUpdate:modelValue":t[0]||(t[0]=t=>e.firstName=t),validation:e.v$.firstName},null,8,["modelValue","validation"]),Object(n["m"])(r,{class:"mb-4",label:"Last Name",type:"text",modelValue:e.lastName,"onUpdate:modelValue":t[1]||(t[1]=t=>e.lastName=t),validation:e.v$.lastName},null,8,["modelValue","validation"]),e.canEditEmail?(Object(n["F"])(),Object(n["f"])(r,{key:0,class:"mb-4",label:"Email",type:"email",icon:"at-symbol-line","icon-position":"left",modelValue:e.email,"onUpdate:modelValue":t[2]||(t[2]=t=>e.email=t),validation:e.v$.email},null,8,["modelValue","validation"])):Object(n["g"])("",!0),Object(n["m"])(r,{class:"mb-4",autocomplete:"off",label:"Mobile Number",type:"text",icon:"phone-line","icon-position":"left",modelValue:e.phoneNumber,"onUpdate:modelValue":t[3]||(t[3]=t=>e.phoneNumber=t),validation:e.v$.phoneNumber},null,8,["modelValue","validation"]),e.canEditPassword?(Object(n["F"])(),Object(n["f"])(r,{key:1,class:"block mb-4",autocomplete:"new-password",label:"Password",name:"password",type:"password","help-text":"Leave empty if don't want to change",modelValue:e.password,"onUpdate:modelValue":t[4]||(t[4]=t=>e.password=t),validation:e.v$.password},null,8,["modelValue","validation"])):Object(n["g"])("",!0),Object(n["m"])(o,{class:"mb-4",label:"Profile Picture",modelValue:e.profilePicture,"onUpdate:modelValue":t[5]||(t[5]=t=>e.profilePicture=t),validation:e.v$.profilePicture},null,8,["modelValue","validation"]),Object(n["m"])(c,{class:"mb-4",label:"Language",modelValue:e.language,"onUpdate:modelValue":t[6]||(t[6]=t=>e.language=t)},null,8,["modelValue"]),Object(n["m"])(u,{label:"Apps",modelValue:e.apps,"onUpdate:modelValue":t[7]||(t[7]=t=>e.apps=t),class:"mb-4"},null,8,["modelValue"]),Object(n["m"])(d,{label:"Disabled user",modelValue:e.isDisabled,"onUpdate:modelValue":t[8]||(t[8]=t=>e.isDisabled=t),class:"mb-4"},null,8,["modelValue"]),Object(n["m"])(d,{label:"Confirmed user",modelValue:e.isConfirmed,"onUpdate:modelValue":t[9]||(t[9]=t=>e.isConfirmed=t),class:"mb-4"},null,8,["modelValue"])]),Object(n["i"])("div",me,[Object(n["m"])(m,{size:"xs",shape:"circular",variant:"secondary",class:"mr-auto",onClick:e.openResetPasswordDialog},{default:Object(n["X"])(()=>[pe]),_:1},8,["onClick"]),e.hasEveryPermissions(["role:read","permission:read"])?(Object(n["F"])(),Object(n["f"])(m,{key:0,"button-type":"button",shape:"circular",size:"xs",onClick:t[10]||(t[10]=t=>e.$router.push({name:"admin/users",params:{operation:"permissions",id:e.userId}})),variant:"tertiary",class:"mr-2"},{default:Object(n["X"])(()=>[ve]),_:1})):Object(n["g"])("",!0),Object(n["m"])(m,{"button-type":"submit",size:"xs",variant:"primary",disabled:e.canSubmitForm},{default:Object(n["X"])(()=>[be]),_:1},8,["disabled"])])],544)),[[n["V"],e.user]]):Object(n["g"])("",!0),(Object(n["F"])(),Object(n["f"])(n["b"],{to:"body"},[Object(n["m"])(v,{ref:"userResetPasswordDialog"},{header:Object(n["X"])(()=>[fe]),default:Object(n["X"])(({close:t})=>[Object(n["m"])(p,{user:e.user,onClose:t},null,8,["user","onClose"])]),_:1},512)]))],64)}const he={class:"flex items-center"},je=["for"],ge={key:0,class:"block text-gray-700 font-medium"},ke={key:1,class:"block text-gray-500"};function ye(e,t,i,a,s,l){const r=Object(n["O"])("snap-toggle");return Object(n["F"])(),Object(n["h"])("div",he,[Object(n["m"])(r,{onSnapButtonToggle:e.onInput,id:e.ID,label:e.label,checked:e.isChecked},null,8,["onSnapButtonToggle","id","label","checked"]),e.label||e.description?(Object(n["F"])(),Object(n["h"])("label",{key:0,for:e.ID,class:"flex-1 text-sm ml-2"},[e.label?(Object(n["F"])(),Object(n["h"])("span",ge,Object(n["S"])(e.label),1)):Object(n["g"])("",!0),e.description?(Object(n["F"])(),Object(n["h"])("span",ke,Object(n["S"])(e.description),1)):Object(n["g"])("",!0)],8,je)):Object(n["g"])("",!0)])}var Se=i("0fd2"),De=i("d73d");let Ne=class extends Se["a"]{get ID(){return Object(De["a"])("toggle_")}onInput(e){this.$emit("update:modelValue",e.detail.checked)}get isChecked(){return!!this.modelValue}};Ne=Object(c["__decorate"])([Object(u["a"])({props:{label:String,description:String,modelValue:Boolean}})],Ne);var we=Ne;const Fe=S()(we,[["render",ye]]);var Pe=Fe;const xe={class:"flex flex-row items-center"},Ve={class:"flex-1 pr-4 text-xl font-medium text-gray-800"},Ee={class:"flex-1 pt-2 overflow-hidden"};function Ce(e,t,i,a,s,l){const r=Object(n["O"])("snap-icon");return Object(n["F"])(),Object(n["f"])(n["c"],{name:"dialog"},{default:Object(n["X"])(()=>[e.isOpen?(Object(n["F"])(),Object(n["h"])("div",{key:0,role:"dialog",onClick:t[1]||(t[1]=Object(n["Z"])((...t)=>e.close&&e.close(...t),["prevent"])),class:"fixed z-40 inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center"},[Object(n["i"])("div",{class:"inner bg-white m-4 p-6 rounded",onClick:t[0]||(t[0]=Object(n["Z"])(()=>{},["stop"]))},[Object(n["i"])("header",xe,[Object(n["i"])("div",Ve,[Object(n["N"])(e.$slots,"header",{close:e.close},void 0,!0)]),Object(n["m"])(r,{as:"a",href:"javascript:void(0)",icon:"x-line",size:"lg",onClick:e.close,class:"cursor-pointer"},null,8,["onClick"])]),Object(n["i"])("div",Ee,[Object(n["N"])(e.$slots,"default",{close:e.close},void 0,!0)])])])):Object(n["g"])("",!0)]),_:3})}let _e=class extends u["b"]{constructor(){super(...arguments),this.isModal=!1,this.isOpen=!1}open(e=!0){this.isOpen||(this.isOpen=!0,e&&this.$emit("open"))}close(e=!0){this.isOpen&&(this.isOpen=!1,e&&this.$emit("close"))}toggle(e){this.isOpen!==e&&(this.isOpen=e,this.$emit(this.isOpen?"open":"close"))}};_e=Object(c["__decorate"])([Object(u["a"])({props:["isModal"],emits:["open","close"]})],_e);var Ie=_e;i("7dc3");const Ae=S()(Ie,[["render",Ce],["__scopeId","data-v-200c4ab4"]]);var $e=Ae;const Te={class:"my-4 mx-2"},qe={class:"flex justify-end mb-1 px-1"},Le=Object(n["l"])("Cancel "),Re=Object(n["l"])("Send ");function Ue(e,t,i,a,s,l){var r,o,c;const u=Object(n["O"])("snap-avatar"),d=Object(n["O"])("RadioButton"),m=Object(n["O"])("snap-button");return e.user?(Object(n["F"])(),Object(n["h"])("form",{key:0,onSubmit:t[3]||(t[3]=Object(n["Z"])((...t)=>e.resetPassword&&e.resetPassword(...t),["prevent"]))},[Object(n["m"])(u,{"image-src":e.user.profilePicture||"","avatar-text-top":e.user.fullName,"avatar-link":"javascript:void(0)",size:"lg"},null,8,["image-src","avatar-text-top"]),Object(n["i"])("div",Te,[(null===(r=e.user)||void 0===r?void 0:r.phoneNumber)?(Object(n["F"])(),Object(n["f"])(d,{key:0,value:e.TransportEnum.Sms,label:null===(o=e.user)||void 0===o?void 0:o.phoneNumber,modelValue:e.transport,"onUpdate:modelValue":t[0]||(t[0]=t=>e.transport=t),class:"mb-2"},null,8,["value","label","modelValue"])):Object(n["g"])("",!0),Object(n["m"])(d,{value:e.TransportEnum.Email,label:null===(c=e.user)||void 0===c?void 0:c.email,modelValue:e.transport,"onUpdate:modelValue":t[1]||(t[1]=t=>e.transport=t)},null,8,["value","label","modelValue"])]),Object(n["i"])("div",qe,[Object(n["m"])(m,{"button-type":"button",size:"xs",shape:"circular",variant:"tertiary",class:"mr-2",onClick:t[2]||(t[2]=t=>e.$emit("close"))},{default:Object(n["X"])(()=>[Le]),_:1}),Object(n["m"])(m,{"button-type":"submit",size:"xs",shape:"circular",variant:"primary",disabled:e.state$.is("SUBMITTING")},{default:Object(n["X"])(()=>[Re]),_:1},8,["disabled"])])],32)):Object(n["g"])("",!0)}var Be=i("d09d"),Me=i("c0fa");let Xe=class extends L["a"]{constructor(){super(...arguments),this.transport=Be["a"].Email}beforeMount(){var e;(null===(e=this.user)||void 0===e?void 0:e.phoneNumber)&&(this.transport=Be["a"].Sms)}async resetPassword(){var e;const{result:t}=await Object(le["l"])({id:null===(e=this.user)||void 0===e?void 0:e.id,transport:this.transport,withLink:!0});this.close(),await Object(ae["a"])({title:"Text message have been sent to "+(null===t||void 0===t?void 0:t[0].recipient),type:"success"})}close(){this.$emit("close")}get TransportEnum(){return Be["a"]}};Object(c["__decorate"])([Object(L["c"])()],Xe.prototype,"resetPassword",null),Xe=Object(c["__decorate"])([Object(u["a"])({props:{user:Object},emits:["close"],components:{RadioButton:Me["a"]},watch:{error(e){e&&Object(ae["a"])({title:e.message,description:e.description,type:"danger"})}}})],Xe);var ze=Xe;const Ge=S()(ze,[["render",Ue]]);var He=Ge,Ze=i("fc81"),We=i("aa2f");let Qe=class extends L["a"]{constructor(){super(...arguments),this.userId="",this.firstName="",this.lastName="",this.email="",this.phoneNumber="",this.profilePicture="",this.language="",this.apps=[],this.password="",this.isDisabled=!1,this.isConfirmed=!1}get canEditEmail(){var e,t;return!((null===(e=this.featureOn)||void 0===e?void 0:e.call(this,"USER-381-not-allow-to-edit-child-email"))&&Object(De["c"])(this.email)||(null===(t=this.featureOn)||void 0===t?void 0:t.call(this,"USER-445-not-allow-to-edit-internal-email"))&&Object(We["b"])(this.email))}get canEditPassword(){var e;return!(null===(e=this.featureOn)||void 0===e?void 0:e.call(this,"USER-420-disable-password-editing-for-internal-users"))||!Object(We["b"])(this.email)}get canSubmitForm(){var e,t;return(null===(e=this.featureOn)||void 0===e?void 0:e.call(this,"USER-434-allow-impersonation-without-user-edit-permission"))?this.state$.is("SUBMITTING")||!(null===(t=this.hasEveryPermissions)||void 0===t?void 0:t.call(this,["user:edit"])):this.state$.is("SUBMITTING")}created(){this.user=void 0,this.userId&&this.getUser(this.userId)}async getUser(e){var t;e&&e!==(null===(t=this.user)||void 0===t?void 0:t.id)&&(this.user=await Object(le["e"])(e),this.parseUserToModel(),this.resetValidation())}async update(){var e;this.isFormValid()&&(this.user=await Object(le["p"])({id:null===(e=this.user)||void 0===e?void 0:e.id,firstName:this.firstName,lastName:this.lastName,phoneNumber:this.phoneNumber,apps:this.apps,isDisabled:this.isDisabled,isConfirmed:this.isConfirmed,language:this.language,...this.canEditEmail?{email:this.email}:{},...this.canEditPassword?{password:this.password}:{},...""!==this.profilePicture?{profilePicture:this.profilePicture}:{}}),this.parseUserToModel(),await Object(ae["a"])({title:"Profile has been updated",type:"success"}))}parseUserToModel(){var e,t,i,n,a,s,l,r;this.firstName=(null===(e=this.user)||void 0===e?void 0:e.firstName)||"",this.lastName=(null===(t=this.user)||void 0===t?void 0:t.lastName)||"",this.email=(null===(i=this.user)||void 0===i?void 0:i.email)||"",this.phoneNumber=(null===(n=this.user)||void 0===n?void 0:n.phoneNumber)||"",this.profilePicture="",this.password="",this.apps=(null===(a=this.user)||void 0===a?void 0:a.apps)||[],this.isDisabled=!!(null===(s=this.user)||void 0===s?void 0:s.isDisabled),this.isConfirmed=!!(null===(l=this.user)||void 0===l?void 0:l.isConfirmed),this.language=(null===(r=this.user)||void 0===r?void 0:r.language)||"en"}openResetPasswordDialog(){this.$refs.userResetPasswordDialog.open()}};Object(c["__decorate"])([Object(L["b"])({required:Object(se["e"])("First name is required.")})],Qe.prototype,"firstName",void 0),Object(c["__decorate"])([Object(L["b"])({required:Object(se["e"])("Last name is required.")})],Qe.prototype,"lastName",void 0),Object(c["__decorate"])([Object(L["b"])({required:Object(se["e"])("Email is required."),email:Object(se["a"])("Email is invalid")})],Qe.prototype,"email",void 0),Object(c["__decorate"])([Object(L["b"])({phone:Object(se["d"])("Please enter a valid phone number.")})],Qe.prototype,"phoneNumber",void 0),Object(c["__decorate"])([Object(L["b"])({})],Qe.prototype,"profilePicture",void 0),Object(c["__decorate"])([Object(L["b"])({})],Qe.prototype,"language",void 0),Object(c["__decorate"])([Object(L["b"])({strong:Object(se["c"])("Your password must be 8-32 characters, and include at least one lowercase letter, one uppercase letter, and a number.")})],Qe.prototype,"password",void 0),Object(c["__decorate"])([Object(L["c"])()],Qe.prototype,"update",null),Qe=Object(c["__decorate"])([Object(u["a"])({props:{userId:String},computed:{...Object(d["c"])(["hasEveryPermissions","featureOn"])},components:{AppsSelect:ne,Dialog:$e,InputField:p["a"],InputFileField:R["a"],LanguageSelect:Ze["a"],Toggle:Pe,UserResetPasswordForm:He},watch:{userId(e){e&&this.getUser(e)},error(e){e&&Object(ae["a"])({title:e.message,description:e.description,type:"danger"})}}})],Qe);var Je=Qe;const Ke=S()(Je,[["render",Oe]]);var Ye=Ke;const et={class:"flex-1 overflow-y-auto"},tt={class:"flex justify-end py-2 px-1"},it=Object(n["l"])("Edit user "),nt=Object(n["l"])("Save ");function at(e,t,i,a,s,l){const r=Object(n["O"])("RolesSelect"),o=Object(n["O"])("PermissionsSelect"),c=Object(n["O"])("ComputedPermissionsList"),u=Object(n["O"])("snap-button");return e.userId?(Object(n["F"])(),Object(n["h"])("form",{key:0,onSubmit:t[4]||(t[4]=Object(n["Z"])(t=>e.update(),["prevent"])),class:"h-full flex flex-col"},[Object(n["i"])("div",null,[Object(n["m"])(r,{modelValue:e.assignedRoles,"onUpdate:modelValue":t[0]||(t[0]=t=>e.assignedRoles=t),label:"Assigned Roles",class:"mb-4"},null,8,["modelValue"]),Object(n["m"])(o,{modelValue:e.assignedPermissionIds,"onUpdate:modelValue":t[1]||(t[1]=t=>e.assignedPermissionIds=t),label:"Assigned Permissions",class:"mb-4"},null,8,["modelValue"])]),Object(n["i"])("div",et,[Object(n["m"])(c,{roles:e.assignedRoles,permissions:e.assignedPermissions,modelValue:e.negativePermissions,"onUpdate:modelValue":t[2]||(t[2]=t=>e.negativePermissions=t)},null,8,["roles","permissions","modelValue"])]),Object(n["i"])("div",tt,[Object(n["m"])(u,{"button-type":"button",shape:"circular",size:"xs",onClick:t[3]||(t[3]=t=>e.$router.push({name:"admin/users",params:{operation:"edit",id:e.userId}})),variant:"tertiary",class:"mr-2"},{default:Object(n["X"])(()=>[it]),_:1}),Object(n["m"])(u,{"button-type":"submit",shape:"circular",size:"xs",variant:"primary",disabled:e.state$.is("SUBMITTING")},{default:Object(n["X"])(()=>[nt]),_:1},8,["disabled"])])],32)):Object(n["g"])("",!0)}const st=e=>(Object(n["J"])("data-v-5dd61f68"),e=e(),Object(n["G"])(),e),lt={class:"flex flex-col"},rt={class:"block text-sm font-medium text-gray-700 mb-1"},ot={class:"multiselect-tag"},ct={key:0},ut=["onMousedown"],dt=st(()=>Object(n["i"])("span",{class:"multiselect-tag-remove-icon"},null,-1)),mt=[dt],pt={class:""},vt={class:"text-sm"},bt={class:"font-bold"},ft={key:0},Ot={class:"text-xs"};function ht(e,t,i,a,s,l){const r=Object(n["O"])("Multiselect");return Object(n["F"])(),Object(n["h"])("div",lt,[Object(n["i"])("span",rt,Object(n["S"])(e.label),1),Object(n["m"])(r,Object(n["v"])(e.$attrs,{options:e.options,mode:"tags","close-on-select":!1}),{tag:Object(n["X"])(({option:e,handleTagRemove:t})=>[Object(n["i"])("div",ot,[Object(n["i"])("span",null,[Object(n["l"])(Object(n["S"])(e.role.name),1),e.role.scope?(Object(n["F"])(),Object(n["h"])("span",ct,":"+Object(n["S"])(e.role.scope),1)):Object(n["g"])("",!0)]),Object(n["i"])("span",{class:"multiselect-tag-remove",onMousedown:Object(n["Z"])(i=>t(e,i),["prevent"])},mt,40,ut)])]),option:Object(n["X"])(({option:e})=>[Object(n["i"])("div",pt,[Object(n["i"])("div",vt,[Object(n["i"])("span",bt,Object(n["S"])(e.role.title),1),e.role.scope?(Object(n["F"])(),Object(n["h"])("span",ft,":"+Object(n["S"])(e.role.scope),1)):Object(n["g"])("",!0),Object(n["l"])(" ("+Object(n["S"])(e.role.permissions.length)+") ",1)]),Object(n["i"])("div",Ot,Object(n["S"])(e.role.description),1)])]),_:1},16,["options"])])}var jt=i("7b3d");let gt=class extends u["b"]{constructor(){super(...arguments),this.roles=[]}async created(){this.roles=[...await Object(jt["c"])()].sort((e,t)=>(null===e||void 0===e?void 0:e.title)>(null===t||void 0===t?void 0:t.title)?1:-1)}get options(){return this.roles.map(e=>({value:e.id,label:e.title,role:e}))}};gt=Object(c["__decorate"])([Object(u["a"])({props:["label"],components:{Multiselect:K["a"]}})],gt);var kt=gt;i("c9e7");const yt=S()(kt,[["render",ht],["__scopeId","data-v-5dd61f68"]]);var St=yt,Dt=i("2495");const Nt={class:"block text-sm font-medium text-gray-700 mb-1"},wt={class:"text-xs"},Ft={key:0},Pt={class:"font-bold"},xt={key:0},Vt={key:1},Et={class:"line-through"},Ct={key:0};function _t(e,t,i,a,s,l){const r=Object(n["O"])("snap-icon");return Object(n["F"])(),Object(n["h"])("div",null,[Object(n["i"])("span",Nt," Computed permissions ("+Object(n["S"])(e.computedPermissionsCount)+") ",1),Object(n["i"])("ul",wt,[(Object(n["F"])(!0),Object(n["h"])(n["a"],null,Object(n["M"])(e.computedPermissions,t=>(Object(n["F"])(),Object(n["h"])("li",{key:e.keyOf(t)},[e.isNegative(t)?Object(n["g"])("",!0):(Object(n["F"])(),Object(n["h"])("div",Ft,[Object(n["m"])(r,{as:"span",onClick:i=>e.toggle(t,!1),class:"align-middle inline-block cursor-pointer pr-1",icon:"minus-circle-line",color:"#00aa00",size:"sm"},null,8,["onClick"]),Object(n["i"])("span",Pt,[Object(n["i"])("span",null,Object(n["S"])(t.name),1),t.scope?(Object(n["F"])(),Object(n["h"])("span",xt,":"+Object(n["S"])(t.scope),1)):Object(n["g"])("",!0)])])),e.isNegative(t)?(Object(n["F"])(),Object(n["h"])("div",Vt,[Object(n["m"])(r,{as:"span",onClick:i=>e.toggle(t,!0),class:"align-middle inline-block cursor-pointer pr-1",icon:"plus-circle-line",color:"#aa0000",size:"sm"},null,8,["onClick"]),Object(n["i"])("span",Et,[Object(n["i"])("span",null,Object(n["S"])(t.name),1),t.scope?(Object(n["F"])(),Object(n["h"])("span",Ct,":"+Object(n["S"])(t.scope),1)):Object(n["g"])("",!0)])])):Object(n["g"])("",!0)]))),128))])])}const It=e=>String(e.id+(null!==e.scope?e.scope:"")),At=(e,t)=>It(e)===It(t);let $t=class extends u["b"]{constructor(){super(...arguments),this.modelValue=[],this.roles=[],this.permissions=[],this.negativePermissions=[],this.rolesRegistry=[],this.permissionsRegistry=[]}get computedPermissions(){let e=[];return this.roles.forEach(t=>{const i=this.rolesRegistry.find(e=>e.id===t);"undefined"!==typeof i&&(e=e.concat(((null===i||void 0===i?void 0:i.permissions)||[]).map(e=>({...null===e||void 0===e?void 0:e.permission,scope:i.scope}))))}),this.permissions.forEach(({id:t,scope:i})=>{const n=this.permissionsRegistry.find(e=>e.id===t);"undefined"!==typeof n&&e.push({...n,scope:i})}),e=e.filter((e,t,i)=>i.findIndex(t=>At(t,e))===t),e=e.sort((e,t)=>(null===e||void 0===e?void 0:e.name)>(null===t||void 0===t?void 0:t.name)?1:-1),e}get computedPermissionsCount(){return this.computedPermissions.filter(e=>!this.isNegative(e)).length}async created(){this.rolesRegistry=await Object(jt["c"])(),this.permissionsRegistry=await Object(jt["a"])(),this.update(this.modelValue)}update(e){this.negativePermissions=[...e]}isNegative(e){return this.negativePermissions.findIndex(t=>At(t,e))>=0}toggle(e,t){t&&(this.negativePermissions=this.negativePermissions.filter(t=>!At(t,e))),t||this.negativePermissions.push({id:e.id,scope:e.scope}),this.$emit("update:modelValue",this.negativePermissions)}keyOf(e){return It(e)}};$t=Object(c["__decorate"])([Object(u["a"])({props:["roles","permissions","modelValue"],emits:["update:modelValue"],watch:{modelValue(e){Array.isArray(e)&&this.update(e)}}})],$t);var Tt=$t;const qt=S()(Tt,[["render",_t]]);var Lt=qt;let Rt=class extends L["a"]{constructor(){super(...arguments),this.userId="",this.assignedRoles=[],this.assignedPermissions=[],this.negativePermissions=[]}created(){this.userId&&this.getUserPermissions(this.userId)}async getUserPermissions(e){if(e){const{roleIds:t,permissions:i,negativePermissions:n}=await Object(jt["h"])(e);this.assignedRoles=t,this.assignedPermissions=i,this.negativePermissions=n}}async update(){this.userId&&(await Object(jt["i"])(this.userId,this.assignedRoles,this.assignedPermissions.map(e=>({id:e.id,scope:""})),this.negativePermissions.map(e=>({id:e.id,scope:e.scope}))),await Object(ae["a"])({title:"Permissions have been updated",type:"success"}))}get assignedPermissionIds(){return this.assignedPermissions.map(e=>e.id)}set assignedPermissionIds(e){this.assignedPermissions=e.map(e=>({id:e,scope:""}))}};Object(c["__decorate"])([Object(L["b"])({})],Rt.prototype,"assignedRoles",void 0),Object(c["__decorate"])([Object(L["b"])({})],Rt.prototype,"assignedPermissions",void 0),Object(c["__decorate"])([Object(L["b"])({})],Rt.prototype,"negativePermissions",void 0),Object(c["__decorate"])([Object(L["c"])()],Rt.prototype,"update",null),Rt=Object(c["__decorate"])([Object(u["a"])({props:{userId:String},components:{ComputedPermissionsList:Lt,RolesSelect:St,PermissionsSelect:Dt["a"]},watch:{userId(e){e&&this.getUserPermissions(e)}},validations(){return this.$options.model$}})],Rt);var Ut=Rt;const Bt=S()(Ut,[["render",at]]);var Mt=Bt;const Xt={class:"flex"},zt={class:""};function Gt(e,t,i,a,s,l){const r=Object(n["O"])("snap-avatar"),o=Object(n["O"])("UserCard"),c=Object(n["O"])("snap-button"),u=Object(n["O"])("router-link");return Object(n["F"])(),Object(n["h"])("div",Xt,[e.userId?(Object(n["F"])(),Object(n["f"])(o,{key:0,"user-id":e.userId},{default:Object(n["X"])(({profilePicture:e,fullName:t,email:i})=>[Object(n["m"])(r,{"image-src":e||"","avatar-text-top":t,"avatar-text-bottom":i,"avatar-link":"javascript:void(0)",size:"lg",class:"flex-1"},null,8,["image-src","avatar-text-top","avatar-text-bottom"])]),_:1},8,["user-id"])):Object(n["g"])("",!0),Object(n["i"])("div",zt,[e.userId&&e.hasPermission("user:impersonate")?(Object(n["F"])(),Object(n["f"])(u,{key:0,to:{name:"link/impersonate",params:{id:e.userId}}},{default:Object(n["X"])(({navigate:e})=>[Object(n["m"])(c,{icon:"login-line",shape:"circular",variant:"tertiary",onClick:e},null,8,["onClick"])]),_:1},8,["to"])):Object(n["g"])("",!0)])])}function Ht(e,t,i,a,s,l){return e.user?Object(n["N"])(e.$slots,"default",Object(n["y"])(Object(n["v"])({key:0},{...e.user}))):Object(n["g"])("",!0)}var Zt=i("487f"),Wt=i.n(Zt);let Qt=class extends u["b"]{};Qt=Object(c["__decorate"])([Object(u["a"])({props:["userId"],apollo:{user:{query:Wt.a,variables(){const e=this.userId;return{id:e}}}}})],Qt);var Jt=Qt;const Kt=S()(Jt,[["render",Ht]]);var Yt=Kt;let ei=class extends u["b"]{};ei=Object(c["__decorate"])([Object(u["a"])({props:{userId:String},components:{UserCard:Yt},computed:{...Object(d["c"])(["hasPermission"])}})],ei);var ti=ei;const ii=S()(ti,[["render",Gt]]);var ni=ii,ai=i("13de");let si=class extends u["b"]{constructor(){super(...arguments),this.forms=[],this.query={search:"",currentPage:0,pageSize:window.innerWidth>1500?48:24,nextPage:!1}}get userEditFormPermissions(){var e;return(null===(e=this.featureOn)||void 0===e?void 0:e.call(this,"USER-434-allow-impersonation-without-user-edit-permission"))?["user:read"]:["user:edit"]}get canEditUser(){var e;return!!(null===(e=this.hasEveryPermissions)||void 0===e?void 0:e.call(this,this.userEditFormPermissions))}get queryParams(){var e;return(null===(e=this.featureOn)||void 0===e?void 0:e.call(this,"USER-455-sync-users-query-with-url"))?{search:this.query.search||void 0,currentPage:this.query.currentPage||0}:{}}async beforeMount(){var e;await this.$store.dispatch("useTreatments"),this.forms=[{operation:"create",panel:this.$refs.userCreatePanel,permissions:["user:create"],requiredId:!1},{operation:"edit",panel:this.$refs.userEditPropertiesPanel,permissions:this.userEditFormPermissions,requiredId:!0},{operation:"permissions",panel:this.$refs.userEditPermissionsPanel,permissions:["role:read","permission:read"],requiredId:!0}],this.checkOperation({operation:this.operation,id:this.id}),(null===(e=this.featureOn)||void 0===e?void 0:e.call(this,"USER-455-sync-users-query-with-url"))&&((this.$route.query.search||this.$route.query.currentPage)&&(this.query.search=this.$route.query.search,this.query.currentPage=parseInt(this.$route.query.currentPage)||0),Object(n["W"])(this.query,()=>{this.$router.replace({query:this.queryParams})}))}reset(){this.query.currentPage=0}checkOperation({operation:e,id:t}){this.forms.forEach(i=>{var n;i.panel&&(null===(n=this.hasEveryPermissions)||void 0===n?void 0:n.call(this,i.permissions))&&(i.operation==e&&(!i.requiredId||i.requiredId&&t)?i.panel.open():i.panel.close(!1))})}};si=Object(c["__decorate"])([Object(u["a"])({props:{operation:String,id:String},components:{InputField:p["a"],Pagination:N,UserList:I,UserCreateForm:ue,UserEditForm:Ye,UserEditRolesForm:Mt,UserEditHeader:ni,SidePanel:ai["a"],PageContent:m["a"]},computed:{...Object(d["c"])(["hasEveryPermissions","featureOn"])},beforeRouteUpdate(e,t,i){this.checkOperation(e.params),i()}})],si);var li=si;const ri=S()(li,[["render",o]]);t["default"]=ri},"571e":function(e,t,i){},"57c5":function(e,t,i){},"5bb8":function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UserPermissions"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userPermissions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"userId"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"roleIds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"permissions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scope"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"negativePermissions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scope"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:205}};i.loc.source={body:"query UserPermissions($userId: String) {\r\n  userPermissions(userId: $userId) {\r\n    roleIds\r\n    permissions {\r\n      id\r\n      scope\r\n    }\r\n    negativePermissions {\r\n      id\r\n      scope\r\n    }\r\n  }\r\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var a={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function l(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=a[t]||new Set,l=new Set,r=new Set;n.forEach((function(e){r.add(e)}));while(r.size>0){var o=r;r=new Set,o.forEach((function(e){if(!l.has(e)){l.add(e);var t=a[e]||new Set;t.forEach((function(e){r.add(e)}))}}))}return l.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(function(){i.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),a[e.name.value]=t}}))})(),e.exports=i,e.exports["UserPermissions"]=l(i,"UserPermissions")},"65af":function(e,t,i){"use strict";i("b661")},"7af2":function(e,t,i){},"7b3d":function(e,t,i){"use strict";i.d(t,"c",(function(){return g})),i.d(t,"b",(function(){return k})),i.d(t,"a",(function(){return y})),i.d(t,"f",(function(){return S})),i.d(t,"d",(function(){return D})),i.d(t,"g",(function(){return N})),i.d(t,"e",(function(){return w})),i.d(t,"h",(function(){return F})),i.d(t,"i",(function(){return P}));var n=i("c182"),a=i("d192"),s=i.n(a),l=i("9dab"),r=i.n(l),o=i("ff2b"),c=i.n(o),u=i("897e"),d=i.n(u),m=i("a0eb"),p=i.n(m),v=i("81d0"),b=i.n(v),f=i("9a08"),O=i.n(f),h=i("5bb8"),j=i.n(h);const g=async()=>n["a"].query({query:s.a}).then(({data:e})=>e.roles),k=async e=>n["a"].query({query:s.a,variables:{id:e}}).then(({data:e})=>e.roles[0]),y=async()=>n["a"].query({query:b.a}).then(({data:e})=>e.permissions),S=async(e,t)=>n["a"].mutate({mutation:p.a,variables:{roleId:e,permissionIds:t}}).then(({data:e})=>e.rolePermissionsUpdate),D=async e=>n["a"].mutate({mutation:r.a,variables:{data:e},update(e,{data:{roleCreate:t}}){e.modify({fields:{roles(e=[]){return[...e,t]}}})}}).then(({data:e})=>e.roleCreate),N=async(e,t)=>n["a"].mutate({mutation:c.a,variables:{id:e,data:t}}).then(({data:e})=>e.roleUpdate),w=async e=>n["a"].mutate({mutation:d.a,variables:{id:e},update(e,{data:{roleDelete:t}}){e.modify({fields:{roles(e=[]){return e.filter(e=>e.id!==t.id)}}})}}).then(({data:e})=>e.deleteRole),F=async e=>n["a"].query({query:j.a,variables:{userId:e}}).then(({data:e})=>e.userPermissions),P=async(e,t,i,a)=>n["a"].mutate({mutation:O.a,variables:{userId:e,roleIds:t,permissions:i,negativePermissions:a}}).then(({data:e})=>(n["a"].resetStore(),e.userPermissionsUpdate))},"7dc3":function(e,t,i){"use strict";i("7af2")},"81d0":function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Permissions"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"permissions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:79}};i.loc.source={body:"query Permissions {\r\n  permissions {\r\n    id\r\n    name\r\n    description\r\n  }\r\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var a={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function l(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=a[t]||new Set,l=new Set,r=new Set;n.forEach((function(e){r.add(e)}));while(r.size>0){var o=r;r=new Set,o.forEach((function(e){if(!l.has(e)){l.add(e);var t=a[e]||new Set;t.forEach((function(e){r.add(e)}))}}))}return l.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(function(){i.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),a[e.name.value]=t}}))})(),e.exports=i,e.exports["Permissions"]=l(i,"Permissions")},"897e":function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RoleDelete"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"roleDelete"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:78}};i.loc.source={body:"mutation RoleDelete($id: String!) {\r\n  roleDelete(id: $id) {\r\n    id\r\n  }\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var a={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function l(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=a[t]||new Set,l=new Set,r=new Set;n.forEach((function(e){r.add(e)}));while(r.size>0){var o=r;r=new Set,o.forEach((function(e){if(!l.has(e)){l.add(e);var t=a[e]||new Set;t.forEach((function(e){r.add(e)}))}}))}return l.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(function(){i.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),a[e.name.value]=t}}))})(),e.exports=i,e.exports["RoleDelete"]=l(i,"RoleDelete")},9006:function(e,t,i){},"9a08":function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UserPermissionsUpdate"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"roleIds"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"permissions"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UserPermissionAssignment"}}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"negativePermissions"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UserPermissionAssignment"}}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userPermissionsUpdate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"userId"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}},{kind:"Argument",name:{kind:"Name",value:"roleIds"},value:{kind:"Variable",name:{kind:"Name",value:"roleIds"}}},{kind:"Argument",name:{kind:"Name",value:"permissions"},value:{kind:"Variable",name:{kind:"Name",value:"permissions"}}},{kind:"Argument",name:{kind:"Name",value:"negativePermissions"},value:{kind:"Variable",name:{kind:"Name",value:"negativePermissions"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:357}};i.loc.source={body:"mutation UserPermissionsUpdate(\r\n  $userId: String!,\r\n  $roleIds: [String!]!,\r\n  $permissions: [UserPermissionAssignment!]!,\r\n  $negativePermissions: [UserPermissionAssignment!]!\r\n) {\r\n  userPermissionsUpdate(\r\n    userId: $userId,\r\n    roleIds: $roleIds,\r\n    permissions: $permissions,\r\n    negativePermissions: $negativePermissions\r\n  ) {\r\n    id\r\n  }\r\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var a={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function l(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=a[t]||new Set,l=new Set,r=new Set;n.forEach((function(e){r.add(e)}));while(r.size>0){var o=r;r=new Set,o.forEach((function(e){if(!l.has(e)){l.add(e);var t=a[e]||new Set;t.forEach((function(e){r.add(e)}))}}))}return l.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(function(){i.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),a[e.name.value]=t}}))})(),e.exports=i,e.exports["UserPermissionsUpdate"]=l(i,"UserPermissionsUpdate")},"9dab":function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RoleCreate"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RoleArguments"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"roleCreate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scope"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"permissions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"permission"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:240}};i.loc.source={body:"mutation RoleCreate($data: RoleArguments!) {\r\n  roleCreate(data: $data) {\r\n    id\r\n    name\r\n    title\r\n    description\r\n    scope\r\n    permissions {\r\n      permission {\r\n        id\r\n        name\r\n        description\r\n      }\r\n    }\r\n  }\r\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var a={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function l(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=a[t]||new Set,l=new Set,r=new Set;n.forEach((function(e){r.add(e)}));while(r.size>0){var o=r;r=new Set,o.forEach((function(e){if(!l.has(e)){l.add(e);var t=a[e]||new Set;t.forEach((function(e){r.add(e)}))}}))}return l.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(function(){i.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),a[e.name.value]=t}}))})(),e.exports=i,e.exports["RoleCreate"]=l(i,"RoleCreate")},a0eb:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RolePermissionsUpdate"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"roleId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"permissionIds"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rolePermissionsUpdate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"roleId"},value:{kind:"Variable",name:{kind:"Name",value:"roleId"}}},{kind:"Argument",name:{kind:"Name",value:"permissionIds"},value:{kind:"Variable",name:{kind:"Name",value:"permissionIds"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"permissions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"permission"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:250}};i.loc.source={body:"mutation RolePermissionsUpdate($roleId: String!, $permissionIds: [String!]!) {\r\n  rolePermissionsUpdate(roleId: $roleId, permissionIds: $permissionIds) {\r\n    id\r\n    permissions {\r\n      permission {\r\n        id\r\n        name\r\n      }\r\n    }\r\n  }\r\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var a={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function l(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=a[t]||new Set,l=new Set,r=new Set;n.forEach((function(e){r.add(e)}));while(r.size>0){var o=r;r=new Set,o.forEach((function(e){if(!l.has(e)){l.add(e);var t=a[e]||new Set;t.forEach((function(e){r.add(e)}))}}))}return l.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(function(){i.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),a[e.name.value]=t}}))})(),e.exports=i,e.exports["RolePermissionsUpdate"]=l(i,"RolePermissionsUpdate")},b661:function(e,t,i){},c7d4:function(e,t,i){"use strict";var n=i("79c4");function a(e){return-1!==[null,void 0,!1].indexOf(e)}function s(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t?String(e).toLowerCase().trim():String(e).normalize("NFD").replace(/(?:[\^`\xA8\xAF\xB4\xB7\xB8\u02B0-\u034E\u0350-\u0357\u035D-\u0362\u0374\u0375\u037A\u0384\u0385\u0483-\u0487\u0559\u0591-\u05A1\u05A3-\u05BD\u05BF\u05C1\u05C2\u05C4\u064B-\u0652\u0657\u0658\u06DF\u06E0\u06E5\u06E6\u06EA-\u06EC\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F5\u0818\u0819\u08E3-\u08FE\u093C\u094D\u0951-\u0954\u0971\u09BC\u09CD\u0A3C\u0A4D\u0ABC\u0ACD\u0AFD-\u0AFF\u0B3C\u0B4D\u0B55\u0BCD\u0C4D\u0CBC\u0CCD\u0D3B\u0D3C\u0D4D\u0DCA\u0E47-\u0E4C\u0E4E\u0EBA\u0EC8-\u0ECC\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F82-\u0F84\u0F86\u0F87\u0FC6\u1037\u1039\u103A\u1063\u1064\u1069-\u106D\u1087-\u108D\u108F\u109A\u109B\u135D-\u135F\u17C9-\u17D3\u17DD\u1939-\u193B\u1A75-\u1A7C\u1A7F\u1AB0-\u1ABD\u1B34\u1B44\u1B6B-\u1B73\u1BAA\u1BAB\u1C36\u1C37\u1C78-\u1C7D\u1CD0-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1D2C-\u1D6A\u1DC4-\u1DCF\u1DF5-\u1DF9\u1DFD-\u1DFF\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2CEF-\u2CF1\u2E2F\u302A-\u302F\u3099-\u309C\u30FC\uA66F\uA67C\uA67D\uA67F\uA69C\uA69D\uA6F0\uA6F1\uA700-\uA721\uA788-\uA78A\uA7F8\uA7F9\uA8C4\uA8E0-\uA8F1\uA92B-\uA92E\uA953\uA9B3\uA9C0\uA9E5\uAA7B-\uAA7D\uAABF-\uAAC2\uAAF6\uAB5B-\uAB5F\uAB69-\uAB6B\uABEC\uABED\uFB1E\uFE20-\uFE2F\uFF3E\uFF40\uFF70\uFF9E\uFF9F\uFFE3]|\uD800\uDEE0|\uD802[\uDEE5\uDEE6]|\uD803[\uDD22-\uDD27\uDF46-\uDF50]|\uD804[\uDCB9\uDCBA\uDD33\uDD34\uDD73\uDDC0\uDDCA-\uDDCC\uDE35\uDE36\uDEE9\uDEEA\uDF3C\uDF4D\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC42\uDC46\uDCC2\uDCC3\uDDBF\uDDC0\uDE3F\uDEB6\uDEB7\uDF2B]|\uD806[\uDC39\uDC3A\uDD3D\uDD3E\uDD43\uDDE0\uDE34\uDE47\uDE99]|\uD807[\uDC3F\uDD42\uDD44\uDD45\uDD97]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF8F-\uDF9F\uDFF0\uDFF1]|\uD834[\uDD67-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD]|\uD838[\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD46\uDD48-\uDD4A])/g,"").toLowerCase().trim()}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){c(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function c(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function u(e,t,i){var r=Object(n["T"])(e),u=r.options,d=r.mode,m=r.trackBy,p=r.limit,v=r.hideSelected,b=r.createTag,f=r.createOption,O=r.label,h=r.appendNewTag,j=r.appendNewOption,g=r.multipleLabel,k=r.object,y=r.loading,S=r.delay,D=r.resolveOnLoad,N=r.minChars,w=r.filterResults,F=r.clearOnSearch,P=r.clearOnSelect,x=r.valueProp,V=r.canDeselect,E=r.max,C=r.strict,_=r.closeOnSelect,I=r.groups,A=(r.groupLabel,r.groupOptions),$=r.groupHideEmpty,T=r.groupSelect,q=i.iv,L=i.ev,R=i.search,U=i.clearSearch,B=i.update,M=i.pointer,X=i.clearPointer,z=i.blur,G=i.focus,H=i.deactivate,Z=Object(n["L"])([]),W=Object(n["L"])([]),Q=Object(n["L"])(!1),J=Object(n["d"])((function(){return b.value||f.value||!1})),K=Object(n["d"])((function(){return void 0!==h.value?h.value:void 0===j.value||j.value})),Y=Object(n["d"])((function(){if(I.value){var e=W.value||[],t=[];return e.forEach((function(e){Fe(e[A.value]).forEach((function(i){t.push(Object.assign({},i,e.disabled?{disabled:!0}:{}))}))})),t}var i=Fe(W.value||[]);return Z.value.length&&(i=i.concat(Z.value)),i})),ee=Object(n["d"])((function(){return I.value?Ne((W.value||[]).map((function(e){var t,i=Fe(e[A.value]);return o(o({},e),{},(c(t={group:!0},A.value,we(i,!1).map((function(t){return Object.assign({},t,e.disabled?{disabled:!0}:{})}))),c(t,"__VISIBLE__",we(i).map((function(t){return Object.assign({},t,e.disabled?{disabled:!0}:{})}))),t))}))):[]})),te=Object(n["d"])((function(){var e=Y.value;return le.value.length&&(e=le.value.concat(e)),e=we(e),p.value>0&&(e=e.slice(0,p.value)),e})),ie=Object(n["d"])((function(){switch(d.value){case"single":return!a(q.value[x.value]);case"multiple":case"tags":return!a(q.value)&&q.value.length>0}})),ne=Object(n["d"])((function(){return void 0!==g&&void 0!==g.value?g.value(q.value):q.value&&q.value.length>1?"".concat(q.value.length," options selected"):"1 option selected"})),ae=Object(n["d"])((function(){return!Y.value.length&&!Q.value&&!le.value.length})),se=Object(n["d"])((function(){return Y.value.length>0&&0==te.value.length&&(R.value&&I.value||!I.value)})),le=Object(n["d"])((function(){var e;return!1!==J.value&&R.value?-1!==ye(R.value)?[]:[(e={},c(e,x.value,R.value),c(e,O.value,R.value),c(e,re.value,R.value),e)]:[]})),re=Object(n["d"])((function(){return m.value||O.value})),oe=Object(n["d"])((function(){switch(d.value){case"single":return null;case"multiple":case"tags":return[]}})),ce=Object(n["d"])((function(){return y.value||Q.value})),ue=function(e){switch("object"!==l(e)&&(e=ke(e)),d.value){case"single":B(e);break;case"multiple":case"tags":B(q.value.concat(e))}t.emit("select",me(e),e)},de=function(e){switch("object"!==l(e)&&(e=ke(e)),d.value){case"single":ve();break;case"tags":case"multiple":B(Array.isArray(e)?q.value.filter((function(t){return-1===e.map((function(e){return e[x.value]})).indexOf(t[x.value])})):q.value.filter((function(t){return t[x.value]!=e[x.value]})))}t.emit("deselect",me(e),e)},me=function(e){return k.value?e:e[x.value]},pe=function(e){de(e)},ve=function(){t.emit("clear"),B(oe.value)},be=function(e){if(void 0!==e.group)return"single"!==d.value&&ge(e[A.value])&&e[A.value].length;switch(d.value){case"single":return!a(q.value)&&q.value[x.value]==e[x.value];case"tags":case"multiple":return!a(q.value)&&-1!==q.value.map((function(e){return e[x.value]})).indexOf(e[x.value])}},fe=function(e){return!0===e.disabled},Oe=function(){return!(void 0===E||-1===E.value||!ie.value&&E.value>0)&&q.value.length>=E.value},he=function(e){void 0===ke(e[x.value])&&J.value&&(t.emit("tag",e[x.value]),t.emit("option",e[x.value]),K.value&&De(e),U())},je=function(e){return void 0===e.find((function(e){return!be(e)&&!e.disabled}))},ge=function(e){return void 0===e.find((function(e){return!be(e)}))},ke=function(e){return Y.value[Y.value.map((function(e){return String(e[x.value])})).indexOf(String(e))]},ye=function(e){return Y.value.map((function(e){return e[re.value]})).indexOf(e)},Se=function(e){return-1!==["tags","multiple"].indexOf(d.value)&&v.value&&be(e)},De=function(e){Z.value.push(e)},Ne=function(e){return $.value?e.filter((function(e){return R.value?e.__VISIBLE__.length:e[A.value].length})):e.filter((function(e){return!R.value||e.__VISIBLE__.length}))},we=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=e;return R.value&&w.value&&(i=i.filter((function(e){return-1!==s(e[re.value],C.value).indexOf(s(R.value,C.value))}))),v.value&&t&&(i=i.filter((function(e){return!Se(e)}))),i},Fe=function(e){var t,i=e;return t=i,"[object Object]"===Object.prototype.toString.call(t)&&(i=Object.keys(i).map((function(e){var t,n=i[e];return c(t={},x.value,e),c(t,re.value,n),c(t,O.value,n),t}))),i=i.map((function(e){var t;return"object"===l(e)?e:(c(t={},x.value,e),c(t,re.value,e),c(t,O.value,e),t)}))},Pe=function(){a(L.value)||(q.value=Ve(L.value))},xe=function(e){Q.value=!0,u.value(R.value).then((function(t){W.value=t,"function"==typeof e&&e(t),Q.value=!1}))},Ve=function(e){return a(e)?"single"===d.value?{}:[]:k.value?e:"single"===d.value?ke(e)||{}:e.filter((function(e){return!!ke(e)})).map((function(e){return ke(e)}))};if("single"!==d.value&&!a(L.value)&&!Array.isArray(L.value))throw new Error('v-model must be an array when using "'.concat(d.value,'" mode'));return u&&"function"==typeof u.value?D.value?xe(Pe):1==k.value&&Pe():(W.value=u.value,Pe()),S.value>-1&&Object(n["W"])(R,(function(e){e.length<N.value||(Q.value=!0,F.value&&(W.value=[]),setTimeout((function(){e==R.value&&u.value(R.value).then((function(t){e!=R.value&&R.value||(W.value=t,M.value=te.value.filter((function(e){return!0!==e.disabled}))[0]||null,Q.value=!1)}))}),S.value))}),{flush:"sync"}),Object(n["W"])(L,(function(e){var t,i,n;if(a(e))q.value=Ve(e);else switch(d.value){case"single":(k.value?e[x.value]!=q.value[x.value]:e!=q.value[x.value])&&(q.value=Ve(e));break;case"multiple":case"tags":t=k.value?e.map((function(e){return e[x.value]})):e,i=q.value.map((function(e){return e[x.value]})),n=i.slice().sort(),t.length===i.length&&t.slice().sort().every((function(e,t){return e===n[t]}))||(q.value=Ve(e))}}),{deep:!0}),"function"!=typeof e.options&&Object(n["W"])(u,(function(t,i){W.value=e.options,Object.keys(q.value).length||Pe(),function(){if(ie.value)if("single"===d.value){var e=ke(q.value[x.value])[O.value];q.value[O.value]=e,k.value&&(L.value[O.value]=e)}else q.value.forEach((function(e,t){var i=ke(q.value[t][x.value])[O.value];q.value[t][O.value]=i,k.value&&(L.value[t][O.value]=i)}))}()})),{fo:te,filteredOptions:te,hasSelected:ie,multipleLabelText:ne,eo:Y,extendedOptions:Y,fg:ee,filteredGroups:ee,noOptions:ae,noResults:se,resolving:Q,busy:ce,select:ue,deselect:de,remove:pe,selectAll:function(){"single"!==d.value&&ue(te.value)},clear:ve,isSelected:be,isDisabled:fe,isMax:Oe,getOption:ke,handleOptionClick:function(e){if(!fe(e)){switch(d.value){case"single":if(be(e))return void(V.value&&de(e));he(e),z(),ue(e);break;case"multiple":if(be(e))return void de(e);if(Oe())return;he(e),ue(e),P.value&&U(),v.value&&X(),_.value&&z();break;case"tags":if(be(e))return void de(e);if(Oe())return;he(e),P.value&&U(),ue(e),v.value&&X(),_.value&&z()}_.value?H():G()}},handleGroupClick:function(e){if(!fe(e)&&"single"!==d.value&&T.value){switch(d.value){case"multiple":case"tags":je(e[A.value])?de(e[A.value]):ue(e[A.value].filter((function(e){return-1===q.value.map((function(e){return e[x.value]})).indexOf(e[x.value])})).filter((function(e){return!e.disabled})).filter((function(e,t){return q.value.length+1+t<=E.value||-1===E.value})))}_.value&&H()}},handleTagRemove:function(e,t){0===t.button?pe(e):t.preventDefault()},refreshOptions:function(e){xe(e)},resolveOptions:xe}}function d(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?m(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function p(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?v(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function b(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function f(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function O(e,t,i){var a=Object(n["T"])(e),s=a.classes,l=a.disabled,r=a.openDirection,o=a.showOptions,c=i.isOpen,u=i.isPointed,d=i.isSelected,m=i.isDisabled,p=i.isActive,v=i.canPointGroups,O=i.resolving,h=i.fo,j=Object(n["d"])((function(){return function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?b(Object(i),!0).forEach((function(t){f(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):b(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({container:"multiselect",containerDisabled:"is-disabled",containerOpen:"is-open",containerOpenTop:"is-open-top",containerActive:"is-active",singleLabel:"multiselect-single-label",singleLabelText:"multiselect-single-label-text",multipleLabel:"multiselect-multiple-label",search:"multiselect-search",tags:"multiselect-tags",tag:"multiselect-tag",tagDisabled:"is-disabled",tagRemove:"multiselect-tag-remove",tagRemoveIcon:"multiselect-tag-remove-icon",tagsSearchWrapper:"multiselect-tags-search-wrapper",tagsSearch:"multiselect-tags-search",tagsSearchCopy:"multiselect-tags-search-copy",placeholder:"multiselect-placeholder",caret:"multiselect-caret",caretOpen:"is-open",clear:"multiselect-clear",clearIcon:"multiselect-clear-icon",spinner:"multiselect-spinner",dropdown:"multiselect-dropdown",dropdownTop:"is-top",dropdownHidden:"is-hidden",options:"multiselect-options",optionsTop:"is-top",group:"multiselect-group",groupLabel:"multiselect-group-label",groupLabelPointable:"is-pointable",groupLabelPointed:"is-pointed",groupLabelSelected:"is-selected",groupLabelDisabled:"is-disabled",groupLabelSelectedPointed:"is-selected is-pointed",groupLabelSelectedDisabled:"is-selected is-disabled",groupOptions:"multiselect-group-options",option:"multiselect-option",optionPointed:"is-pointed",optionSelected:"is-selected",optionDisabled:"is-disabled",optionSelectedPointed:"is-selected is-pointed",optionSelectedDisabled:"is-selected is-disabled",noOptions:"multiselect-no-options",noResults:"multiselect-no-results",fakeInput:"multiselect-fake-input",spacer:"multiselect-spacer"},s.value)})),g=Object(n["d"])((function(){return!!(c.value&&o.value&&(!O.value||O.value&&h.value.length))}));return{classList:Object(n["d"])((function(){var e=j.value;return{container:[e.container].concat(l.value?e.containerDisabled:[]).concat(g.value&&"top"===r.value?e.containerOpenTop:[]).concat(g.value&&"top"!==r.value?e.containerOpen:[]).concat(p.value?e.containerActive:[]),spacer:e.spacer,singleLabel:e.singleLabel,singleLabelText:e.singleLabelText,multipleLabel:e.multipleLabel,search:e.search,tags:e.tags,tag:[e.tag].concat(l.value?e.tagDisabled:[]),tagRemove:e.tagRemove,tagRemoveIcon:e.tagRemoveIcon,tagsSearchWrapper:e.tagsSearchWrapper,tagsSearch:e.tagsSearch,tagsSearchCopy:e.tagsSearchCopy,placeholder:e.placeholder,caret:[e.caret].concat(c.value?e.caretOpen:[]),clear:e.clear,clearIcon:e.clearIcon,spinner:e.spinner,dropdown:[e.dropdown].concat("top"===r.value?e.dropdownTop:[]).concat(c.value&&o.value&&g.value?[]:e.dropdownHidden),options:[e.options].concat("top"===r.value?e.optionsTop:[]),group:e.group,groupLabel:function(t){var i=[e.groupLabel];return u(t)?i.push(d(t)?e.groupLabelSelectedPointed:e.groupLabelPointed):d(t)&&v.value?i.push(m(t)?e.groupLabelSelectedDisabled:e.groupLabelSelected):m(t)&&i.push(e.groupLabelDisabled),v.value&&i.push(e.groupLabelPointable),i},groupOptions:e.groupOptions,option:function(t,i){var n=[e.option];return u(t)?n.push(d(t)?e.optionSelectedPointed:e.optionPointed):d(t)?n.push(m(t)?e.optionSelectedDisabled:e.optionSelected):(m(t)||i&&m(i))&&n.push(e.optionDisabled),n},noOptions:e.noOptions,noResults:e.noResults,fakeInput:e.fakeInput}})),showDropdown:g}}var h={name:"Multiselect",emits:["open","close","select","deselect","input","search-change","tag","option","update:modelValue","change","clear"],props:{value:{required:!1},modelValue:{required:!1},options:{type:[Array,Object,Function],required:!1,default:()=>[]},id:{type:[String,Number],required:!1},name:{type:[String,Number],required:!1,default:"multiselect"},disabled:{type:Boolean,required:!1,default:!1},label:{type:String,required:!1,default:"label"},trackBy:{type:String,required:!1,default:void 0},valueProp:{type:String,required:!1,default:"value"},placeholder:{type:String,required:!1,default:null},mode:{type:String,required:!1,default:"single"},searchable:{type:Boolean,required:!1,default:!1},limit:{type:Number,required:!1,default:-1},hideSelected:{type:Boolean,required:!1,default:!0},createTag:{type:Boolean,required:!1,default:void 0},createOption:{type:Boolean,required:!1,default:void 0},appendNewTag:{type:Boolean,required:!1,default:void 0},appendNewOption:{type:Boolean,required:!1,default:void 0},addTagOn:{type:Array,required:!1,default:void 0},addOptionOn:{type:Array,required:!1,default:void 0},caret:{type:Boolean,required:!1,default:!0},loading:{type:Boolean,required:!1,default:!1},noOptionsText:{type:String,required:!1,default:"The list is empty"},noResultsText:{type:String,required:!1,default:"No results found"},multipleLabel:{type:Function,required:!1},object:{type:Boolean,required:!1,default:!1},delay:{type:Number,required:!1,default:-1},minChars:{type:Number,required:!1,default:0},resolveOnLoad:{type:Boolean,required:!1,default:!0},filterResults:{type:Boolean,required:!1,default:!0},clearOnSearch:{type:Boolean,required:!1,default:!1},clearOnSelect:{type:Boolean,required:!1,default:!0},canDeselect:{type:Boolean,required:!1,default:!0},canClear:{type:Boolean,required:!1,default:!0},max:{type:Number,required:!1,default:-1},showOptions:{type:Boolean,required:!1,default:!0},required:{type:Boolean,required:!1,default:!1},openDirection:{type:String,required:!1,default:"bottom"},nativeSupport:{type:Boolean,required:!1,default:!1},classes:{type:Object,required:!1,default:()=>({})},strict:{type:Boolean,required:!1,default:!0},closeOnSelect:{type:Boolean,required:!1,default:!0},autocomplete:{type:String,required:!1},groups:{type:Boolean,required:!1,default:!1},groupLabel:{type:String,required:!1,default:"label"},groupOptions:{type:String,required:!1,default:"options"},groupHideEmpty:{type:Boolean,required:!1,default:!1},groupSelect:{type:Boolean,required:!1,default:!0},inputType:{type:String,required:!1,default:"text"}},setup(e,t){const i=function(e,t){var i=Object(n["T"])(e),a=i.value,s=i.modelValue,l=i.mode,r=i.valueProp,o=Object(n["L"])("single"!==l.value?[]:{}),c=void 0!==t.expose?s:a,u=Object(n["d"])((function(){return"single"===l.value?o.value[r.value]:o.value.map((function(e){return e[r.value]}))})),d=Object(n["d"])((function(){return"single"!==l.value?o.value.map((function(e){return e[r.value]})).join(","):o.value[r.value]}));return{iv:o,internalValue:o,ev:c,externalValue:c,textValue:d,plainValue:u}}(e,t),s=function(e,t,i){var a=Object(n["T"])(e),s=a.groupSelect,l=a.mode,r=a.groups,o=Object(n["L"])(null),c=function(e){void 0===e||null!==e&&e.disabled||r.value&&e&&e.group&&("single"===l.value||!s.value)||(o.value=e)};return{pointer:o,setPointer:c,clearPointer:function(){c(null)}}}(e),l=function(e,t,i){var a=Object(n["T"])(e).disabled,s=Object(n["L"])(!1);return{isOpen:s,open:function(){s.value||a.value||(s.value=!0,t.emit("open"))},close:function(){s.value&&(s.value=!1,t.emit("close"))}}}(e,t),r=function(e,t,i){var a=Object(n["L"])(null),s=Object(n["L"])(null);return Object(n["W"])(a,(function(e){t.emit("search-change",e)})),{search:a,input:s,clearSearch:function(){a.value=""},handleSearchInput:function(e){a.value=e.target.value},handlePaste:function(e){t.emit("paste",e)}}}(0,t),o=function(e,t,i){var s=Object(n["T"])(e),l=s.object,r=s.valueProp,o=s.mode,c=i.iv,u=function(e){return l.value||a(e)?e:Array.isArray(e)?e.map((function(e){return e[r.value]})):e[r.value]},d=function(e){return a(e)?"single"===o.value?{}:[]:e};return{update:function(e){c.value=d(e);var i=u(e);t.emit("change",i),t.emit("input",i),t.emit("update:modelValue",i)}}}(e,t,{iv:i.iv}),c=function(e,t,i){var a=Object(n["T"])(e),s=a.searchable,l=a.disabled,r=i.input,o=i.open,c=i.close,u=i.clearSearch,d=Object(n["L"])(null),m=Object(n["L"])(!1),p=Object(n["d"])((function(){return s.value||l.value?-1:0})),v=function(){s.value&&r.value.blur(),d.value.blur()},b=function(){s.value&&!l.value&&r.value.focus()},f=function(){m.value=!1,setTimeout((function(){m.value||(c(),u())}),1)};return{multiselect:d,tabindex:p,isActive:m,blur:v,focus:b,handleFocus:function(){b()},activate:function(){l.value||(m.value=!0,o())},deactivate:f,handleCaretClick:function(){f(),v()}}}(e,0,{input:r.input,open:l.open,close:l.close,clearSearch:r.clearSearch}),m=u(e,t,{ev:i.ev,iv:i.iv,search:r.search,clearSearch:r.clearSearch,update:o.update,pointer:s.pointer,clearPointer:s.clearPointer,blur:c.blur,focus:c.focus,deactivate:c.deactivate}),v=function(e,t,i){var a=Object(n["T"])(e),s=a.valueProp,l=a.showOptions,r=a.searchable,o=a.groupLabel,c=a.groups,u=a.mode,m=a.groupSelect,p=i.fo,v=i.fg,b=i.handleOptionClick,f=i.handleGroupClick,O=i.search,h=i.pointer,j=i.setPointer,g=i.clearPointer,k=i.multiselect,y=Object(n["d"])((function(){return p.value.filter((function(e){return!e.disabled}))})),S=Object(n["d"])((function(){return v.value.filter((function(e){return!e.disabled}))})),D=Object(n["d"])((function(){return"single"!==u.value&&m.value})),N=Object(n["d"])((function(){return h.value&&h.value.group})),w=Object(n["d"])((function(){return $(h.value)})),F=Object(n["d"])((function(){var e=N.value?h.value:$(h.value),t=S.value.map((function(e){return e[o.value]})).indexOf(e[o.value]),i=S.value[t-1];return void 0===i&&(i=x.value),i})),P=Object(n["d"])((function(){var e=S.value.map((function(e){return e.label})).indexOf(N.value?h.value[o.value]:$(h.value)[o.value])+1;return S.value.length<=e&&(e=0),S.value[e]})),x=Object(n["d"])((function(){return d(S.value).slice(-1)[0]})),V=Object(n["d"])((function(){return h.value.__VISIBLE__.filter((function(e){return!e.disabled}))[0]})),E=Object(n["d"])((function(){var e=w.value.__VISIBLE__.filter((function(e){return!e.disabled}));return e[e.map((function(e){return e[s.value]})).indexOf(h.value[s.value])-1]})),C=Object(n["d"])((function(){var e=$(h.value).__VISIBLE__.filter((function(e){return!e.disabled}));return e[e.map((function(e){return e[s.value]})).indexOf(h.value[s.value])+1]})),_=Object(n["d"])((function(){return d(F.value.__VISIBLE__.filter((function(e){return!e.disabled}))).slice(-1)[0]})),I=Object(n["d"])((function(){return d(x.value.__VISIBLE__.filter((function(e){return!e.disabled}))).slice(-1)[0]})),A=function(){j(y.value[0]||null)},$=function(e){return S.value.find((function(t){return-1!==t.__VISIBLE__.map((function(e){return e[s.value]})).indexOf(e[s.value])}))},T=function(){var e=k.value.querySelector("[data-pointed]");if(e){var t=e.parentElement.parentElement;c.value&&(t=N.value?e.parentElement.parentElement.parentElement:e.parentElement.parentElement.parentElement.parentElement),e.offsetTop+e.offsetHeight>t.clientHeight+t.scrollTop&&(t.scrollTop=e.offsetTop+e.offsetHeight-t.clientHeight),e.offsetTop<t.scrollTop&&(t.scrollTop=e.offsetTop)}};return Object(n["W"])(O,(function(e){r.value&&(e.length&&l.value?A():g())})),{pointer:h,canPointGroups:D,isPointed:function(e){return!(!h.value||!(!e.group&&h.value[s.value]==e[s.value]||void 0!==e.group&&h.value[o.value]==e[o.value]))||void 0},setPointerFirst:A,selectPointer:function(){h.value&&!0!==h.value.disabled&&(N.value?f(h.value):b(h.value))},forwardPointer:function(){if(null===h.value)j((c.value&&D.value?S.value[0]:y.value[0])||null);else if(c.value&&D.value){var e=N.value?V.value:C.value;void 0===e&&(e=P.value),j(e||null)}else{var t=y.value.map((function(e){return e[s.value]})).indexOf(h.value[s.value])+1;y.value.length<=t&&(t=0),j(y.value[t]||null)}Object(n["w"])((function(){T()}))},backwardPointer:function(){if(null===h.value){var e=y.value[y.value.length-1];c.value&&D.value&&void 0===(e=I.value)&&(e=x.value),j(e||null)}else if(c.value&&D.value){var t=N.value?_.value:E.value;void 0===t&&(t=N.value?F.value:w.value),j(t||null)}else{var i=y.value.map((function(e){return e[s.value]})).indexOf(h.value[s.value])-1;i<0&&(i=y.value.length-1),j(y.value[i]||null)}Object(n["w"])((function(){T()}))}}}(e,0,{fo:m.fo,fg:m.fg,handleOptionClick:m.handleOptionClick,handleGroupClick:m.handleGroupClick,search:r.search,pointer:s.pointer,setPointer:s.setPointer,clearPointer:s.clearPointer,multiselect:c.multiselect}),b=function(e,t,i){var a=Object(n["T"])(e),s=a.mode,l=a.addTagOn,r=a.openDirection,o=a.searchable,c=a.showOptions,u=a.valueProp,d=a.groups,m=a.addOptionOn,v=a.createTag,b=a.createOption,f=i.iv,O=i.update,h=i.search,j=i.setPointer,g=i.selectPointer,k=i.backwardPointer,y=i.forwardPointer,S=i.blur,D=i.fo,N=Object(n["d"])((function(){return v.value||b.value||!1})),w=Object(n["d"])((function(){return void 0!==l.value?l.value:void 0!==m.value?m.value:["enter"]})),F=function(){"tags"===s.value&&!c.value&&N.value&&o.value&&!d.value&&j(D.value[D.value.map((function(e){return e[u.value]})).indexOf(h.value)])};return{handleKeydown:function(e){switch(e.key){case"Backspace":if("single"===s.value)return;if(o.value&&-1===[null,""].indexOf(h.value))return;if(0===f.value.length)return;O(p(f.value).slice(0,-1));break;case"Enter":if(e.preventDefault(),-1===w.value.indexOf("enter")&&N.value)return;F(),g();break;case" ":if(!N.value&&!o.value)return e.preventDefault(),F(),void g();if(!N.value)return!1;if(-1===w.value.indexOf("space")&&N.value)return;e.preventDefault(),F(),g();break;case"Tab":case";":case",":if(-1===w.value.indexOf(e.key.toLowerCase())||!N.value)return;F(),g(),e.preventDefault();break;case"Escape":S();break;case"ArrowUp":if(e.preventDefault(),!c.value)return;"top"===r.value?y():k();break;case"ArrowDown":if(e.preventDefault(),!c.value)return;"top"===r.value?k():y()}},preparePointer:F}}(e,0,{iv:i.iv,update:o.update,search:r.search,setPointer:s.setPointer,selectPointer:v.selectPointer,backwardPointer:v.backwardPointer,forwardPointer:v.forwardPointer,blur:c.blur,fo:m.fo}),f=O(e,0,{isOpen:l.isOpen,isPointed:v.isPointed,canPointGroups:v.canPointGroups,isSelected:m.isSelected,isDisabled:m.isDisabled,isActive:c.isActive,resolving:m.resolving,fo:m.fo});return{...i,...l,...c,...s,...o,...r,...m,...v,...b,...f}},render:function(e,t,i,a,s,l){return Object(n["F"])(),Object(n["f"])("div",{ref:"multiselect",tabindex:e.tabindex,class:e.classList.container,id:i.id,onFocusin:t[7]||(t[7]=(...t)=>e.activate&&e.activate(...t)),onFocusout:t[8]||(t[8]=(...t)=>e.deactivate&&e.deactivate(...t)),onKeydown:t[9]||(t[9]=(...t)=>e.handleKeydown&&e.handleKeydown(...t)),onFocus:t[10]||(t[10]=(...t)=>e.handleFocus&&e.handleFocus(...t))},[Object(n["g"])(" Search "),"tags"!==i.mode&&i.searchable&&!i.disabled?(Object(n["F"])(),Object(n["f"])("input",{key:0,type:i.inputType,modelValue:e.search,value:e.search,class:e.classList.search,autocomplete:i.autocomplete,onInput:t[1]||(t[1]=(...t)=>e.handleSearchInput&&e.handleSearchInput(...t)),onPaste:t[2]||(t[2]=Object(n["Z"])((...t)=>e.handlePaste&&e.handlePaste(...t),["stop"])),ref:"input"},null,42,["type","modelValue","value","autocomplete"])):Object(n["g"])("v-if",!0),Object(n["g"])(" Tags (with search) "),"tags"==i.mode?(Object(n["F"])(),Object(n["f"])("div",{key:1,class:e.classList.tags},[(Object(n["F"])(!0),Object(n["f"])(n["a"],null,Object(n["M"])(e.iv,(t,a,s)=>Object(n["N"])(e.$slots,"tag",{option:t,handleTagRemove:e.handleTagRemove,disabled:i.disabled},()=>[(Object(n["F"])(),Object(n["f"])("span",{class:e.classList.tag,key:s},[Object(n["l"])(Object(n["S"])(t[i.label])+" ",1),i.disabled?Object(n["g"])("v-if",!0):(Object(n["F"])(),Object(n["f"])("span",{key:0,class:e.classList.tagRemove,onClick:i=>e.handleTagRemove(t,i)},[Object(n["m"])("span",{class:e.classList.tagRemoveIcon},null,2)],10,["onClick"]))],2))])),256)),Object(n["m"])("div",{class:e.classList.tagsSearchWrapper},[Object(n["g"])(" Used for measuring search width "),Object(n["m"])("span",{class:e.classList.tagsSearchCopy},Object(n["S"])(e.search),3),Object(n["g"])(" Actual search input "),i.searchable&&!i.disabled?(Object(n["F"])(),Object(n["f"])("input",{key:0,type:i.inputType,modelValue:e.search,value:e.search,class:e.classList.tagsSearch,autocomplete:i.autocomplete,onInput:t[3]||(t[3]=(...t)=>e.handleSearchInput&&e.handleSearchInput(...t)),onPaste:t[4]||(t[4]=Object(n["Z"])((...t)=>e.handlePaste&&e.handlePaste(...t),["stop"])),ref:"input"},null,42,["type","modelValue","value","autocomplete"])):Object(n["g"])("v-if",!0)],2)],2)):Object(n["g"])("v-if",!0),Object(n["g"])(" Single label "),"single"==i.mode&&e.hasSelected&&!e.search&&e.iv?Object(n["N"])(e.$slots,"singlelabel",{key:2,value:e.iv},()=>[Object(n["m"])("div",{class:e.classList.singleLabel},[Object(n["m"])("span",{class:e.classList.singleLabelText},Object(n["S"])(e.iv[i.label]),3)],2)]):Object(n["g"])("v-if",!0),Object(n["g"])(" Multiple label "),"multiple"==i.mode&&e.hasSelected&&!e.search?Object(n["N"])(e.$slots,"multiplelabel",{key:3,values:e.iv},()=>[Object(n["m"])("div",{class:e.classList.multipleLabel},Object(n["S"])(e.multipleLabelText),3)]):Object(n["g"])("v-if",!0),Object(n["g"])(" Placeholder "),!i.placeholder||e.hasSelected||e.search?Object(n["g"])("v-if",!0):Object(n["N"])(e.$slots,"placeholder",{key:4},()=>[Object(n["m"])("div",{class:e.classList.placeholder},Object(n["S"])(i.placeholder),3)]),Object(n["g"])(" Spinner "),e.busy&&e.isActive?Object(n["N"])(e.$slots,"spinner",{key:5},()=>[Object(n["m"])("span",{class:e.classList.spinner},null,2)]):Object(n["g"])("v-if",!0),Object(n["g"])(" Clear "),e.hasSelected&&!i.disabled&&i.canClear&&!e.busy?Object(n["N"])(e.$slots,"clear",{key:6,clear:e.clear},()=>[Object(n["m"])("span",{class:e.classList.clear,onMousedown:t[5]||(t[5]=(...t)=>e.clear&&e.clear(...t))},[Object(n["m"])("span",{class:e.classList.clearIcon},null,2)],34)]):Object(n["g"])("v-if",!0),Object(n["g"])(" Caret "),i.caret&&i.showOptions?Object(n["N"])(e.$slots,"caret",{key:7},()=>[Object(n["m"])("span",{class:e.classList.caret,onClick:t[6]||(t[6]=(...t)=>e.handleCaretClick&&e.handleCaretClick(...t))},null,2)]):Object(n["g"])("v-if",!0),Object(n["g"])(" Options "),Object(n["m"])("div",{class:e.classList.dropdown,tabindex:"-1"},[Object(n["N"])(e.$slots,"beforelist",{options:e.fo}),Object(n["m"])("ul",{class:e.classList.options},[i.groups?(Object(n["F"])(!0),Object(n["f"])(n["a"],{key:0},Object(n["M"])(e.fg,(t,a,s)=>(Object(n["F"])(),Object(n["f"])("li",{class:e.classList.group,key:s},[Object(n["m"])("div",{class:e.classList.groupLabel(t),"data-pointed":e.isPointed(t),onMouseenter:i=>e.setPointer(t),onClick:i=>e.handleGroupClick(t)},[Object(n["N"])(e.$slots,"grouplabel",{group:t},()=>[Object(n["m"])("span",null,Object(n["S"])(t[i.groupLabel]),1)])],42,["data-pointed","onMouseenter","onClick"]),Object(n["m"])("ul",{class:e.classList.groupOptions},[(Object(n["F"])(!0),Object(n["f"])(n["a"],null,Object(n["M"])(t.__VISIBLE__,(a,s,l)=>(Object(n["F"])(),Object(n["f"])("li",{class:e.classList.option(a,t),key:l,"data-pointed":e.isPointed(a),onMouseenter:t=>e.setPointer(a),onClick:t=>e.handleOptionClick(a)},[Object(n["N"])(e.$slots,"option",{option:a,search:e.search},()=>[Object(n["m"])("span",null,Object(n["S"])(a[i.label]),1)])],42,["data-pointed","onMouseenter","onClick"]))),128))],2)],2))),128)):(Object(n["F"])(!0),Object(n["f"])(n["a"],{key:1},Object(n["M"])(e.fo,(t,a,s)=>(Object(n["F"])(),Object(n["f"])("li",{class:e.classList.option(t),key:s,"data-pointed":e.isPointed(t),onMouseenter:i=>e.setPointer(t),onClick:i=>e.handleOptionClick(t)},[Object(n["N"])(e.$slots,"option",{option:t,search:e.search},()=>[Object(n["m"])("span",null,Object(n["S"])(t[i.label]),1)])],42,["data-pointed","onMouseenter","onClick"]))),128))],2),e.noOptions?Object(n["N"])(e.$slots,"nooptions",{key:0},()=>[Object(n["m"])("div",{class:e.classList.noOptions,innerHTML:i.noOptionsText},null,10,["innerHTML"])]):Object(n["g"])("v-if",!0),e.noResults?Object(n["N"])(e.$slots,"noresults",{key:1},()=>[Object(n["m"])("div",{class:e.classList.noResults,innerHTML:i.noResultsText},null,10,["innerHTML"])]):Object(n["g"])("v-if",!0),Object(n["N"])(e.$slots,"afterlist",{options:e.fo})],2),Object(n["g"])(" Hacky input element to show HTML5 required warning "),i.required?(Object(n["F"])(),Object(n["f"])("input",{key:8,class:e.classList.fakeInput,tabindex:"-1",value:e.textValue,required:""},null,10,["value"])):Object(n["g"])("v-if",!0),Object(n["g"])(" Native input support "),i.nativeSupport?(Object(n["F"])(),Object(n["f"])(n["a"],{key:9},["single"==i.mode?(Object(n["F"])(),Object(n["f"])("input",{key:0,type:"hidden",name:i.name,value:void 0!==e.plainValue?e.plainValue:""},null,8,["name","value"])):(Object(n["F"])(!0),Object(n["f"])(n["a"],{key:1},Object(n["M"])(e.plainValue,(e,t)=>(Object(n["F"])(),Object(n["f"])("input",{type:"hidden",name:i.name+"[]",value:e,key:t},null,8,["name","value"]))),128))],64)):Object(n["g"])("v-if",!0),Object(n["g"])(" Create height for empty input "),Object(n["m"])("div",{class:e.classList.spacer},null,2)],42,["tabindex","id"])},__file:"src/Multiselect.vue"};t["a"]=h},c9e7:function(e,t,i){"use strict";i("571e")},d192:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Roles"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scope"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"permissions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"permission"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:215}};i.loc.source={body:"query Roles($id: String) {\r\n  roles(id: $id) {\r\n    id\r\n    name\r\n    title\r\n    description\r\n    scope\r\n    permissions {\r\n      permission {\r\n        id\r\n        name\r\n        description\r\n      }\r\n    }\r\n  }\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var a={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function l(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=a[t]||new Set,l=new Set,r=new Set;n.forEach((function(e){r.add(e)}));while(r.size>0){var o=r;r=new Set,o.forEach((function(e){if(!l.has(e)){l.add(e);var t=a[e]||new Set;t.forEach((function(e){r.add(e)}))}}))}return l.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(function(){i.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),a[e.name.value]=t}}))})(),e.exports=i,e.exports["Roles"]=l(i,"Roles")},d61c:function(e,t,i){},ff2b:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RoleUpdate"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RoleArguments"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"roleUpdate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scope"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:163}};i.loc.source={body:"mutation RoleUpdate($id: String!, $data: RoleArguments!) {\r\n  roleUpdate(id: $id, data: $data) {\r\n    id\r\n    name\r\n    title\r\n    description\r\n    scope\r\n  }\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var a={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}function l(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=a[t]||new Set,l=new Set,r=new Set;n.forEach((function(e){r.add(e)}));while(r.size>0){var o=r;r=new Set,o.forEach((function(e){if(!l.has(e)){l.add(e);var t=a[e]||new Set;t.forEach((function(e){r.add(e)}))}}))}return l.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(function(){i.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),a[e.name.value]=t}}))})(),e.exports=i,e.exports["RoleUpdate"]=l(i,"RoleUpdate")}}]);
//# sourceMappingURL=admin-legacy.72ed1128.js.map